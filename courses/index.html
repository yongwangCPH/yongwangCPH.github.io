---
title: Teaching Lab
layout: default
group: courses
---

<!DOCTYPE html>
<html lang="en">
    

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="
### chains

* &lt;span class=&#34;prolink&#34; data-toggle=&#34;protein&#34; data-target=&#34;viewport&#34; data-focus=&#34;domain&#34; data-selection=&#34;1-105:A&#34;&gt;1-105:A&lt;/span&gt;
* &lt;span ">
    <meta name="author" content="Matteo Ferla et al. 2020">
    <meta name="twitter:card" content="summary"/>
    <meta property="og:title" content="Michelaɴɢʟo user-created page: TIM813-Tim23">
    <meta property="og:description" content="
### chains

* &lt;span class=&#34;prolink&#34; data-toggle=&#34;protein&#34; data-target=&#34;viewport&#34; data-focus=&#34;domain&#34; data-selection=&#34;1-105:A&#34;&gt;1-105:A&lt;/span&gt;
* &lt;span ">
    <meta property="og:image" content="https://michelanglo.sgc.ox.ac.uk/thumb/1fe5c1ef-7277-4a0d-ad53-50218df6c31b">
    <meta property="og:url" content="https://michelanglo.sgc.ox.ac.uk/data/1fe5c1ef-7277-4a0d-ad53-50218df6c31b">
    <link rel="icon" href="/favicon.ico">
    <meta name="google-site-verification" content="rR92bqgvkgg-_WdvMvGpwrtt-vFHXM8-dfV_t3UoI6g"/>

    <title>TIM813-Tim23</title>
        <style>
            /*!
 * Bootstrap v4.3.1 (https://getbootstrap.com/)
 * Copyright 2011-2019 The Bootstrap Authors
 * Copyright 2011-2019 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */:root{--blue:#0d6efd;--indigo:#6610f2;--purple:#6f42c1;--pink:#d63384;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#0d6efd;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}[tabindex="-1"]:focus:not(:focus-visible){outline:0!important}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:none}a:hover{color:#024dbc;text-decoration:underline}a:not([href]),a:not([href]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img{vertical-align:middle}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}select{word-wrap:normal}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:textfield}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}.mark,mark{padding:.2em;background-color:#fcf8e3}progress{vertical-align:baseline}::-webkit-datetime-edit{overflow:visible;line-height:0}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}main{display:block}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote-footer{display:block;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:"\2014\00A0"}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:#6c757d}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md,.container-sm,.container-xl{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}.row{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-auto,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-1>*{flex:0 0 100%;max-width:100%}.row-cols-2>*{flex:0 0 50%;max-width:50%}.row-cols-3>*{flex:0 0 33.333333%;max-width:33.333333%}.row-cols-4>*{flex:0 0 25%;max-width:25%}.row-cols-5>*{flex:0 0 20%;max-width:20%}.row-cols-6>*{flex:0 0 16.666667%;max-width:16.666667%}.col-auto{flex:0 0 auto;width:auto;max-width:100%}.col-1{flex:0 0 8.333333%;max-width:8.333333%}.col-2{flex:0 0 16.666667%;max-width:16.666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.333333%;max-width:33.333333%}.col-5{flex:0 0 41.666667%;max-width:41.666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.333333%;max-width:58.333333%}.col-8{flex:0 0 66.666667%;max-width:66.666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.333333%;max-width:83.333333%}.col-11{flex:0 0 91.666667%;max-width:91.666667%}.col-12{flex:0 0 100%;max-width:100%}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media (min-width:576px){.col-sm{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-sm-1>*{flex:0 0 100%;max-width:100%}.row-cols-sm-2>*{flex:0 0 50%;max-width:50%}.row-cols-sm-3>*{flex:0 0 33.333333%;max-width:33.333333%}.row-cols-sm-4>*{flex:0 0 25%;max-width:25%}.row-cols-sm-5>*{flex:0 0 20%;max-width:20%}.row-cols-sm-6>*{flex:0 0 16.666667%;max-width:16.666667%}.col-sm-auto{flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{flex:0 0 8.333333%;max-width:8.333333%}.col-sm-2{flex:0 0 16.666667%;max-width:16.666667%}.col-sm-3{flex:0 0 25%;max-width:25%}.col-sm-4{flex:0 0 33.333333%;max-width:33.333333%}.col-sm-5{flex:0 0 41.666667%;max-width:41.666667%}.col-sm-6{flex:0 0 50%;max-width:50%}.col-sm-7{flex:0 0 58.333333%;max-width:58.333333%}.col-sm-8{flex:0 0 66.666667%;max-width:66.666667%}.col-sm-9{flex:0 0 75%;max-width:75%}.col-sm-10{flex:0 0 83.333333%;max-width:83.333333%}.col-sm-11{flex:0 0 91.666667%;max-width:91.666667%}.col-sm-12{flex:0 0 100%;max-width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.333333%}.offset-sm-2{margin-left:16.666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.333333%}.offset-sm-5{margin-left:41.666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.333333%}.offset-sm-8{margin-left:66.666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.333333%}.offset-sm-11{margin-left:91.666667%}}@media (min-width:768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-md-1>*{flex:0 0 100%;max-width:100%}.row-cols-md-2>*{flex:0 0 50%;max-width:50%}.row-cols-md-3>*{flex:0 0 33.333333%;max-width:33.333333%}.row-cols-md-4>*{flex:0 0 25%;max-width:25%}.row-cols-md-5>*{flex:0 0 20%;max-width:20%}.row-cols-md-6>*{flex:0 0 16.666667%;max-width:16.666667%}.col-md-auto{flex:0 0 auto;width:auto;max-width:100%}.col-md-1{flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{flex:0 0 100%;max-width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media (min-width:992px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-lg-1>*{flex:0 0 100%;max-width:100%}.row-cols-lg-2>*{flex:0 0 50%;max-width:50%}.row-cols-lg-3>*{flex:0 0 33.333333%;max-width:33.333333%}.row-cols-lg-4>*{flex:0 0 25%;max-width:25%}.row-cols-lg-5>*{flex:0 0 20%;max-width:20%}.row-cols-lg-6>*{flex:0 0 16.666667%;max-width:16.666667%}.col-lg-auto{flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{flex:0 0 100%;max-width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}@media (min-width:1200px){.col-xl{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-xl-1>*{flex:0 0 100%;max-width:100%}.row-cols-xl-2>*{flex:0 0 50%;max-width:50%}.row-cols-xl-3>*{flex:0 0 33.333333%;max-width:33.333333%}.row-cols-xl-4>*{flex:0 0 25%;max-width:25%}.row-cols-xl-5>*{flex:0 0 20%;max-width:20%}.row-cols-xl-6>*{flex:0 0 16.666667%;max-width:16.666667%}.col-xl-auto{flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{flex:0 0 8.333333%;max-width:8.333333%}.col-xl-2{flex:0 0 16.666667%;max-width:16.666667%}.col-xl-3{flex:0 0 25%;max-width:25%}.col-xl-4{flex:0 0 33.333333%;max-width:33.333333%}.col-xl-5{flex:0 0 41.666667%;max-width:41.666667%}.col-xl-6{flex:0 0 50%;max-width:50%}.col-xl-7{flex:0 0 58.333333%;max-width:58.333333%}.col-xl-8{flex:0 0 66.666667%;max-width:66.666667%}.col-xl-9{flex:0 0 75%;max-width:75%}.col-xl-10{flex:0 0 83.333333%;max-width:83.333333%}.col-xl-11{flex:0 0 91.666667%;max-width:91.666667%}.col-xl-12{flex:0 0 100%;max-width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.333333%}.offset-xl-2{margin-left:16.666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.333333%}.offset-xl-5{margin-left:41.666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.333333%}.offset-xl-8{margin-left:66.666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.333333%}.offset-xl-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529;vertical-align:top}.table td,.table th{padding:.5rem;border-bottom:1px solid #dee2e6}.table tbody{vertical-align:inherit}.table thead th{vertical-align:bottom;border-bottom-color:#495057}.table tbody+tbody{border-top:2px solid #dee2e6}.table-sm td,.table-sm th{padding:.25rem}.table-bordered{border:1px solid #dee2e6}.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-borderless tbody+tbody,.table-borderless td,.table-borderless th,.table-borderless thead th{border:0}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#bbd6fe}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#81b4fe}.table-hover .table-primary:hover{background-color:#a2c7fe}.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#a2c7fe}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-secondary tbody+tbody,.table-secondary td,.table-secondary th,.table-secondary thead th{border-color:#b3b7bb}.table-hover .table-secondary:hover{background-color:#c8cbcf}.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-success tbody+tbody,.table-success td,.table-success th,.table-success thead th{border-color:#8fd19e}.table-hover .table-success:hover{background-color:#b1dfbb}.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-info tbody+tbody,.table-info td,.table-info th,.table-info thead th{border-color:#86cfda}.table-hover .table-info:hover{background-color:#abdde5}.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-hover .table-warning:hover{background-color:#ffe8a1}.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-danger tbody+tbody,.table-danger td,.table-danger th,.table-danger thead th{border-color:#ed969e}.table-hover .table-danger:hover{background-color:#f1b0b7}.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-hover .table-light:hover{background-color:#ececf6}.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table-hover .table-dark:hover{background-color:#b9bbbe}.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.table-dark.table-bordered{border:0}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{color:#fff;background-color:rgba(255,255,255,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive>.table-bordered{border:0}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-control{display:block;width:100%;min-height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:focus{color:#495057;background-color:#fff;border-color:#8bbafe;outline:0;box-shadow:0 0 0 .2rem rgba(13,110,253,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control:-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.form-control-lg{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.form-control-color{max-width:3rem;padding:.375rem}.form-control-color::-moz-color-swatch{border-radius:.25rem}.form-control-color::-webkit-color-swatch{border-radius:.25rem}.form-select{display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e") no-repeat right .75rem center/16px 12px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-select:focus{border-color:#8bbafe;outline:0;box-shadow:0 0 0 .2rem rgba(13,110,253,.25)}.form-select:focus::-ms-value{color:#495057;background-color:#fff}.form-select[multiple],.form-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.form-select:disabled{color:#6c757d;background-color:#e9ecef}.form-select::-ms-expand{display:none}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.form-select-sm{height:calc(1.5em + .5rem + 2px);padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.form-select-lg{height:calc(1.5em + 1rem + 2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.form-check{display:block;min-height:1.5rem;padding-left:1.75em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.75em}.form-check-input{width:1.25em;height:1.25em;margin-top:.125em;background-color:#fff;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{-webkit-filter:brightness(90%);filter:brightness(90%)}.form-check-input:focus{border-color:#8bbafe;outline:0;box-shadow:0 0 0 .2rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;background-repeat:no-repeat;background-position:center center;background-size:1em;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M4 8.5L6.5 11l6-6'/%3e%3c/svg%3e")}.form-check-input:checked[type=radio]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e")}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M5 8h6'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:center center;background-size:1em;border-color:#0d6efd}.form-check-input[disabled]{pointer-events:none;-webkit-filter:none;filter:none;opacity:.5}.form-check-input[disabled]~.form-check-label{opacity:.5}.form-check-label{margin-bottom:0}.form-switch{padding-left:2.5em}.form-switch .form-check-input{width:2em;margin-left:-2.5em;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba(0, 0, 0, 0.25)'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:left center;background-size:calc(1.25em - 2px);border-radius:2em}.form-switch .form-check-input:focus{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2380bdff'/%3e%3c/svg%3e")}.form-switch .form-check-input:checked{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e");background-position:right center}.form-check-inline{display:inline-block;margin-right:1rem}.form-file{position:relative;display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);margin-bottom:0}.form-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em + .75rem + 2px);margin:0;opacity:0}.form-file-input:focus~.form-file-label{border-color:#8bbafe;box-shadow:0 0 0 .2rem rgba(13,110,253,.25)}.form-file-input:focus-within~.form-file-label{border-color:#8bbafe;box-shadow:0 0 0 .2rem rgba(13,110,253,.25)}.form-file-input[disabled]~.form-file-label .form-file-text{background-color:#e9ecef}.form-file-label{position:absolute;top:0;right:0;left:0;z-index:1;display:flex;height:calc(1.5em + .75rem + 2px);border-color:#ced4da;border-radius:.25rem}.form-file-text{display:block;flex-grow:1;padding:.375rem .75rem;overflow:hidden;font-weight:400;line-height:1.5;color:#495057;text-overflow:ellipsis;white-space:nowrap;background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;border-top-left-radius:inherit;border-bottom-left-radius:inherit}.form-file-button{display:block;flex-shrink:0;padding:.375rem .75rem;margin-left:-1px;line-height:1.5;color:#495057;background-color:#e9ecef;border-color:inherit;border-style:solid;border-width:1px;border-top-right-radius:inherit;border-bottom-right-radius:inherit}.form-range{width:100%;height:calc(1rem + .4rem);padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(13,110,253,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(13,110,253,.25)}.form-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(13,110,253,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#bed8fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{transition:none}}.form-range::-moz-range-thumb:active{background-color:#bed8fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#0d6efd;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-ms-thumb{transition:none}}.form-range::-ms-thumb:active{background-color:#bed8fe}.form-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.form-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.form-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.form-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range:disabled::-webkit-slider-runnable-track{cursor:default}.form-range:disabled::-moz-range-thumb{background-color:#adb5bd}.form-range:disabled::-moz-range-track{cursor:default}.form-range:disabled::-ms-thumb{background-color:#adb5bd}.form-row{display:flex;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-inline{display:flex;flex-flow:row wrap;align-items:center}.form-inline .form-check{width:100%}@media (min-width:576px){.form-inline label{display:flex;align-items:center;justify-content:center;margin-bottom:0}.form-inline .form-group{display:flex;flex:0 0 auto;flex-flow:row wrap;align-items:center;margin-bottom:0}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .form-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:flex;align-items:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-file,.input-group>.form-select{position:relative;flex:1 1 0%;min-width:0;margin-bottom:0}.input-group>.form-control+.form-control,.input-group>.form-control+.form-file,.input-group>.form-control+.form-select,.input-group>.form-file+.form-control,.input-group>.form-file+.form-file,.input-group>.form-file+.form-select,.input-group>.form-select+.form-control,.input-group>.form-select+.form-file,.input-group>.form-select+.form-select{margin-left:-1px}.input-group>.form-control:focus,.input-group>.form-file .form-file-input:focus~.form-file-label,.input-group>.form-select:focus{z-index:3}.input-group>.form-file .form-file-input:focus{z-index:4}.input-group>.form-control:not(:last-child),.input-group>.form-select:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.form-control:not(:first-child),.input-group>.form-select:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.form-file{display:flex;align-items:center}.input-group>.form-file:not(:last-child) .form-file-label{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.form-file:not(:first-child) .form-file-label{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-append,.input-group-prepend{display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn:focus,.input-group-prepend .btn:focus{z-index:3}.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-prepend{margin-right:-1px}.input-group-append{margin-left:-1px}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.form-control{min-height:calc(1.5em + 1rem + 2px)}.input-group-lg>.form-select{height:calc(1.5em + 1rem + 2px)}.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.input-group-sm>.form-control{min-height:calc(1.5em + .5rem + 2px)}.input-group-sm>.form-select{height:calc(1.5em + .5rem + 2px)}.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:1.75rem}.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-append:not(:last-child)>.btn,.input-group>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#28a745}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(40,167,69,.9);border-radius:.25rem}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#28a745;padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:#28a745;padding-right:calc((1em + .75rem) * 3 / 4 + 1.75rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e") no-repeat right .75rem center/16px 12px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:#28a745}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:#34ce57}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.form-file-input.is-valid~.form-file-label,.was-validated .form-file-input:valid~.form-file-label{border-color:#28a745}.form-file-input.is-valid:focus~.form-file-label,.was-validated .form-file-input:valid:focus~.form-file-label{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:#dc3545;padding-right:calc((1em + .75rem) * 3 / 4 + 1.75rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e") no-repeat right .75rem center/16px 12px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:#dc3545}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:#e4606d}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.form-file-input.is-invalid~.form-file-label,.was-validated .form-file-input:invalid~.form-file-label{border-color:#dc3545}.form-file-input.is-invalid:focus~.form-file-label,.was-validated .form-file-input:invalid:focus~.form-file-label{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.btn{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(13,110,253,.25)}.btn.disabled,.btn:disabled{opacity:.65}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-primary:hover{color:#fff;background-color:#025ce2;border-color:#0257d5}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#025ce2;border-color:#0257d5;box-shadow:0 0 0 .2rem rgba(49,132,253,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0257d5;border-color:#0252c9}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(49,132,253,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{color:#fff;background-color:#5a6268;border-color:#545b62;box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#218838;border-color:#1e7e34;box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c82333;border-color:#bd2130;box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-outline-primary{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary:hover{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(13,110,253,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#0d6efd;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(13,110,253,.5)}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#0d6efd;text-decoration:none}.btn-link:hover{color:#024dbc;text-decoration:underline}.btn-link.focus,.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link.disabled,.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.dropdown,.dropleft,.dropright,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropright .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-toggle::after{vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropleft .dropdown-toggle::after{display:none}.dropleft .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropleft .dropdown-toggle:empty::after{margin-left:0}.dropleft .dropdown-toggle::before{vertical-align:0}.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=top]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#f8f9fa}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#0d6efd}.dropdown-item.disabled,.dropdown-item:disabled{color:#6c757d;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1.5rem;color:#212529}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropright .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropleft .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.nav{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-item{margin-bottom:-1px}.nav-tabs .nav-link{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#0d6efd}.nav-fill .nav-item{flex:1 1 auto;text-align:center}.nav-justified .nav-item{flex-basis:0;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:.5rem 1rem}.navbar .container,.navbar .container-fluid,.navbar .container-lg,.navbar .container-md,.navbar .container-sm,.navbar .container-xl{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:no-repeat center center;background-size:100% 100%}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{flex-wrap:nowrap}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{flex-wrap:nowrap}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{flex-wrap:nowrap}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{flex-wrap:nowrap}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}.navbar-expand{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{flex-wrap:nowrap}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(0, 0, 0, 0.5)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-light .navbar-text a,.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 0.5)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.navbar-dark .navbar-text a,.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group:first-child .list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.card>.list-group:last-child .list-group-item:last-child{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.card-body{flex:1 1 auto;min-height:1px;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-header+.list-group .list-group-item:first-child{border-top:0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-right:-.625rem;margin-bottom:-.75rem;margin-left:-.625rem;border-bottom:0}.card-header-pills{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem}.card-img,.card-img-bottom,.card-img-top{flex-shrink:0;width:100%}.card-img,.card-img-top{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{display:flex;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{flex:1 0 0%;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.accordion>.card{overflow:hidden}.accordion>.card:not(:last-of-type){border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.accordion>.card:not(:first-of-type){border-top-left-radius:0;border-top-right-radius:0}.accordion>.card>.card-header{border-radius:0;margin-bottom:-1px}.breadcrumb{display:flex;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:.25rem}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:underline}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;color:#0d6efd;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#024dbc;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(13,110,253,.25)}.page-item:not(:first-child) .page-link{margin-left:-1px}.page-item.active .page-link{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.page-link{padding:.375rem .75rem}.page-item:first-child .page-link{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.25em .5em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:4rem}.alert-dismissible .close{position:absolute;top:0;right:0;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#073984;background-color:#cfe2ff;border-color:#bbd6fe}.alert-primary .alert-link{color:#042454}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{0%{background-position-x:1rem}}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:flex;flex-direction:column;justify-content:center;color:#fff;text-align:center;white-space:nowrap;background-color:#0d6efd;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:progress-bar-stripes 1s linear infinite;animation:progress-bar-stripes 1s linear infinite}@media (prefers-reduced-motion:reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.list-group{display:flex;flex-direction:column;padding-left:0;margin-bottom:0}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;margin-bottom:0;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.list-group-item:last-child{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{flex-direction:row}.list-group-horizontal .list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal .list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal .list-group-item.active{margin-top:0}.list-group-horizontal .list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal .list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm .list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm .list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm .list-group-item.active{margin-top:0}.list-group-horizontal-sm .list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm .list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md .list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md .list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md .list-group-item.active{margin-top:0}.list-group-horizontal-md .list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md .list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg .list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg .list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg .list-group-item.active{margin-top:0}.list-group-horizontal-lg .list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg .list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl .list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl .list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl .list-group-item.active{margin-top:0}.list-group-horizontal-xl .list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl .list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush .list-group-item{border-right-width:0;border-left-width:0;border-radius:0}.list-group-flush .list-group-item:first-child{border-top-width:0}.list-group-flush:last-child .list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#073984;background-color:#bbd6fe}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#073984;background-color:#a2c7fe}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#073984;border-color:#073984}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}.close:not(:disabled):not(.disabled):focus,.close:not(:disabled):not(.disabled):hover{opacity:.75}button.close{padding:0;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}a.close.disabled{pointer-events:none}.toast{max-width:350px;overflow:hidden;font-size:.875rem;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .5rem 1rem rgba(0,0,0,.15);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);opacity:0;border-radius:.25rem}.toast:not(:last-child){margin-bottom:.75rem}.toast.showing{opacity:1}.toast.show{display:block;opacity:1}.toast.hide{display:none}.toast-header{display:flex;align-items:center;padding:.25rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05)}.toast-body{padding:.75rem}.modal-open{overflow:hidden}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;overflow:hidden;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal-dialog-scrollable{display:flex;max-height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 1rem);overflow:hidden}.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header{flex-shrink:0}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered::before{display:block;height:calc(100vh - 1rem);content:""}.modal-dialog-centered.modal-dialog-scrollable{flex-direction:column;justify-content:center;height:100%}.modal-dialog-centered.modal-dialog-scrollable .modal-content{max-height:none}.modal-dialog-centered.modal-dialog-scrollable::before{content:none}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:flex;align-items:flex-start;justify-content:space-between;padding:1rem 1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header .close{padding:1rem 1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;flex:1 1 auto;padding:1rem}.modal-footer{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer>*{margin:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{max-height:calc(100% - 3.5rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-dialog-centered::before{height:calc(100vh - 3.5rem)}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.tooltip{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .tooltip-arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .tooltip-arrow,.bs-tooltip-right .tooltip-arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .tooltip-arrow::before,.bs-tooltip-right .tooltip-arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .tooltip-arrow,.bs-tooltip-left .tooltip-arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .tooltip-arrow::before,.bs-tooltip-left .tooltip-arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover{position:absolute;top:0;left:0;z-index:1060;display:block;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .popover-arrow{position:absolute;display:block;width:1rem;height:.5rem;margin:0 .3rem}.popover .popover-arrow::after,.popover .popover-arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc((.5rem + 1px) * -1)}.bs-popover-auto[x-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top]>.popover-arrow::after,.bs-popover-top>.popover-arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right]>.popover-arrow,.bs-popover-right>.popover-arrow{left:calc((.5rem + 1px) * -1);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=right]>.popover-arrow::before,.bs-popover-right>.popover-arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right]>.popover-arrow::after,.bs-popover-right>.popover-arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc((.5rem + 1px) * -1)}.bs-popover-auto[x-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom]>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:"";border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left]>.popover-arrow,.bs-popover-left>.popover-arrow{right:calc((.5rem + 1px) * -1);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=left]>.popover-arrow::before,.bs-popover-left>.popover-arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left]>.popover-arrow::after,.bs-popover-left>.popover-arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:1rem;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left){transform:translateX(100%)}.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;color:#fff;text-align:center;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:no-repeat 50%/100% 100%}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators li{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}@-webkit-keyframes spinner-border{to{transform:rotate(360deg)}}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;-webkit-animation:spinner-border .75s linear infinite;animation:spinner-border .75s linear infinite}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@-webkit-keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;background-color:currentColor;border-radius:50%;opacity:0;-webkit-animation:spinner-grow .75s linear infinite;animation:spinner-grow .75s linear infinite}.spinner-grow-sm{width:1rem;height:1rem}.clearfix::after{display:block;clear:both;content:""}.link-primary{color:#0d6efd}.link-primary:focus,.link-primary:hover{color:#024dbc}.link-secondary{color:#6c757d}.link-secondary:focus,.link-secondary:hover{color:#494f54}.link-success{color:#28a745}.link-success:focus,.link-success:hover{color:#19692c}.link-info{color:#17a2b8}.link-info:focus,.link-info:hover{color:#0f6674}.link-warning{color:#ffc107}.link-warning:focus,.link-warning:hover{color:#ba8b00}.link-danger{color:#dc3545}.link-danger:focus,.link-danger:hover{color:#a71d2a}.link-light{color:#f8f9fa}.link-light:focus,.link-light:hover{color:#cbd3da}.link-dark{color:#343a40}.link-dark:focus,.link-dark:hover{color:#121416}.embed-responsive{position:relative;width:100%}.embed-responsive::before{display:block;content:""}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.857143%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}}.sr-only,.sr-only-focusable:not(:focus){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.border{border:1px solid #dee2e6!important}.border-0{border:0!important}.border-top{border-top:1px solid #dee2e6!important}.border-top-0{border-top:0!important}.border-right{border-right:1px solid #dee2e6!important}.border-right-0{border-right:0!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-bottom-0{border-bottom:0!important}.border-left{border-left:1px solid #dee2e6!important}.border-left-0{border-left:0!important}.border-primary{border-color:#0d6efd!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.mr-0{margin-right:0!important}.mr-1{margin-right:.25rem!important}.mr-2{margin-right:.5rem!important}.mr-3{margin-right:1rem!important}.mr-4{margin-right:1.5rem!important}.mr-5{margin-right:3rem!important}.mr-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ml-0{margin-left:0!important}.ml-1{margin-left:.25rem!important}.ml-2{margin-left:.5rem!important}.ml-3{margin-left:1rem!important}.ml-4{margin-left:1.5rem!important}.ml-5{margin-left:3rem!important}.ml-auto{margin-left:auto!important}.m-n1{margin:-.25rem!important}.m-n2{margin:-.5rem!important}.m-n3{margin:-1rem!important}.m-n4{margin:-1.5rem!important}.m-n5{margin:-3rem!important}.mx-n1{margin-right:-.25rem!important;margin-left:-.25rem!important}.mx-n2{margin-right:-.5rem!important;margin-left:-.5rem!important}.mx-n3{margin-right:-1rem!important;margin-left:-1rem!important}.mx-n4{margin-right:-1.5rem!important;margin-left:-1.5rem!important}.mx-n5{margin-right:-3rem!important;margin-left:-3rem!important}.my-n1{margin-top:-.25rem!important;margin-bottom:-.25rem!important}.my-n2{margin-top:-.5rem!important;margin-bottom:-.5rem!important}.my-n3{margin-top:-1rem!important;margin-bottom:-1rem!important}.my-n4{margin-top:-1.5rem!important;margin-bottom:-1.5rem!important}.my-n5{margin-top:-3rem!important;margin-bottom:-3rem!important}.mt-n1{margin-top:-.25rem!important}.mt-n2{margin-top:-.5rem!important}.mt-n3{margin-top:-1rem!important}.mt-n4{margin-top:-1.5rem!important}.mt-n5{margin-top:-3rem!important}.mr-n1{margin-right:-.25rem!important}.mr-n2{margin-right:-.5rem!important}.mr-n3{margin-right:-1rem!important}.mr-n4{margin-right:-1.5rem!important}.mr-n5{margin-right:-3rem!important}.mb-n1{margin-bottom:-.25rem!important}.mb-n2{margin-bottom:-.5rem!important}.mb-n3{margin-bottom:-1rem!important}.mb-n4{margin-bottom:-1.5rem!important}.mb-n5{margin-bottom:-3rem!important}.ml-n1{margin-left:-.25rem!important}.ml-n2{margin-left:-.5rem!important}.ml-n3{margin-left:-1rem!important}.ml-n4{margin-left:-1.5rem!important}.ml-n5{margin-left:-3rem!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pr-0{padding-right:0!important}.pr-1{padding-right:.25rem!important}.pr-2{padding-right:.5rem!important}.pr-3{padding-right:1rem!important}.pr-4{padding-right:1.5rem!important}.pr-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.pl-0{padding-left:0!important}.pl-1{padding-left:.25rem!important}.pl-2{padding-left:.5rem!important}.pl-3{padding-left:1rem!important}.pl-4{padding-left:1.5rem!important}.pl-5{padding-left:3rem!important}.font-weight-light{font-weight:300!important}.font-weight-lighter{font-weight:lighter!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-weight-bolder{font-weight:bolder!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}.text-justify{text-align:justify!important}.text-primary{color:#0d6efd!important}.text-secondary{color:#6c757d!important}.text-success{color:#28a745!important}.text-info{color:#17a2b8!important}.text-warning{color:#ffc107!important}.text-danger{color:#dc3545!important}.text-light{color:#f8f9fa!important}.text-dark{color:#343a40!important}.text-white{color:#fff!important}.text-body{color:#212529!important}.text-muted{color:#6c757d!important}.text-black-50{color:rgba(0,0,0,.5)!important}.text-white-50{color:rgba(255,255,255,.5)!important}.text-reset{color:inherit!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.bg-primary{background-color:#0d6efd!important}.bg-secondary{background-color:#6c757d!important}.bg-success{background-color:#28a745!important}.bg-info{background-color:#17a2b8!important}.bg-warning{background-color:#ffc107!important}.bg-danger{background-color:#dc3545!important}.bg-light{background-color:#f8f9fa!important}.bg-dark{background-color:#343a40!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-decoration-none{text-decoration:none!important}.font-italic{font-style:italic!important}.text-break{overflow-wrap:break-word!important;word-break:break-word!important}.font-monospace{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace!important}.rounded{border-radius:.25rem!important}.rounded-sm{border-radius:.2rem!important}.rounded-lg{border-radius:.3rem!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-0{border-radius:0!important}.rounded-top{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-right{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-left{border-bottom-left-radius:.25rem!important;border-top-left-radius:.25rem!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.mr-sm-0{margin-right:0!important}.mr-sm-1{margin-right:.25rem!important}.mr-sm-2{margin-right:.5rem!important}.mr-sm-3{margin-right:1rem!important}.mr-sm-4{margin-right:1.5rem!important}.mr-sm-5{margin-right:3rem!important}.mr-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ml-sm-0{margin-left:0!important}.ml-sm-1{margin-left:.25rem!important}.ml-sm-2{margin-left:.5rem!important}.ml-sm-3{margin-left:1rem!important}.ml-sm-4{margin-left:1.5rem!important}.ml-sm-5{margin-left:3rem!important}.ml-sm-auto{margin-left:auto!important}.m-sm-n1{margin:-.25rem!important}.m-sm-n2{margin:-.5rem!important}.m-sm-n3{margin:-1rem!important}.m-sm-n4{margin:-1.5rem!important}.m-sm-n5{margin:-3rem!important}.mx-sm-n1{margin-right:-.25rem!important;margin-left:-.25rem!important}.mx-sm-n2{margin-right:-.5rem!important;margin-left:-.5rem!important}.mx-sm-n3{margin-right:-1rem!important;margin-left:-1rem!important}.mx-sm-n4{margin-right:-1.5rem!important;margin-left:-1.5rem!important}.mx-sm-n5{margin-right:-3rem!important;margin-left:-3rem!important}.my-sm-n1{margin-top:-.25rem!important;margin-bottom:-.25rem!important}.my-sm-n2{margin-top:-.5rem!important;margin-bottom:-.5rem!important}.my-sm-n3{margin-top:-1rem!important;margin-bottom:-1rem!important}.my-sm-n4{margin-top:-1.5rem!important;margin-bottom:-1.5rem!important}.my-sm-n5{margin-top:-3rem!important;margin-bottom:-3rem!important}.mt-sm-n1{margin-top:-.25rem!important}.mt-sm-n2{margin-top:-.5rem!important}.mt-sm-n3{margin-top:-1rem!important}.mt-sm-n4{margin-top:-1.5rem!important}.mt-sm-n5{margin-top:-3rem!important}.mr-sm-n1{margin-right:-.25rem!important}.mr-sm-n2{margin-right:-.5rem!important}.mr-sm-n3{margin-right:-1rem!important}.mr-sm-n4{margin-right:-1.5rem!important}.mr-sm-n5{margin-right:-3rem!important}.mb-sm-n1{margin-bottom:-.25rem!important}.mb-sm-n2{margin-bottom:-.5rem!important}.mb-sm-n3{margin-bottom:-1rem!important}.mb-sm-n4{margin-bottom:-1.5rem!important}.mb-sm-n5{margin-bottom:-3rem!important}.ml-sm-n1{margin-left:-.25rem!important}.ml-sm-n2{margin-left:-.5rem!important}.ml-sm-n3{margin-left:-1rem!important}.ml-sm-n4{margin-left:-1.5rem!important}.ml-sm-n5{margin-left:-3rem!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pr-sm-0{padding-right:0!important}.pr-sm-1{padding-right:.25rem!important}.pr-sm-2{padding-right:.5rem!important}.pr-sm-3{padding-right:1rem!important}.pr-sm-4{padding-right:1.5rem!important}.pr-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.pl-sm-0{padding-left:0!important}.pl-sm-1{padding-left:.25rem!important}.pl-sm-2{padding-left:.5rem!important}.pl-sm-3{padding-left:1rem!important}.pl-sm-4{padding-left:1.5rem!important}.pl-sm-5{padding-left:3rem!important}.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}.text-sm-justify{text-align:justify!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.mr-md-0{margin-right:0!important}.mr-md-1{margin-right:.25rem!important}.mr-md-2{margin-right:.5rem!important}.mr-md-3{margin-right:1rem!important}.mr-md-4{margin-right:1.5rem!important}.mr-md-5{margin-right:3rem!important}.mr-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ml-md-0{margin-left:0!important}.ml-md-1{margin-left:.25rem!important}.ml-md-2{margin-left:.5rem!important}.ml-md-3{margin-left:1rem!important}.ml-md-4{margin-left:1.5rem!important}.ml-md-5{margin-left:3rem!important}.ml-md-auto{margin-left:auto!important}.m-md-n1{margin:-.25rem!important}.m-md-n2{margin:-.5rem!important}.m-md-n3{margin:-1rem!important}.m-md-n4{margin:-1.5rem!important}.m-md-n5{margin:-3rem!important}.mx-md-n1{margin-right:-.25rem!important;margin-left:-.25rem!important}.mx-md-n2{margin-right:-.5rem!important;margin-left:-.5rem!important}.mx-md-n3{margin-right:-1rem!important;margin-left:-1rem!important}.mx-md-n4{margin-right:-1.5rem!important;margin-left:-1.5rem!important}.mx-md-n5{margin-right:-3rem!important;margin-left:-3rem!important}.my-md-n1{margin-top:-.25rem!important;margin-bottom:-.25rem!important}.my-md-n2{margin-top:-.5rem!important;margin-bottom:-.5rem!important}.my-md-n3{margin-top:-1rem!important;margin-bottom:-1rem!important}.my-md-n4{margin-top:-1.5rem!important;margin-bottom:-1.5rem!important}.my-md-n5{margin-top:-3rem!important;margin-bottom:-3rem!important}.mt-md-n1{margin-top:-.25rem!important}.mt-md-n2{margin-top:-.5rem!important}.mt-md-n3{margin-top:-1rem!important}.mt-md-n4{margin-top:-1.5rem!important}.mt-md-n5{margin-top:-3rem!important}.mr-md-n1{margin-right:-.25rem!important}.mr-md-n2{margin-right:-.5rem!important}.mr-md-n3{margin-right:-1rem!important}.mr-md-n4{margin-right:-1.5rem!important}.mr-md-n5{margin-right:-3rem!important}.mb-md-n1{margin-bottom:-.25rem!important}.mb-md-n2{margin-bottom:-.5rem!important}.mb-md-n3{margin-bottom:-1rem!important}.mb-md-n4{margin-bottom:-1.5rem!important}.mb-md-n5{margin-bottom:-3rem!important}.ml-md-n1{margin-left:-.25rem!important}.ml-md-n2{margin-left:-.5rem!important}.ml-md-n3{margin-left:-1rem!important}.ml-md-n4{margin-left:-1.5rem!important}.ml-md-n5{margin-left:-3rem!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pr-md-0{padding-right:0!important}.pr-md-1{padding-right:.25rem!important}.pr-md-2{padding-right:.5rem!important}.pr-md-3{padding-right:1rem!important}.pr-md-4{padding-right:1.5rem!important}.pr-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.pl-md-0{padding-left:0!important}.pl-md-1{padding-left:.25rem!important}.pl-md-2{padding-left:.5rem!important}.pl-md-3{padding-left:1rem!important}.pl-md-4{padding-left:1.5rem!important}.pl-md-5{padding-left:3rem!important}.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}.text-md-justify{text-align:justify!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.mr-lg-0{margin-right:0!important}.mr-lg-1{margin-right:.25rem!important}.mr-lg-2{margin-right:.5rem!important}.mr-lg-3{margin-right:1rem!important}.mr-lg-4{margin-right:1.5rem!important}.mr-lg-5{margin-right:3rem!important}.mr-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ml-lg-0{margin-left:0!important}.ml-lg-1{margin-left:.25rem!important}.ml-lg-2{margin-left:.5rem!important}.ml-lg-3{margin-left:1rem!important}.ml-lg-4{margin-left:1.5rem!important}.ml-lg-5{margin-left:3rem!important}.ml-lg-auto{margin-left:auto!important}.m-lg-n1{margin:-.25rem!important}.m-lg-n2{margin:-.5rem!important}.m-lg-n3{margin:-1rem!important}.m-lg-n4{margin:-1.5rem!important}.m-lg-n5{margin:-3rem!important}.mx-lg-n1{margin-right:-.25rem!important;margin-left:-.25rem!important}.mx-lg-n2{margin-right:-.5rem!important;margin-left:-.5rem!important}.mx-lg-n3{margin-right:-1rem!important;margin-left:-1rem!important}.mx-lg-n4{margin-right:-1.5rem!important;margin-left:-1.5rem!important}.mx-lg-n5{margin-right:-3rem!important;margin-left:-3rem!important}.my-lg-n1{margin-top:-.25rem!important;margin-bottom:-.25rem!important}.my-lg-n2{margin-top:-.5rem!important;margin-bottom:-.5rem!important}.my-lg-n3{margin-top:-1rem!important;margin-bottom:-1rem!important}.my-lg-n4{margin-top:-1.5rem!important;margin-bottom:-1.5rem!important}.my-lg-n5{margin-top:-3rem!important;margin-bottom:-3rem!important}.mt-lg-n1{margin-top:-.25rem!important}.mt-lg-n2{margin-top:-.5rem!important}.mt-lg-n3{margin-top:-1rem!important}.mt-lg-n4{margin-top:-1.5rem!important}.mt-lg-n5{margin-top:-3rem!important}.mr-lg-n1{margin-right:-.25rem!important}.mr-lg-n2{margin-right:-.5rem!important}.mr-lg-n3{margin-right:-1rem!important}.mr-lg-n4{margin-right:-1.5rem!important}.mr-lg-n5{margin-right:-3rem!important}.mb-lg-n1{margin-bottom:-.25rem!important}.mb-lg-n2{margin-bottom:-.5rem!important}.mb-lg-n3{margin-bottom:-1rem!important}.mb-lg-n4{margin-bottom:-1.5rem!important}.mb-lg-n5{margin-bottom:-3rem!important}.ml-lg-n1{margin-left:-.25rem!important}.ml-lg-n2{margin-left:-.5rem!important}.ml-lg-n3{margin-left:-1rem!important}.ml-lg-n4{margin-left:-1.5rem!important}.ml-lg-n5{margin-left:-3rem!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pr-lg-0{padding-right:0!important}.pr-lg-1{padding-right:.25rem!important}.pr-lg-2{padding-right:.5rem!important}.pr-lg-3{padding-right:1rem!important}.pr-lg-4{padding-right:1.5rem!important}.pr-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.pl-lg-0{padding-left:0!important}.pl-lg-1{padding-left:.25rem!important}.pl-lg-2{padding-left:.5rem!important}.pl-lg-3{padding-left:1rem!important}.pl-lg-4{padding-left:1.5rem!important}.pl-lg-5{padding-left:3rem!important}.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}.text-lg-justify{text-align:justify!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.mr-xl-0{margin-right:0!important}.mr-xl-1{margin-right:.25rem!important}.mr-xl-2{margin-right:.5rem!important}.mr-xl-3{margin-right:1rem!important}.mr-xl-4{margin-right:1.5rem!important}.mr-xl-5{margin-right:3rem!important}.mr-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ml-xl-0{margin-left:0!important}.ml-xl-1{margin-left:.25rem!important}.ml-xl-2{margin-left:.5rem!important}.ml-xl-3{margin-left:1rem!important}.ml-xl-4{margin-left:1.5rem!important}.ml-xl-5{margin-left:3rem!important}.ml-xl-auto{margin-left:auto!important}.m-xl-n1{margin:-.25rem!important}.m-xl-n2{margin:-.5rem!important}.m-xl-n3{margin:-1rem!important}.m-xl-n4{margin:-1.5rem!important}.m-xl-n5{margin:-3rem!important}.mx-xl-n1{margin-right:-.25rem!important;margin-left:-.25rem!important}.mx-xl-n2{margin-right:-.5rem!important;margin-left:-.5rem!important}.mx-xl-n3{margin-right:-1rem!important;margin-left:-1rem!important}.mx-xl-n4{margin-right:-1.5rem!important;margin-left:-1.5rem!important}.mx-xl-n5{margin-right:-3rem!important;margin-left:-3rem!important}.my-xl-n1{margin-top:-.25rem!important;margin-bottom:-.25rem!important}.my-xl-n2{margin-top:-.5rem!important;margin-bottom:-.5rem!important}.my-xl-n3{margin-top:-1rem!important;margin-bottom:-1rem!important}.my-xl-n4{margin-top:-1.5rem!important;margin-bottom:-1.5rem!important}.my-xl-n5{margin-top:-3rem!important;margin-bottom:-3rem!important}.mt-xl-n1{margin-top:-.25rem!important}.mt-xl-n2{margin-top:-.5rem!important}.mt-xl-n3{margin-top:-1rem!important}.mt-xl-n4{margin-top:-1.5rem!important}.mt-xl-n5{margin-top:-3rem!important}.mr-xl-n1{margin-right:-.25rem!important}.mr-xl-n2{margin-right:-.5rem!important}.mr-xl-n3{margin-right:-1rem!important}.mr-xl-n4{margin-right:-1.5rem!important}.mr-xl-n5{margin-right:-3rem!important}.mb-xl-n1{margin-bottom:-.25rem!important}.mb-xl-n2{margin-bottom:-.5rem!important}.mb-xl-n3{margin-bottom:-1rem!important}.mb-xl-n4{margin-bottom:-1.5rem!important}.mb-xl-n5{margin-bottom:-3rem!important}.ml-xl-n1{margin-left:-.25rem!important}.ml-xl-n2{margin-left:-.5rem!important}.ml-xl-n3{margin-left:-1rem!important}.ml-xl-n4{margin-left:-1.5rem!important}.ml-xl-n5{margin-left:-3rem!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pr-xl-0{padding-right:0!important}.pr-xl-1{padding-right:.25rem!important}.pr-xl-2{padding-right:.5rem!important}.pr-xl-3{padding-right:1rem!important}.pr-xl-4{padding-right:1.5rem!important}.pr-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.pl-xl-0{padding-left:0!important}.pl-xl-1{padding-left:.25rem!important}.pl-xl-2{padding-left:.5rem!important}.pl-xl-3{padding-left:1rem!important}.pl-xl-4{padding-left:1.5rem!important}.pl-xl-5{padding-left:3rem!important}.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}.text-xl-justify{text-align:justify!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}}
/*# sourceMappingURL=bootstrap.min.css.map */
        </style>


    <style>

        .footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            /* Set the fixed height of the footer here */
            height: 60px;
            line-height: 60px; /* Vertically center the text there */
            background-color: #f5f5f5;
        }

        .footer-logo {
            height: 3em;
            display: inline-block;
        }

        .footer-logo:hover {
            height: 4em;
            display: inline-block;
            cursor: pointer;
            -ms-transform: translate(0px, -1em); /* IE 9 */
            -webkit-transform: translate(0px, -1em); /* Safari prior 9.0 */
            transform: translate(0px, -1em); /* Standard syntax */
        }

        .prolink-icon {
            position: relative;
            padding-left: 1.2em;
        }

        .prolink-icon::after {
            content: '';
            background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTc0IDEzMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTc0IDEzMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOm5vbmU7c3Ryb2tlOiMwMTAxMDE7c3Ryb2tlLXdpZHRoOjIwO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uc3Qxe2ZpbGw6IzAxMDEwMTt9LnN0MntmaWxsOm5vbmU7c3Ryb2tlOiMwMTAxMDE7c3Ryb2tlLXdpZHRoOjQ7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fTwvc3R5bGU+PGc+PGc+PGxpbmUgY2xhc3M9InN0MCIgeDE9IjMyLjUiIHkxPSIzMi45IiB4Mj0iMTA1LjIiIHkyPSIzMi45Ii8+PGc+PHBvbHlnb24gY2xhc3M9InN0MSIgcG9pbnRzPSI5OS4zLDUyLjggMTMzLjksMzIuOSA5OS4zLDEyLjkgIi8+PC9nPjwvZz48Zz48bGluZSBjbGFzcz0ic3QwIiB4MT0iMTMzLjkiIHkxPSI3MCIgeDI9IjYxLjIiIHkyPSI3MCIvPjxnPjxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iNjcuMSw1MC4xIDMyLjUsNzAgNjcuMSw4OS45ICIvPjwvZz48L2c+PGc+PGxpbmUgY2xhc3M9InN0MCIgeDE9IjMyLjUiIHkxPSIxMDUuMSIgeDI9IjEwNS4yIiB5Mj0iMTA1LjEiLz48Zz48cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9Ijk5LjMsMTI1LjEgMTMzLjksMTA1LjEgOTkuMyw4NS4yICIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MiIgZD0iTTQyLjYsMjkuOWMwLDAtMzEsMC4xLTMxLDIwLjFjMCwyMC44LDMxLDIwLjEsMzEsMjAuMSIvPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xMjkuMywxMDYuM2MwLDAsMjguNy0wLjEsMjguNy0xOC42YzAtMTkuMi0yOC43LTE4LjYtMjguNy0xOC42Ii8+PC9nPjwvc3ZnPg==);
            fill: currentColor;
            background-size: 1em;
            position: absolute;
            padding-left: 1.2em;
            left: 0;
            top: 0;
            height: 100%;
        }

        .arrow-left {
            left: -30px;
            top: 80px;
            position: absolute;
            width: 0;
            z-index: 1000;
            height: 0;
            border-style: solid;
            border-width: 30px 30px 30px 0;
            border-color: transparent rgba(0, 0, 0, 0.125) transparent transparent;

        }

        .arrow-left:after {
            display: block;
            content: "";
            position: absolute;
            left: 1px;
            top: -30px;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 30px 30px 30px 0;
            z-index: 1000;
            border-color: transparent white transparent transparent;
        }

        .arrow-right {
            right: -30px;
            top: 80px;
            position: absolute;
            width: 0;
            z-index: 1000;
            height: 0;
            border-style: solid;
            border-width: 30px 0px 30px 30px;
            border-color: transparent transparent transparent rgba(0, 0, 0, 0.125);

        }

        .arrow-right:after {
            display: block;
            content: "";
            position: absolute;
            right: 1px;
            top: -30px;
            width: 0;
            z-index: 1000;
            height: 0;
            border-style: solid;
            border-width: 30px 0px 30px 30px;
            border-color: transparent transparent transparent white;
        }


        /* The flip card container - set the width and height to whatever you want. We have added the border property to demonstrate that the flip itself goes out of the box on hover (remove perspective if you don't want the 3D effect */
        .flip-card {
            background-color: transparent;
            padding-top: 10%;
            height: 300px;
            /*perspective: 200px; /* Remove this if you don't want the 3D effect */
        }

        /* This container is needed to position the front and back side */
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 2s;
            transform-style: preserve-3d;
        }

        /* Position the front and back side */
        .flip-card-front, .flip-card-back {
            position: absolute;
            padding-top: 10%;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }

        .flip-card-inner > * {
            backface-visibility: hidden;
        }

        /* Style the front side (fallback if image is missing) */
        .flip-card-front {
        }

        /* Style the back side */
        .flip-card-back {
            transform: rotateX(180deg);
        }

        .pdb, .swiss, .itasser, .phyre {
            cursor: pointer;
        }

        .pdb:hover, .swiss:hover, .:hover, .phyre:hover {
            fill: GreenYellow;
        }


        html {
            position: relative;
            min-height: 100%;
            overflow-y: scroll;
        }

        body {
            /* Margin bottom by footer height */
            margin-bottom: 60px;
        }

        main {
            /* bg image*/
            /* Use "linear-gradient" to add a darken background effect to the image (photographer.jpg). This will make the text easier to read */
            background-image: linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), url('/static/background_blur.png');

            /* Set a specific height */
            height: 50%;

            /* Position and center the image to scale nicely on all screens */
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
        }

        pre {

            background: gainsboro;
            color: darkslategrey;
            font-family: monospace;
        }

        .custom-file-label:after {
            color: #fff;
            background-color: #1e7e34;
            border-color: #1c7430;
            pointer: cursor;
        }

        .popover {
            max-width: 90vw; /* Max Width of the popover (depending on the container!) */
        }

        .protein {
            width: 100%;
            height: 0;
            padding-bottom: 100%;
        }

        .prolink {
            color: mediumseagreen;
        }

        .prolink:hover {
            color: seagreen;
            cursor: pointer;
            text-decoration: underline;
        }

        .confidential-ribbon {
            z-index: 1050;
            width: 200px;
            background: #e43;
            position: fixed;
            top: 25px;
            left: -50px;
            text-align: center;
            line-height: 50px;
            letter-spacing: 1px;
            color: #f0f0f0;
            transform: rotate(-45deg);
            -webkit-transform: rotate(-45deg);
            box-shadow: 0 0 3px rgba(0, 0, 0, .3);
        }

        .hypercard:hover {
            cursor: pointer;
            border-width: 2px;
            background: whitesmoke;
        }

        .hypercard > img:hover {
            opacity: 0.7;
        }

        ::placeholder {
            color: gainsboro !important; /* normally BS is #6c757d */
        }

        .underlined {
            text-decoration-line: underline;
            text-decoration-style: dotted;
        }

    </style>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>


<body>
<div id="toasterOuter" class="position-absolute m-0 w-100" style="z-index: 9999;">
    <div id="toaster" class="m-0 w-100 pl-3"
         style="position: fixed;  padding-top: 5em; pointer-events: none"></div>
</div>

<main role='main' class="container-fluid p-0 w-100 mx-0">
    
<div class="jumbotron clearfix py-4"
>
    <div class="float-left ml-3">
        <h1>TIM813-Tim23</h1>
        <small class="text-muted">The content of this page was
                edited by wyongciac@gmail.com on the 2021-03-10 10:14:12.521429.<br/>
                The administrators of this site take no legal responsibility for the content of this page, if you believe this page is in violation of the law, <a href="#" id="report">please report it</a>.
             </small>
    </div>
</div>



<div class='row p-4'>
    <div class='col-12 col-lg-9 order-1'>
        <div class='card shadow'>
            <div class="card-body">
                <div id="viewport" role="NGL" data-proteins='[{&#34;type&#34;:&#34;data&#34;,&#34;value&#34;:&#34;mike_combined&#34;,&#34;isVariable&#34;:true,&#34;loadFx&#34;:&#34;loadmike_combined&#34;}]' data-backgroundcolor="white" >
                </div>
            </div>
        </div>
    </div>

    <div class='col-12 col-lg-3 order-2'>
        <div class="card shadow" role="tooltip">
            

            <div class="card-body">
                    <div class="arrow-left d-none d-lg-block"></div>

                <p><h3>chains</h3>
<ul>
<li><span class="prolink" data-focus="domain" data-selection="1-105:A" data-target="viewport" data-toggle="protein">1-105:A</span></li>
<li><span class="prolink" data-focus="domain" data-selection="1-87:B" data-target="viewport" data-toggle="protein">1-87:B</span></li>
<li><span class="prolink" data-focus="domain" data-selection="1-105:C" data-target="viewport" data-toggle="protein">1-105:C</span></li>
<li><span class="prolink" data-focus="domain" data-selection="1-87:D" data-target="viewport" data-toggle="protein">1-87:D</span></li>
<li><span class="prolink" data-focus="domain" data-selection="1-105:E" data-target="viewport" data-toggle="protein">1-105:E</span></li>
<li><span class="prolink" data-focus="domain" data-selection="1-87:F" data-target="viewport" data-toggle="protein">1-87:F</span></li>
<li><span class="prolink" data-focus="domain" data-selection="1-222:G" data-target="viewport" data-toggle="protein">1-222:G</span></li>
</ul></p>
                <div id="uniprot_btns"></div>
                <hr/>
                <button type="button" class="btn btn-outline-success w-100 my-1" id="save" data-toggle="tooltip" title="Save a PNG of the current view"><i class="far fa-camera"></i> Save image</button>
                    <button type="button" class="btn btn-outline-primary w-100 my-1" data-toggle="modal" data-target="#about"><i class="far fa-quote-right"></i> Credits</button>
                </div>
        </div>
    </div>
</div>


    
<div class="modal fade" tabindex="-1" role="dialog" id="edit_modal" style="overflow:scroll;">
    <div class="modal-dialog modal-xl modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="far fa-pen-alt"></i> Edit</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="editor_first_block">

                <div class="input-group mb-3" data-toggle="tooltip" data-trigger="hover"  title="This is the title of the page and will appear both as the title of the browser tab and as the header at the top of the page.">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="title-addon1">Title</span>
                    </div>
                    <input type="text" class="form-control" value="TIM813-Tim23" aria-label="Title" aria-describedby="title-addon1" id="edit_title">
                </div>

                <div class="row">
                    <div class="offset-1 col-11 pb-1">
                    <div class="btn-group" role="group" aria-label="formatting" id="formatting">
                      <button type="button" class="btn btn-outline-secondary" id="formatting_h3"><i class="far fa-h3"></i></button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_bold"><i class="far fa-bold"></i></button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_italic"><i class="far fa-italic"></i></button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_link"><i class="far fa-link"></i></button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_list"><i class="far fa-list"></i></button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_list-ol"><i class="far fa-list-ol"></i></button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_quote"><i class="far fa-quote-left"></i></button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_code"><i class="far fa-code"></i></button>
                        <!--
                      <button type="button" class="btn btn-outline-secondary" id="formatting_sub"><i class="far fa-subscript"></i></button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_super"><i class="far fa-superscript"></i></button>
                      -->
                      <button type="button" class="btn btn-outline-secondary" id="formatting_alpha">&alpha;</button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_beta">&beta;</button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_gamma">&gamma;</button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_delta">&delta;</button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_mu">&mu;</button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_Aring">&Aring;</button>
                      <button type="button" class="btn btn-outline-secondary" id="formatting_Delta">&Delta;</button>
                      <button type="button" class="btn btn-outline-info" id="formatting_help"><i class="far fa-question"></i></button>
                    </div>

                </div>

                   <div class="offset-1 col-11 pb-1">
                        <span data-toggle="tooltip" data-trigger="hover"  title="Create links that control the protein view (prolinks)">
                            <button type="button" id="markup_modal_btn" class="btn btn-outline-info" data-toggle="modal" data-target="#markup_modal"><i class="far fa-hammer"></i> view builder</button>

                        </span>
                       <span data-toggle="tooltip" data-trigger="hover"  title="Alter initial view">
                           <button type="button" class="btn btn-outline-info" data-toggle="modal" data-target="#initial_modal" id="initial_btn"><i class="far fa-wrench"></i> Alter loading view</button>
                       </span>
                       <span data-toggle="tooltip" data-trigger="hover"  title="Create point mutations in this structure &mdash;mutant structure will appear as a different model (see fa-load in documentation)">
                            <button type="button" class="btn btn-outline-info" data-toggle="modal" data-target="#mutate_modal" id="mutate_modal_btn"><i class="far fa-biohazard"></i> Make mutations</button>
                       </span>
                       <span data-toggle="tooltip" data-trigger="hover"  title="Copy over into this page the structure (or the view only) from another page you have access to &mdash;added structure will appear as a different model (see fa-load in documentation).">
                           <button type="button" class="btn btn-outline-info" data-toggle="modal" data-target="#combine_modal"  id="combine_modal_btn"><i class="far fa-paperclip"></i> Add additional model</button>
                       </span>
                           <button class="btn" data-toggle="tooltip" data-trigger="hover"  title="Collapse prolinks. Prolinks are the protein view links that can be created with the builder tool. They can be collapsed into a compact form or written in full as a HTML element. If you plan on moving them around, duplicating them or changing the values expand them. Otherwise keep this checked.">
                          <div class="input-group-prepend">
                            <div class="input-group-text">
                              <div class="custom-control custom-switch">
                                  <input type="checkbox" id="collapse_prolinks" class="custom-control-input">
                                    <label class="custom-control-label" for="collapse_prolinks">Collapse prolinks</label>
                                  </div>
                                </div>
                            </div>
                          </button>
                        <div class="dropdown">
                              <button class="btn btn-secondary dropdown-toggle" type="button" id="revision_button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Revert to a previous edit
                              </button>
                              <div class="dropdown-menu" aria-labelledby="revision_button" id="revision_menu">
                                      <a class="dropdown-item" href="#" onclick="loadPastVersion(0)">2021-03-10 10:14:12.513037 &mdash;wyongciac@gmail.com</a>
                              </div>
                            </div>

                   </div>
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" aria-label="edit_description" aria-describedby="description-addon1">Sidebar<br/>Description</span>
                    </div>
                    
                    <div id="edit_description"
                         contenteditable="true"
                         class="form-control border" style="height: 15rem; resize: vertical; overflow: auto; white-space: pre-wrap;"><br/>### chains<br/><br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-105:A"&gt;1-105:A&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-87:B"&gt;1-87:B&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-105:C"&gt;1-105:C&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-87:D"&gt;1-87:D&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-105:E"&gt;1-105:E&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-87:F"&gt;1-87:F&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-222:G"&gt;1-222:G&lt;/span&gt;<br/><br/>                    
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-xl-4 col-lg-6">
                        <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="columns_viewport_label">Viewport size</span>
                    </div>
                    <div class="border rounded-right px-3 py-1">
                        <input type="range" min="1" max="12" value="9" step="1" class="custom-range" id="columns_viewport">
                    </div>
                </div>
                    </div>
                    <div class="col-12 col-xl-4 col-lg-6">
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="location_viewport_label">Viewport location</span>
                            </div>
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                              <label class="btn btn-secondary active">
                                <input type="radio" name="location_viewport" id="location_viewport_left" autocomplete="off"
                                       checked
                                       value="left"><i class="far fa-caret-square-left"></i>&nbsp; Left
                              </label>
                              <label class="btn btn-secondary">
                                <input type="radio" name="location_viewport" id="location_viewport_right" autocomplete="off"
                                       value="right"> Right <i class="far fa-caret-square-right"></i>
                              </label>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-xl-4 col-lg-6">
                        <div class="input-group mb-3" data-toggle="toolip" title="To use an image add a URL point to that image. Note, we will not host images here.">
                            <div class="input-group-append">
                            <span class="input-group-text" id="image_label">Use image</span>
                          </div>
                          <input id="image" type="text" class="form-control" placeholder="No image" aria-label="None" aria-describedby="image_label">
                        </div>
                    </div>
                </div>

                </div>
                <hr/>
                <p>Structures obtained from threading or, worse, <i>ab initio</i> methods are less accurate than X-ray crystal structures. Consequently, an explicit warning is handy:</p>
                <div class="custom-control custom-switch">
                  <input type="checkbox" class="custom-control-input user-editable-state" id="model"
                            >
                  <label class="custom-control-label" for="model">Model warning</label>
                </div>
                <hr/>
                <p>Multiple structures can be downloaded after loading the page. If your first view is an overlay disable this feature:</p>
                <div class="custom-control custom-switch">
                  <input type="checkbox" class="custom-control-input user-editable-state" id="asyncPDB"
                            >
                  <label class="custom-control-label" for="asyncPDB">Load structures beyond the first asynchronously</label>
                </div>
                <hr/>
                <div id="page_users">
    <div class="custom-control custom-switch">
          <input type="checkbox" class="custom-control-input user-editable-state" id="freelyeditable"
                    >
          <label class="custom-control-label" for="freelyeditable">Any registered user with the link can edit it.</label>
        </div>
    <div class="invalid-feedback" id="freelyeditable_error">Public pages cannot be freely edited.</div>

    <div id="authorlist"
    >
    <p>This is the list of users that have edited, could edit or cannot edit the page.</p>
<ul class="fa-ul">
    <li><span class="fa-li" data-toggle="tooltip"  title="can and has edited page"><i class="far fa-user-edit"></i></span> wyongciac@gmail.com</li>
    <li><span class="fa-li"  data-toggle="tooltip" title="Write user name. Beware of capitalisation."><i class="far fa-user-plus"></i></span> <div class="input-group-sm"><input type="text" id="input_author" class="form-control" placeholder="username"></div></li>
    </ul>
    </div>
</div>

                <hr/>
                <div id="security">

    <a href="#" data-toggle="collapse" data-target="#security .collapse">Security <span class="collapse show"><i class="far fa-chevron-double-down"></i></span>
        <span class="collapse">
            <i class="far fa-chevron-double-up"></i></span></a>


    <div class="collapse">
        <p>Currently, the address to your data contains <a href="https://en.wikipedia.org/w/index.php?title=Universally_unique_identifier" target="_blank">a long id, which cannot be guessed (five undecillion combinations) <i class="far fa-external-link"></i></a>.
        However, if the server is compromised or the administrator turns evil the data can be seen &mdash;note that this does not apply your password, which cannot be seen as it is stored hashed.
            If your data is <i>extremely</i> sensitive, the data can be encrypted serverside. This requires the encryption password each time the data is requested to be viewed &mdash;as you may share this page and its password please do not use your log-in password. <b>Note that, if you forget the key, the data is lost, so please proceed with care.</b></p>
        <div class="input-group">
      <div class="input-group-prepend">
          <div class="input-group-text px-2">
                <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input user-editable-state" id="encryption"
                    >
              <label class="custom-control-label" for="encryption">use encryption</label>
            </div>
          </div>
      </div>

                <input type="password" class="form-control" aria-label="encryption key" id="encryption_key" autocomplete="off"
                placeholder="key"
                >
    </div>
        <div class="valid-feedback" id="encryption_key_error">No key provided</div>

        <p class="pt-3">Alternatively, If the worry is more collaborators sharing this information, you can enable a nice 'confidential' banner on top:</p>
    <div class="custom-control custom-switch">
          <input type="checkbox" class="custom-control-input user-editable-state" id="confidential"
                    >
          <label class="custom-control-label" for="confidential">Confidential</label>
        </div>
        <br/>
    <p>Lastly, you can make the page publicly listed. Search engines do not and cannot know about your page and cannot parse them otherwise. Enabling this will disable encryption.</p>
            <div class="custom-control custom-switch">
          <input type="checkbox" class="custom-control-input user-editable-state" id="public"
                    >
          <label class="custom-control-label" for="public">Public</label>
        </div>


    </div>
</div>
<hr/>
<p>If you want to use a page in a publication the page must be guaranteed to not change. See <a href="/monitor/1fe5c1ef-7277-4a0d-ad53-50218df6c31b" target="_blank">monitoring page</a>.</p>


                <hr/>
                <p><input type="checkbox" checked> <small>You declare that the content you are uploading does not contain copyrighted material
                    and that you are aware that the site admin can delete your page if deemed in breech of any law.</small></p>

            </div>
                <div class="modal-footer">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-success" id="edit_submit"><i class="far fa-save"></i> Save changes</button>
                        <button type="button" class="btn btn-danger" id="edit_delete"><i class="far fa-trash-alt"></i> Scrap page</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="far fa-sign-out"></i> Discard changes</button>
                    </div>
                </div>
        </div>
    </div>
</div>





<div class="modal" tabindex="-1" role="dialog" id="formatting_help_modal" data-backdrop="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Markdown</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>This is the description text in markdown format (same as Reddit, GitHub and others). Here is an <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">external guide on the topic <i class="far fa-external-link"></i></a>.</p>
        <p>There is some extra flavoring, namely:</p>
            <ul>
                <li><code>@prolink#1[text]</code> will insert a generated prolink.</li>
                <li><code>@fa[icon-name]</code> will insert a <a href="https://fontawesome.com/icons/">FontAwesome icon <i class="far fa-external-link"></i></a>, e.g. <code>@fa[external-link]</code> produces <i class="far fa-external-link"></i></li>
            </ul>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id='about'>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">About</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <p>This protein view was generated using <a href='http://michelanglo.sgc.ox.ac.uk'>Michela<span style="font-variant: small-caps;">ngl</span>o</a>.</p>
          <h4>About</h4>
          <p>Michelaɴɢʟo is an accessible and open-source web-based application which supports the generation, customisation and sharing of interactive three-dimensional macromolecular visualisations for digital media without requiring programming skills. PyMOL file, PDB file, PDB identifier code or protein/gene name can be provided which form the basis of visualisations using the NGL JavaScript library. Hyperlinks that control the view can be added to text within the page. Protein coding variants can be highlighted to support interpretation their potential functional consequences. The resulting visualisations and text can be customised and shared, as well as embedded within existing web sites by following instructions and using a self-contained download.</p>
      </div>
        <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <a href="https://github.com/matteoferla/PyMOL-to-NGL-transpiler" class="btn btn-primary" >Visit Github</a>
        <a href="http://michelanglo.sgc.ox.ac.uk" class="btn btn-primary">Visit App</a>
      </div>
      </div>
    </div>
  </div>

<div class="modal" tabindex="-1" role="dialog" id='basics'>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Protein basics</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Proteins are chains of L-amino acids linked via their backbone atoms (carboxyl and amine of the &alpha; carbon).
This sequence of backbone atoms is represented by the (green) ribbon-like structure.</p><p>

When the backbone atoms hydrogen-bond with each other in a consistent way secondary structure arises.<br/>
&alpha;-Helices are represented as spirals, while &beta;-sheets appear as adjecent flat strands.</p><p>

Some residues of interest are represented as ball and sticks like akin to an old chemistry set. In these representations the atoms are colour-coded based on the element.
Carbon can be any colour, while nitrogens are in blue, oxygens are in red, hydrogens in white, sulfurs in yellow and phosphorous in orange.
The latter is found as phosphate groups so will appear as a distinctive red-tipped orange tetrahedral end of a sidechain.
Ions are represented by a variety of colours. But are generally represented as spheres of the correct atomic radius.</p>
      </div>
      </div>
    </div>
  </div>

<div class="modal fade" tabindex="-1" role="dialog" id="markup_modal">
    <br/>
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title"><i class="far fa-hammer"></i> View builder</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <div class="modal-body">
            <div class="row">
          <div class="col-12 col-md-8" id="markup_formParent">
              <p>This tool allows you to create custom anchor elements that control the protein. See <a href="/docs/markup">documentation</a> for more.</p>
            
<div class="row" id="markup_form">
    <div class="col-12 mb-2"
         title="Choose the focusing mode to use. If unsure consult 'prolinks' page in the documetation. <br/>But briefly, <code>domain</code> is best to show a region or domain. <code>residue</code> is to show residues in selection and their environs. <code>clash</code> shows a clash."
         data-trigger="hover" data-toggle="tooltip"
         data-html=true
         data-placement="left">
        <div class="input-group">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-sm">Zoom to </span>
            </div>
        <div class="btn-group btn-group-toggle" data-toggle="buttons" id="markup_view_toggle">
              <label class="btn btn-secondary">
                <input type="radio" name="markup_zoom" id="domain" autocomplete="off">domain
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="markup_zoom" id="residue" autocomplete="off">residue
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="markup_zoom" id="clash" autocomplete="off">clash
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="markup_zoom" id="surface" autocomplete="off">surface
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="markup_zoom" id="bfactor" autocomplete="off">bfactor
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="markup_zoom" id="auto" autocomplete="off">auto
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="markup_zoom" id="default" autocomplete="off">default
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="markup_zoom" id="orientation" autocomplete="off">orientation
              </label>
        </div>
    </div>
    </div>

    <div class="col-12 col-md-6 mb-2" data-trigger="hover" data-toggle="tooltip" data-placement="bottom" title="NGL selection of residues to focus on. <code>1:A</code> will select residue 1 of chain A, <code>1-20:B</code> the residues 1 to 20 of chain B, <code>*</code> for everything. You can only select residues that exist in the structure, if not it will either show all or erroneously pan off camera." data-html=true >
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="markup_selection_addon">Selection</span>
          </div>
            <input type="text" class="form-control" placeholder="for example 1-10:A" id="markup_selection" aria-describedby="markup_selection_addon">
            <div class="input-group-append">
                <button class="btn btn-outline-info" type="button" onclick="$('#markup_view').val(''); interactive_changer();"; title="Zoom to residue, discarding current orientation." data-trigger="hover" data-toggle="tooltip" data-placement="top"><i class="fas fa-crosshairs"></i></button>
                <button class="btn btn-outline-info" type="button" id="markup_selection_btn" data-toggle="modal" data-target="#selection_modal"><span data-trigger="hover" data-toggle="tooltip" data-placement="top" title="Show simpler selection builder"><i class="far fa-question"></i></span></button>
            </div>
        </div>
    </div>


    


        <div class="col-12 col-md-6 mb-2" data-trigger="hover" data-toggle="tooltip" title="The color to show. It is highly recommended to go for light colors as opposed to dark colors and preferable muted or pastel as opposed to primary. Say &lt;span style=&#34;color: darkred&#34;&gt;DarkRed&lt;/span&gt; is hard to seem, &lt;span style=&#34;color: red&#34;&gt;Red&lt;/span&gt; is too sharp, &lt;span style=&#34;color: darkred&#34;&gt;coral&lt;Coral&lt;/span&gt; or &lt;span style=&#34;color: magenta&#34;&gt;magenta&lt;/span&gt; are better." data-html=true data-placement="top" >
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="markup_color_addon">Color</span>
          </div>
            <input type="text" class="form-control" placeholder="yellow" id="markup_color" aria-describedby="markup_color_addon">
        </div>
    </div>
        <div class="col-12 col-md-6 mb-2" data-trigger="hover" data-toggle="tooltip" title="The text to show below the structure (optional)" data-html=true data-placement="top" >
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="markup_title_addon">Title</span>
          </div>
            <input type="text" class="form-control" placeholder="bla bla" id="markup_title" aria-describedby="markup_title_addon">
        </div>
    </div>
        <div class="col-12 col-md-6 mb-2" data-trigger="hover" data-toggle="tooltip" title="How many &amp;aring;ngstr&amp;ouml;m to expand around the residue focused upon. 1.5 &amp;Aring; will show residues that hydrogen bond (if hydrogens are shown), salt bridge or &amp;pi; stack, 3&amp;Aring; will show residues that hydrogen bond (within explicit hydrogens)" data-html=true data-placement="top" >
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="markup_radius_addon">Radius</span>
          </div>
            <input type="number" class="form-control" placeholder="4" id="markup_radius" aria-describedby="markup_radius_addon">
        </div>
    </div>
        <div class="col-12 col-md-6 mb-2" data-trigger="hover" data-toggle="tooltip" title="How high to set the threshhold of marking a clash: leave at 1 if unsure &amp;mdash;see &#34;prolink&#34; documentation for more." data-html=true data-placement="top" >
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="markup_tolerance_addon">Tolerance</span>
          </div>
            <input type="number" class="form-control" placeholder="1" id="markup_tolerance" aria-describedby="markup_tolerance_addon">
        </div>
    </div>
    <div class="col-12 col-md-6 mb-2" data-trigger="hover" data-toggle="tooltip" title="By ligand is intended anything with a HETATM entry, so nucleic acids do not count, while modified residues in older structures are often HETATMs." data-html=true data-placement="top">
        <div class="border rounded bg-light p-2">
            <div     class="custom-control custom-switch">
              <input class="custom-control-input"  id="markup_hetero" type="checkbox" >
              <label class="custom-control-label" for="markup_hetero">Show ligands </label>
            </div>
        </div>
    </div>

    <div class="col-12 col-md-6 mb-2" data-trigger="hover" data-toggle="tooltip" title="There are multiple structures in this page. This allows you toggle between them. <code>No model specified</code> will use the currently shown model. If there is only one model and you will not add more ignore this." data-html=true data-placement="top">
        <select class="custom-select" id="markup_model">
          <option selected value="none" name="markup_model">No model specified</option>
        </select>
    </div>

    <div class="col-12 col-md-12 mb-2">
            <div class="input-group">
      <div class="input-group-prepend">
        <span class="input-group-text" >Orientation</span>
      </div>
      <textarea class="form-control" aria-label="With textarea" rows="1" placeholder="4x4 matrix or 16x1 array" id="markup_view" style="font-size: 80%;"></textarea>
        <div class="input-group-append">
          <div class="input-group-text px-2">
                <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input user-editable-state" id="markup_freeze">
              <label class="custom-control-label" for="markup_freeze">Freeze</label>
            </div>
          </div></button>
      </div>
    </div>
    <div id="differing_view" class="alert alert-warning w-100"><i class="far fa-exclamation-triangle"></i> The orientation of the protein differs from the stored one above.</div>
    </div>

        <div class="col-12 col-md-12 mb-2">
            <div id="altResidues" class="rounded border p-2">
                <div id="addResidue" style="cursor: pointer;">Add additional residue selections <i class="far fa-layer-plus"></i></div>
            </div>

    </div>

    <div class="col-12 mt-2" id="results">
        <pre><code>&lt;span class="prolink" data-toggle="viewport"&gt;Change a setting!&lt;/span&gt;</code></pre>
    </div>
</div>

          </div>
          <!-- RHS-->
          <div class="col-12 col-md-4" id="modal_viewport_box">
          </div>
      </div>
    </div>
        </div>
  </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id="selection_modal">
    <br/><br/>
  <div class="modal-dialog modal-lg float-left" role="document" style="padding-left: 32px !important;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Selection</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

          <h4><span class="text-muted">Option A.</span> Selection language</h4>
          <p><i>For more information on the NGL selection language see <a href="https://nglviewer.org/ngl/api/manual/selection-language.html">NGL manual <i class="far fa-external-link"></i></a></i></p>
        <p>This controls the residues to focus on. The selection uses the NGL selection language. <code>1:A</code> will select residue 1 of chain A, <code>1-20:B</code> the residues 1 to 20 of chain B, <code>*</code> for everything, <code>PLP</code> (or <code>[PLP]123:D</code>) will select the residue named PLP (a ligand).<br/>The logical operators <code>and</code> and <code>or</code> can also be used, e.g. <code>:B or :C</code> will select chains B & C. You can only select residues that exist in the structure, if not it will either show all or erroneously pan off camera when manually written. In this builder you will not be allowed to.<br/>Also to prevent memory issues in mobiles the limit, in the builder only, for residue mode is 500 atoms.</p>
          <p>To select two different elements use the logical operator <code>or</code>, not <code>and</code>, because you want to select anything that matches X or Y.</p>
          <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="sele_string_addon">Selection line</span>
          </div>
            <input type="text" class="form-control" placeholder="for example 1-10:A" id="sele_string" aria-describedby="sele_string_addon">
              <div class="input-group-append">
                <button class="btn btn-outline-info" type="button" onclick="$('#markup_view').val(''); interactive_changer();"; title="Zoom to residue, discarding current orientation." data-toggle="tooltip"><i class="fas fa-crosshairs"></i></button>
                <button class="btn btn-outline-success" type="button" id="sele_string_btn" data-toggle="tooltip" title="Use this selection"><i class="far fa-arrow-right"></i></button>
              </div>
        </div>
        <br/>
          <h4><span class="text-muted">Option B.</span> Build Selection</h4>
          <p>The following is simpler, but much more limited that the previous.</p>

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="sele_resi_addon">Select a residue</span>
              </div>
              <input id="sele_resi" type="number" class="form-control" placeholder="residue number" aria-label="residue" aria-describedby="sele_resi_addon">
              <select class="custom-select" id="sele_chain">
              </select>
              <div class="input-group-append">

                <button class="btn btn-outline-info" type="button" onclick="$('#markup_view').val(''); interactive_changer();"; title="Zoom to residue, discarding current orientation." data-toggle="tooltip"><i class="fas fa-crosshairs"></i></button>
                <button class="btn btn-outline-success" type="button" id="sele_resi_btn" data-toggle="tooltip" title="Use this selection"><i class="far fa-arrow-right"></i></button>
              </div>
            </div>

          <p class="text-center">or</p>

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="sele_range_addon">Select a residue range</span>
              </div>
              <input id="sele_from" type="number" class="form-control" placeholder="residue number" aria-label="residue" aria-describedby="sele_range_addon">
                <span class="input-group-text rounded-0 border-left-0 border-right-0">&ndash;</span>
                <input id="sele_to" type="number" class="form-control" placeholder="residue number" aria-label="residue" aria-describedby="sele_range_addon">
                <select class="custom-select" id="sele_chain2">
              </select>
              <div class="input-group-append">
                <button class="btn btn-outline-info" type="button" onclick="$('#markup_view').val(''); interactive_changer();"; title="Zoom to residue, discarding current orientation." data-toggle="tooltip"><i class="fas fa-crosshairs"></i></button>
                <button class="btn btn-outline-success" type="button" id="sele_range_btn" data-toggle="tooltip" title="Use this selection"><i class="far fa-arrow-right"></i></button>
              </div>
            </div>
          <hr>
          <p>What to show <a href="#selection_modal" onclick="$('#residue').click(); interactive_changer();">residue</a> and not the <a href="#selection_modal" onclick="$('#domain').click(); interactive_changer();">domain</a>, or vice-versa? For the full list close this, and select the appropriate focusing mode (labelled "zoom to"). </p>

      </div>
    </div>
  </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="implement_modal">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="far fa-code"></i> Instruction</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="far fa-sign-out"></i> Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="combine_modal">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="far fa-code"></i> Add structure from another pages</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>A single page can support multiple models, which can be toggled via <code>data-load</code> in the prolink (a link that control the protein view).</p>
                <p>To show a structure, two pieces of information are needed:
                <ol>
                    <li>
                        one is the structure, namely the information of each atom (<i>e.g.</i> element, residue, coordinates). The PDB file basically.
                    </li>
                    <li>
                        the other is the representation, namely the combination of the orientation, residues shown, colors and field of view etc. In the case of PyMOL generated views,
                        these are functions that can be called via the attribute <code>data-view="name_of_function"</code>.
                    </li>
                </ol>

                    </p>
                <p>To combine two PyMOL representation of the same structure use the <code>add representation only</code> button: there is no need to slow things down by loading the same coordinates, else add both.</p>
                <p>This applies also to cases where the structure is taken remotely (e.g. PDB database).</p>
                <p>
                    Note that editing the JS in blocked for regular users (due to security concerns), please speak to the site admin if you would like to alter your permissions.
                    Also note that this page will refresh in order for the changes to be made.
                </p>
                    
                        <ul class="list-group">
                            <li class="list-group-item list-group-item-dark">
                                <div class="row">
                                    <div class="col-12 col-md-5">
                                        Page Title
                                    </div>
                                    <div class="col-4 col-md-2 offset-md-1">
                                        Add structure and representation
                                </div>
                                    <div class="col-4 col-md-2">
                                        Add representation only
                                    </div>
                                    <div class="col-4 col-md-2">
                                        Delete this page
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-12 col-md-5">
                                        <a href="/data/b92bcb04-0bf8-4428-92d0-5acdfa714395">User submitted structure (from PyMOL file)</a>
                                    </div>
                                    <div class="col-4 col-md-2 offset-md-1" data-toggle="tooltip" title="Add both the structure and the representation from this page to the current one.">
                                        <button class="btn btn-primary w-100" onclick="combinePage('b92bcb04-0bf8-4428-92d0-5acdfa714395')"><i class="far fa-paperclip"></i></button>
                                </div>
                                    <div class="col-4 col-md-2"  data-toggle="tooltip" title="Add only the representation from this page to the current one and not the structure as it is the same.">
                                        <button class="btn btn-primary w-100" onclick="copyJSPage('b92bcb04-0bf8-4428-92d0-5acdfa714395')"><i class="far fa-clipboard"></i></button>
                                    </div>
                                        <div class="col-4 col-md-2"  data-toggle="tooltip" title="Delete this page.">
                                         <button class="btn btn-danger w-100" onclick="deletePage('b92bcb04-0bf8-4428-92d0-5acdfa714395')"><i class="far fa-trash-alt"></i></button>
                                        </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-12 col-md-5">
                                        <a href="/data/495d6b88-efe8-4b63-b9b2-345b48faae95">Properdin TSR3</a>
                                    </div>
                                    <div class="col-4 col-md-2 offset-md-1" data-toggle="tooltip" title="Add both the structure and the representation from this page to the current one.">
                                        <button class="btn btn-primary w-100" onclick="combinePage('495d6b88-efe8-4b63-b9b2-345b48faae95')"><i class="far fa-paperclip"></i></button>
                                </div>
                                    <div class="col-4 col-md-2"  data-toggle="tooltip" title="Add only the representation from this page to the current one and not the structure as it is the same.">
                                        <button class="btn btn-primary w-100" onclick="copyJSPage('495d6b88-efe8-4b63-b9b2-345b48faae95')"><i class="far fa-clipboard"></i></button>
                                    </div>
                                        <div class="col-4 col-md-2"  data-toggle="tooltip" title="Delete this page.">
                                         <button class="btn btn-danger w-100" onclick="deletePage('495d6b88-efe8-4b63-b9b2-345b48faae95')"><i class="far fa-trash-alt"></i></button>
                                        </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-12 col-md-5">
                                        <a href="/data/cc02afde-cbfe-4847-9a14-bc780fae20c5">User submitted structure (from PyMOL file)</a>
                                    </div>
                                    <div class="col-4 col-md-2 offset-md-1" data-toggle="tooltip" title="Add both the structure and the representation from this page to the current one.">
                                        <button class="btn btn-primary w-100" onclick="combinePage('cc02afde-cbfe-4847-9a14-bc780fae20c5')"><i class="far fa-paperclip"></i></button>
                                </div>
                                    <div class="col-4 col-md-2"  data-toggle="tooltip" title="Add only the representation from this page to the current one and not the structure as it is the same.">
                                        <button class="btn btn-primary w-100" onclick="copyJSPage('cc02afde-cbfe-4847-9a14-bc780fae20c5')"><i class="far fa-clipboard"></i></button>
                                    </div>
                                        <div class="col-4 col-md-2"  data-toggle="tooltip" title="Delete this page.">
                                         <button class="btn btn-danger w-100" onclick="deletePage('cc02afde-cbfe-4847-9a14-bc780fae20c5')"><i class="far fa-trash-alt"></i></button>
                                        </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-12 col-md-5">
                                        <a href="/data/1fe5c1ef-7277-4a0d-ad53-50218df6c31b">TIM813-Tim23</a>
                                    </div>
                                    <div class="col-4 col-md-2 offset-md-1" data-toggle="tooltip" title="Add both the structure and the representation from this page to the current one.">
                                        <button class="btn btn-primary w-100" onclick="combinePage('1fe5c1ef-7277-4a0d-ad53-50218df6c31b')"><i class="far fa-paperclip"></i></button>
                                </div>
                                    <div class="col-4 col-md-2"  data-toggle="tooltip" title="Add only the representation from this page to the current one and not the structure as it is the same.">
                                        <button class="btn btn-primary w-100" onclick="copyJSPage('1fe5c1ef-7277-4a0d-ad53-50218df6c31b')"><i class="far fa-clipboard"></i></button>
                                    </div>
                                        <div class="col-4 col-md-2"  data-toggle="tooltip" title="Delete this page.">
                                         <button class="btn btn-danger w-100" onclick="deletePage('1fe5c1ef-7277-4a0d-ad53-50218df6c31b')"><i class="far fa-trash-alt"></i></button>
                                        </div>
                                </div>
                            </li>
                        </ul>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="far fa-sign-out"></i> Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="mutate_modal">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content shadow">
            <div class="modal-header">
                <h5 class="modal-title"><i class="far fa-biohazard"></i> Mutate</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Create a second structure where a set of amino acids are replaced using PyMOL's mutagenesis algorithm.
                    This will alter only the side chain of the residues mutated and does not repack the neighbouring sidechains nor does it account for blackbone torsion.
                    Note that this page will reload for the changes to be made, so make sure you have saved the edits to the text beforehand.
                </p>
                <div class="input-group mb-3" data-html=true data-toggle="tooltip" title="The name is used in the storage and one way of retrieval of the protein structure (<i>e.g.</i>`data-load='my_not_so_easy_to_remember_var_name'` attribute on a prolink). This is actually used as a JS variable, consequently can only contain letters, digits (except as a first character) and underscores, with no spaces or hyphens or other puctionation mark. Non-ASCII characters (<i>e.g.</i> <code>タンパク質</code>) are normally valid letters, but cannot be use in this case.">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="mutate_name_label">Structure name</span>
                  </div>
                  <input type="text" class="form-control" value="mutant_1" aria-label="name" aria-describedby="mutate_name_label" id="mutate_name">
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="mutate_chain_label">Chain</span>
                  </div>
                  <input type="text" class="form-control" placeholder="A" aria-label="A" aria-describedby="mutate_chain_label" id="mutate_chain">
                </div>
                <div class="input-group" data-toggle="tooltip" title="Space or newline separated. <code>M1W D20D</code> for example.The residue must exist on the structure. NB. The first aa is not checked, so it is up to you to get the residue right.">
                  <div class="input-group-prepend">
                    <span class="input-group-text">List of mutations</span>
                  </div>
                  <textarea class="form-control" aria-label="With textarea" id="mutate_mutations"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="mutate_create"><i class="far fa-wrench"></i> Create</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="far fa-sign-out"></i> Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="initial_modal">
    <br/>
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title"><i class="far fa-hammer"></i> View builder for loading</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <div class="modal-body">
            <div class="alert alert-danger" role="alert" id="warnAboutLoadfun">
              This page has a custom load function, which will be lost with this option!
                <b>Are you really sure you want to continue?</b>
                If unsure, please cancel this window!
            </div>
            <div class="alert alert-warning" role="alert" id="warnAboutRevisions">
              No revisions for this are kept. Any edits cannot be rolled back.
            </div>
            <div class="row">
          <div class="col-12 col-md-8">
              <p>This tool allows you to alter the initial view of the protein that is seen once it is loaded.
                  See <a href="/docs/markup">documentation</a> for more.</p>
            <div id="markup_formAlt"><!--#markup_form will be place here.--></div>

          </div>
          <!-- RHS-->
          <div class="col-12 col-md-4" id="modal_viewport_boxAlt">
          </div>
      </div>
    </div>
        </div>
  </div>
</div>






</main>

<footer class="footer">
    <div class="container-fluid">
        <div class="row" style="line-height: 1rem;">
            <div class="col-12 col-lg-5 offset-lg-1 text-muted px-3 pt-3">
                <small><a href="https://www.schrodinger.com/" target="_blank">PyMOL <i
                        class="far fa-external-link-square"></i></a> is a trademark of <a href="https://pymol.org/2/"
                                                                                          target="_blank">Schr&ouml;dinger
                    , LLC <i class="far fa-external-link-square"></i></a>. The authors are not affiliated or involved
                    with PyMOL or Schr&ouml;dinger.
                    <br/>Data is not kept for commercial purposes, see data <a href="/docs/users">policy
                        documentation</a>.</small></div>
            <div class="d-none d-lg-block col-5 offset-lg-1 pt-2">
                    University of Oxford &mdash; NIHR: BRC &mdash; SGC
            </div>
            <div class="d-block d-lg-none col-12">
                <a href='http://www.ox.ac.uk/'>University of Oxford</a>
                &mdash;
                <a href='https://oxfordbrc.nihr.ac.uk/'>BRC</a>
                &mdash;
                <a href='https://www.sgc.ox.ac.uk/'>SGC</a>
            </div>
        </div>

    </div>
</footer>


<!-- Bootstrap core JavaScript-->

        <script type="text/javascript">/*! jQuery v4.0.0-pre | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(K,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,h=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},Z=t.push,ee=t.indexOf,n={},i=n.toString,g=n.hasOwnProperty,o=g.toString,a=o.call(Object),te={},v=function(e){return null!=e&&e===e.window},C=K.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function m(e){return null==e?e+"":"object"==typeof e?n[i.call(e)]||"object":typeof e}var l="4.0.0-pre",c=/HTML$/i,ne=function(e,t){return new ne.fn.init(e,t)};function f(e){var t=!!e&&e.length,n=m(e);return"function"!=typeof e&&!v(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function re(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ne.fn=ne.prototype={jquery:l,constructor:ne,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ne.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ne.each(this,e)},map:function(n){return this.pushStack(ne.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ne.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ne.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()}},ne.extend=ne.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"!=typeof a&&"function"!=typeof a&&(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(ne.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ne.isPlainObject(n)?n:{},i=!1,a[t]=ne.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ne.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=g.call(t,"constructor")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){y(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(f(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=ne.text(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=ne.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(f(Object(e))?ne.merge(n,"string"==typeof e?[e]:e):Z.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ee.call(t,e,n)},isXMLDoc:function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!c.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(f(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return h(a)},guid:1,support:te}),"function"==typeof Symbol&&(ne.fn[Symbol.iterator]=t[Symbol.iterator]),ne.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var x=C.documentElement,ie=t.pop,p=C.documentMode,oe=[],d=C.createElement("div");d.innerHTML="<a href=''></a>",d.querySelectorAll(":enabled").length&&oe.push(":enabled"),p&&oe.push(":enabled",":disabled"),oe=oe.length&&new RegExp(oe.join("|"));try{C.querySelectorAll(":scope"),te.scope=!0}catch(e){}ne.contains=function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))};var b=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function w(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}ne.escapeSelector=function(e){return(e+"").replace(b,w)};var T,k=t.sort;function j(e,t){if(e===t)return T=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)?e===C||e.ownerDocument===C&&ne.contains(C,e)?-1:t===C||t.ownerDocument===C&&ne.contains(C,t)?1:0:4&n?-1:1)}ne.uniqueSort=function(e){var t,n=[],r=0,i=0;if(T=!1,k.call(e,j),T){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return e};var ae=C,se=x.matches||x.msMatchesSelector;!function(){var e,x,b,w,r,T,C=ne.expando,k=0,n=0,i=P(),c=P(),s=P(),d=P(),o="[\\x20\\t\\r\\n\\f]",t="(?:\\\\[\\da-fA-F]{1,6}"+o+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",a="\\["+o+"*("+t+")(?:"+o+"*([*^$|!~]?=)"+o+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+o+"*\\]",u=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+a+")*)|.*)\\)|)",l=new RegExp(o+"+","g"),h=new RegExp("^"+o+"+|((?:^|[^\\\\])(?:\\\\.)*)"+o+"+$","g"),f=new RegExp("^"+o+"*,"+o+"*"),g=new RegExp("^"+o+"*([>+~]|"+o+")"+o+"*"),v=new RegExp(o+"|>"),p=new RegExp(u),y=new RegExp("^"+t+"$"),m={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+a),PSEUDO:new RegExp("^"+u),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+o+"*(even|odd|(([+-]|)(\\d*)n|)"+o+"*(?:([+-]|)"+o+"*(\\d+)|))"+o+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+o+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+o+"*((?:-\\d)?\\d*)"+o+"*\\)|)(?=[^-]|$)","i")},j=/^(?:input|select|textarea|button)$/i,E=/^h\d$/i,S=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,A=/[+~]/,D=new RegExp("\\\\[\\da-fA-F]{1,6}"+o+"?|\\\\([^\\r\\n\\f])","g"),q=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},N=function(){_()},L=z(function(e){return!0===e.disabled&&re(e,"fieldset")},{dir:"parentNode",next:"legend"});function H(e){throw new Error("Syntax error, unrecognized expression: "+e)}function O(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(_(e),e=e||w,T)){if(11!==p&&(u=S.exec(t)))if(i=u[1]){if(9===p)return(a=e.getElementById(i))&&Z.call(n,a),n;if(f&&(a=f.getElementById(i))&&ne.contains(e,a))return Z.call(n,a),n}else{if(u[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(i)),n}if(!(d[t+" "]||oe&&oe.test(t))){if(c=t,f=e,1===p&&(v.test(t)||g.test(t))){(f=A.test(t)&&F(e.parentNode)||e)===e&&te.scope||((s=e.getAttribute("id"))?s=ne.escapeSelector(s):e.setAttribute("id",s=C)),o=(l=U(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+X(l[o]);c=l.join(",")}try{return Z.apply(n,f.querySelectorAll(c)),n}catch(e){d(t,!0)}finally{s===C&&e.removeAttribute("id")}}}return function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&U(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&T&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(D,q),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=m.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],x.relative[s=a.type])break;if((u=x.find[s])&&(r=u(a.matches[0].replace(D,q),A.test(o[0].type)&&F(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&X(o)))return Z.apply(n,r),n;break}}}return(l||J(e,c))(r,t,!T,n,!t||A.test(e)&&F(t.parentNode)||t),n}(t.replace(h,"$1"),e,n,r)}function P(){var r=[];return function e(t,n){return r.push(t+" ")>x.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function R(e){return e[C]=!0,e}function M(t){return function(e){return re(e,"input")&&e.type===t}}function $(t){return function(e){return(re(e,"input")||re(e,"button"))&&e.type===t}}function W(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&L(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function I(a){return R(function(o){return o=+o,R(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function F(e){return e&&void 0!==e.getElementsByTagName&&e}function _(e){var t,n=e?e.ownerDocument||e:ae;n!=w&&9===n.nodeType&&(r=(w=n).documentElement,T=!ne.isXMLDoc(w),ae!=w&&(t=w.defaultView)&&t.top!==t&&t.addEventListener("unload",N))}for(e in O.matches=function(e,t){return O(e,null,null,t)},O.matchesSelector=function(e,t){if(_(e),T&&!d[t+" "]&&(!oe||!oe.test(t)))try{return se.call(e,t)}catch(e){d(t,!0)}return 0<O(t,w,null,[e]).length},(x=ne.expr={cacheLength:50,createPseudo:R,match:m,find:{ID:function(e,t){if(void 0!==t.getElementById&&T){var n=t.getElementById(e);return n?[n]:[]}},TAG:function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},CLASS:function(e,t){if(void 0!==t.getElementsByClassName&&T)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(D,q),e[3]=(e[3]||e[4]||e[5]||"").replace(D,q),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||H(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&H(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return m.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&p.test(n)&&(t=U(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{ID:function(e){var t=e.replace(D,q);return function(e){return e.getAttribute("id")===t}},TAG:function(e){var t=e.replace(D,q).toLowerCase();return"*"===e?function(){return!0}:function(e){return re(e,t)}},CLASS:function(e){var t=i[e+" "];return t||(t=new RegExp("(^|"+o+")"+e+"("+o+"|$)"))&&i(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=ne.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(l," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(d,e,t,h,g){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?re(o,c):1===o.nodeType)return!1;s=u="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[C]||(l[C]={}))[d]||[])[0]===k&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[k,a,p];break}}else if(f&&(p=a=(r=(i=e[C]||(e[C]={}))[d]||[])[0]===k&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?re(o,c):1===o.nodeType)&&++p&&(f&&((i=o[C]||(o[C]={}))[d]=[k,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||H("unsupported pseudo: "+e);return a[C]?a(o):1<a.length?(t=[e,e,"",o],x.setFilters.hasOwnProperty(e.toLowerCase())?R(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=ee.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:R(function(e){var r=[],i=[],s=J(e.replace(h,"$1"));return s[C]?R(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:R(function(t){return function(e){return 0<O(t,e).length}}),contains:R(function(t){return t=t.replace(D,q),function(e){return-1<(e.textContent||ne.text(e)).indexOf(t)}}),lang:R(function(n){return y.test(n||"")||H("unsupported lang: "+n),n=n.replace(D,q).toLowerCase(),function(e){var t;do{if(t=T?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=K.location&&K.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===w.activeElement&&w.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:W(!1),disabled:W(!0),checked:function(e){return re(e,"input")&&!!e.checked||re(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return E.test(e.nodeName)},input:function(e){return j.test(e.nodeName)},button:function(e){return re(e,"input")&&"button"===e.type||re(e,"button")},text:function(e){return re(e,"input")&&"text"===e.type},first:I(function(){return[0]}),last:I(function(e,t){return[t-1]}),eq:I(function(e,t,n){return[n<0?n+t:n]}),even:I(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:I(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:I(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:I(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[e]=M(e);for(e in{submit:!0,reset:!0})x.pseudos[e]=$(e);function B(){}function U(e,t){var n,r,i,o,a,s,u,l=c[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=x.preFilter;while(a){for(o in n&&!(r=f.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=g.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(h," ")}),a=a.slice(n.length)),x.filter)!(r=m[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?H(e):c(e,s).slice(0)}function X(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function z(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[k,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[C]||(e[C]={}),u&&re(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===k&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function V(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Y(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function G(d,h,g,v,y,e){return v&&!v[C]&&(v=G(v)),y&&!y[C]&&(y=G(y,e)),R(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)O(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Y(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Y(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?ee.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Y(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):Z.apply(t,s)})}function Q(e){for(var i,t,n,r=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,u=z(function(e){return e===i},a,!0),l=z(function(e){return-1<ee.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==b)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=x.relative[e[s].type])c=[z(V(c),t)];else{if((t=x.filter[e[s].type].apply(null,e[s].matches))[C]){for(n=++s;n<r;n++)if(x.relative[e[n].type])break;return G(1<s&&V(c),1<s&&X(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(h,"$1"),t,s<n&&Q(e.slice(s,n)),n<r&&Q(e=e.slice(n)),n<r&&X(e))}c.push(t)}return V(c)}function J(e,t){var n,g,v,y,m,r,i=[],o=[],a=s[e+" "];if(!a){t||(t=U(e)),n=t.length;while(n--)(a=Q(t[n]))[C]?i.push(a):o.push(a);(a=s(e,(g=o,y=0<(v=i).length,m=0<g.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=b,d=e||m&&x.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1;for(i&&(b=t==w||t||i);null!=(o=d[l]);l++){if(m&&o){a=0,t||o.ownerDocument==w||(_(o),n=!T);while(s=g[a++])if(s(o,t||w,n)){Z.call(r,o);break}i&&(k=h)}y&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,y&&l!==u){a=0;while(s=v[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=ie.call(r));f=Y(f)}Z.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&ne.uniqueSort(r)}return i&&(k=h,b=p),c},y?R(r):r))).selector=e}return a}B.prototype=x.filters=x.pseudos,x.setFilters=new B,_(),ne.find=O}();var E=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ne(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=ne.expr.match.needsContext,D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function q(e,n,r){return"function"==typeof n?ne.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ne.grep(e,function(e){return e===n!==r}):"string"!=typeof n?ne.grep(e,function(e){return-1<ee.call(n,e)!==r}):ne.filter(n,e,r)}ne.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ne.find.matchesSelector(r,e)?[r]:[]:ne.find.matches(e,ne.grep(t,function(e){return 1===e.nodeType}))},ne.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ne(e).filter(function(){for(t=0;t<r;t++)if(ne.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ne.find(e,i[t],n);return 1<r?ne.uniqueSort(n):n},filter:function(e){return this.pushStack(q(this,e||[],!1))},not:function(e){return this.pushStack(q(this,e||[],!0))},is:function(e){return!!q(this,"string"==typeof e&&A.test(e)?ne(e):e||[],!1).length}});var N,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ne.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ne?t[0]:t,ne.merge(this,ne.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),D.test(r[1])&&ne.isPlainObject(t))for(r in t)"function"==typeof this[r]?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):"function"==typeof e?void 0!==n.ready?n.ready(e):e(ne):ne.makeArray(e,this)}).prototype=ne.fn,N=ne(C);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}ne.fn.extend({has:function(e){var t=ne(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ne.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ne(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ne.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ne.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ee.call(ne(e),this[0]):ee.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ne.uniqueSort(ne.merge(this.get(),ne(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ne.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(re(e,"template")&&(e=e.content||e),ne.merge([],e.childNodes))}},function(r,i){ne.fn[r]=function(e,t){var n=ne.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ne.filter(t,n)),1<this.length&&(O[r]||ne.uniqueSort(n),H.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\x20\t\r\n\f]+/g;function M(e){return e}function $(e){throw e}function W(e,t,n,r){var i;try{e&&"function"==typeof(i=e.promise)?i.call(e).done(t).fail(n):e&&"function"==typeof(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n(e)}}ne.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ne.each(e.match(R)||[],function(e,t){n[t]=!0}),n):ne.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ne.each(e,function(e,t){"function"==typeof t?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==m(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ne.each(arguments,function(e,t){var n;while(-1<(n=ne.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ne.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ne.extend({Deferred:function(e){var o=[["notify","progress",ne.Callbacks("memory"),ne.Callbacks("memory"),2],["resolve","done",ne.Callbacks("once memory"),ne.Callbacks("once memory"),0,"resolved"],["reject","fail",ne.Callbacks("once memory"),ne.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ne.Deferred(function(r){ne.each(o,function(e,t){var n="function"==typeof i[t[4]]&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");"function"==typeof(t=e&&("object"==typeof e||"function"==typeof e)&&e.then)?s?t.call(e,l(u,o,M,s),l(u,o,$,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,$,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ne.Deferred.exceptionHook&&ne.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==$&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ne.Deferred.getStackHook&&(t.stackTrace=ne.Deferred.getStackHook()),K.setTimeout(t))}}return ne.Deferred(function(e){o[0][3].add(l(0,e,"function"==typeof r?r:M,e.notifyWith)),o[1][3].add(l(0,e,"function"==typeof t?t:M)),o[2][3].add(l(0,e,"function"==typeof n?n:$))}).promise()},promise:function(e){return null!=e?ne.extend(e,a):a}},s={};return ne.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=ne.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(W(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||"function"==typeof(i[t]&&i[t].then)))return o.then();while(t--)W(i[t],a(t),o.reject);return o.promise()}});var I=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ne.Deferred.exceptionHook=function(e,t){e&&I.test(e.name)&&K.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ne.readyException=function(e){K.setTimeout(function(){throw e})};var F=ne.Deferred();function _(){C.removeEventListener("DOMContentLoaded",_),K.removeEventListener("load",_),ne.ready()}ne.fn.ready=function(e){return F.then(e).catch(function(e){ne.readyException(e)}),this},ne.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ne.readyWait:ne.isReady)||(ne.isReady=!0)!==e&&0<--ne.readyWait||F.resolveWith(C,[ne])}}),ne.ready.then=F.then,"loading"!==C.readyState?K.setTimeout(ne.ready):(C.addEventListener("DOMContentLoaded",_),K.addEventListener("load",_));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===m(n))for(s in i=!0,n)B(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,"function"!=typeof r&&(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ne(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function z(e){return e.replace(U,X)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=ne.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[z(t)]=n;else for(r in t)i[z(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(z):(t=z(t))in r?[t]:t.match(R)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ne.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ne.isEmptyObject(t)}};var G=new Y,Q=new Y,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function le(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}ne.extend({hasData:function(e){return Q.hasData(e)||G.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return G.access(e,t,n)},_removeData:function(e,t){G.remove(e,t)}}),ne.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!G.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=z(r.slice(5)),le(o,r,i[r]));G.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):B(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=le(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),ne.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=G.get(e,t),n&&(!r||Array.isArray(n)?r=G.access(e,t,ne.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ne.queue(e,t),r=n.length,i=n.shift(),o=ne._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ne.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return G.get(e,n)||G.access(e,n,{empty:ne.Callbacks("once memory").add(function(){G.remove(e,[t+"queue",n])})})}}),ne.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ne.queue(this[0],t):void 0===n?this:this.each(function(){var e=ne.queue(this,t,n);ne._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ne.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ne.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ne.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=G.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],de=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&"none"===ne.css(e,"display")},he=/^[a-z]/,ge=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;function ve(e){return he.test(e)&&ge.test(e[0].toUpperCase()+e.slice(1))}function ye(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ne.css(e,t,"")},u=s(),l=n&&n[3]||(ve(t)?"px":""),c=e.nodeType&&(!ve(t)||"px"!==l&&+u)&&fe.exec(ne.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ne.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ne.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var me=/^-ms-/;function xe(e){return z(e.replace(me,"ms-"))}var be={};function we(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=G.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&de(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=be[s])||(o=a.body.appendChild(a.createElement(s)),u=ne.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),be[s]=u)))):"none"!==n&&(l[c]="none",G.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ne.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){de(this)?ne(this).show():ne(this).hide()})}});var Te=function(e){return ne.contains(e.ownerDocument,e)},Ce={composed:!0};x.getRootNode&&(Te=function(e){return ne.contains(e.ownerDocument,e)||e.getRootNode(Ce)===e.ownerDocument});var ke=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,je=/^$|^module$|\/(?:java|ecma)script/i,Ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&re(e,t)?ne.merge([e],n):n}function Ae(e,t){for(var n=0,r=e.length;n<r;n++)G.set(e[n],"globalEval",!t||G.get(t[n],"globalEval"))}Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td;var De=/<|&#?\w+;/;function qe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===m(o))ne.merge(p,o.nodeType?[o]:o);else if(De.test(o)){a=a||f.appendChild(t.createElement("div")),s=(ke.exec(o)||["",""])[1].toLowerCase(),u=Ee[s]||Ee._default,a.innerHTML=u[1]+ne.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ne.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<ne.inArray(o,r))i&&i.push(o);else if(l=Te(o),a=Se(f.appendChild(o),"script"),l&&Ae(a),n){c=0;while(o=a[c++])je.test(o.type||"")&&n.push(o)}return f}var Ne=/^(?:checkbox|radio)$/i,Le=/^key/,He=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oe=/^([^.]*)(?:\.(.+)|)/;function Pe(){return!0}function Re(){return!1}function Me(e,t){return e===C.activeElement==("focus"===t)}function $e(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)$e(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Re;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ne().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ne.guid++)),e.each(function(){ne.event.add(this,t,i,r,n)})}function We(e,i,o){o?(G.set(e,i,!1),ne.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=G.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(ne.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),G.set(this,i,r),t=o(this,i),this[i](),r!==(n=G.get(this,i))||t?G.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(G.set(this,i,{value:ne.event.trigger(ne.extend(r[0],ne.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===G.get(e,i)&&ne.event.add(e,i,Pe)}ne.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=G.get(t);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&ne.find.matchesSelector(x,i),n.guid||(n.guid=ne.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==ne&&ne.event.triggered!==e.type?ne.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;while(l--)d=g=(s=Oe.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=ne.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ne.event.special[d]||{},c=ne.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ne.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ne.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=G.hasData(e)&&G.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(R)||[""]).length;while(l--)if(d=g=(s=Oe.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=ne.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ne.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ne.event.remove(e,d+t[l],n,r,!0);ne.isEmptyObject(u)&&G.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=ne.event.fix(e),u=new Array(arguments.length),l=(G.get(this,"events")||{})[s.type]||[],c=ne.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){a=ne.event.handlers.call(this,s,l),t=0;while((i=a[t++])&&!s.isPropagationStopped()){s.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!s.isImmediatePropagationStopped())s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((ne.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<ne(i,this).index(l):ne.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ne.Event.prototype,t,{enumerable:!0,configurable:!0,get:"function"==typeof e?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ne.expando]?e:new ne.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ne.test(t.type)&&t.click&&re(t,"input")&&We(t,"click",Pe),!1},trigger:function(e){var t=this||e;return Ne.test(t.type)&&t.click&&re(t,"input")&&We(t,"click"),!0},_default:function(e){var t=e.target;return Ne.test(t.type)&&t.click&&re(t,"input")&&G.get(t,"click")||re(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ne.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ne.Event=function(e,t){if(!(this instanceof ne.Event))return new ne.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Pe:Re,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ne.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ne.expando]=!0},ne.Event.prototype={constructor:ne.Event,isDefaultPrevented:Re,isPropagationStopped:Re,isImmediatePropagationStopped:Re,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Pe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Pe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Pe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ne.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Le.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&He.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ne.event.addProp),ne.each({focus:"focusin",blur:"focusout"},function(e,t){ne.event.special[e]={setup:function(){return We(this,e,Me),!1},trigger:function(){return We(this,e),!0},delegateType:t}}),ne.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ne.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ne.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ne.fn.extend({on:function(e,t,n,r){return $e(this,e,t,n,r)},one:function(e,t,n,r){return $e(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ne(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Re),this.each(function(){ne.event.remove(this,e,n,t)})}});var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Fe=/<script|<style|<link/i,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Be(e,t){return re(e,"table")&&re(11!==t.nodeType?t:t.firstChild,"tr")&&ne(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Xe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(G.hasData(e)&&(o=G.access(e),a=G.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)ne.event.add(t,i,l[i][n]);Q.hasData(e)&&(s=Q.access(e),u=ne.extend({},s),Q.set(t,u))}}function Ve(n,r,i,o){r=h(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0];if("function"==typeof d)return n.each(function(e){var t=n.eq(e);r[0]=d.call(this,e,t.html()),Ve(t,r,i,o)});if(f&&(t=(e=qe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ne.map(Se(e,"script"),Ue)).length;c<f;c++)u=e,c!==p&&(u=ne.clone(u,!0,!0),s&&ne.merge(a,Se(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ne.map(a,Xe),c=0;c<s;c++)u=a[c],je.test(u.type||"")&&!G.access(u,"globalEval")&&ne.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ne._evalUrl&&!u.noModule&&ne._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):y(u.textContent.replace(_e,""),u,l))}return n}function Ye(e,t,n){for(var r,i=t?ne.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ne.cleanData(Se(r)),r.parentNode&&(n&&Te(r)&&Ae(Se(r,"script")),r.parentNode.removeChild(r));return e}ne.extend({htmlPrefilter:function(e){return e.replace(Ie,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Te(e);if(p&&(1===e.nodeType||11===e.nodeType)&&!ne.isXMLDoc(e))for(a=Se(s),r=0,i=(o=Se(e)).length;r<i;r++)re(a[r],"textarea")&&(a[r].defaultValue=o[r].defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(s),r=0,i=o.length;r<i;r++)ze(o[r],a[r]);else ze(e,s);return 0<(a=Se(s,"script")).length&&Ae(a,!u&&Se(e,"script")),s},cleanData:function(e){for(var t,n,r,i=ne.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[G.expando]){if(t.events)for(r in t.events)i[r]?ne.event.remove(n,r):ne.removeEvent(n,r,t.handle);n[G.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),ne.fn.extend({detach:function(e){return Ye(this,e,!0)},remove:function(e){return Ye(this,e)},text:function(e){return B(this,function(e){return void 0===e?ne.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ve(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Be(this,e).appendChild(e)})},prepend:function(){return Ve(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Be(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ve(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ve(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ne.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ne.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!Ee[(ke.exec(e)||["",""])[1].toLowerCase()]){e=ne.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ne.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ve(this,arguments,function(e){var t=this.parentNode;ne.inArray(this,n)<0&&(ne.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ne.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ne.fn[e]=function(e){for(var t,n=[],r=ne(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ne(r[o])[a](t),Z.apply(n,t.get());return this.pushStack(n)}});var Ge,Qe=new RegExp("^("+ce+")(?!px)[a-z%]+$","i"),Je=function(e){var t=e.ownerDocument.defaultView;return t||(t=K),t.getComputedStyle(e)};function Ke(e,t,n){var r;return(n=n||Je(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||Te(e)||(r=ne.style(e,t))),void 0!==r?r+"":r}te.reliableTrDimensions=function(){var e,t,n;if(null==Ge){e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",x.appendChild(e).appendChild(t).appendChild(n);var r=K.getComputedStyle(t);Ge=3<parseInt(r.height),x.removeChild(e)}return Ge};var Ze=["Webkit","Moz","ms"],et=C.createElement("div").style,tt={};function nt(e){var t=tt[e];return t||(e in et?e:tt[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;while(n--)if((e=Ze[n]+t)in et)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it=/^--/,ot={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var r=fe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ut(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=ne.css(e,n+pe[a],!0,i)),r?("content"===n&&(u-=ne.css(e,"padding"+pe[a],!0,i)),"margin"!==n&&(u-=ne.css(e,"border"+pe[a]+"Width",!0,i))):(u+=ne.css(e,"padding"+pe[a],!0,i),"padding"!==n?u+=ne.css(e,"border"+pe[a]+"Width",!0,i):s+=ne.css(e,"border"+pe[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function lt(e,t,n){var r=Je(e),i=(p||n)&&"border-box"===ne.css(e,"boxSizing",!1,r),o=i,a=Ke(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Qe.test(a)){if(!n)return a;a="auto"}return(p&&i||!te.reliableTrDimensions()&&re(e,"tr")||"auto"===a)&&e.getClientRects().length&&(i="border-box"===ne.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ut(e,t,n||(i?"border":"content"),o,r,a)+"px"}function ct(e,t,n,r,i){return new ct.prototype.init(e,t,n,r,i)}ne.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ke(e,"opacity");return""===n?"1":n}}}},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=xe(t),u=it.test(t),l=e.style;if(u||(t=nt(s)),a=ne.cssHooks[t]||ne.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=fe.exec(n))&&i[1]&&(n=ye(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(ve(s)?"px":"")),p&&""===n&&0===t.indexOf("background")&&(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=xe(t);return it.test(t)||(t=nt(s)),(a=ne.cssHooks[t]||ne.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ke(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ne.each(["height","width"],function(e,s){ne.cssHooks[s]={get:function(e,t,n){if(t)return!rt.test(ne.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,s,n):function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r}(e,ot,function(){return lt(e,s,n)})},set:function(e,t,n){var r,i=Je(e),o=n&&"border-box"===ne.css(e,"boxSizing",!1,i),a=n?ut(e,s,n,o,i):0;return a&&(r=fe.exec(t))&&"px"!==(r[3]||"px")&&(e.style[s]=t,t=ne.css(e,s)),st(0,t,a)}}}),ne.each({margin:"",padding:"",border:"Width"},function(i,o){ne.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+pe[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(ne.cssHooks[i+o].set=st)}),ne.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Je(e),i=t.length;a<i;a++)o[t[a]]=ne.css(e,t[a],!1,r);return o}return void 0!==n?ne.style(e,t,n):ne.css(e,t)},e,t,1<arguments.length)}}),((ne.Tween=ct).prototype={constructor:ct,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ne.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ve(n)?"px":"")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,n=ct.propHooks[this.prop];return this.options.duration?this.pos=t=ne.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ct.propHooks._default.set(this),this}}).init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ne.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ne.fx.step[e.prop]?ne.fx.step[e.prop](e):1!==e.elem.nodeType||!ne.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:ne.style(e.elem,e.prop,e.now+e.unit)}}},ne.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ne.fx=ct.prototype.init,ne.fx.step={};var ft,pt,dt=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function gt(){pt&&(!1===C.hidden&&K.requestAnimationFrame?K.requestAnimationFrame(gt):K.setTimeout(gt,ne.fx.interval),ne.fx.tick())}function vt(){return K.setTimeout(function(){ft=void 0}),ft=Date.now()}function yt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=pe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function mt(e,t,n){for(var r,i=(xt.tweeners[t]||[]).concat(xt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function xt(o,e,t){var n,a,r=0,i=xt.prefilters.length,s=ne.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=ft||vt(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ne.extend({},e),opts:ne.extend(!0,{specialEasing:{},easing:ne.easing._default},t),originalProperties:e,originalOptions:t,startTime:ft||vt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ne.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=xe(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ne.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=xt.prefilters[r].call(l,o,c,l.opts))return"function"==typeof n.stop&&(ne._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ne.map(c,mt,l),"function"==typeof l.opts.start&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ne.fx.timer(ne.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ne.Animation=ne.extend(xt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){"function"==typeof e?(t=e,e=["*"]):e=e.match(R);for(var n,r=0,i=e.length;r<i;r++)n=e[r],xt.tweeners[n]=xt.tweeners[n]||[],xt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&de(e),v=G.get(e,"fxshow");for(r in n.queue||(null==(a=ne._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ne.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],dt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ne.style(e,r)}if((u=!ne.isEmptyObject(t))||!ne.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=G.get(e,"display")),"none"===(c=ne.css(e,"display"))&&(l?c=l:(we([e],!0),l=e.style.display||l,c=ne.css(e,"display"),we([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ne.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=G.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&we([e],!0),p.done(function(){for(r in g||we([e]),G.remove(e,"fxshow"),d)ne.style(e,r,d[r])})),u=mt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?xt.prefilters.unshift(e):xt.prefilters.push(e)}}),ne.speed=function(e,t,n){var r=e&&"object"==typeof e?ne.extend({},e):{complete:n||!n&&t||"function"==typeof e&&e,duration:e,easing:n&&t||t&&"function"!=typeof t&&t};return ne.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ne.fx.speeds?r.duration=ne.fx.speeds[r.duration]:r.duration=ne.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){"function"==typeof r.old&&r.old.call(this),r.queue&&ne.dequeue(this,r.queue)},r},ne.fn.extend({fadeTo:function(e,t,n,r){return this.filter(de).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ne.isEmptyObject(t),o=ne.speed(e,n,r),a=function(){var e=xt(this,ne.extend({},t),o);(i||G.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ne.timers,r=G.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ht.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ne.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=G.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ne.timers,o=n?n.length:0;for(t.finish=!0,ne.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ne.each(["toggle","show","hide"],function(e,r){var i=ne.fn[r];ne.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(yt(r,!0),e,t,n)}}),ne.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ne.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ne.timers=[],ne.fx.tick=function(){var e,t=0,n=ne.timers;for(ft=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ne.fx.stop(),ft=void 0},ne.fx.timer=function(e){ne.timers.push(e),ne.fx.start()},ne.fx.interval=13,ne.fx.start=function(){pt||(pt=!0,gt())},ne.fx.stop=function(){pt=null},ne.fx.speeds={slow:600,fast:200,_default:400},ne.fn.delay=function(r,e){return r=ne.fx&&ne.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=K.setTimeout(e,r);t.stop=function(){K.clearTimeout(n)}})},ne.fn.extend({attr:function(e,t){return B(this,ne.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ne.removeAttr(this,e)})}}),ne.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ne.prop(e,t,n):(1===o&&ne.isXMLDoc(e)||(i=ne.attrHooks[t.toLowerCase()]),void 0!==n?null===n?void ne.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=e.getAttribute(t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(p&&"radio"===t&&re(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ne.each(ne.expr.match.bool.source.match(/\w+/g),function(e,i){ne.attrHooks[i]={get:function(e){var t,n=ne.isXMLDoc(e),r=i.toLowerCase();return n||(t=null!=e.getAttribute(i)?r:null),t},set:function(e,t,n){return!1===t?ne.removeAttr(e,n):e.setAttribute(n,n),n}}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(R)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}ne.fn.extend({prop:function(e,t){return B(this,ne.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ne.propFix[e]||e]})}}),ne.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ne.isXMLDoc(e)||(t=ne.propFix[t]||t,i=ne.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttribute("tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p&&(ne.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ne.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ne.propFix[this.toLowerCase()]=this}),ne.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if("function"==typeof t)return this.each(function(e){ne(this).addClass(t.call(this,e,Ct(this)))});if((e=kt(t)).length)while(n=this[u++])if(i=Ct(n),r=1===n.nodeType&&" "+Tt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=Tt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if("function"==typeof t)return this.each(function(e){ne(this).removeClass(t.call(this,e,Ct(this)))});if(!arguments.length)return this.attr("class","");if((e=kt(t)).length)while(n=this[u++])if(i=Ct(n),r=1===n.nodeType&&" "+Tt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=Tt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):"function"==typeof i?this.each(function(e){ne(this).toggleClass(i.call(this,e,Ct(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=ne(this),r=kt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=Ct(this))&&G.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":G.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var jt=/\r/g;ne.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i="function"==typeof n,this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ne(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ne.map(t,function(e){return null==e?"":e+""})),(r=ne.valHooks[this.type]||ne.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ne.valHooks[t.type]||ne.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(jt,""):null==e?"":e:void 0}}),ne.extend({valHooks:{option:{get:function(e){var t=e.getAttribute("value");return null!=t?t:Tt(ne.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if((n=i[r]).selected&&!n.disabled&&(!n.parentNode.disabled||!re(n.parentNode,"optgroup"))){if(t=ne(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ne.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ne.inArray(ne.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ne.each(["radio","checkbox"],function(){ne.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ne.inArray(ne(e).val(),t)}}});var Et=K.location,St=Date.now(),At=/\?/;ne.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new K.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ne.error("Invalid XML: "+e),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,qt=function(e){e.stopPropagation()};ne.extend(ne.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=g.call(e,"type")?e.type:e,h=g.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ne.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[ne.expando]?e:new ne.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ne.makeArray(t,[e]),c=ne.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!v(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||K)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(G.get(o,"events")||{})[e.type]&&G.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&"function"==typeof n[d]&&!v(n)&&((a=n[u])&&(n[u]=null),ne.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,qt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,qt),ne.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ne.extend(new ne.Event,n,{type:e,isSimulated:!0});ne.event.trigger(r,null,t)}}),ne.fn.extend({trigger:function(e,t){return this.each(function(){ne.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ne.event.trigger(e,t,n,!0)}});var Nt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ne.each(e,function(e,t){r||Nt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==m(e))i(n,e);else for(t in e)Pt(n+"["+t+"]",e[t],r,i)}ne.param=function(e,t){var n,r=[],i=function(e,t){var n="function"==typeof t?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ne.isPlainObject(e))ne.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join("&")},ne.fn.extend({serialize:function(){return ne.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ne.prop(this,"elements");return e?ne.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ne(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var n=ne(this).val();return null==n?null:Array.isArray(n)?ne.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Rt=/%20/g,Mt=/#.*$/,$t=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Ft=/^\/\//,_t={},Bt={},Ut="*/".concat("*"),Xt=C.createElement("a");function zt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(R)||[];if("function"==typeof t)while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===Bt;function l(e){var r;return s[e]=!0,ne.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Yt(e,t){var n,r,i=ne.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ne.extend(!0,e,r),e}Xt.href=Et.href,ne.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ne.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,ne.ajaxSettings),t):Yt(ne.ajaxSettings,e)},ajaxPrefilter:zt(_t),ajaxTransport:zt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ne.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ne(y):ne.event,x=ne.Deferred(),b=ne.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace(Ft,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(R)||[""],null==v.crossDomain){r=C.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=ne.param(v.data,v.traditional)),Vt(_t,v,t,T),h)return T;for(i in(g=ne.event&&v.global)&&0==ne.active++&&ne.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!It.test(v.type),f=v.url.replace(Mt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Rt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(At.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace($t,"$1"),o=(At.test(f)?"&":"?")+"_="+St+++o),v.url=f+o),v.ifModified&&(ne.lastModified[f]&&T.setRequestHeader("If-Modified-Since",ne.lastModified[f]),ne.etag[f]&&T.setRequestHeader("If-None-Match",ne.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Ut+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(Bt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=K.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&K.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ne.inArray("script",v.dataTypes)&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(ne.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(ne.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--ne.active||ne.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return ne.get(e,t,n,"json")},getScript:function(e,t){return ne.get(e,void 0,t,"script")}}),ne.each(["get","post"],function(e,i){ne[i]=function(e,t,n,r){return"function"==typeof t&&(r=r||n,n=t,t=void 0),ne.ajax(ne.extend({url:e,type:i,dataType:r,data:t,success:n},ne.isPlainObject(e)&&e))}}),ne._evalUrl=function(e,t){return ne.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ne.globalEval(e,t)}})},ne.fn.extend({wrapAll:function(e){var t;return this[0]&&("function"==typeof e&&(e=e.call(this[0])),t=ne(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return"function"==typeof n?this.each(function(e){ne(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ne(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n="function"==typeof t;return this.each(function(e){ne(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ne(this).replaceWith(this.childNodes)}),this}}),ne.expr.pseudos.hidden=function(e){return!ne.expr.pseudos.visible(e)},ne.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ne.ajaxSettings.xhr=function(){return new K.XMLHttpRequest};var Gt={0:200};ne.ajaxTransport(function(i){var o;return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=r.onload=r.onerror=r.onabort=r.ontimeout=null,"abort"===e?r.abort():"error"===e?t(r.status,r.statusText):t(Gt[r.status]||r.status,r.statusText,"text"===(r.responseType||"text")?{text:r.responseText}:{binary:r.response},r.getAllResponseHeaders()))}},r.onload=o(),r.onabort=r.onerror=r.ontimeout=o("error"),o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ne.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ne.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ne.globalEval(e),e}}}),ne.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ne.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ne("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Qt=[],Jt=/(=)\?(?=&|$)|\?\?/;ne.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||ne.expando+"_"+St++;return this[e]=!0,e}}),ne.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback="function"==typeof e.jsonpCallback?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Jt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ne.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=K[r],K[r]=function(){o=arguments},n.always(function(){void 0===i?ne(K).removeProp(r):K[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(r)),o&&"function"==typeof i&&i(o[0]),o=i=void 0}),"script"}),ne.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=qe([e],t,o),o&&o.length&&ne(o).remove(),ne.merge([],i.childNodes)));var r,i,o},ne.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),"function"==typeof t?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ne.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ne("<div>").append(ne.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ne.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ne.fn[t]=function(e){return this.on(t,e)}}),ne.expr.pseudos.animated=function(t){return ne.grep(ne.timers,function(e){return t===e.elem}).length},ne.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ne.css(e,"position"),c=ne(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=ne.css(e,"top"),u=ne.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),"function"==typeof t&&(t=t.call(e,n,ne.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},ne.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ne.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ne.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===ne.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ne(e).offset()).top+=ne.css(e,"borderTopWidth",!0),i.left+=ne.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ne.css(r,"marginTop",!0),left:t.left-i.left-ne.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===ne.css(e,"position"))e=e.offsetParent;return e||x})}}),ne.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ne.fn[t]=function(e){return B(this,function(e,t,n){var r;if(v(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ne.each({Height:"height",Width:"width"},function(a,s){ne.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ne.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return v(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ne.css(e,t,i):ne.style(e,t,n,i)},s,n?e:void 0,n)}})});var Kt="".trim;ne.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ne.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),ne.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ne.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ne.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),"function"==typeof e)return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||ne.guid++,i},ne.holdReady=function(e){e?ne.readyWait++:ne.ready(!0)},ne.trim=function(e){return null==e?"":Kt.call(e)},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ne});var Zt=K.jQuery,en=K.$;return ne.noConflict=function(e){return K.$===ne&&(K.$=en),e&&K.jQuery===ne&&(K.jQuery=Zt),ne},e||(K.jQuery=K.$=ne),ne});
</script>
        <script type="text/javascript">/*!
  * Bootstrap v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("popper.js")):"function"==typeof define&&define.amd?define(["popper.js"],e):(t=t||self).bootstrap=e(t.Popper)}(this,(function(t){"use strict";function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}t=t&&t.hasOwnProperty("default")?t.default:t;var s,a,l,c="transitionend",u=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},f=function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():null}return e},h=function(t){var e=f(t);return e&&document.querySelector(e)?e:null},d=function(t){var e=f(t);return e?document.querySelector(e):null},g=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,i=e.transitionDelay,o=parseFloat(n),r=parseFloat(i);return o||r?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},p=function(t){var e=document.createEvent("HTMLEvents");e.initEvent(c,!0,!0),t.dispatchEvent(e)},_=function(t){return(t[0]||t).nodeType},m=function(t,e){var n=!1,i=e+5;t.addEventListener(c,(function e(){n=!0,t.removeEventListener(c,e)})),setTimeout((function(){n||p(t)}),i)},v=function(t,e,n){Object.keys(n).forEach((function(i){var o,r=n[i],s=e[i],a=s&&_(s)?"element":(o=s,{}.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+r+'".')}))},E=function(t){return t?[].slice.call(t):[]},y=function(t){return!!t&&(!!(t.style&&t.parentNode&&t.parentNode.style)&&("none"!==t.style.display&&"none"!==t.parentNode.style.display&&"hidden"!==t.style.visibility))},b=function(){return function(){}},D=function(t){return t.offsetHeight},T=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-no-jquery")?t:null},I=(s={},a=1,{set:function(t,e,n){"undefined"==typeof t.key&&(t.key={key:e,id:a},a++),s[t.key.id]=n},get:function(t,e){if(!t||"undefined"==typeof t.key)return null;var n=t.key;return n.key===e?s[n.id]:null},delete:function(t,e){if("undefined"!=typeof t.key){var n=t.key;n.key===e&&(delete s[n.id],delete t.key)}}}),A={setData:function(t,e,n){I.set(t,e,n)},getData:function(t,e){return I.get(t,e)},removeData:function(t,e){I.delete(t,e)}},S=Element.prototype,w=S.matches,C=S.closest,L=Element.prototype.querySelectorAll,O=Element.prototype.querySelector,N=function(t,e){return new CustomEvent(t,e)};if("function"!=typeof window.CustomEvent&&(N=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}),!((l=document.createEvent("CustomEvent")).initEvent("Bootstrap",!0,!0),l.preventDefault(),l.defaultPrevented)){var k=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(k.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var P=function(){var t=N("Bootstrap",{cancelable:!0}),e=document.createElement("div");return e.addEventListener("Bootstrap",(function(){return null})),t.preventDefault(),e.dispatchEvent(t),t.defaultPrevented}();w||(w=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),C||(C=function(t){var e=this;do{if(w.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var H=/:scope\b/;(function(){var t=document.createElement("div");try{t.querySelectorAll(":scope *")}catch(t){return!1}return!0})()||(L=function(t){if(!H.test(t))return this.querySelectorAll(t);var e=Boolean(this.id);e||(this.id=u("scope"));var n=null;try{t=t.replace(H,"#"+this.id),n=this.querySelectorAll(t)}finally{e||this.removeAttribute("id")}return n},O=function(t){if(!H.test(t))return this.querySelector(t);var e=L.call(this,t);return"undefined"!=typeof e[0]?e[0]:null});var j=T(),M=/[^.]*(?=\..*)\.|.*/,R=/\..*/,x=/^key/,W=/::\d+$/,U={},K=1,V={mouseenter:"mouseover",mouseleave:"mouseout"},B=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function F(t,e){return e&&e+"::"+K++||t.uidEvent||K++}function Q(t){var e=F(t);return t.uidEvent=e,U[e]=U[e]||{},U[e]}function Y(t,e){null===t.which&&x.test(t.type)&&(t.which=null===t.charCode?t.keyCode:t.charCode),t.delegateTarget=e}function G(t,e,n){void 0===n&&(n=null);for(var i=Object.keys(t),o=0,r=i.length;o<r;o++){var s=t[i[o]];if(s.originalHandler===e&&s.delegationSelector===n)return s}return null}function X(t,e,n){var i="string"==typeof e,o=i?n:e,r=t.replace(R,""),s=V[r];return s&&(r=s),B.indexOf(r)>-1||(r=t),[i,o,r]}function q(t,e,n,i,o){if("string"==typeof e&&t){n||(n=i,i=null);var r=X(e,n,i),s=r[0],a=r[1],l=r[2],c=Q(t),u=c[l]||(c[l]={}),f=G(u,a,s?n:null);if(f)f.oneOff=f.oneOff&&o;else{var h=F(a,e.replace(M,"")),d=s?function(t,e,n){return function i(o){for(var r=t.querySelectorAll(e),s=o.target;s&&s!==this;s=s.parentNode)for(var a=r.length;a--;)if(r[a]===s)return Y(o,s),i.oneOff&&Z.off(t,o.type,n),n.apply(s,[o]);return null}}(t,n,i):function(t,e){return function n(i){return Y(i,t),n.oneOff&&Z.off(t,i.type,e),e.apply(t,[i])}}(t,n);d.delegationSelector=s?n:null,d.originalHandler=a,d.oneOff=o,d.uidEvent=h,u[h]=d,t.addEventListener(l,d,s)}}}function z(t,e,n,i,o){var r=G(e[n],i,o);r&&(t.removeEventListener(n,r,Boolean(o)),delete e[n][r.uidEvent])}var Z={on:function(t,e,n,i){q(t,e,n,i,!1)},one:function(t,e,n,i){q(t,e,n,i,!0)},off:function(t,e,n,i){if("string"==typeof e&&t){var o=X(e,n,i),r=o[0],s=o[1],a=o[2],l=a!==e,c=Q(t),u="."===e.charAt(0);if("undefined"==typeof s){u&&Object.keys(c).forEach((function(n){!function(t,e,n,i){var o=e[n]||{};Object.keys(o).forEach((function(r){if(r.indexOf(i)>-1){var s=o[r];z(t,e,n,s.originalHandler,s.delegationSelector)}}))}(t,c,n,e.slice(1))}));var f=c[a]||{};Object.keys(f).forEach((function(n){var i=n.replace(W,"");if(!l||e.indexOf(i)>-1){var o=f[n];z(t,c,a,o.originalHandler,o.delegationSelector)}}))}else{if(!c||!c[a])return;z(t,c,a,s,r?n:null)}}},trigger:function(t,e,n){if("string"!=typeof e||!t)return null;var i,o=e.replace(R,""),r=e!==o,s=B.indexOf(o)>-1,a=!0,l=!0,c=!1,u=null;return r&&j&&(i=j.Event(e,n),j(t).trigger(i),a=!i.isPropagationStopped(),l=!i.isImmediatePropagationStopped(),c=i.isDefaultPrevented()),s?(u=document.createEvent("HTMLEvents")).initEvent(o,a,!0):u=N(e,{bubbles:a,cancelable:!0}),"undefined"!=typeof n&&Object.keys(n).forEach((function(t){Object.defineProperty(u,t,{get:function(){return n[t]}})})),c&&(u.preventDefault(),P||Object.defineProperty(u,"defaultPrevented",{get:function(){return!0}})),l&&t.dispatchEvent(u),u.defaultPrevented&&"undefined"!=typeof i&&i.preventDefault(),u}},$={matches:function(t,e){return w.call(t,e)},find:function(t,e){return void 0===e&&(e=document.documentElement),L.call(e,t)},findOne:function(t,e){return void 0===e&&(e=document.documentElement),O.call(e,t)},children:function(t,e){var n=this,i=E(t.children);return i.filter((function(t){return n.matches(t,e)}))},parents:function(t,e){for(var n=[],i=t.parentNode;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)this.matches(i,e)&&n.push(i),i=i.parentNode;return n},closest:function(t,e){return C.call(t,e)},prev:function(t,e){for(var n=[],i=t.previousSibling;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)this.matches(i,e)&&n.push(i),i=i.previousSibling;return n}},J="bs.alert",tt="."+J,et={CLOSE:"close"+tt,CLOSED:"closed"+tt,CLICK_DATA_API:"click"+tt+".data-api"},nt="alert",it="fade",ot="show",rt=function(){function t(t){this._element=t,this._element&&A.setData(t,J,this)}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t));var n=this._triggerCloseEvent(e);null===n||n.defaultPrevented||this._removeElement(e)},e.dispose=function(){A.removeData(this._element,J),this._element=null},e._getRootElement=function(t){var e=d(t);return e||(e=$.closest(t,"."+nt)),e},e._triggerCloseEvent=function(t){return Z.trigger(t,et.CLOSE)},e._removeElement=function(t){var e=this;if(t.classList.remove(ot),t.classList.contains(it)){var n=g(t);Z.one(t,c,(function(){return e._destroyElement(t)})),m(t,n)}else this._destroyElement(t)},e._destroyElement=function(t){t.parentNode&&t.parentNode.removeChild(t),Z.trigger(t,et.CLOSED)},t.jQueryInterface=function(e){return this.each((function(){var n=A.getData(this,J);n||(n=new t(this)),"close"===e&&n[e](this)}))},t.handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},t.getInstance=function(t){return A.getData(t,J)},n(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();Z.on(document,et.CLICK_DATA_API,'[data-dismiss="alert"]',rt.handleDismiss(new rt));var st=T();if(st){var at=st.fn.alert;st.fn.alert=rt.jQueryInterface,st.fn.alert.Constructor=rt,st.fn.alert.noConflict=function(){return st.fn.alert=at,rt.jQueryInterface}}var lt="bs.button",ct="."+lt,ut="active",ft="btn",ht="focus",dt='[data-toggle^="button"]',gt='[data-toggle="buttons"]',pt='input:not([type="hidden"])',_t=".active",mt=".btn",vt={CLICK_DATA_API:"click"+ct+".data-api",FOCUS_DATA_API:"focus"+ct+".data-api",BLUR_DATA_API:"blur"+ct+".data-api"},Et=function(){function t(t){this._element=t,A.setData(t,lt,this)}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=$.closest(this._element,gt);if(n){var i=$.findOne(pt,this._element);if(i&&"radio"===i.type){if(i.checked&&this._element.classList.contains(ut))t=!1;else{var o=$.findOne(_t,n);o&&o.classList.remove(ut)}if(t){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!this._element.classList.contains(ut),Z.trigger(i,"change")}i.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(ut)),t&&this._element.classList.toggle(ut)},e.dispose=function(){A.removeData(this._element,lt),this._element=null},t.jQueryInterface=function(e){return this.each((function(){var n=A.getData(this,lt);n||(n=new t(this)),"toggle"===e&&n[e]()}))},t.getInstance=function(t){return A.getData(t,lt)},n(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();Z.on(document,vt.CLICK_DATA_API,dt,(function(t){t.preventDefault();var e=t.target;e.classList.contains(ft)||(e=$.closest(e,mt));var n=A.getData(e,lt);n||(n=new Et(e)),n.toggle()})),Z.on(document,vt.FOCUS_DATA_API,dt,(function(t){var e=$.closest(t.target,mt);e&&e.classList.add(ht)})),Z.on(document,vt.BLUR_DATA_API,dt,(function(t){var e=$.closest(t.target,mt);e&&e.classList.remove(ht)}));var yt=T();if(yt){var bt=yt.fn.button;yt.fn.button=Et.jQueryInterface,yt.fn.button.Constructor=Et,yt.fn.button.noConflict=function(){return yt.fn.button=bt,Et.jQueryInterface}}function Dt(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function Tt(t){return t.replace(/[A-Z]/g,(function(t){return t.toLowerCase()}))}var It={setDataAttribute:function(t,e,n){t.setAttribute("data-"+Tt(e),n)},removeDataAttribute:function(t,e){t.removeAttribute("data-"+Tt(e))},getDataAttributes:function(t){if(!t)return{};var e=r({},t.dataset);return Object.keys(e).forEach((function(t){e[t]=Dt(e[t])})),e},getDataAttribute:function(t,e){return Dt(t.getAttribute("data-"+Tt(e)))},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:function(t){return{top:t.offsetTop,left:t.offsetLeft}},toggleClass:function(t,e){t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))}},At="carousel",St="bs.carousel",wt="."+St,Ct={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Lt={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Ot="next",Nt="prev",kt="left",Pt="right",Ht={SLIDE:"slide"+wt,SLID:"slid"+wt,KEYDOWN:"keydown"+wt,MOUSEENTER:"mouseenter"+wt,MOUSELEAVE:"mouseleave"+wt,TOUCHSTART:"touchstart"+wt,TOUCHMOVE:"touchmove"+wt,TOUCHEND:"touchend"+wt,POINTERDOWN:"pointerdown"+wt,POINTERUP:"pointerup"+wt,DRAG_START:"dragstart"+wt,LOAD_DATA_API:"load"+wt+".data-api",CLICK_DATA_API:"click"+wt+".data-api"},jt="carousel",Mt="active",Rt="slide",xt="carousel-item-right",Wt="carousel-item-left",Ut="carousel-item-next",Kt="carousel-item-prev",Vt="pointer-event",Bt={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},Ft={TOUCH:"touch",PEN:"pen"},Qt=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=$.findOne(Bt.INDICATORS,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners(),A.setData(t,St,this)}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(Ot)},e.nextWhenVisible=function(){!document.hidden&&y(this._element)&&this.next()},e.prev=function(){this._isSliding||this._slide(Nt)},e.pause=function(t){t||(this._isPaused=!0),$.findOne(Bt.NEXT_PREV,this._element)&&(p(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=$.findOne(Bt.ACTIVE_ITEM,this._element);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)Z.one(this._element,Ht.SLID,(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var i=t>n?Ot:Nt;this._slide(i,this._items[t])}},e.dispose=function(){Z.off(this._element,wt),A.removeData(this._element,St),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=r({},Ct,{},t),v(At,t,Lt),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&Z.on(this._element,Ht.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(Z.on(this._element,Ht.MOUSEENTER,(function(e){return t.pause(e)})),Z.on(this._element,Ht.MOUSELEAVE,(function(e){return t.cycle(e)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this,e=function(e){t._pointerEvent&&Ft[e.pointerType.toUpperCase()]?t.touchStartX=e.clientX:t._pointerEvent||(t.touchStartX=e.touches[0].clientX)},n=function(e){t._pointerEvent&&Ft[e.pointerType.toUpperCase()]&&(t.touchDeltaX=e.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};E($.find(Bt.ITEM_IMG,this._element)).forEach((function(t){Z.on(t,Ht.DRAG_START,(function(t){return t.preventDefault()}))})),this._pointerEvent?(Z.on(this._element,Ht.POINTERDOWN,(function(t){return e(t)})),Z.on(this._element,Ht.POINTERUP,(function(t){return n(t)})),this._element.classList.add(Vt)):(Z.on(this._element,Ht.TOUCHSTART,(function(t){return e(t)})),Z.on(this._element,Ht.TOUCHMOVE,(function(e){return function(e){e.touches&&e.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.touches[0].clientX-t.touchStartX}(e)})),Z.on(this._element,Ht.TOUCHEND,(function(t){return n(t)})))},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?E($.find(Bt.ITEM,t.parentNode)):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===Ot,i=t===Nt,o=this._getItemIndex(e),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return e;var s=(o+(t===Nt?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex($.findOne(Bt.ACTIVE_ITEM,this._element));return Z.trigger(this._element,Ht.SLIDE,{relatedTarget:t,direction:e,from:i,to:n})},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){for(var e=$.find(Bt.ACTIVE,this._indicatorsElement),n=0;n<e.length;n++)e[n].classList.remove(Mt);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&i.classList.add(Mt)}},e._slide=function(t,e){var n,i,o,r=this,s=$.findOne(Bt.ACTIVE_ITEM,this._element),a=this._getItemIndex(s),l=e||s&&this._getItemByDirection(t,s),u=this._getItemIndex(l),f=Boolean(this._interval);if(t===Ot?(n=Wt,i=Ut,o=kt):(n=xt,i=Kt,o=Pt),l&&l.classList.contains(Mt))this._isSliding=!1;else if(!this._triggerSlideEvent(l,o).defaultPrevented&&s&&l){if(this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(l),this._element.classList.contains(Rt)){l.classList.add(i),D(l),s.classList.add(n),l.classList.add(n);var h=parseInt(l.getAttribute("data-interval"),10);h?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=h):this._config.interval=this._config.defaultInterval||this._config.interval;var d=g(s);Z.one(s,c,(function(){l.classList.remove(n),l.classList.remove(i),l.classList.add(Mt),s.classList.remove(Mt),s.classList.remove(i),s.classList.remove(n),r._isSliding=!1,setTimeout((function(){Z.trigger(r._element,Ht.SLID,{relatedTarget:l,direction:o,from:a,to:u})}),0)})),m(s,d)}else s.classList.remove(Mt),l.classList.add(Mt),this._isSliding=!1,Z.trigger(this._element,Ht.SLID,{relatedTarget:l,direction:o,from:a,to:u});f&&this.cycle()}},t.carouselInterface=function(e,n){var i=A.getData(e,St),o=r({},Ct,{},It.getDataAttributes(e));"object"==typeof n&&(o=r({},o,{},n));var s="string"==typeof n?n:o.slide;if(i||(i=new t(e,o)),"number"==typeof n)i.to(n);else if("string"==typeof s){if("undefined"==typeof i[s])throw new TypeError('No method named "'+s+'"');i[s]()}else o.interval&&o.ride&&(i.pause(),i.cycle())},t.jQueryInterface=function(e){return this.each((function(){t.carouselInterface(this,e)}))},t.dataApiClickHandler=function(e){var n=d(this);if(n&&n.classList.contains(jt)){var i=r({},It.getDataAttributes(n),{},It.getDataAttributes(this)),o=this.getAttribute("data-slide-to");o&&(i.interval=!1),t.carouselInterface(n,i),o&&A.getData(n,St).to(o),e.preventDefault()}},t.getInstance=function(t){return A.getData(t,St)},n(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ct}}]),t}();Z.on(document,Ht.CLICK_DATA_API,Bt.DATA_SLIDE,Qt.dataApiClickHandler),Z.on(window,Ht.LOAD_DATA_API,(function(){for(var t=E($.find(Bt.DATA_RIDE)),e=0,n=t.length;e<n;e++)Qt.carouselInterface(t[e],A.getData(t[e],St))}));var Yt=T();if(Yt){var Gt=Yt.fn[At];Yt.fn[At]=Qt.jQueryInterface,Yt.fn[At].Constructor=Qt,Yt.fn[At].noConflict=function(){return Yt.fn[At]=Gt,Qt.jQueryInterface}}var Xt="collapse",qt="bs.collapse",zt="."+qt,Zt={toggle:!0,parent:""},$t={toggle:"boolean",parent:"(string|element)"},Jt={SHOW:"show"+zt,SHOWN:"shown"+zt,HIDE:"hide"+zt,HIDDEN:"hidden"+zt,CLICK_DATA_API:"click"+zt+".data-api"},te="show",ee="collapse",ne="collapsing",ie="collapsed",oe="width",re="height",se={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},ae=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=E($.find('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=E($.find(se.DATA_TOGGLE)),i=0,o=n.length;i<o;i++){var r=n[i],s=h(r),a=E($.find(s)).filter((function(e){return e===t}));null!==s&&a.length&&(this._selector=s,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle(),A.setData(t,qt,this)}var e=t.prototype;return e.toggle=function(){this._element.classList.contains(te)?this.hide():this.show()},e.show=function(){var e=this;if(!this._isTransitioning&&!this._element.classList.contains(te)){var n,i;this._parent&&0===(n=E($.find(se.ACTIVES,this._parent)).filter((function(t){return"string"==typeof e._config.parent?t.getAttribute("data-parent")===e._config.parent:t.classList.contains(ee)}))).length&&(n=null);var o=$.findOne(this._selector);if(n){var r=n.filter((function(t){return o!==t}));if((i=r[0]?A.getData(r[0],qt):null)&&i._isTransitioning)return}if(!Z.trigger(this._element,Jt.SHOW).defaultPrevented){n&&n.forEach((function(e){o!==e&&t.collapseInterface(e,"hide"),i||A.setData(e,qt,null)}));var s=this._getDimension();this._element.classList.remove(ee),this._element.classList.add(ne),this._element.style[s]=0,this._triggerArray.length&&this._triggerArray.forEach((function(t){t.classList.remove(ie),t.setAttribute("aria-expanded",!0)})),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),l=g(this._element);Z.one(this._element,c,(function(){e._element.classList.remove(ne),e._element.classList.add(ee),e._element.classList.add(te),e._element.style[s]="",e.setTransitioning(!1),Z.trigger(e._element,Jt.SHOWN)})),m(this._element,l),this._element.style[s]=this._element[a]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&this._element.classList.contains(te)&&!Z.trigger(this._element,Jt.HIDE).defaultPrevented){var e=this._getDimension();this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",D(this._element),this._element.classList.add(ne),this._element.classList.remove(ee),this._element.classList.remove(te);var n=this._triggerArray.length;if(n>0)for(var i=0;i<n;i++){var o=this._triggerArray[i],r=d(o);r&&!r.classList.contains(te)&&(o.classList.add(ie),o.setAttribute("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[e]="";var s=g(this._element);Z.one(this._element,c,(function(){t.setTransitioning(!1),t._element.classList.remove(ne),t._element.classList.add(ee),Z.trigger(t._element,Jt.HIDDEN)})),m(this._element,s)}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){A.removeData(this._element,qt),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=r({},Zt,{},t)).toggle=Boolean(t.toggle),v(Xt,t,$t),t},e._getDimension=function(){return this._element.classList.contains(oe)?oe:re},e._getParent=function(){var t=this,e=this._config.parent;_(e)?"undefined"==typeof e.jquery&&"undefined"==typeof e[0]||(e=e[0]):e=$.findOne(e);var n='[data-toggle="collapse"][data-parent="'+e+'"]';return E($.find(n,e)).forEach((function(e){var n=d(e);t._addAriaAndCollapsedClass(n,[e])})),e},e._addAriaAndCollapsedClass=function(t,e){if(t){var n=t.classList.contains(te);e.length&&e.forEach((function(t){n?t.classList.remove(ie):t.classList.add(ie),t.setAttribute("aria-expanded",n)}))}},t.collapseInterface=function(e,n){var i=A.getData(e,qt),o=r({},Zt,{},It.getDataAttributes(e),{},"object"==typeof n&&n?n:{});if(!i&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),i||(i=new t(e,o)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}},t.jQueryInterface=function(e){return this.each((function(){t.collapseInterface(this,e)}))},t.getInstance=function(t){return A.getData(t,qt)},n(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Zt}}]),t}();Z.on(document,Jt.CLICK_DATA_API,se.DATA_TOGGLE,(function(t){"A"===t.target.tagName&&t.preventDefault();var e=It.getDataAttributes(this),n=h(this);E($.find(n)).forEach((function(t){var n,i=A.getData(t,qt);i?(null===i._parent&&"string"==typeof e.parent&&(i._config.parent=e.parent,i._parent=i._getParent()),n="toggle"):n=e,ae.collapseInterface(t,n)}))}));var le=T();if(le){var ce=le.fn[Xt];le.fn[Xt]=ae.jQueryInterface,le.fn[Xt].Constructor=ae,le.fn[Xt].noConflict=function(){return le.fn[Xt]=ce,ae.jQueryInterface}}var ue="dropdown",fe="bs.dropdown",he="."+fe,de=new RegExp("38|40|27"),ge={HIDE:"hide"+he,HIDDEN:"hidden"+he,SHOW:"show"+he,SHOWN:"shown"+he,CLICK:"click"+he,CLICK_DATA_API:"click"+he+".data-api",KEYDOWN_DATA_API:"keydown"+he+".data-api",KEYUP_DATA_API:"keyup"+he+".data-api"},pe="disabled",_e="show",me="dropup",ve="dropright",Ee="dropleft",ye="dropdown-menu-right",be="position-static",De='[data-toggle="dropdown"]',Te=".dropdown form",Ie=".dropdown-menu",Ae=".navbar-nav",Se=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",we="top-start",Ce="top-end",Le="bottom-start",Oe="bottom-end",Ne="right-start",ke="left-start",Pe={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},He={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},je=function(){function e(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners(),A.setData(t,fe,this)}var i=e.prototype;return i.toggle=function(){if(!this._element.disabled&&!this._element.classList.contains(pe)){var t=this._menu.classList.contains(_e);e.clearMenus(),t||this.show()}},i.show=function(){if(!(this._element.disabled||this._element.classList.contains(pe)||this._menu.classList.contains(_e))){var n=e.getParentFromElement(this._element),i={relatedTarget:this._element};if(!Z.trigger(n,ge.SHOW,i).defaultPrevented){if(!this._inNavbar){if("undefined"==typeof t)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org)");var o=this._element;"parent"===this._config.reference?o=n:_(this._config.reference)&&(o=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&n.classList.add(be),this._popper=new t(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&!E($.closest(n,Ae)).length&&E(document.body.children).forEach((function(t){return Z.on(t,"mouseover",null,(function(){}))})),this._element.focus(),this._element.setAttribute("aria-expanded",!0),It.toggleClass(this._menu,_e),It.toggleClass(n,_e),Z.trigger(n,ge.SHOWN,i)}}},i.hide=function(){if(!this._element.disabled&&!this._element.classList.contains(pe)&&this._menu.classList.contains(_e)){var t=e.getParentFromElement(this._element),n={relatedTarget:this._element};Z.trigger(t,ge.HIDE,n).defaultPrevented||(this._popper&&this._popper.destroy(),It.toggleClass(this._menu,_e),It.toggleClass(t,_e),Z.trigger(t,ge.HIDDEN,n))}},i.dispose=function(){A.removeData(this._element,fe),Z.off(this._element,he),this._element=null,this._menu=null,this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;Z.on(this._element,ge.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},i._getConfig=function(t){return t=r({},this.constructor.Default,{},It.getDataAttributes(this._element),{},t),v(ue,t,this.constructor.DefaultType),t},i._getMenuElement=function(){var t=e.getParentFromElement(this._element);return $.findOne(Ie,t)},i._getPlacement=function(){var t=this._element.parentNode,e=Le;return t.classList.contains(me)?(e=we,this._menu.classList.contains(ye)&&(e=Ce)):t.classList.contains(ve)?e=Ne:t.classList.contains(Ee)?e=ke:this._menu.classList.contains(ye)&&(e=Oe),e},i._detectNavbar=function(){return Boolean($.closest(this._element,".navbar"))},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=r({},e.offsets,{},t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),r({},t,{},this._config.popperConfig)},e.dropdownInterface=function(t,n){var i=A.getData(t,fe);if(i||(i=new e(t,"object"==typeof n?n:null)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}},e.jQueryInterface=function(t){return this.each((function(){e.dropdownInterface(this,t)}))},e.clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=E($.find(De)),i=0,o=n.length;i<o;i++){var r=e.getParentFromElement(n[i]),s=A.getData(n[i],fe),a={relatedTarget:n[i]};if(t&&"click"===t.type&&(a.clickEvent=t),s){var l=s._menu;if(r.classList.contains(_e))if(!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&r.contains(t.target)))Z.trigger(r,ge.HIDE,a).defaultPrevented||("ontouchstart"in document.documentElement&&E(document.body.children).forEach((function(t){return Z.off(t,"mouseover",null,(function(){}))})),n[i].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),l.classList.remove(_e),r.classList.remove(_e),Z.trigger(r,ge.HIDDEN,a))}}},e.getParentFromElement=function(t){return d(t)||t.parentNode},e.dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||$.closest(t.target,Ie))):de.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!this.classList.contains(pe))){var n=e.getParentFromElement(this),i=n.classList.contains(_e);if(!i||i&&(27===t.which||32===t.which))return 27===t.which&&$.findOne(De,n).focus(),void e.clearMenus();var o=E($.find(Se,n));if(o.length){var r=o.indexOf(t.target);38===t.which&&r>0&&r--,40===t.which&&r<o.length-1&&r++,r<0&&(r=0),o[r].focus()}}},e.getInstance=function(t){return A.getData(t,fe)},n(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Pe}},{key:"DefaultType",get:function(){return He}}]),e}();Z.on(document,ge.KEYDOWN_DATA_API,De,je.dataApiKeydownHandler),Z.on(document,ge.KEYDOWN_DATA_API,Ie,je.dataApiKeydownHandler),Z.on(document,ge.CLICK_DATA_API,je.clearMenus),Z.on(document,ge.KEYUP_DATA_API,je.clearMenus),Z.on(document,ge.CLICK_DATA_API,De,(function(t){t.preventDefault(),t.stopPropagation(),je.dropdownInterface(this,"toggle")})),Z.on(document,ge.CLICK_DATA_API,Te,(function(t){return t.stopPropagation()}));var Me=T();if(Me){var Re=Me.fn[ue];Me.fn[ue]=je.jQueryInterface,Me.fn[ue].Constructor=je,Me.fn[ue].noConflict=function(){return Me.fn[ue]=Re,je.jQueryInterface}}var xe="bs.modal",We="."+xe,Ue={backdrop:!0,keyboard:!0,focus:!0,show:!0},Ke={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Ve={HIDE:"hide"+We,HIDDEN:"hidden"+We,SHOW:"show"+We,SHOWN:"shown"+We,FOCUSIN:"focusin"+We,RESIZE:"resize"+We,CLICK_DISMISS:"click.dismiss"+We,KEYDOWN_DISMISS:"keydown.dismiss"+We,MOUSEUP_DISMISS:"mouseup.dismiss"+We,MOUSEDOWN_DISMISS:"mousedown.dismiss"+We,CLICK_DATA_API:"click"+We+".data-api"},Be="modal-dialog-scrollable",Fe="modal-scrollbar-measure",Qe="modal-backdrop",Ye="modal-open",Ge="fade",Xe="show",qe={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},ze=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=$.findOne(qe.DIALOG,t),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0,A.setData(t,xe,this)}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){this._element.classList.contains(Ge)&&(this._isTransitioning=!0);var n=Z.trigger(this._element,Ve.SHOW,{relatedTarget:t});this._isShown||n.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Z.on(this._element,Ve.CLICK_DISMISS,qe.DATA_DISMISS,(function(t){return e.hide(t)})),Z.on(this._dialog,Ve.MOUSEDOWN_DISMISS,(function(){Z.one(e._element,Ve.MOUSEUP_DISMISS,(function(t){t.target===e._element&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},e.hide=function(t){var e=this;if((t&&t.preventDefault(),this._isShown&&!this._isTransitioning)&&!Z.trigger(this._element,Ve.HIDE).defaultPrevented){this._isShown=!1;var n=this._element.classList.contains(Ge);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),Z.off(document,Ve.FOCUSIN),this._element.classList.remove(Xe),Z.off(this._element,Ve.CLICK_DISMISS),Z.off(this._dialog,Ve.MOUSEDOWN_DISMISS),n){var i=g(this._element);Z.one(this._element,c,(function(t){return e._hideModal(t)})),m(this._element,i)}else this._hideModal()}},e.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return Z.off(t,We)})),Z.off(document,Ve.FOCUSIN),A.removeData(this._element,xe),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=r({},Ue,{},t),v("modal",t,Ke),t},e._showElement=function(t){var e=this,n=this._element.classList.contains(Ge),i=$.findOne(qe.MODAL_BODY,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._dialog.classList.contains(Be)&&i?i.scrollTop=0:this._element.scrollTop=0,n&&D(this._element),this._element.classList.add(Xe),this._config.focus&&this._enforceFocus();var o=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,Z.trigger(e._element,Ve.SHOWN,{relatedTarget:t})};if(n){var r=g(this._dialog);Z.one(this._dialog,c,o),m(this._dialog,r)}else o()},e._enforceFocus=function(){var t=this;Z.off(document,Ve.FOCUSIN),Z.on(document,Ve.FOCUSIN,(function(e){document===e.target||t._element===e.target||t._element.contains(e.target)||t._element.focus()}))},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?Z.on(this._element,Ve.KEYDOWN_DISMISS,(function(e){27===e.which&&(e.preventDefault(),t.hide())})):Z.off(this._element,Ve.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?Z.on(window,Ve.RESIZE,(function(){return t._adjustDialog()})):Z.off(window,Ve.RESIZE)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){document.body.classList.remove(Ye),t._resetAdjustments(),t._resetScrollbar(),Z.trigger(t._element,Ve.HIDDEN)}))},e._removeBackdrop=function(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null},e._showBackdrop=function(t){var e=this,n=this._element.classList.contains(Ge)?Ge:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Qe,n&&this._backdrop.classList.add(n),document.body.appendChild(this._backdrop),Z.on(this._element,Ve.CLICK_DISMISS,(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())})),n&&D(this._backdrop),this._backdrop.classList.add(Xe),!n)return void t();var i=g(this._backdrop);Z.one(this._backdrop,c,t),m(this._backdrop,i)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove(Xe);var o=function(){e._removeBackdrop(),t()};if(this._element.classList.contains(Ge)){var r=g(this._backdrop);Z.one(this._backdrop,c,o),m(this._backdrop,r)}else o()}else t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){E($.find(qe.FIXED_CONTENT)).forEach((function(e){var n=e.style.paddingRight,i=window.getComputedStyle(e)["padding-right"];It.setDataAttribute(e,"padding-right",n),e.style.paddingRight=parseFloat(i)+t._scrollbarWidth+"px"})),E($.find(qe.STICKY_CONTENT)).forEach((function(e){var n=e.style.marginRight,i=window.getComputedStyle(e)["margin-right"];It.setDataAttribute(e,"margin-right",n),e.style.marginRight=parseFloat(i)-t._scrollbarWidth+"px"}));var e=document.body.style.paddingRight,n=window.getComputedStyle(document.body)["padding-right"];It.setDataAttribute(document.body,"padding-right",e),document.body.style.paddingRight=parseFloat(n)+this._scrollbarWidth+"px"}document.body.classList.add(Ye)},e._resetScrollbar=function(){E($.find(qe.FIXED_CONTENT)).forEach((function(t){var e=It.getDataAttribute(t,"padding-right");"undefined"!=typeof e&&(It.removeDataAttribute(t,"padding-right"),t.style.paddingRight=e)})),E($.find(""+qe.STICKY_CONTENT)).forEach((function(t){var e=It.getDataAttribute(t,"margin-right");"undefined"!=typeof e&&(It.removeDataAttribute(t,"margin-right"),t.style.marginRight=e)}));var t=It.getDataAttribute(document.body,"padding-right");"undefined"==typeof t?document.body.style.paddingRight="":(It.removeDataAttribute(document.body,"padding-right"),document.body.style.paddingRight=t)},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Fe,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t.jQueryInterface=function(e,n){return this.each((function(){var i=A.getData(this,xe),o=r({},Ue,{},It.getDataAttributes(this),{},"object"==typeof e&&e?e:{});if(i||(i=new t(this,o)),"string"==typeof e){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e](n)}else o.show&&i.show(n)}))},t.getInstance=function(t){return A.getData(t,xe)},n(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ue}}]),t}();Z.on(document,Ve.CLICK_DATA_API,qe.DATA_TOGGLE,(function(t){var e=this,n=d(this);"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),Z.one(n,Ve.SHOW,(function(t){t.defaultPrevented||Z.one(n,Ve.HIDDEN,(function(){y(e)&&e.focus()}))}));var i=A.getData(n,xe);if(!i){var o=r({},It.getDataAttributes(n),{},It.getDataAttributes(this));i=new ze(n,o)}i.show(this)}));var Ze=T();if(Ze){var $e=Ze.fn.modal;Ze.fn.modal=ze.jQueryInterface,Ze.fn.modal.Constructor=ze,Ze.fn.modal.noConflict=function(){return Ze.fn.modal=$e,ze.jQueryInterface}}var Je=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],tn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,en=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,nn=function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===Je.indexOf(n)||Boolean(t.nodeValue.match(tn)||t.nodeValue.match(en));for(var i=e.filter((function(t){return t instanceof RegExp})),o=0,r=i.length;o<r;o++)if(n.match(i[o]))return!0;return!1},on={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function rn(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),r=E(i.body.querySelectorAll("*")),s=function(t,n){var i=r[t],s=i.nodeName.toLowerCase();if(-1===o.indexOf(s))return i.parentNode.removeChild(i),"continue";var a=E(i.attributes),l=[].concat(e["*"]||[],e[s]||[]);a.forEach((function(t){nn(t,l)||i.removeAttribute(t.nodeName)}))},a=0,l=r.length;a<l;a++)s(a);return i.body.innerHTML}var sn="tooltip",an=new RegExp("(^|\\s)bs-tooltip\\S+","g"),ln=["sanitize","whiteList","sanitizeFn"],cn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},un={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},fn={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:on,popperConfig:null},hn="show",dn="out",gn={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},pn="fade",_n="show",mn=".tooltip-inner",vn="hover",En="focus",yn="click",bn="manual",Dn=function(){function e(e,n){if("undefined"==typeof t)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(n),this.tip=null,this._setListeners(),A.setData(e,this.constructor.DATA_KEY,this)}var i=e.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=A.getData(t.delegateTarget,e);n||(n=new this.constructor(t.delegateTarget,this._getDelegateConfig()),A.setData(t.delegateTarget,e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(this.getTipElement().classList.contains(_n))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),A.removeData(this.element,this.constructor.DATA_KEY),Z.off(this.element,this.constructor.EVENT_KEY),Z.off($.closest(this.element,".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.parentNode.removeChild(this.tip),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var e=this;if("none"===this.element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var n=Z.trigger(this.element,this.constructor.Event.SHOW),i=function t(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var n=e.getRootNode();return n instanceof ShadowRoot?n:null}return e instanceof ShadowRoot?e:e.parentNode?t(e.parentNode):null}(this.element),o=null===i?this.element.ownerDocument.documentElement.contains(this.element):i.contains(this.element);if(n.defaultPrevented||!o)return;var r=this.getTipElement(),s=u(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&r.classList.add(pn);var a="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,l=this._getAttachment(a);this._addAttachmentClass(l);var f=this._getContainer();A.setData(r,this.constructor.DATA_KEY,this),this.element.ownerDocument.documentElement.contains(this.tip)||f.appendChild(r),Z.trigger(this.element,this.constructor.Event.INSERTED),this._popper=new t(this.element,r,this._getPopperConfig(l)),r.classList.add(_n),"ontouchstart"in document.documentElement&&E(document.body.children).forEach((function(t){Z.on(t,"mouseover",(function(){}))}));var h=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,Z.trigger(e.element,e.constructor.Event.SHOWN),t===dn&&e._leave(null,e)};if(this.tip.classList.contains(pn)){var d=g(this.tip);Z.one(this.tip,c,h),m(this.tip,d)}else h()}},i.hide=function(){var t=this,e=this.getTipElement(),n=function(){t._hoverState!==hn&&e.parentNode&&e.parentNode.removeChild(e),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),Z.trigger(t.element,t.constructor.Event.HIDDEN),t._popper.destroy()};if(!Z.trigger(this.element,this.constructor.Event.HIDE).defaultPrevented){if(e.classList.remove(_n),"ontouchstart"in document.documentElement&&E(document.body.children).forEach((function(t){return Z.off(t,"mouseover",b)})),this._activeTrigger[yn]=!1,this._activeTrigger[En]=!1,this._activeTrigger[vn]=!1,this.tip.classList.contains(pn)){var i=g(e);Z.one(e,c,n),m(e,i)}else n();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.getTipElement=function(){if(this.tip)return this.tip;var t=document.createElement("div");return t.innerHTML=this.config.template,this.tip=t.children[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent($.findOne(mn,t),this.getTitle()),t.classList.remove(pn),t.classList.remove(_n)},i.setElementContent=function(t,e){if(null!==t)return"object"==typeof e&&_(e)?(e.jquery&&(e=e[0]),void(this.config.html?e.parentNode!==t&&(t.innerHTML="",t.appendChild(e)):t.innerText=e.textContent)):void(this.config.html?(this.config.sanitize&&(e=rn(e,this.config.whiteList,this.config.sanitizeFn)),t.innerHTML=e):t.innerText=e)},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getPopperConfig=function(t){var e=this;return r({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:"."+this.constructor.NAME+"-arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},{},this.config.popperConfig)},i._addAttachmentClass=function(t){this.getTipElement().classList.add("bs-tooltip-"+t)},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=r({},e.offsets,{},t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:_(this.config.container)?this.config.container:$.findOne(this.config.container)},i._getAttachment=function(t){return un[t.toUpperCase()]},i._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)Z.on(t.element,t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(e!==bn){var n=e===vn?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,i=e===vn?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;Z.on(t.element,n,t.config.selector,(function(e){return t._enter(e)})),Z.on(t.element,i,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},Z.on($.closest(this.element,".modal"),"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||A.getData(t.delegateTarget,n))||(e=new this.constructor(t.delegateTarget,this._getDelegateConfig()),A.setData(t.delegateTarget,n,e)),t&&(e._activeTrigger["focusin"===t.type?En:vn]=!0),e.getTipElement().classList.contains(_n)||e._hoverState===hn?e._hoverState=hn:(clearTimeout(e._timeout),e._hoverState=hn,e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){e._hoverState===hn&&e.show()}),e.config.delay.show):e.show())},i._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||A.getData(t.delegateTarget,n))||(e=new this.constructor(t.delegateTarget,this._getDelegateConfig()),A.setData(t.delegateTarget,n,e)),t&&(e._activeTrigger["focusout"===t.type?En:vn]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=dn,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){e._hoverState===dn&&e.hide()}),e.config.delay.hide):e.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var e=It.getDataAttributes(this.element);return Object.keys(e).forEach((function(t){-1!==ln.indexOf(t)&&delete e[t]})),t&&"object"==typeof t.container&&t.container.jquery&&(t.container=t.container[0]),"number"==typeof(t=r({},this.constructor.Default,{},e,{},"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),v(sn,t,this.constructor.DefaultType),t.sanitize&&(t.template=rn(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(an);null!==e&&e.length&&e.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(t.classList.remove(pn),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},e.jQueryInterface=function(t){return this.each((function(){var n=A.getData(this,"bs.tooltip"),i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new e(this,i)),"string"==typeof t)){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},e.getInstance=function(t){return A.getData(t,"bs.tooltip")},n(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return fn}},{key:"NAME",get:function(){return sn}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return gn}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return cn}}]),e}(),Tn=T();if(Tn){var In=Tn.fn.tooltip;Tn.fn.tooltip=Dn.jQueryInterface,Tn.fn.tooltip.Constructor=Dn,Tn.fn.tooltip.noConflict=function(){return Tn.fn.tooltip=In,Dn.jQueryInterface}}var An="popover",Sn=new RegExp("(^|\\s)bs-popover\\S+","g"),wn=r({},Dn.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Cn=r({},Dn.DefaultType,{content:"(string|element|function)"}),Ln="fade",On="show",Nn=".popover-header",kn=".popover-body",Pn={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Hn=function(t){var e,i;function o(){return t.apply(this,arguments)||this}i=t,(e=o).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var r=o.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.setContent=function(){var t=this.getTipElement();this.setElementContent($.findOne(Nn,t),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent($.findOne(kn,t),e),t.classList.remove(Ln),t.classList.remove(On)},r._addAttachmentClass=function(t){this.getTipElement().classList.add("bs-popover-"+t)},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(Sn);null!==e&&e.length>0&&e.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))},o.jQueryInterface=function(t){return this.each((function(){var e=A.getData(this,"bs.popover"),n="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new o(this,n),A.setData(this,"bs.popover",e)),"string"==typeof t)){if("undefined"==typeof e[t])throw new TypeError('No method named "'+t+'"');e[t]()}}))},o.getInstance=function(t){return A.getData(t,"bs.popover")},n(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return wn}},{key:"NAME",get:function(){return An}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Pn}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Cn}}]),o}(Dn),jn=T();if(jn){var Mn=jn.fn.popover;jn.fn.popover=Hn.jQueryInterface,jn.fn.popover.Constructor=Hn,jn.fn.popover.noConflict=function(){return jn.fn.popover=Mn,Hn.jQueryInterface}}var Rn="scrollspy",xn="bs.scrollspy",Wn="."+xn,Un={offset:10,method:"auto",target:""},Kn={offset:"number",method:"string",target:"(string|element)"},Vn={ACTIVATE:"activate"+Wn,SCROLL:"scroll"+Wn,LOAD_DATA_API:"load"+Wn+".data-api"},Bn={DROPDOWN_ITEM:"dropdown-item",ACTIVE:"active"},Fn={DATA_SPY:'[data-spy="scroll"]',NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_TOGGLE:".dropdown-toggle"},Qn="offset",Yn="position",Gn=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+Fn.NAV_LINKS+","+this._config.target+" "+Fn.LIST_ITEMS+","+this._config.target+" ."+Bn.DROPDOWN_ITEM,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Z.on(this._scrollElement,Vn.SCROLL,(function(t){return n._process(t)})),this.refresh(),this._process(),A.setData(t,xn,this)}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?Qn:Yn,n="auto"===this._config.method?e:this._config.method,i=n===Yn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),E($.find(this._selector)).map((function(t){var e,o=h(t);if(o&&(e=$.findOne(o)),e){var r=e.getBoundingClientRect();if(r.width||r.height)return[It[n](e).top+i,o]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},e.dispose=function(){A.removeData(this._element,xn),Z.off(this._scrollElement,Wn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=r({},Un,{},"object"==typeof t&&t?t:{})).target){var e=t.target.id;e||(e=u(Rn),t.target.id=e),t.target="#"+e}return v(Rn,t,Kn),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&("undefined"==typeof this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),n=$.findOne(e.join(","));n.classList.contains(Bn.DROPDOWN_ITEM)?($.findOne(Fn.DROPDOWN_TOGGLE,$.closest(n,Fn.DROPDOWN)).classList.add(Bn.ACTIVE),n.classList.add(Bn.ACTIVE)):(n.classList.add(Bn.ACTIVE),$.parents(n,Fn.NAV_LIST_GROUP).forEach((function(t){$.prev(t,Fn.NAV_LINKS+", "+Fn.LIST_ITEMS).forEach((function(t){return t.classList.add(Bn.ACTIVE)})),$.prev(t,Fn.NAV_ITEMS).forEach((function(t){$.children(t,Fn.NAV_LINKS).forEach((function(t){return t.classList.add(Bn.ACTIVE)}))}))}))),Z.trigger(this._scrollElement,Vn.ACTIVATE,{relatedTarget:t})},e._clear=function(){E($.find(this._selector)).filter((function(t){return t.classList.contains(Bn.ACTIVE)})).forEach((function(t){return t.classList.remove(Bn.ACTIVE)}))},t.jQueryInterface=function(e){return this.each((function(){var n=A.getData(this,xn);if(n||(n=new t(this,"object"==typeof e&&e)),"string"==typeof e){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},t.getInstance=function(t){return A.getData(t,xn)},n(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Un}}]),t}();Z.on(window,Vn.LOAD_DATA_API,(function(){E($.find(Fn.DATA_SPY)).forEach((function(t){return new Gn(t,It.getDataAttributes(t))}))}));var Xn=T();if(Xn){var qn=Xn.fn[Rn];Xn.fn[Rn]=Gn.jQueryInterface,Xn.fn[Rn].Constructor=Gn,Xn.fn[Rn].noConflict=function(){return Xn.fn[Rn]=qn,Gn.jQueryInterface}}var zn="bs.tab",Zn="."+zn,$n={HIDE:"hide"+Zn,HIDDEN:"hidden"+Zn,SHOW:"show"+Zn,SHOWN:"shown"+Zn,CLICK_DATA_API:"click"+Zn+".data-api"},Jn="dropdown-menu",ti="active",ei="disabled",ni="fade",ii="show",oi=".dropdown",ri=".nav, .list-group",si=".active",ai=":scope > li > .active",li='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',ci=".dropdown-toggle",ui=":scope > .dropdown-menu .active",fi=function(){function t(t){this._element=t,A.setData(this._element,zn,this)}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(ti)||this._element.classList.contains(ei))){var e,n=d(this._element),i=$.closest(this._element,ri);if(i){var o="UL"===i.nodeName||"OL"===i.nodeName?ai:si;e=(e=E($.find(o,i)))[e.length-1]}var r=null;if(e&&(r=Z.trigger(e,$n.HIDE,{relatedTarget:this._element})),!(Z.trigger(this._element,$n.SHOW,{relatedTarget:e}).defaultPrevented||null!==r&&r.defaultPrevented)){this._activate(this._element,i);var s=function(){Z.trigger(e,$n.HIDDEN,{relatedTarget:t._element}),Z.trigger(t._element,$n.SHOWN,{relatedTarget:e})};n?this._activate(n,n.parentNode,s):s()}}},e.dispose=function(){A.removeData(this._element,zn),this._element=null},e._activate=function(t,e,n){var i=this,o=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?$.children(e,si):$.find(ai,e))[0],r=n&&o&&o.classList.contains(ni),s=function(){return i._transitionComplete(t,o,n)};if(o&&r){var a=g(o);o.classList.remove(ii),Z.one(o,c,s),m(o,a)}else s()},e._transitionComplete=function(t,e,n){if(e){e.classList.remove(ti);var i=$.findOne(ui,e.parentNode);i&&i.classList.remove(ti),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}(t.classList.add(ti),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),D(t),t.classList.contains(ni)&&t.classList.add(ii),t.parentNode&&t.parentNode.classList.contains(Jn))&&($.closest(t,oi)&&E($.find(ci)).forEach((function(t){return t.classList.add(ti)})),t.setAttribute("aria-expanded",!0));n&&n()},t.jQueryInterface=function(e){return this.each((function(){var n=A.getData(this,zn)||new t(this);if("string"==typeof e){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},t.getInstance=function(t){return A.getData(t,zn)},n(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();Z.on(document,$n.CLICK_DATA_API,li,(function(t){t.preventDefault(),(A.getData(this,zn)||new fi(this)).show()}));var hi=T();if(hi){var di=hi.fn.tab;hi.fn.tab=fi.jQueryInterface,hi.fn.tab.Constructor=fi,hi.fn.tab.noConflict=function(){return hi.fn.tab=di,fi.jQueryInterface}}var gi="bs.toast",pi="."+gi,_i={CLICK_DISMISS:"click.dismiss"+pi,HIDE:"hide"+pi,HIDDEN:"hidden"+pi,SHOW:"show"+pi,SHOWN:"shown"+pi},mi="fade",vi="hide",Ei="show",yi="showing",bi={animation:"boolean",autohide:"boolean",delay:"number"},Di={animation:!0,autohide:!0,delay:500},Ti='[data-dismiss="toast"]',Ii=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners(),A.setData(t,gi,this)}var e=t.prototype;return e.show=function(){var t=this;if(!Z.trigger(this._element,_i.SHOW).defaultPrevented){this._config.animation&&this._element.classList.add(mi);var e=function(){t._element.classList.remove(yi),t._element.classList.add(Ei),Z.trigger(t._element,_i.SHOWN),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove(vi),D(this._element),this._element.classList.add(yi),this._config.animation){var n=g(this._element);Z.one(this._element,c,e),m(this._element,n)}else e()}},e.hide=function(){var t=this;if(this._element.classList.contains(Ei)&&!Z.trigger(this._element,_i.HIDE).defaultPrevented){var e=function(){t._element.classList.add(vi),Z.trigger(t._element,_i.HIDDEN)};if(this._element.classList.remove(Ei),this._config.animation){var n=g(this._element);Z.one(this._element,c,e),m(this._element,n)}else e()}},e.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Ei)&&this._element.classList.remove(Ei),Z.off(this._element,_i.CLICK_DISMISS),A.removeData(this._element,gi),this._element=null,this._config=null},e._getConfig=function(t){return t=r({},Di,{},It.getDataAttributes(this._element),{},"object"==typeof t&&t?t:{}),v("toast",t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;Z.on(this._element,_i.CLICK_DISMISS,Ti,(function(){return t.hide()}))},t.jQueryInterface=function(e){return this.each((function(){var n=A.getData(this,gi);if(n||(n=new t(this,"object"==typeof e&&e)),"string"==typeof e){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e](this)}}))},t.getInstance=function(t){return A.getData(t,gi)},n(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return bi}},{key:"Default",get:function(){return Di}}]),t}(),Ai=T();if(Ai){var Si=Ai.fn.toast;Ai.fn.toast=Ii.jQueryInterface,Ai.fn.toast.Constructor=Ii,Ai.fn.toast.noConflict=function(){return Ai.fn.toast=Si,Ii.jQueryInterface}}return{Alert:rt,Button:Et,Carousel:Qt,Collapse:ae,Dropdown:je,Modal:ze,Popover:Hn,ScrollSpy:Gn,Tab:fi,Toast:Ii,Tooltip:Dn}}));
//# sourceMappingURL=bootstrap.min.js.map</script>
        <!-- cannot compile popper -->

        <script type="text/javascript">!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.NGL={})}(this,function(de){"use strict";var t,u,e,i,c,r,h,n;"undefined"!=typeof window&&function(){window.console=window.console||{};for(var t,e,i=window.console,r={},n=function(){},o="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)i[t]||(i[t]=r);for(;e=a.pop();)i[e]||(i[e]=n)}(),void 0===window.HTMLCanvasElement||window.HTMLCanvasElement.prototype.toBlob||Object.defineProperty(window.HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,i){for(var r=window.atob(this.toDataURL(e,i).split(",")[1]),n=r.length,o=n>>2,a=new Uint8Array(n),s=new Uint32Array(a.buffer,0,o),c=0,u=0;c<o;c++)s[c]=r.charCodeAt(u++)|r.charCodeAt(u++)<<8|r.charCodeAt(u++)<<16|r.charCodeAt(u++)<<24;for(var h=3&n;h--;)a[u]=r.charCodeAt(u++);t(new window.Blob([a],{type:e||"image/png"}))}}),Math.cbrt=Math.cbrt||function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},Math.sign||(Math.sign=function(t){return 0===(t=+t)||isNaN(t)?Number(t):0<t?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&-9007199254740992<t&&t<9007199254740992&&Math.floor(t)===t}),Number.isNaN||(Number.isNaN=function(t){return t!=t}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=arguments;if(null==t)throw new TypeError("Cannot convert first argument to object");for(var i,r=Object(t),n=!1,o=1;o<arguments.length;o++){var a=e[o];if(null!=a){for(var s=Object.keys(Object(a)),c=0,u=s.length;c<u;c++){var h=s[c];try{var l=Object.getOwnPropertyDescriptor(a,h);void 0!==l&&l.enumerable&&(r[h]=a[h])}catch(t){n||(n=!0,i=t)}}if(n)throw i}}return r}}),String.prototype.startsWith||(t=function(){var t;try{var e={},i=Object.defineProperty;t=i(e,e,e)&&i}catch(t){}return t}(),u={}.toString,e=function(t){if(null===this)throw TypeError();var e=String(this);if(t&&"[object RegExp]"===u.call(t))throw TypeError();var i=e.length,r=String(t),n=r.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;Number.isNaN(a)&&(a=0);var s=Math.min(Math.max(a,0),i);if(i<n+s)return!1;for(var c=-1;++c<n;)if(e.charCodeAt(s+c)!==r.charCodeAt(c))return!1;return!0},t?t(String.prototype,"startsWith",{value:e,configurable:!0,writable:!0}):String.prototype.startsWith=e),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var r=i.indexOf(t,e);return-1!==r&&r===e}),String.prototype.repeat||(String.prototype.repeat=function(t){if(null===this)throw new TypeError("can't convert "+this+" to object");var e=""+this;if(t=+t,Number.isNaN(t)&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t===1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0===e.length||0===t)return"";if(e.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var i="";1==(1&t)&&(i+=e),0!==(t>>>=1);)e+=e;return i}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||(Array.prototype.includes=function(t){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var e=Object(this),i=parseInt(e.length,10)||0;if(0===i)return!1;var r,n,o=parseInt(arguments[1],10)||0;for(0<=o?r=o:(r=i+o)<0&&(r=0);r<i;){if(t===(n=e[r])||Number.isNaN(t)&&Number.isNaN(n))return!0;r++}return!1}),Array.from||(Array.from=(i=Object.prototype.toString,c=function(t){return"function"==typeof t||"[object Function]"===i.call(t)},r=Math.pow(2,53)-1,h=function(t){var e,i=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(i,0),r)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,r=1<arguments.length?arguments[1]:void 0;if(void 0!==r){if(!c(r))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=arguments[2])}for(var n,o=h(e.length),a=c(this)?Object(new this(o)):new Array(o),s=0;s<o;)n=e[s],a[s]=r?void 0===i?r(n,s):r.call(i,n,s):n,s+=1;return a.length=o,a})),"undefined"!=typeof window&&function(){for(var n=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),r=window.setTimeout(function(){t(e+i)},i);return n=e+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),"undefined"!=typeof window&&(void 0===window.performance&&(self.performance={}),void 0===window.performance.now&&(n=Date.now(),window.performance.now=function(){return Date.now()-n})),void 0!==Object.defineProperty&&(void 0===Number.MAX_SAFE_INTEGER&&Object.defineProperty(Number,"MAX_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:Math.pow(2,53)-1}),void 0===Number.MIN_SAFE_INTEGER&&Object.defineProperty(Number,"MIN_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:-(Math.pow(2,53)-1)}));var o=setTimeout;function a(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(t,this)}function l(i,r){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,s._immediateFn(function(){var t=1===i._state?r.onFulfilled:r.onRejected;if(null!==t){var e;try{e=t(i._value)}catch(t){return void d(r.promise,t)}p(r.promise,e)}else(1===i._state?p:d)(r.promise,i._value)})):i._deferreds.push(r)}function p(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof s)return e._state=3,e._value=t,void f(e);if("function"==typeof i)return void g((r=i,n=t,function(){r.apply(n,arguments)}),e)}e._state=1,e._value=t,f(e)}catch(t){d(e,t)}var r,n}function d(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)l(t,t._deferreds[e]);t._deferreds=null}function m(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function g(t,e){var i=!1;try{t(function(t){i||(i=!0,p(e,t))},function(t){i||(i=!0,d(e,t))})}catch(t){if(i)return;i=!0,d(e,t)}}function v(){}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var i=new this.constructor(a);return l(this,new m(t,e,i)),i},s.prototype.finally=function(e){var i=this.constructor;return this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){return i.reject(t)})})},s.all=function(e){return new s(function(r,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return r([]);var a=o.length;function s(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void i.call(t,function(t){s(e,t)},n)}o[e]=t,0==--a&&r(o)}catch(t){n(t)}}for(var t=0;t<o.length;t++)s(t,o[t])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(i){return new s(function(t,e){e(i)})},s.race=function(n){return new s(function(t,e){for(var i=0,r=n.length;i<r;i++)n[i].then(t,e)})},s._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){o(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:0<t?1:+t}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){var e=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1;r<arguments.length;r++){var n=e[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i}),Object.assign(v.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,t)}}}});var y,b,x,_,w,S,A,M,E,P,T,C,I,O,L,R,D,k,B,N,F,z,$=0,W=1,X=2,U=1,j=2,G=0,wt=1,et=2,V=0,q=0,Y=1,Z=2,K=3,J=4,Q=5,H=100,tt=101,it=102,rt=103,nt=104,ot=200,at=201,st=202,ct=203,ut=204,ht=205,lt=206,pt=207,dt=208,ft=209,mt=210,gt=0,vt=1,yt=2,bt=3,xt=4,_t=5,St=6,At=7,Mt=0,Et=1,Pt=2,Tt=0,Ct=1,It=2,Ot=3,Lt=4,Rt=301,Dt=302,kt=303,Bt=304,Nt=305,Ft=306,zt=307,Ut=1e3,jt=1001,Gt=1002,Vt=1003,Ht=1004,$t=1005,Wt=1006,Xt=1007,qt=1008,Yt=1009,Zt=1010,Kt=1011,Jt=1012,Qt=1013,te=1014,ee=1015,ie=1016,re=1017,ne=1018,oe=1019,ae=1020,se=1021,ce=1022,ue=1023,he=1024,le=1025,pe=1026,fe=1027,ge=33776,ve=33777,ye=33778,be=33779,xe=35840,_e=35841,we=35842,Se=35843,Ae=36196,Me=37808,Ee=37809,Pe=37810,Te=37811,Ce=37812,Ie=37813,Oe=37814,Le=37815,Re=37816,De=37817,ke=37818,Be=37819,Ne=37820,Fe=37821,ze=2400,Ue=2401,je=0,Ge=3e3,Ve=3001,He=3007,$e=3002,We=3004,Xe=3005,qe=3006,Ye=3200,Ze=3201,Ke=0,Je=1,Qe={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var n=[],t=0;t<256;t++)n[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(n[255&t]+n[t>>8&255]+n[t>>16&255]+n[t>>24&255]+"-"+n[255&e]+n[e>>8&255]+"-"+n[e>>16&15|64]+n[e>>24&255]+"-"+n[63&i|128]+n[i>>8&255]+"-"+n[i>>16&255]+n[i>>24&255]+n[255&r]+n[r>>8&255]+n[r>>16&255]+n[r>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:i<=t?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:i<=t?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Qe.DEG2RAD},radToDeg:function(t){return t*Qe.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function ti(t,e){this.x=t||0,this.y=e||0}function ei(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function ii(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1}function ri(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function ni(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(ti.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(ti.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:(y=new ti,b=new ti,function(t,e){return y.set(t,t),b.set(e,e),this.clamp(y,b)}),clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=this.x-t.x,o=this.y-t.y;return this.x=n*i-o*r+t.x,this.y=n*r+o*i+t.y,this}}),Object.assign(ei.prototype,{isMatrix4:!0,set:function(t,e,i,r,n,o,a,s,c,u,h,l,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=i,g[12]=r,g[1]=n,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=u,g[10]=h,g[14]=l,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new ei).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:(T=new ri,function(t){var e=this.elements,i=t.elements,r=1/T.setFromMatrixColumn(t,0).length(),n=1/T.setFromMatrixColumn(t,1).length(),o=1/T.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*n,e[5]=i[5]*n,e[6]=i[6]*n,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,r=t.y,n=t.z,o=Math.cos(i),a=Math.sin(i),s=Math.cos(r),c=Math.sin(r),u=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){var l=o*u,p=o*h,d=a*u,f=a*h;e[0]=s*u,e[4]=-s*h,e[8]=c,e[1]=p+d*c,e[5]=l-f*c,e[9]=-a*s,e[2]=f-l*c,e[6]=d+p*c,e[10]=o*s}else if("YXZ"===t.order){var m=s*u,g=s*h,v=c*u,y=c*h;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*c,e[1]=o*h,e[5]=o*u,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){m=s*u,g=s*h,v=c*u,y=c*h;e[0]=m-y*a,e[4]=-o*h,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*u,e[9]=y-m*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){l=o*u,p=o*h,d=a*u,f=a*h;e[0]=s*u,e[4]=d*c-p,e[8]=l*c+f,e[1]=s*h,e[5]=f*c+l,e[9]=p*c-d,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var b=o*s,x=o*c,_=a*s,w=a*c;e[0]=s*u,e[4]=w-b*h,e[8]=_*h+x,e[1]=h,e[5]=o*u,e[9]=-a*u,e[2]=-c*u,e[6]=x*h+_,e[10]=b-w*h}else if("XZY"===t.order){b=o*s,x=o*c,_=a*s,w=a*c;e[0]=s*u,e[4]=-h,e[8]=c*u,e[1]=b*h+w,e[5]=o*u,e[9]=x*h-_,e[2]=_*h-x,e[6]=a*u,e[10]=w*h+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(E=new ri(0,0,0),P=new ri(1,1,1),function(t){return this.compose(E,t,P)}),lookAt:(S=new ri,A=new ri,M=new ri,function(t,e,i){var r=this.elements;return M.subVectors(t,e),0===M.lengthSq()&&(M.z=1),M.normalize(),S.crossVectors(i,M),0===S.lengthSq()&&(1===Math.abs(i.z)?M.x+=1e-4:M.z+=1e-4,M.normalize(),S.crossVectors(i,M)),S.normalize(),A.crossVectors(M,S),r[0]=S.x,r[4]=A.x,r[8]=M.x,r[1]=S.y,r[5]=A.y,r[9]=M.y,r[2]=S.z,r[6]=A.z,r[10]=M.z,this}),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,o=i[0],a=i[4],s=i[8],c=i[12],u=i[1],h=i[5],l=i[9],p=i[13],d=i[2],f=i[6],m=i[10],g=i[14],v=i[3],y=i[7],b=i[11],x=i[15],_=r[0],w=r[4],S=r[8],A=r[12],M=r[1],E=r[5],P=r[9],T=r[13],C=r[2],I=r[6],O=r[10],L=r[14],R=r[3],D=r[7],k=r[11],B=r[15];return n[0]=o*_+a*M+s*C+c*R,n[4]=o*w+a*E+s*I+c*D,n[8]=o*S+a*P+s*O+c*k,n[12]=o*A+a*T+s*L+c*B,n[1]=u*_+h*M+l*C+p*R,n[5]=u*w+h*E+l*I+p*D,n[9]=u*S+h*P+l*O+p*k,n[13]=u*A+h*T+l*L+p*B,n[2]=d*_+f*M+m*C+g*R,n[6]=d*w+f*E+m*I+g*D,n[10]=d*S+f*P+m*O+g*k,n[14]=d*A+f*T+m*L+g*B,n[3]=v*_+y*M+b*C+x*R,n[7]=v*w+y*E+b*I+x*D,n[11]=v*S+y*P+b*O+x*k,n[15]=v*A+y*T+b*L+x*B,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:(w=new ri,function(t){for(var e=0,i=t.count;e<i;e++)w.x=t.getX(e),w.y=t.getY(e),w.z=t.getZ(e),w.applyMatrix4(this),t.setXYZ(e,w.x,w.y,w.z);return t}),determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],o=t[1],a=t[5],s=t[9],c=t[13],u=t[2],h=t[6],l=t[10],p=t[14];return t[3]*(+n*s*h-r*c*h-n*a*l+i*c*l+r*a*p-i*s*p)+t[7]*(+e*s*p-e*c*l+n*o*l-r*o*p+r*c*u-n*s*u)+t[11]*(+e*c*h-e*a*p-n*o*h+i*o*p+n*a*u-i*c*u)+t[15]*(-r*a*u-e*s*h+e*a*l+r*o*h-i*o*l+i*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,r=t.elements,n=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=r[5],h=r[6],l=r[7],p=r[8],d=r[9],f=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],x=d*y*l-v*f*l+v*h*m-u*y*m-d*h*b+u*f*b,_=g*f*l-p*y*l-g*h*m+c*y*m+p*h*b-c*f*b,w=p*v*l-g*d*l+g*u*m-c*v*m-p*u*b+c*d*b,S=g*d*h-p*v*h-g*u*f+c*v*f+p*u*y-c*d*y,A=n*x+o*_+a*w+s*S;if(0===A){var M="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(M);return console.warn(M),this.identity()}var E=1/A;return i[0]=x*E,i[1]=(v*f*s-d*y*s-v*a*m+o*y*m+d*a*b-o*f*b)*E,i[2]=(u*y*s-v*h*s+v*a*l-o*y*l-u*a*b+o*h*b)*E,i[3]=(d*h*s-u*f*s-d*a*l+o*f*l+u*a*m-o*h*m)*E,i[4]=_*E,i[5]=(p*y*s-g*f*s+g*a*m-n*y*m-p*a*b+n*f*b)*E,i[6]=(g*h*s-c*y*s-g*a*l+n*y*l+c*a*b-n*h*b)*E,i[7]=(c*f*s-p*h*s+p*a*l-n*f*l-c*a*m+n*h*m)*E,i[8]=w*E,i[9]=(g*d*s-p*v*s-g*o*m+n*v*m+p*o*b-n*d*b)*E,i[10]=(c*v*s-g*u*s+g*o*l-n*v*l-c*o*b+n*u*b)*E,i[11]=(p*u*s-c*d*s-p*o*l+n*d*l+c*o*m-n*u*m)*E,i[12]=S*E,i[13]=(p*v*a-g*d*a+g*o*f-n*v*f-p*o*y+n*d*y)*E,i[14]=(g*u*a-c*v*a-g*o*h+n*v*h+c*o*y-n*u*y)*E,i[15]=(c*d*a-p*u*a+p*o*h-n*d*h-c*o*f+n*u*f)*E,this},scale:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,o=t.x,a=t.y,s=t.z,c=n*o,u=n*a;return this.set(c*o+i,c*a-r*s,c*s+r*a,0,c*a+r*s,u*a+i,u*s-r*o,0,c*s-r*a,u*s+r*o,n*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var r=this.elements,n=e._x,o=e._y,a=e._z,s=e._w,c=n+n,u=o+o,h=a+a,l=n*c,p=n*u,d=n*h,f=o*u,m=o*h,g=a*h,v=s*c,y=s*u,b=s*h,x=i.x,_=i.y,w=i.z;return r[0]=(1-(f+g))*x,r[1]=(p+b)*x,r[2]=(d-y)*x,r[3]=0,r[4]=(p-b)*_,r[5]=(1-(l+g))*_,r[6]=(m+v)*_,r[7]=0,r[8]=(d+y)*w,r[9]=(m-v)*w,r[10]=(1-(l+f))*w,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(x=new ri,_=new ei,function(t,e,i){var r=this.elements,n=x.set(r[0],r[1],r[2]).length(),o=x.set(r[4],r[5],r[6]).length(),a=x.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],_.copy(this);var s=1/n,c=1/o,u=1/a;return _.elements[0]*=s,_.elements[1]*=s,_.elements[2]*=s,_.elements[4]*=c,_.elements[5]*=c,_.elements[6]*=c,_.elements[8]*=u,_.elements[9]*=u,_.elements[10]*=u,e.setFromRotationMatrix(_),i.x=n,i.y=o,i.z=a,this}),makePerspective:function(t,e,i,r,n,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*n/(e-t),c=2*n/(i-r),u=(e+t)/(e-t),h=(i+r)/(i-r),l=-(o+n)/(o-n),p=-2*o*n/(o-n);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,i,r,n,o){var a=this.elements,s=1/(e-t),c=1/(i-r),u=1/(o-n),h=(e+t)*s,l=(i+r)*c,p=(o+n)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}),Object.assign(ii,{slerp:function(t,e,i,r){return i.copy(t).slerp(e,r)},slerpFlat:function(t,e,i,r,n,o,a){var s=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3],l=n[o+0],p=n[o+1],d=n[o+2],f=n[o+3];if(h!==f||s!==l||c!==p||u!==d){var m=1-a,g=s*l+c*p+u*d+h*f,v=0<=g?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var _=a*v;if(s=s*m+l*_,c=c*m+p*_,u=u*m+d*_,h=h*m+f*_,m===1-a){var w=1/Math.sqrt(s*s+c*c+u*u+h*h);s*=w,c*=w,u*=w,h*=w}}t[e]=s,t[e+1]=c,t[e+2]=u,t[e+3]=h}}),Object.defineProperties(ii.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(ii.prototype,{set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,o=t.order,a=Math.cos,s=Math.sin,c=a(i/2),u=a(r/2),h=a(n/2),l=s(i/2),p=s(r/2),d=s(n/2);return"XYZ"===o?(this._x=l*u*h+c*p*d,this._y=c*p*h-l*u*d,this._z=c*u*d+l*p*h,this._w=c*u*h-l*p*d):"YXZ"===o?(this._x=l*u*h+c*p*d,this._y=c*p*h-l*u*d,this._z=c*u*d-l*p*h,this._w=c*u*h+l*p*d):"ZXY"===o?(this._x=l*u*h-c*p*d,this._y=c*p*h+l*u*d,this._z=c*u*d+l*p*h,this._w=c*u*h-l*p*d):"ZYX"===o?(this._x=l*u*h-c*p*d,this._y=c*p*h+l*u*d,this._z=c*u*d-l*p*h,this._w=c*u*h+l*p*d):"YZX"===o?(this._x=l*u*h+c*p*d,this._y=c*p*h+l*u*d,this._z=c*u*d-l*p*h,this._w=c*u*h-l*p*d):"XZY"===o&&(this._x=l*u*h-c*p*d,this._y=c*p*h-l*u*d,this._z=c*u*d+l*p*h,this._w=c*u*h+l*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],n=i[4],o=i[8],a=i[1],s=i[5],c=i[9],u=i[2],h=i[6],l=i[10],p=r+s+l;return 0<p?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(h-c)*e,this._y=(o-u)*e,this._z=(a-n)*e):s<r&&l<r?(e=2*Math.sqrt(1+r-s-l),this._w=(h-c)/e,this._x=.25*e,this._y=(n+a)/e,this._z=(o+u)/e):l<s?(e=2*Math.sqrt(1+s-r-l),this._w=(o-u)/e,this._x=(n+a)/e,this._y=.25*e,this._z=(c+h)/e):(e=2*Math.sqrt(1+l-r-s),this._w=(a-n)/e,this._x=(o+u)/e,this._y=(c+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:(I=new ri,function(t,e){return void 0===I&&(I=new ri),(C=t.dot(e)+1)<1e-6?(C=0,Math.abs(t.x)>Math.abs(t.z)?I.set(-t.y,t.x,0):I.set(0,-t.z,t.y)):I.crossVectors(t,e),this._x=I.x,this._y=I.y,this._z=I.z,this._w=C,this.normalize()}),angleTo:function(t){return 2*Math.acos(Math.abs(Qe.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,n=t._z,o=t._w,a=e._x,s=e._y,c=e._z,u=e._w;return this._x=i*u+o*a+r*c-n*s,this._y=r*u+o*s+n*a-i*c,this._z=n*u+o*c+i*s-r*a,this._w=o*u-i*a-r*s-n*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,o=this._w,a=o*t._w+i*t._x+r*t._y+n*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),1<=a)return this._w=o,this._x=i,this._y=r,this._z=n,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-e;return this._w=c*o+e*this._w,this._x=c*i+e*this._x,this._y=c*r+e*this._y,this._z=c*n+e*this._z,this.normalize()}var u=Math.sqrt(s),h=Math.atan2(u,a),l=Math.sin((1-e)*h)/u,p=Math.sin(e*h)/u;return this._w=o*l+this._w*p,this._x=i*l+this._x*p,this._y=r*l+this._y*p,this._z=n*l+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(ri.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(F=new ii,function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(F.setFromEuler(t))}),applyAxisAngle:(N=new ii,function(t,e){return this.applyQuaternion(N.setFromAxisAngle(t,e))}),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,o=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*o,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*o,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*o,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*r-a*i,u=s*i+a*e-n*r,h=s*r+n*i-o*e,l=-n*e-o*i-a*r;return this.x=c*s+l*-n+u*-a-h*-o,this.y=u*s+l*-o+h*-n-c*-a,this.z=h*s+l*-a+c*-o-u*-n,this},project:(B=new ei,function(t){return B.multiplyMatrices(t.projectionMatrix,B.getInverse(t.matrixWorld)),this.applyMatrix4(B)}),unproject:(k=new ei,function(t){return k.multiplyMatrices(t.matrixWorld,k.getInverse(t.projectionMatrix)),this.applyMatrix4(k)}),transformDirection:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:(R=new ri,D=new ri,function(t,e){return R.set(t,t,t),D.set(e,e,e),this.clamp(R,D)}),clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-n*a,this.y=n*o-i*s,this.z=i*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(L=new ri,function(t){return L.copy(this).projectOnVector(t),this.sub(L)}),reflect:(O=new ri,function(t){return this.sub(O.copy(t).multiplyScalar(2*this.dot(t)))}),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Qe.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(ni.prototype,{isMatrix3:!0,set:function(t,e,i,r,n,o,a,s,c){var u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=n,u[5]=s,u[6]=i,u[7]=o,u[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:(z=new ri,function(t){for(var e=0,i=t.count;e<i;e++)z.x=t.getX(e),z.y=t.getY(e),z.z=t.getZ(e),z.applyMatrix3(this),t.setXYZ(e,z.x,z.y,z.z);return t}),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,o=i[0],a=i[3],s=i[6],c=i[1],u=i[4],h=i[7],l=i[2],p=i[5],d=i[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return n[0]=o*f+a*v+s*x,n[3]=o*m+a*y+s*_,n[6]=o*g+a*b+s*w,n[1]=c*f+u*v+h*x,n[4]=c*m+u*y+h*_,n[7]=c*g+u*b+h*w,n[2]=l*f+p*v+d*x,n[5]=l*m+p*y+d*_,n[8]=l*g+p*b+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],o=t[4],a=t[5],s=t[6],c=t[7],u=t[8];return e*o*u-e*a*c-i*n*u+i*a*s+r*n*c-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var i=t.elements,r=this.elements,n=i[0],o=i[1],a=i[2],s=i[3],c=i[4],u=i[5],h=i[6],l=i[7],p=i[8],d=p*c-u*l,f=u*h-p*s,m=l*s-c*h,g=n*d+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=d*y,r[1]=(a*l-p*o)*y,r[2]=(u*o-a*c)*y,r[3]=f*y,r[4]=(p*n-a*h)*y,r[5]=(a*s-u*n)*y,r[6]=m*y,r[7]=(o*h-l*n)*y,r[8]=(c*n-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,r,n,o,a){var s=Math.cos(n),c=Math.sin(n);this.set(i*s,i*c,-i*(s*o+c*a)+o+t,-r*c,r*s,-r*(-c*o+s*a)+a+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],o=r[3],a=r[6],s=r[1],c=r[4],u=r[7];return r[0]=e*n+i*s,r[3]=e*o+i*c,r[6]=e*a+i*u,r[1]=-i*n+e*s,r[4]=-i*o+e*c,r[7]=-i*a+e*u,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var oi,ai,si,ci,ui,hi,li,pi,di,fi,mi,gi,vi,yi,bi,xi={getDataURL:function(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{"undefined"!=typeof OffscreenCanvas?e=new OffscreenCanvas(t.width,t.height):((e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.width,e.height=t.height);var i=e.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height)}return 2048<e.width||2048<e.height?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},_i=0;function wi(t,e,i,r,n,o,a,s,c,u){Object.defineProperty(this,"id",{value:_i++}),this.uuid=Qe.generateUUID(),this.name="",this.image=void 0!==t?t:wi.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:wi.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:jt,this.wrapT=void 0!==r?r:jt,this.magFilter=void 0!==n?n:Wt,this.minFilter=void 0!==o?o:qt,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:ue,this.type=void 0!==s?s:Yt,this.offset=new ti(0,0),this.repeat=new ti(1,1),this.center=new ti(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ni,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:Ge,this.version=0,this.onUpdate=null}function Si(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1}function Ai(t,e,i){this.width=t,this.height=e,this.scissor=new Si(0,0,t,e),this.scissorTest=!1,this.viewport=new Si(0,0,t,e),void 0===(i=i||{}).minFilter&&(i.minFilter=Wt),this.texture=new wi(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0===i.generateMipmaps||i.generateMipmaps,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function Mi(t,e,i){Ai.call(this,t,e,i),this.activeCubeFace=0,this.activeMipMapLevel=0}function Ei(t,e,i,r,n,o,a,s,c,u,h,l){wi.call(this,null,o,a,s,c,u,r,n,h,l),this.image={data:t,width:e,height:i},this.magFilter=void 0!==c?c:Vt,this.minFilter=void 0!==u?u:Vt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Pi(t,e){this.min=void 0!==t?t:new ri(1/0,1/0,1/0),this.max=void 0!==e?e:new ri(-1/0,-1/0,-1/0)}function Ti(t,e){this.center=void 0!==t?t:new ri,this.radius=void 0!==e?e:0}function Ci(t,e){this.normal=void 0!==t?t:new ri(1,0,0),this.constant=void 0!==e?e:0}function Ii(t,e,i,r,n,o){this.planes=[void 0!==t?t:new Ci,void 0!==e?e:new Ci,void 0!==i?i:new Ci,void 0!==r?r:new Ci,void 0!==n?n:new Ci,void 0!==o?o:new Ci]}wi.DEFAULT_IMAGE=void 0,wi.DEFAULT_MAPPING=300,wi.prototype=Object.assign(Object.create(v.prototype),{constructor:wi,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Qe.generateUUID()),!e&&void 0===t.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var o=0,a=r.length;o<a;o++)n.push(xi.getDataURL(r[o]))}else n=xi.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.applyMatrix3(this.matrix),t.x<0||1<t.x)switch(this.wrapS){case Ut:t.x=t.x-Math.floor(t.x);break;case jt:t.x=t.x<0?0:1;break;case Gt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||1<t.y)switch(this.wrapT){case Ut:t.y=t.y-Math.floor(t.y);break;case jt:t.y=t.y<0?0:1;break;case Gt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.defineProperty(wi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Si.prototype,{isVector4:!0,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r+o[12]*n,this.y=o[1]*e+o[5]*i+o[9]*r+o[13]*n,this.z=o[2]*e+o[6]*i+o[10]*r+o[14]*n,this.w=o[3]*e+o[7]*i+o[11]*r+o[15]*n,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,n,o=t.elements,a=o[0],s=o[4],c=o[8],u=o[1],h=o[5],l=o[9],p=o[2],d=o[6],f=o[10];if(Math.abs(s-u)<.01&&Math.abs(c-p)<.01&&Math.abs(l-d)<.01){if(Math.abs(s+u)<.1&&Math.abs(c+p)<.1&&Math.abs(l+d)<.1&&Math.abs(a+h+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(h+1)/2,v=(f+1)/2,y=(s+u)/4,b=(c+p)/4,x=(l+d)/4;return g<m&&v<m?m<.01?(i=0,n=r=.707106781):(r=y/(i=Math.sqrt(m)),n=b/i):v<g?g<.01?(r=0,n=i=.707106781):(i=y/(r=Math.sqrt(g)),n=x/r):v<.01?(r=i=.707106781,n=0):(i=b/(n=Math.sqrt(v)),r=x/n),this.set(i,r,n,e),this}var _=Math.sqrt((d-l)*(d-l)+(c-p)*(c-p)+(u-s)*(u-s));return Math.abs(_)<.001&&(_=1),this.x=(d-l)/_,this.y=(c-p)/_,this.z=(u-s)/_,this.w=Math.acos((a+h+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===oi&&(oi=new Si,ai=new Si),oi.set(t,t,t,t),ai.set(e,e,e,e),this.clamp(oi,ai)},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Ai.prototype=Object.assign(Object.create(v.prototype),{constructor:Ai,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((Mi.prototype=Object.create(Ai.prototype)).constructor=Mi).prototype.isWebGLRenderTargetCube=!0,((Ei.prototype=Object.create(wi.prototype)).constructor=Ei).prototype.isDataTexture=!0,Object.assign(Pi.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var u=t[s],h=t[s+1],l=t[s+2];u<e&&(e=u),h<i&&(i=h),l<r&&(r=l),n<u&&(n=u),o<h&&(o=h),a<l&&(a=l)}return this.min.set(e,i,r),this.max.set(n,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,o=-1/0,a=-1/0,s=0,c=t.count;s<c;s++){var u=t.getX(s),h=t.getY(s),l=t.getZ(s);u<e&&(e=u),h<i&&(i=h),l<r&&(r=l),n<u&&(n=u),o<h&&(o=h),a<l&&(a=l)}return this.min.set(e,i,r),this.max.set(n,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:(hi=new ri,function(t,e){var i=hi.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new ri),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new ri),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var n,o,a,s=new ri;function e(t){var e=t.geometry;if(void 0!==e)if(e.isGeometry){var i=e.vertices;for(o=0,a=i.length;o<a;o++)s.copy(i[o]),s.applyMatrix4(t.matrixWorld),n.expandByPoint(s)}else if(e.isBufferGeometry){var r=e.attributes.position;if(void 0!==r)for(o=0,a=r.count;o<a;o++)s.fromBufferAttribute(r,o).applyMatrix4(t.matrixWorld),n.expandByPoint(s)}}return function(t){return n=this,t.updateMatrixWorld(!0),t.traverse(e),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new ri),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(ui=new ri,function(t){return this.clampPoint(t.center,ui),ui.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return 0<t.normal.x?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),0<t.normal.y?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),0<t.normal.z?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=t.constant&&i>=t.constant},intersectsTriangle:function(){var s=new ri,c=new ri,u=new ri,i=new ri,r=new ri,n=new ri,h=new ri,o=new ri,l=new ri,a=new ri;function p(t){var e,i;for(e=0,i=t.length-3;e<=i;e+=3){h.fromArray(t,e);var r=l.x*Math.abs(h.x)+l.y*Math.abs(h.y)+l.z*Math.abs(h.z),n=s.dot(h),o=c.dot(h),a=u.dot(h);if(Math.max(-Math.max(n,o,a),Math.min(n,o,a))>r)return!1}return!0}return function(t){if(this.isEmpty())return!1;this.getCenter(o),l.subVectors(this.max,o),s.subVectors(t.a,o),c.subVectors(t.b,o),u.subVectors(t.c,o),i.subVectors(c,s),r.subVectors(u,c),n.subVectors(s,u);var e=[0,-i.z,i.y,0,-r.z,r.y,0,-n.z,n.y,i.z,0,-i.x,r.z,0,-r.x,n.z,0,-n.x,-i.y,i.x,0,-r.y,r.x,0,-n.y,n.x,0];return!!p(e)&&(!!p(e=[1,0,0,0,1,0,0,0,1])&&(a.crossVectors(i,r),p(e=[a.x,a.y,a.z])))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new ri),e.copy(t).clamp(this.min,this.max)},distanceToPoint:(ci=new ri,function(t){return ci.copy(t).clamp(this.min,this.max).sub(t).length()}),getBoundingSphere:(si=new ri,function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new Ti),this.getCenter(t.center),t.radius=.5*this.getSize(si).length(),t}),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){if(this.isEmpty())return this;var e=t.elements,i=e[0]*this.min.x,r=e[1]*this.min.x,n=e[2]*this.min.x,o=e[0]*this.max.x,a=e[1]*this.max.x,s=e[2]*this.max.x,c=e[4]*this.min.y,u=e[5]*this.min.y,h=e[6]*this.min.y,l=e[4]*this.max.y,p=e[5]*this.max.y,d=e[6]*this.max.y,f=e[8]*this.min.z,m=e[9]*this.min.z,g=e[10]*this.min.z,v=e[8]*this.max.z,y=e[9]*this.max.z,b=e[10]*this.max.z;return this.min.x=Math.min(i,o)+Math.min(c,l)+Math.min(f,v)+e[12],this.min.y=Math.min(r,a)+Math.min(u,p)+Math.min(m,y)+e[13],this.min.z=Math.min(n,s)+Math.min(h,d)+Math.min(g,b)+e[14],this.max.x=Math.max(i,o)+Math.max(c,l)+Math.max(f,v)+e[12],this.max.y=Math.max(r,a)+Math.max(u,p)+Math.max(m,y)+e[13],this.max.z=Math.max(n,s)+Math.max(h,d)+Math.max(g,b)+e[14],this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Ti.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(li=new Pi,function(t,e){var i=this.center;void 0!==e?i.copy(e):li.setFromPoints(t).getCenter(i);for(var r=0,n=0,o=t.length;n<o;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new ri),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Pi),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Ci.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:(mi=new ri,gi=new ri,function(t,e,i){var r=mi.subVectors(i,e).cross(gi.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new ri),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:(fi=new ri,function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new ri);var i=t.delta(fi),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var n=-(t.start.dot(this.normal)+this.constant)/r;return n<0||1<n?void 0:e.copy(i).multiplyScalar(n).add(t.start)}),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&0<i||i<0&&0<e},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new ri),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(pi=new ri,di=new ni,function(t,e){var i=e||di.getNormalMatrix(t),r=this.coplanarPoint(pi).applyMatrix4(t),n=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(n),this}),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(Ii.prototype,{set:function(t,e,i,r,n,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(r),a[4].copy(n),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],c=i[5],u=i[6],h=i[7],l=i[8],p=i[9],d=i[10],f=i[11],m=i[12],g=i[13],v=i[14],y=i[15];return e[0].setComponents(a-r,h-s,f-l,y-m).normalize(),e[1].setComponents(a+r,h+s,f+l,y+m).normalize(),e[2].setComponents(a+n,h+c,f+p,y+g).normalize(),e[3].setComponents(a-n,h-c,f-p,y-g).normalize(),e[4].setComponents(a-o,h-u,f-d,y-v).normalize(),e[5].setComponents(a+o,h+u,f+d,y+v).normalize(),this},intersectsObject:(bi=new Ti,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),bi.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(bi)}),intersectsSprite:(yi=new Ti,function(t){return yi.center.set(0,0,0),yi.radius=.7071067811865476,yi.applyMatrix4(t.matrixWorld),this.intersectsSphere(yi)}),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,n=0;n<6;n++){if(e[n].distanceToPoint(i)<r)return!1}return!0},intersectsBox:(vi=new ri,function(t){for(var e=this.planes,i=0;i<6;i++){var r=e[i];if(vi.x=0<r.normal.x?t.max.x:t.min.x,vi.y=0<r.normal.y?t.max.y:t.min.y,vi.z=0<r.normal.z?t.max.z:t.min.z,r.distanceToPoint(vi)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}});var Oi,Li={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tvec4 mvPosition;\n\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"},Ri={merge:function(t){for(var e={},i=0;i<t.length;i++){var r=this.clone(t[i]);for(var n in r)e[n]=r[n]}return e},clone:function(t){var e={};for(var i in t)for(var r in e[i]={},t[i]){var n=t[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[i][r]=n.clone():Array.isArray(n)?e[i][r]=n.slice():e[i][r]=n}return e}},Di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ki(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}Object.assign(ki.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function o(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(t,e,i){if(t=Qe.euclideanModulo(t,1),e=Qe.clamp(e,0,1),i=Qe.clamp(i,0,1),0===e)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+e):i+e-i*e,n=2*i-r;this.r=o(n,r,t+1/3),this.g=o(n,r,t),this.b=o(n,r,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,n=i[1],o=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,c)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var u,h=(u=i[1]).length;if(3===h)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}e&&0<e.length&&(void 0!==(u=Di[e])?this.setHex(u):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=0<e?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function e(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,i,r=this.r,n=this.g,o=this.b,a=Math.max(r,n,o),s=Math.min(r,n,o),c=(s+a)/2;if(s===a)i=e=0;else{var u=a-s;switch(i=c<=.5?u/(a+s):u/(2-a-s),a){case r:e=(n-o)/u+(n<o?6:0);break;case n:e=(o-r)/u+2;break;case o:e=(r-n)/u+4}e/=6}return t.h=e,t.s=i,t.l=c,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(Oi={},function(t,e,i){return this.getHSL(Oi),Oi.h+=t,Oi.s+=e,Oi.l+=i,this.setHSL(Oi.h,Oi.s,Oi.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Bi,Ni,Fi={common:{diffuse:{value:new ki(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ni},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ti(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ki(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new ki(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ni}},sprite:{diffuse:{value:new ki(15658734)},opacity:{value:1},center:{value:new ti(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new ni}}},zi={basic:{uniforms:Ri.merge([Fi.common,Fi.specularmap,Fi.envmap,Fi.aomap,Fi.lightmap,Fi.fog]),vertexShader:Li.meshbasic_vert,fragmentShader:Li.meshbasic_frag},lambert:{uniforms:Ri.merge([Fi.common,Fi.specularmap,Fi.envmap,Fi.aomap,Fi.lightmap,Fi.emissivemap,Fi.fog,Fi.lights,{emissive:{value:new ki(0)}}]),vertexShader:Li.meshlambert_vert,fragmentShader:Li.meshlambert_frag},phong:{uniforms:Ri.merge([Fi.common,Fi.specularmap,Fi.envmap,Fi.aomap,Fi.lightmap,Fi.emissivemap,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,Fi.gradientmap,Fi.fog,Fi.lights,{emissive:{value:new ki(0)},specular:{value:new ki(1118481)},shininess:{value:30}}]),vertexShader:Li.meshphong_vert,fragmentShader:Li.meshphong_frag},standard:{uniforms:Ri.merge([Fi.common,Fi.envmap,Fi.aomap,Fi.lightmap,Fi.emissivemap,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,Fi.roughnessmap,Fi.metalnessmap,Fi.fog,Fi.lights,{emissive:{value:new ki(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Li.meshphysical_vert,fragmentShader:Li.meshphysical_frag},points:{uniforms:Ri.merge([Fi.points,Fi.fog]),vertexShader:Li.points_vert,fragmentShader:Li.points_frag},dashed:{uniforms:Ri.merge([Fi.common,Fi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Li.linedashed_vert,fragmentShader:Li.linedashed_frag},depth:{uniforms:Ri.merge([Fi.common,Fi.displacementmap]),vertexShader:Li.depth_vert,fragmentShader:Li.depth_frag},normal:{uniforms:Ri.merge([Fi.common,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,{opacity:{value:1}}]),vertexShader:Li.normal_vert,fragmentShader:Li.normal_frag},sprite:{uniforms:Ri.merge([Fi.sprite,Fi.fog]),vertexShader:Li.sprite_vert,fragmentShader:Li.sprite_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Li.cube_vert,fragmentShader:Li.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Li.equirect_vert,fragmentShader:Li.equirect_frag},distanceRGBA:{uniforms:Ri.merge([Fi.common,Fi.displacementmap,{referencePosition:{value:new ri},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Li.distanceRGBA_vert,fragmentShader:Li.distanceRGBA_frag},shadow:{uniforms:Ri.merge([Fi.lights,Fi.fog,{color:{value:new ki(0)},opacity:{value:1}}]),vertexShader:Li.shadow_vert,fragmentShader:Li.shadow_frag}};function Ui(){var i=null,r=!1,n=null;function o(t,e){!1!==r&&(n(t,e),i.requestAnimationFrame(o))}return{start:function(){!0!==r&&null!==n&&(i.requestAnimationFrame(o),r=!0)},stop:function(){r=!1},setAnimationLoop:function(t){n=t},setContext:function(t){i=t}}}function ji(c){var u=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),u.get(t)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var e=u.get(t);e&&(c.deleteBuffer(e.buffer),u.delete(t))},update:function(t,e){t.isInterleavedBufferAttribute&&(t=t.data);var i,r,n,o,a,s=u.get(t);void 0===s?u.set(t,function(t,e){var i=t.array,r=t.dynamic?c.DYNAMIC_DRAW:c.STATIC_DRAW,n=c.createBuffer();c.bindBuffer(e,n),c.bufferData(e,i,r),t.onUploadCallback();var o=c.FLOAT;return i instanceof Float32Array?o=c.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=c.UNSIGNED_SHORT:i instanceof Int16Array?o=c.SHORT:i instanceof Uint32Array?o=c.UNSIGNED_INT:i instanceof Int32Array?o=c.INT:i instanceof Int8Array?o=c.BYTE:i instanceof Uint8Array&&(o=c.UNSIGNED_BYTE),{buffer:n,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,e)):s.version<t.version&&(i=s.buffer,n=e,o=(r=t).array,a=r.updateRange,c.bindBuffer(n,i),!1===r.dynamic?c.bufferData(n,o,c.STATIC_DRAW):-1===a.count?c.bufferSubData(n,0,o):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(c.bufferSubData(n,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),s.version=t.version)}}}function Gi(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||Gi.DefaultOrder}function Vi(){this.mask=1}zi.physical={uniforms:Ri.merge([zi.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Li.meshphysical_vert,fragmentShader:Li.meshphysical_frag},Gi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Gi.DefaultOrder="XYZ",Object.defineProperties(Gi.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(Gi.prototype,{isEuler:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var r=Qe.clamp,n=t.elements,o=n[0],a=n[4],s=n[8],c=n[1],u=n[5],h=n[9],l=n[2],p=n[6],d=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-l,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-l,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===e?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-l,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(p,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-h,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:(Ni=new ei,function(t,e,i){return Ni.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ni,e,i)}),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Bi=new ii,function(t){return Bi.setFromEuler(this),this.setFromQuaternion(Bi,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ri(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Vi.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Hi,$i,Wi,Xi,qi,Yi,Zi,Ki,Ji,Qi,tr,er,ir,rr,nr,or,ar,sr,cr=0;function ur(){Object.defineProperty(this,"id",{value:cr++}),this.uuid=Qe.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ur.DefaultUp.clone();var t=new ri,e=new Gi,i=new ii,r=new ri(1,1,1);e.onChange(function(){i.setFromEuler(e,!1)}),i.onChange(function(){e.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new ei},normalMatrix:{value:new ni}}),this.matrix=new ei,this.matrixWorld=new ei,this.matrixAutoUpdate=ur.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Vi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function hr(){ur.call(this),this.type="Camera",this.matrixWorldInverse=new ei,this.projectionMatrix=new ei}function lr(t,e,i,r,n,o){hr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=void 0!==n?n:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function pr(t,e,i,r,n,o){this.a=t,this.b=e,this.c=i,this.normal=r&&r.isVector3?r:new ri,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new ki,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==o?o:0}ur.DefaultUp=new ri(0,1,0),ur.DefaultMatrixAutoUpdate=!0,ur.prototype=Object.assign(Object.create(v.prototype),{constructor:ur,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(ar=new ii,function(t,e){return ar.setFromAxisAngle(t,e),this.quaternion.multiply(ar),this}),rotateOnWorldAxis:(or=new ii,function(t,e){return or.setFromAxisAngle(t,e),this.quaternion.premultiply(or),this}),rotateX:(nr=new ri(1,0,0),function(t){return this.rotateOnAxis(nr,t)}),rotateY:(rr=new ri(0,1,0),function(t){return this.rotateOnAxis(rr,t)}),rotateZ:(ir=new ri(0,0,1),function(t){return this.rotateOnAxis(ir,t)}),translateOnAxis:(er=new ri,function(t,e){return er.copy(t).applyQuaternion(this.quaternion),this.position.add(er.multiplyScalar(e)),this}),translateX:(tr=new ri(1,0,0),function(t){return this.translateOnAxis(tr,t)}),translateY:(Qi=new ri(0,1,0),function(t){return this.translateOnAxis(Qi,t)}),translateZ:(Ji=new ri(0,0,1),function(t){return this.translateOnAxis(Ji,t)}),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(Ki=new ei,function(t){return t.applyMatrix4(Ki.getInverse(this.matrixWorld))}),lookAt:(Yi=new ei,Zi=new ri,function(t,e,i){t.isVector3?Zi.copy(t):Zi.set(t,e,i),this.isCamera?Yi.lookAt(this.position,Zi,this.up):Yi.lookAt(Zi,this.position,this.up),this.quaternion.setFromRotationMatrix(Yi)}),add:function(t){var e=arguments;if(1<arguments.length){for(var i=0;i<arguments.length;i++)this.add(e[i]);return this}return t===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",t):t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this},remove:function(t){var e=arguments;if(1<arguments.length){for(var i=0;i<arguments.length;i++)this.remove(e[i]);return this}var r=this.children.indexOf(t);return-1!==r&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(r,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new ri),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Xi=new ri,qi=new ri,function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new ii),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Xi,t,qi),t}),getWorldScale:($i=new ri,Wi=new ii,function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new ri),this.updateMatrixWorld(!0),this.matrixWorld.decompose($i,Wi,t),t}),getWorldDirection:(Hi=new ii,function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new ri),this.getWorldQuaternion(Hi),t.set(0,0,1).applyQuaternion(Hi)}),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t=!(this.matrixWorldNeedsUpdate=!1));for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)},toJSON:function(i){var t=void 0===i||"string"==typeof i,e={};t&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(t,e){return void 0===t[e.uuid]&&(t[e.uuid]=e.toJSON(i)),e.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=n(i.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var u=a[s];n(i.shapes,u)}else n(i.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(s=0,c=this.material.length;s<c;s++)h.push(n(i.materials,this.material[s]));r.material=h}else r.material=n(i.materials,this.material);if(0<this.children.length){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(i).object)}if(t){var l=m(i.geometries),p=m(i.materials),d=m(i.textures),f=m(i.images);a=m(i.shapes);0<l.length&&(e.geometries=l),0<p.length&&(e.materials=p),0<d.length&&(e.textures=d),0<f.length&&(e.images=f),0<a.length&&(e.shapes=a)}return e.object=r,e;function m(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}}),hr.prototype=Object.assign(Object.create(ur.prototype),{constructor:hr,isCamera:!0,copy:function(t,e){return ur.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:(sr=new ii,function(t){return void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new ri),this.getWorldQuaternion(sr),t.set(0,0,-1).applyQuaternion(sr)}),updateMatrixWorld:function(t){ur.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),lr.prototype=Object.assign(Object.create(hr.prototype),{constructor:lr,isOrthographicCamera:!0,copy:function(t,e){return hr.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,r,n,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-t,o=i+t,a=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,l=(this.top-this.bottom)/this.view.height;o=(n+=h*(this.view.offsetX/c))+h*(this.view.width/c),s=(a-=l*(this.view.offsetY/u))-l*(this.view.height/u)}this.projectionMatrix.makeOrthographic(n,o,a,s,this.near,this.far)},toJSON:function(t){var e=ur.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(pr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var dr,fr,mr,gr,vr,yr,br,xr=0;function _r(){Object.defineProperty(this,"id",{value:xr+=2}),this.uuid=Qe.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function wr(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Sr(t,e,i){wr.call(this,new Int8Array(t),e,i)}function Ar(t,e,i){wr.call(this,new Uint8Array(t),e,i)}function Mr(t,e,i){wr.call(this,new Uint8ClampedArray(t),e,i)}function Er(t,e,i){wr.call(this,new Int16Array(t),e,i)}function Pr(t,e,i){wr.call(this,new Uint16Array(t),e,i)}function Tr(t,e,i){wr.call(this,new Int32Array(t),e,i)}function Cr(t,e,i){wr.call(this,new Uint32Array(t),e,i)}function Ir(t,e,i){wr.call(this,new Float32Array(t),e,i)}function Or(t,e,i){wr.call(this,new Float64Array(t),e,i)}function Lr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Rr(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,r=t.length;i<r;++i)t[i]>e&&(e=t[i]);return e}_r.prototype=Object.assign(Object.create(v.prototype),{constructor:_r,isGeometry:!0,applyMatrix:function(t){for(var e=(new ni).getNormalMatrix(t),i=0,r=this.vertices.length;i<r;i++){this.vertices[i].applyMatrix4(t)}for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var o=0,a=n.vertexNormals.length;o<a;o++)n.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:(br=new ei,function(t){return br.makeRotationX(t),this.applyMatrix(br),this}),rotateY:(yr=new ei,function(t){return yr.makeRotationY(t),this.applyMatrix(yr),this}),rotateZ:(vr=new ei,function(t){return vr.makeRotationZ(t),this.applyMatrix(vr),this}),translate:(gr=new ei,function(t,e,i){return gr.makeTranslation(t,e,i),this.applyMatrix(gr),this}),scale:(mr=new ei,function(t,e,i){return mr.makeScale(t,e,i),this.applyMatrix(mr),this}),lookAt:(fr=new ur,function(t){fr.lookAt(t),fr.updateMatrix(),this.applyMatrix(fr.matrix)}),fromBufferGeometry:function(t){var o=this,e=null!==t.index?t.index.array:void 0,i=t.attributes,r=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,s=void 0!==i.color?i.color.array:void 0,c=void 0!==i.uv?i.uv.array:void 0,u=void 0!==i.uv2?i.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var h=[],l=[],p=[],n=0,d=0;n<r.length;n+=3,d+=2)o.vertices.push(new ri(r[n],r[n+1],r[n+2])),void 0!==a&&h.push(new ri(a[n],a[n+1],a[n+2])),void 0!==s&&o.colors.push(new ki(s[n],s[n+1],s[n+2])),void 0!==c&&l.push(new ti(c[d],c[d+1])),void 0!==u&&p.push(new ti(u[d],u[d+1]));function f(t,e,i,r){var n=new pr(t,e,i,void 0!==a?[h[t].clone(),h[e].clone(),h[i].clone()]:[],void 0!==s?[o.colors[t].clone(),o.colors[e].clone(),o.colors[i].clone()]:[],r);o.faces.push(n),void 0!==c&&o.faceVertexUvs[0].push([l[t].clone(),l[e].clone(),l[i].clone()]),void 0!==u&&o.faceVertexUvs[1].push([p[t].clone(),p[e].clone(),p[i].clone()])}var m=t.groups;if(0<m.length)for(n=0;n<m.length;n++)for(var g=m[n],v=g.start,y=(d=v,v+g.count);d<y;d+=3)void 0!==e?f(e[d],e[d+1],e[d+2],g.materialIndex):f(d,d+1,d+2,g.materialIndex);else if(void 0!==e)for(n=0;n<e.length;n+=3)f(e[n],e[n+1],e[n+2]);else for(n=0;n<r.length/3;n+=3)f(n,n+1,n+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(dr=new ri,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(dr).negate(),this.translate(dr.x,dr.y,dr.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,r=new ei;return r.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new ri,e=new ri,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],o=this.vertices[n.a],a=this.vertices[n.b],s=this.vertices[n.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),n.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,n,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)a[e]=new ri;if(t){var s,c,u,h=new ri,l=new ri;for(r=0,n=this.faces.length;r<n;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],u=this.vertices[o.c],h.subVectors(u,c),l.subVectors(s,c),h.cross(l),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,i=this.vertices.length;e<i;e++)a[e].normalize();for(r=0,n=this.faces.length;r<n;r++){var p=(o=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(i=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,r,n,o=this;for(i=0,r=this.faces.length;i<r;i++)for((n=o.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),t=0,e=n.vertexNormals.length;t<e;t++)n.__originalVertexNormals[t]?n.__originalVertexNormals[t].copy(n.vertexNormals[t]):n.__originalVertexNormals[t]=n.vertexNormals[t].clone();var a=new _r;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!o.morphNormals[t]){o.morphNormals[t]={},o.morphNormals[t].faceNormals=[],o.morphNormals[t].vertexNormals=[];var s=o.morphNormals[t].faceNormals,c=o.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)u=new ri,h={a:new ri,b:new ri,c:new ri},s.push(u),c.push(h)}var u,h,l=o.morphNormals[t];for(a.vertices=o.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=o.faces[i],u=l.faceNormals[i],h=l.vertexNormals[i],u.copy(n.normal),h.a.copy(n.vertexNormals[0]),h.b.copy(n.vertexNormals[1]),h.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=o.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Pi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ti),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var r,n=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,u=this.faceVertexUvs[0],h=t.faceVertexUvs[0],l=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(r=(new ni).getNormalMatrix(e));for(var d=0,f=a.length;d<f;d++){var m=a[d].clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(d=0,f=p.length;d<f;d++)l.push(p[d].clone());for(d=0,f=c.length;d<f;d++){var g,v,y,b=c[d],x=b.vertexNormals,_=b.vertexColors;(g=new pr(b.a+n,b.b+n,b.c+n)).normal.copy(b.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var w=0,S=x.length;w<S;w++)v=x[w].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);g.color.copy(b.color);for(w=0,S=_.length;w<S;w++)y=_[w],g.vertexColors.push(y.clone());g.materialIndex=b.materialIndex+i,s.push(g)}for(d=0,f=h.length;d<f;d++){var A=h[d],M=[];if(void 0!==A){for(w=0,S=A.length;w<S;w++)M.push(A[w].clone());u.push(M)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,i,r,n,o,a,s,c={},u=[],h=[],l=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)t=this.vertices[i],void 0===c[e=Math.round(t.x*l)+"_"+Math.round(t.y*l)+"_"+Math.round(t.z*l)]?(c[e]=i,u.push(this.vertices[i]),h[i]=u.length-1):h[i]=h[c[e]];var p=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=h[n.a],n.b=h[n.b],n.c=h[n.c],o=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){p.push(i);break}}for(i=p.length-1;0<=i;i--){var f=p[i];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var r=t[e];this.vertices.push(new ri(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var r,n,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(r=[]),a&&a.length===e&&(n=[]);for(i=0;i<e;i++){var s=t[i]._id;r&&r.push(o[s]),n&&n.push(a[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var r=[],n=0;n<this.vertices.length;n++){var o=this.vertices[n];r.push(o.x,o.y,o.z)}var a=[],s=[],c={},u=[],h={},l=[],p={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],f=void 0!==this.faceVertexUvs[0][n],m=0<d.normal.length(),g=0<d.vertexNormals.length,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=0<d.vertexColors.length,b=0;if(b=S(b=S(b=S(b=S(b=S(b=S(b=S(b=S(b,0,0),1,!0),2,!1),3,f),4,m),5,g),6,v),7,y),a.push(b),a.push(d.a,d.b,d.c),a.push(d.materialIndex),f){var x=this.faceVertexUvs[0][n];a.push(E(x[0]),E(x[1]),E(x[2]))}if(m&&a.push(A(d.normal)),g){var _=d.vertexNormals;a.push(A(_[0]),A(_[1]),A(_[2]))}if(v&&a.push(M(d.color)),y){var w=d.vertexColors;a.push(M(w[0]),M(w[1]),M(w[2]))}}function S(t,e,i){return i?t|1<<e:t&~(1<<e)}function A(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=s.length/3,s.push(t.x,t.y,t.z)),c[e]}function M(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]||(h[e]=u.length,u.push(t.getHex())),h[e]}function E(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=l.length/2,l.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=r,t.data.normals=s,0<u.length&&(t.data.colors=u),0<l.length&&(t.data.uvs=[l]),t.data.faces=a,t},clone:function(){return(new _r).copy(this)},copy:function(t){var e,i,r,n,o,a,s=this;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var c=t.vertices;for(e=0,i=c.length;e<i;e++)s.vertices.push(c[e].clone());var u=t.colors;for(e=0,i=u.length;e<i;e++)s.colors.push(u[e].clone());var h=t.faces;for(e=0,i=h.length;e<i;e++)s.faces.push(h[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var l=t.faceVertexUvs[e];for(void 0===s.faceVertexUvs[e]&&(s.faceVertexUvs[e]=[]),r=0,n=l.length;r<n;r++){var p=l[r],d=[];for(o=0,a=p.length;o<a;o++){var f=p[o];d.push(f.clone())}s.faceVertexUvs[e].push(d)}}var m=t.morphTargets;for(e=0,i=m.length;e<i;e++){var g={};if(g.name=m[e].name,void 0!==m[e].vertices)for(g.vertices=[],r=0,n=m[e].vertices.length;r<n;r++)g.vertices.push(m[e].vertices[r].clone());if(void 0!==m[e].normals)for(g.normals=[],r=0,n=m[e].normals.length;r<n;r++)g.normals.push(m[e].normals[r].clone());s.morphTargets.push(g)}var v=t.morphNormals;for(e=0,i=v.length;e<i;e++){var y={};if(void 0!==v[e].vertexNormals)for(y.vertexNormals=[],r=0,n=v[e].vertexNormals.length;r<n;r++){var b=v[e].vertexNormals[r],x={};x.a=b.a.clone(),x.b=b.b.clone(),x.c=b.c.clone(),y.vertexNormals.push(x)}if(void 0!==v[e].faceNormals)for(y.faceNormals=[],r=0,n=v[e].faceNormals.length;r<n;r++)y.faceNormals.push(v[e].faceNormals[r].clone());s.morphNormals.push(y)}var _=t.skinWeights;for(e=0,i=_.length;e<i;e++)s.skinWeights.push(_[e].clone());var w=t.skinIndices;for(e=0,i=w.length;e<i;e++)s.skinIndices.push(w[e].clone());var S=t.lineDistances;for(e=0,i=S.length;e<i;e++)s.lineDistances.push(S[e]);var A=t.boundingBox;null!==A&&(this.boundingBox=A.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(wr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(wr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[t+r]=e.array[i+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new ki),e[i++]=o.r,e[i++]=o.g,e[i++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new ti),e[i++]=o.x,e[i++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new ri),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Si),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z,e[i++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=n,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(Sr.prototype=Object.create(wr.prototype)).constructor=Sr,(Ar.prototype=Object.create(wr.prototype)).constructor=Ar,(Mr.prototype=Object.create(wr.prototype)).constructor=Mr,(Er.prototype=Object.create(wr.prototype)).constructor=Er,(Pr.prototype=Object.create(wr.prototype)).constructor=Pr,(Tr.prototype=Object.create(wr.prototype)).constructor=Tr,(Cr.prototype=Object.create(wr.prototype)).constructor=Cr,(Ir.prototype=Object.create(wr.prototype)).constructor=Ir,(Or.prototype=Object.create(wr.prototype)).constructor=Or,Object.assign(Lr.prototype,{computeGroups:function(t){for(var e,i=[],r=void 0,n=t.faces,o=0;o<n.length;o++){var a=n[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,i.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=this,r=t.faces,n=t.vertices,o=t.faceVertexUvs,a=o[0]&&0<o[0].length,s=o[1]&&0<o[1].length,c=t.morphTargets,u=c.length;if(0<u){e=[];for(var h=0;h<u;h++)e[h]=[];this.morphTargets.position=e}var l,p=t.morphNormals,d=p.length;if(0<d){l=[];for(h=0;h<d;h++)l[h]=[];this.morphTargets.normal=l}var f=t.skinIndices,m=t.skinWeights,g=f.length===n.length,v=m.length===n.length;0<n.length&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(h=0;h<r.length;h++){var y=r[h];i.vertices.push(n[y.a],n[y.b],n[y.c]);var b=y.vertexNormals;if(3===b.length)i.normals.push(b[0],b[1],b[2]);else{var x=y.normal;i.normals.push(x,x,x)}var _,w=y.vertexColors;if(3===w.length)i.colors.push(w[0],w[1],w[2]);else{var S=y.color;i.colors.push(S,S,S)}if(!0===a)void 0!==(_=o[0][h])?i.uvs.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",h),i.uvs.push(new ti,new ti,new ti));if(!0===s)void 0!==(_=o[1][h])?i.uvs2.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",h),i.uvs2.push(new ti,new ti,new ti));for(var A=0;A<u;A++){var M=c[A].vertices;e[A].push(M[y.a],M[y.b],M[y.c])}for(A=0;A<d;A++){var E=p[A].vertexNormals[h];l[A].push(E.a,E.b,E.c)}g&&i.skinIndices.push(f[y.a],f[y.b],f[y.c]),v&&i.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Dr,kr,Br,Nr,Fr,zr,Ur,jr,Gr,Vr,Hr=1;function $r(){Object.defineProperty(this,"id",{value:Hr+=2}),this.uuid=Qe.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Wr(t,e,i,r,n,o){_r.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:o},this.fromBufferGeometry(new Xr(t,e,i,r,n,o)),this.mergeVertices()}function Xr(t,e,i,r,n,o){$r.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:o};var C=this;t=t||1,e=e||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,o=Math.floor(o)||1;var I=[],O=[],L=[],R=[],D=0,k=0;function a(t,e,i,r,n,o,a,s,c,u,h){var l,p,d=o/c,f=a/u,m=o/2,g=a/2,v=s/2,y=c+1,b=u+1,x=0,_=0,w=new ri;for(p=0;p<b;p++){var S=p*f-g;for(l=0;l<y;l++){var A=l*d-m;w[t]=A*r,w[e]=S*n,w[i]=v,O.push(w.x,w.y,w.z),w[t]=0,w[e]=0,w[i]=0<s?1:-1,L.push(w.x,w.y,w.z),R.push(l/c),R.push(1-p/u),x+=1}}for(p=0;p<u;p++)for(l=0;l<c;l++){var M=D+l+y*p,E=D+l+y*(p+1),P=D+(l+1)+y*(p+1),T=D+(l+1)+y*p;I.push(M,E,T),I.push(E,P,T),_+=6}C.addGroup(k,_,h),k+=_,D+=x}a("z","y","x",-1,-1,i,e,t,o,n,0),a("z","y","x",1,-1,i,e,-t,o,n,1),a("x","z","y",1,1,t,i,e,r,o,2),a("x","z","y",1,-1,t,i,-e,r,o,3),a("x","y","z",1,-1,t,e,i,r,n,4),a("x","y","z",-1,-1,t,e,-i,r,n,5),this.setIndex(I),this.addAttribute("position",new Ir(O,3)),this.addAttribute("normal",new Ir(L,3)),this.addAttribute("uv",new Ir(R,2))}function qr(t,e,i,r){_r.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new Yr(t,e,i,r)),this.mergeVertices()}function Yr(t,e,i,r){$r.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};var n,o,a=(t=t||1)/2,s=(e=e||1)/2,c=Math.floor(i)||1,u=Math.floor(r)||1,h=c+1,l=u+1,p=t/c,d=e/u,f=[],m=[],g=[],v=[];for(o=0;o<l;o++){var y=o*d-s;for(n=0;n<h;n++){var b=n*p-a;m.push(b,-y,0),g.push(0,0,1),v.push(n/c),v.push(1-o/u)}}for(o=0;o<u;o++)for(n=0;n<c;n++){var x=n+h*o,_=n+h*(o+1),w=n+1+h*(o+1),S=n+1+h*o;f.push(x,_,S),f.push(_,w,S)}this.setIndex(f),this.addAttribute("position",new Ir(m,3)),this.addAttribute("normal",new Ir(g,3)),this.addAttribute("uv",new Ir(v,2))}$r.prototype=Object.assign(Object.create(v.prototype),{constructor:$r,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(65535<Rr(t)?Cr:Pr)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?("index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e)):this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new wr(e,arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new ni).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:(Vr=new ei,function(t){return Vr.makeRotationX(t),this.applyMatrix(Vr),this}),rotateY:(Gr=new ei,function(t){return Gr.makeRotationY(t),this.applyMatrix(Gr),this}),rotateZ:(jr=new ei,function(t){return jr.makeRotationZ(t),this.applyMatrix(jr),this}),translate:(Ur=new ei,function(t,e,i){return Ur.makeTranslation(t,e,i),this.applyMatrix(Ur),this}),scale:(zr=new ei,function(t,e,i){return zr.makeScale(t,e,i),this.applyMatrix(zr),this}),lookAt:(Fr=new ur,function(t){Fr.lookAt(t),Fr.updateMatrix(),this.applyMatrix(Fr.matrix)}),center:(Nr=new ri,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nr).negate(),this.translate(Nr.x,Nr.y,Nr.z),this}),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new Ir(3*e.vertices.length,3),r=new Ir(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var n=new Ir(e.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];e.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new Ir(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Lr).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new wr(e,3).copyVector3sArray(t.vertices)),0<t.normals.length){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new wr(i,3).copyVector3sArray(t.normals))}if(0<t.colors.length){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new wr(r,3).copyColorsArray(t.colors))}if(0<t.uvs.length){var n=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new wr(n,2).copyVector2sArray(t.uvs))}if(0<t.uvs2.length){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new wr(o,2).copyVector2sArray(t.uvs2))}for(var a in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[a],u=0,h=c.length;u<h;u++){var l=c[u],p=new Ir(3*l.length,3);s.push(p.copyVector3sArray(l))}this.morphAttributes[a]=s}if(0<t.skinIndices.length){var d=new Ir(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(0<t.skinWeights.length){var f=new Ir(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Pi);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:(kr=new Pi,Br=new ri,function(){null===this.boundingSphere&&(this.boundingSphere=new Ti);var t=this.attributes.position;if(t){var e=this.boundingSphere.center;kr.setFromBufferAttribute(t),kr.getCenter(e);for(var i=0,r=0,n=t.count;r<n;r++)Br.x=t.getX(r),Br.y=t.getY(r),Br.z=t.getZ(r),i=Math.max(i,e.distanceToSquared(Br));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,i=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new wr(new Float32Array(r.length),3));else for(var n=e.normal.array,o=0,a=n.length;o<a;o++)n[o]=0;var s,c,u,h=e.normal.array,l=new ri,p=new ri,d=new ri,f=new ri,m=new ri;if(t){var g=t.array;0===i.length&&this.addGroup(0,g.length);for(var v=0,y=i.length;v<y;++v){var b=i[v],x=b.start;for(o=x,a=x+b.count;o<a;o+=3)s=3*g[o+0],c=3*g[o+1],u=3*g[o+2],l.fromArray(r,s),p.fromArray(r,c),d.fromArray(r,u),f.subVectors(d,p),m.subVectors(l,p),f.cross(m),h[s]+=f.x,h[s+1]+=f.y,h[s+2]+=f.z,h[c]+=f.x,h[c+1]+=f.y,h[c+2]+=f.z,h[u]+=f.x,h[u+1]+=f.y,h[u+2]+=f.z}}else for(o=0,a=r.length;o<a;o+=9)l.fromArray(r,o),p.fromArray(r,o+3),d.fromArray(r,o+6),f.subVectors(d,p),m.subVectors(l,p),f.cross(m),h[o]=f.x,h[o+1]=f.y,h[o+2]=f.z,h[o+3]=f.x,h[o+4]=f.y,h[o+5]=f.z,h[o+6]=f.x,h[o+7]=f.y,h[o+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var i=this.attributes;for(var r in i)if(void 0!==t.attributes[r])for(var n=i[r].array,o=t.attributes[r],a=o.array,s=0,c=o.itemSize*e;s<a.length;s++,c++)n[c]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:(Dr=new ri,function(){for(var t=this.attributes.normal,e=0,i=t.count;e<i;e++)Dr.x=t.getX(e),Dr.y=t.getY(e),Dr.z=t.getZ(e),Dr.normalize(),t.setXYZ(e,Dr.x,Dr.y,Dr.z)}),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new $r,e=this.index.array,i=this.attributes;for(var r in i){for(var n=i[r],o=n.array,a=n.itemSize,s=new o.constructor(e.length*a),c=0,u=0,h=0,l=e.length;h<l;h++){c=e[h]*a;for(var p=0;p<a;p++)s[u++]=o[c++]}t.addAttribute(r,new wr(s,a))}var d=this.groups;for(h=0,l=d.length;h<l;h++){var f=d[h];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),0<Object.keys(this.userData).length&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var n=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:n}}var o=this.attributes;for(var i in o){var a=o[i];n=Array.prototype.slice.call(a.array);t.data.attributes[i]={itemSize:a.itemSize,type:a.array.constructor.name,array:n,normalized:a.normalized}}var s=this.groups;0<s.length&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new $r).copy(this)},copy:function(t){var e,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var c=[],u=s[e];for(i=0,r=u.length;i<r;i++)c.push(u[i].clone());this.morphAttributes[e]=c}var h=t.groups;for(i=0,r=h.length;i<r;i++){var l=h[i];this.addGroup(l.start,l.count,l.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Wr.prototype=Object.create(_r.prototype)).constructor=Wr,(Xr.prototype=Object.create($r.prototype)).constructor=Xr,(qr.prototype=Object.create(_r.prototype)).constructor=qr,(Yr.prototype=Object.create($r.prototype)).constructor=Yr;var Zr,Kr,Jr,Qr,tn,en,rn,nn,on,an,sn,cn,un,hn,ln,pn,dn,fn,mn,gn,vn,yn,bn,xn,_n=0;function wn(){Object.defineProperty(this,"id",{value:_n++}),this.uuid=Qe.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Y,this.side=G,this.flatShading=!1,this.vertexColors=V,this.opacity=1,this.transparent=!1,this.blendSrc=ut,this.blendDst=ht,this.blendEquation=H,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=bt,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function Sn(t){wn.call(this),this.type="MeshBasicMaterial",this.color=new ki(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function An(t){wn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Mn(t,e){this.origin=void 0!==t?t:new ri,this.direction=void 0!==e?e:new ri}function En(t,e,i){this.a=void 0!==t?t:new ri,this.b=void 0!==e?e:new ri,this.c=void 0!==i?i:new ri}function Pn(t,e){ur.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new $r,this.material=void 0!==e?e:new Sn({color:16777215*Math.random()}),this.drawMode=je,this.updateMorphTargets()}function Tn(o,i,a,r){var s,c,u,h=new ki(0),l=0;function p(t,e){i.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return h},setClearColor:function(t,e){h.set(t),p(h,l=void 0!==e?e:1)},getClearAlpha:function(){return l},setClearAlpha:function(t){p(h,l=t)},render:function(t,e,i,r){var n=e.background;null===n?p(h,l):n&&n.isColor&&(p(n,1),r=!0),(o.autoClear||r)&&o.clear(o.autoClearColor,o.autoClearDepth,o.autoClearStencil),n&&n.isCubeTexture?(void 0===u&&((u=new Pn(new Xr(1,1,1),new An({uniforms:zi.cube.uniforms,vertexShader:zi.cube.vertexShader,fragmentShader:zi.cube.fragmentShader,side:wt,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),u.geometry.removeAttribute("uv"),u.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},a.update(u)),u.material.uniforms.tCube.value=n,t.push(u,u.geometry,u.material,0,null)):n&&n.isTexture&&(void 0===s&&(s=new lr(-1,1,1,-1,0,1),c=new Pn(new Yr(2,2),new Sn({depthTest:!1,depthWrite:!1,fog:!1})),a.update(c)),c.material.map=n,o.renderBufferDirect(s,null,c.geometry,c.material,c,null))}}}function Cn(n,o,a,s){var c;this.setMode=function(t){c=t},this.render=function(t,e){n.drawArrays(c,t,e),a.update(e,c)},this.renderInstances=function(t,e,i){var r;if(s.isWebGL2)r=n;else if(null===(r=o.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");r[s.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](c,e,i,t.maxInstancedCount),a.update(i,c,t.maxInstancedCount)}}function In(e,i,t){var r;function n(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0!==t.precision?t.precision:"highp",s=n(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===t.logarithmicDepthBuffer,u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_TEXTURE_SIZE),p=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),f=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=0<h,y=o||!!i.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var t=i.get("EXT_texture_filter_anisotropic");return r=null!==t?e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:l,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function On(){var h=this,l=null,p=0,d=!1,f=!1,m=new Ci,g=new ni,v={value:null,needsUpdate:!1};function y(){v.value!==l&&(v.value=l,v.needsUpdate=0<p),h.numPlanes=p,h.numIntersection=0}function b(t,e,i,r){var n=null!==t?t.length:0,o=null;if(0!==n){if(o=v.value,!0!==r||null===o){var a=i+4*n,s=e.matrixWorldInverse;g.getNormalMatrix(s),(null===o||o.length<a)&&(o=new Float32Array(a));for(var c=0,u=i;c!==n;++c,u+=4)m.copy(t[c]).applyMatrix4(s,g),m.normal.toArray(o,u),o[u+3]=m.constant}v.value=o,v.needsUpdate=!0}return h.numPlanes=n,o}this.uniform=v,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,i){var r=0!==t.length||e||0!==p||d;return d=e,l=b(t,i,0),p=t.length,r},this.beginShadows=function(){f=!0,b(null)},this.endShadows=function(){f=!1,y()},this.setState=function(t,e,i,r,n,o){if(!d||null===t||0===t.length||f&&!i)f?b(null):y();else{var a=f?0:p,s=4*a,c=n.clippingState||null;v.value=c,c=b(t,r,s,o);for(var u=0;u!==s;++u)c[u]=l[u];n.clippingState=c,this.numIntersection=e?this.numPlanes:0,this.numPlanes+=a}}}function Ln(i){var r={};return{get:function(t){if(void 0!==r[t])return r[t];var e;switch(t){case"WEBGL_depth_texture":e=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":e=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":e=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":e=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:e=i.getExtension(t)}return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),r[t]=e}}}function Rn(l,p,o){var a={},d={};function s(t){var e=t.target,i=a[e.id];for(var r in null!==i.index&&p.remove(i.index),i.attributes)p.remove(i.attributes[r]);e.removeEventListener("dispose",s),delete a[e.id];var n=d[i.id];n&&(p.remove(n),delete d[i.id]),o.memory.geometries--}return{get:function(t,e){var i=a[e.id];return i||(e.addEventListener("dispose",s),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new $r).setFromObject(t)),i=e._bufferGeometry),a[e.id]=i,o.memory.geometries++,i)},update:function(t){var e=t.index,i=t.attributes;for(var r in null!==e&&p.update(e,l.ELEMENT_ARRAY_BUFFER),i)p.update(i[r],l.ARRAY_BUFFER);var n=t.morphAttributes;for(var r in n)for(var o=n[r],a=0,s=o.length;a<s;a++)p.update(o[a],l.ARRAY_BUFFER)},getWireframeAttribute:function(t){var e=d[t.id];if(e)return e;var i,r=[],n=t.index,o=t.attributes;if(null!==n)for(var a=0,s=(i=n.array).length;a<s;a+=3){var c=i[a+0],u=i[a+1],h=i[a+2];r.push(c,u,u,h,h,c)}else for(a=0,s=(i=o.position.array).length/3-1;a<s;a+=3)c=a+0,u=a+1,h=a+2,r.push(c,u,u,h,h,c);return e=new(65535<Rr(r)?Cr:Pr)(r,1),p.update(e,l.ELEMENT_ARRAY_BUFFER),d[t.id]=e}}}function Dn(n,o,a,s){var c,u,h;this.setMode=function(t){c=t},this.setIndex=function(t){u=t.type,h=t.bytesPerElement},this.render=function(t,e){n.drawElements(c,e,u,t*h),a.update(e,c)},this.renderInstances=function(t,e,i){var r;if(s.isWebGL2)r=n;else if(null===(r=o.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");r[s.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](c,i,u,e*h,t.maxInstancedCount),a.update(i,c,t.maxInstancedCount)}}function kn(r){var n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function(t,e,i){switch(i=i||1,n.calls++,e){case r.TRIANGLES:n.triangles+=i*(t/3);break;case r.TRIANGLE_STRIP:case r.TRIANGLE_FAN:n.triangles+=i*(t-2);break;case r.LINES:n.lines+=i*(t/2);break;case r.LINE_STRIP:n.lines+=i*(t-1);break;case r.LINE_LOOP:n.lines+=i*t;break;case r.POINTS:n.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e)}}}}function Bn(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Nn(d){var f={},m=new Float32Array(8);return{update:function(t,e,i,r){var n=t.morphTargetInfluences,o=n.length,a=f[e.id];if(void 0===a){a=[];for(var s=0;s<o;s++)a[s]=[s,0];f[e.id]=a}var c=i.morphTargets&&e.morphAttributes.position,u=i.morphNormals&&e.morphAttributes.normal;for(s=0;s<o;s++)0!==(h=a[s])[1]&&(c&&e.removeAttribute("morphTarget"+s),u&&e.removeAttribute("morphNormal"+s));for(s=0;s<o;s++)(h=a[s])[0]=s,h[1]=n[s];for(a.sort(Bn),s=0;s<8;s++){var h;if(h=a[s]){var l=h[0],p=h[1];if(p){c&&e.addAttribute("morphTarget"+s,c[l]),u&&e.addAttribute("morphNormal"+s,u[l]),m[s]=p;continue}}m[s]=0}r.getUniforms().setValue(d,"morphTargetInfluences",m)}}}function Fn(n,o){var a={};return{update:function(t){var e=o.render.frame,i=t.geometry,r=n.get(t,i);return a[r.id]!==e&&(i.isGeometry&&r.updateFromObject(t),n.update(r),a[r.id]=e),r},dispose:function(){a={}}}}function zn(t,e,i,r,n,o,a,s,c,u){wi.call(this,t=void 0!==t?t:[],e=void 0!==e?e:Rt,i,r,n,o,a,s,c,u),this.flipY=!1}wn.prototype=Object.assign(Object.create(v.prototype),{constructor:wn,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]="overdraw"===e?Number(i):i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Y&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==G&&(i.side=this.side),this.vertexColors!==V&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),0<this.alphaTest&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),1<this.wireframeLinewidth&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){var n=r(t.textures),o=r(t.images);0<n.length&&(i.textures=n),0<o.length&&(i.images=o)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var r=e.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((Sn.prototype=Object.create(wn.prototype)).constructor=Sn).prototype.isMeshBasicMaterial=!0,Sn.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},((An.prototype=Object.create(wn.prototype)).constructor=An).prototype.isShaderMaterial=!0,An.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ri.clone(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},An.prototype.toJSON=function(t){var e=wn.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(Mn.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new ri),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:(sn=new ri,function(t){return this.origin.copy(this.at(t,sn)),this}),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new ri),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:(an=new ri,function(t){var e=an.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(an.copy(this.direction).multiplyScalar(e).add(this.origin),an.distanceToSquared(t))}),distanceSqToSegment:(rn=new ri,nn=new ri,on=new ri,function(t,e,i,r){rn.copy(t).add(e).multiplyScalar(.5),nn.copy(e).sub(t).normalize(),on.copy(this.origin).sub(rn);var n,o,a,s,c=.5*t.distanceTo(e),u=-this.direction.dot(nn),h=on.dot(this.direction),l=-on.dot(nn),p=on.lengthSq(),d=Math.abs(1-u*u);if(0<d)if(o=u*h-l,s=c*d,0<=(n=u*l-h))if(-s<=o)if(o<=s){var f=1/d;a=(n*=f)*(n+u*(o*=f)+2*h)+o*(u*n+o+2*l)+p}else o=c,a=-(n=Math.max(0,-(u*o+h)))*n+o*(o+2*l)+p;else o=-c,a=-(n=Math.max(0,-(u*o+h)))*n+o*(o+2*l)+p;else o<=-s?a=-(n=Math.max(0,-(-u*c+h)))*n+(o=0<n?-c:Math.min(Math.max(-c,-l),c))*(o+2*l)+p:o<=s?(n=0,a=(o=Math.min(Math.max(-c,-l),c))*(o+2*l)+p):a=-(n=Math.max(0,-(u*c+h)))*n+(o=0<n?c:Math.min(Math.max(-c,-l),c))*(o+2*l)+p;else o=0<u?-c:c,a=-(n=Math.max(0,-(u*o+h)))*n+o*(o+2*l)+p;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(nn).multiplyScalar(o).add(rn),a}),intersectSphere:(en=new ri,function(t,e){en.subVectors(t.center,this.origin);var i=en.dot(this.direction),r=en.dot(en)-i*i,n=t.radius*t.radius;if(n<r)return null;var o=Math.sqrt(n-r),a=i-o,s=i+o;return a<0&&s<0?null:a<0?this.at(s,e):this.at(a,e)}),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return 0<=i?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,r,n,o,a,s,c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,l=this.origin;return 0<=c?(i=(t.min.x-l.x)*c,r=(t.max.x-l.x)*c):(i=(t.max.x-l.x)*c,r=(t.min.x-l.x)*c),0<=u?(n=(t.min.y-l.y)*u,o=(t.max.y-l.y)*u):(n=(t.max.y-l.y)*u,o=(t.min.y-l.y)*u),o<i||r<n?null:((i<n||i!=i)&&(i=n),(o<r||r!=r)&&(r=o),0<=h?(a=(t.min.z-l.z)*h,s=(t.max.z-l.z)*h):(a=(t.max.z-l.z)*h,s=(t.min.z-l.z)*h),s<i||r<a?null:((i<a||i!=i)&&(i=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(0<=i?i:r,e)))},intersectsBox:(tn=new ri,function(t){return null!==this.intersectBox(t,tn)}),intersectTriangle:(Zr=new ri,Kr=new ri,Jr=new ri,Qr=new ri,function(t,e,i,r,n){Kr.subVectors(e,t),Jr.subVectors(i,t),Qr.crossVectors(Kr,Jr);var o,a=this.direction.dot(Qr);if(0<a){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Zr.subVectors(this.origin,t);var s=o*this.direction.dot(Jr.crossVectors(Zr,Jr));if(s<0)return null;var c=o*this.direction.dot(Kr.cross(Zr));if(c<0)return null;if(a<s+c)return null;var u=-o*Zr.dot(Qr);return u<0?null:this.at(u/a,n)}),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(En,{getNormal:(pn=new ri,function(t,e,i,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new ri),r.subVectors(i,e),pn.subVectors(t,e),r.cross(pn);var n=r.lengthSq();return 0<n?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:(un=new ri,hn=new ri,ln=new ri,function(t,e,i,r,n){un.subVectors(r,e),hn.subVectors(i,e),ln.subVectors(t,e);var o=un.dot(un),a=un.dot(hn),s=un.dot(ln),c=hn.dot(hn),u=hn.dot(ln),h=o*c-a*a;if(void 0===n&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),n=new ri),0===h)return n.set(-2,-1,-1);var l=1/h,p=(c*s-a*u)*l,d=(o*u-a*s)*l;return n.set(1-p-d,d,p)}),containsPoint:(cn=new ri,function(t,e,i,r){return En.getBarycoord(t,e,i,r,cn),0<=cn.x&&0<=cn.y&&cn.x+cn.y<=1})}),Object.assign(En.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:(bn=new ri,xn=new ri,function(){return bn.subVectors(this.c,this.b),xn.subVectors(this.a,this.b),.5*bn.cross(xn).length()}),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new ri),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return En.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new ri),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return En.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return En.containsPoint(t,this.a,this.b,this.c)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(dn=new ri,fn=new ri,mn=new ri,gn=new ri,vn=new ri,yn=new ri,function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new ri);var i,r,n=this.a,o=this.b,a=this.c;dn.subVectors(o,n),fn.subVectors(a,n),gn.subVectors(t,n);var s=dn.dot(gn),c=fn.dot(gn);if(s<=0&&c<=0)return e.copy(n);vn.subVectors(t,o);var u=dn.dot(vn),h=fn.dot(vn);if(0<=u&&h<=u)return e.copy(o);var l=s*h-u*c;if(l<=0&&0<=s&&u<=0)return i=s/(s-u),e.copy(n).addScaledVector(dn,i);yn.subVectors(t,a);var p=dn.dot(yn),d=fn.dot(yn);if(0<=d&&p<=d)return e.copy(a);var f=p*c-s*d;if(f<=0&&0<=c&&d<=0)return r=c/(c-d),e.copy(n).addScaledVector(fn,r);var m=u*d-p*h;if(m<=0&&0<=h-u&&0<=p-d)return mn.subVectors(a,o),r=(h-u)/(h-u+(p-d)),e.copy(o).addScaledVector(mn,r);var g=1/(m+f+l);return i=f*g,r=l*g,e.copy(n).addScaledVector(dn,i).addScaledVector(fn,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Pn.prototype=Object.assign(Object.create(ur.prototype),{constructor:Pn,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ur.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,o=Object.keys(n);if(0<o.length){var a=n[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)i=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=r.morphTargets;if(void 0!==s&&0<s.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)i=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}},raycast:function(){var z=new ei,U=new Mn,j=new Ti,G=new ri,V=new ri,H=new ri,$=new ri,W=new ri,X=new ri,q=new ti,Y=new ti,Z=new ti,s=new ri,K=new ri,u=new ri;function J(t,e,i,r,n,o,a){return En.getBarycoord(t,e,i,r,s),n.multiplyScalar(s.x),o.multiplyScalar(s.y),a.multiplyScalar(s.z),n.add(o).add(a),n.clone()}function Q(t,e,i,r,n,o,a,s){if(null===(e.side===wt?r.intersectTriangle(a,o,n,!0,s):r.intersectTriangle(n,o,a,e.side!==et,s)))return null;u.copy(s),u.applyMatrix4(t.matrixWorld);var c=i.ray.origin.distanceTo(u);return c<i.near||c>i.far?null:{distance:c,point:u.clone(),object:t}}function tt(t,e,i,r,n,o,a,s,c){G.fromBufferAttribute(n,a),V.fromBufferAttribute(n,s),H.fromBufferAttribute(n,c);var u=Q(t,e,i,r,G,V,H,K);if(u){o&&(q.fromBufferAttribute(o,a),Y.fromBufferAttribute(o,s),Z.fromBufferAttribute(o,c),u.uv=J(K,G,V,H,q,Y,Z));var h=new pr(a,s,c);En.getNormal(G,V,H,h.normal),u.face=h}return u}return function(t,e){var i,r=this.geometry,n=this.material,o=this.matrixWorld;if(void 0!==n&&(null===r.boundingSphere&&r.computeBoundingSphere(),j.copy(r.boundingSphere),j.applyMatrix4(o),!1!==t.ray.intersectsSphere(j)&&(z.getInverse(o),U.copy(t.ray).applyMatrix4(z),null===r.boundingBox||!1!==U.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a,s,c,u,h,l,p,d,f,m=r.index,g=r.attributes.position,v=r.attributes.uv,y=r.groups,b=r.drawRange;if(null!==m)if(Array.isArray(n))for(u=0,l=y.length;u<l;u++)for(f=n[(d=y[u]).materialIndex],h=Math.max(d.start,b.start),p=Math.min(d.start+d.count,b.start+b.count);h<p;h+=3)a=m.getX(h),s=m.getX(h+1),c=m.getX(h+2),(i=tt(this,f,t,U,g,v,a,s,c))&&(i.faceIndex=Math.floor(h/3),e.push(i));else for(u=Math.max(0,b.start),l=Math.min(m.count,b.start+b.count);u<l;u+=3)a=m.getX(u),s=m.getX(u+1),c=m.getX(u+2),(i=tt(this,n,t,U,g,v,a,s,c))&&(i.faceIndex=Math.floor(u/3),e.push(i));else if(void 0!==g)if(Array.isArray(n))for(u=0,l=y.length;u<l;u++)for(f=n[(d=y[u]).materialIndex],h=Math.max(d.start,b.start),p=Math.min(d.start+d.count,b.start+b.count);h<p;h+=3)(i=tt(this,f,t,U,g,v,a=h,s=h+1,c=h+2))&&(i.faceIndex=Math.floor(h/3),e.push(i));else for(u=Math.max(0,b.start),l=Math.min(g.count,b.start+b.count);u<l;u+=3)(i=tt(this,n,t,U,g,v,a=u,s=u+1,c=u+2))&&(i.faceIndex=Math.floor(u/3),e.push(i))}else if(r.isGeometry){var x,_,w,S,A=Array.isArray(n),M=r.vertices,E=r.faces,P=r.faceVertexUvs[0];0<P.length&&(S=P);for(var T=0,C=E.length;T<C;T++){var I=E[T],O=A?n[I.materialIndex]:n;if(void 0!==O){if(x=M[I.a],_=M[I.b],w=M[I.c],!0===O.morphTargets){var L=r.morphTargets,R=this.morphTargetInfluences;G.set(0,0,0),V.set(0,0,0),H.set(0,0,0);for(var D=0,k=L.length;D<k;D++){var B=R[D];if(0!==B){var N=L[D].vertices;G.addScaledVector($.subVectors(N[I.a],x),B),V.addScaledVector(W.subVectors(N[I.b],_),B),H.addScaledVector(X.subVectors(N[I.c],w),B)}}G.add(x),V.add(_),H.add(w),x=G,_=V,w=H}if(i=Q(this,O,t,U,x,_,w,K)){if(S&&S[T]){var F=S[T];q.copy(F[0]),Y.copy(F[1]),Z.copy(F[2]),i.uv=J(K,x,_,w,q,Y,Z)}i.face=I,i.faceIndex=T,e.push(i)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((zn.prototype=Object.create(wi.prototype)).constructor=zn).prototype.isCubeTexture=!0,Object.defineProperty(zn.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Un=new wi,jn=new zn;function Gn(){this.seq=[],this.map={}}var Vn=[],Hn=[],$n=new Float32Array(16),Wn=new Float32Array(9),Xn=new Float32Array(4);function qn(t,e,i){var r=t[0];if(r<=0||0<r)return t;var n=e*i,o=Vn[n];if(void 0===o&&(o=new Float32Array(n),Vn[n]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=i,t[a].toArray(o,s)}return o}function Yn(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function Zn(t,e){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}function Kn(t,e){var i=Hn[e];void 0===i&&(i=new Int32Array(e),Hn[e]=i);for(var r=0;r!==e;++r)i[r]=t.allocTextureUnit();return i}function Jn(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function Qn(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function to(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Yn(i,e))return;t.uniform2fv(this.addr,e),Zn(i,e)}}function eo(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Yn(i,e))return;t.uniform3fv(this.addr,e),Zn(i,e)}}function io(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Yn(i,e))return;t.uniform4fv(this.addr,e),Zn(i,e)}}function ro(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Yn(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),Zn(i,e)}else{if(Yn(i,r))return;Xn.set(r),t.uniformMatrix2fv(this.addr,!1,Xn),Zn(i,r)}}function no(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Yn(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),Zn(i,e)}else{if(Yn(i,r))return;Wn.set(r),t.uniformMatrix3fv(this.addr,!1,Wn),Zn(i,r)}}function oo(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Yn(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),Zn(i,e)}else{if(Yn(i,r))return;$n.set(r),t.uniformMatrix4fv(this.addr,!1,$n),Zn(i,r)}}function ao(t,e,i){var r=this.cache,n=i.allocTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2D(e||Un,n)}function so(t,e,i){var r=this.cache,n=i.allocTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTextureCube(e||jn,n)}function co(t,e){var i=this.cache;Yn(i,e)||(t.uniform2iv(this.addr,e),Zn(i,e))}function uo(t,e){var i=this.cache;Yn(i,e)||(t.uniform3iv(this.addr,e),Zn(i,e))}function ho(t,e){var i=this.cache;Yn(i,e)||(t.uniform4iv(this.addr,e),Zn(i,e))}function lo(t,e){var i=this.cache;Yn(i,e)||(t.uniform1fv(this.addr,e),Zn(i,e))}function po(t,e){var i=this.cache;Yn(i,e)||(t.uniform1iv(this.addr,e),Zn(i,e))}function fo(t,e){var i=this.cache,r=qn(e,this.size,2);Yn(i,r)||(t.uniform2fv(this.addr,r),this.updateCache(r))}function mo(t,e){var i=this.cache,r=qn(e,this.size,3);Yn(i,r)||(t.uniform3fv(this.addr,r),this.updateCache(r))}function go(t,e){var i=this.cache,r=qn(e,this.size,4);Yn(i,r)||(t.uniform4fv(this.addr,r),this.updateCache(r))}function vo(t,e){var i=this.cache,r=qn(e,this.size,4);Yn(i,r)||(t.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function yo(t,e){var i=this.cache,r=qn(e,this.size,9);Yn(i,r)||(t.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function bo(t,e){var i=this.cache,r=qn(e,this.size,16);Yn(i,r)||(t.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function xo(t,e,i){var r=this.cache,n=e.length,o=Kn(i,n);!1===Yn(r,o)&&(t.uniform1iv(this.addr,o),Zn(r,o));for(var a=0;a!==n;++a)i.setTexture2D(e[a]||Un,o[a])}function _o(t,e,i){var r=this.cache,n=e.length,o=Kn(i,n);!1===Yn(r,o)&&(t.uniform1iv(this.addr,o),Zn(r,o));for(var a=0;a!==n;++a)i.setTextureCube(e[a]||jn,o[a])}function wo(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Jn;case 35664:return to;case 35665:return eo;case 35666:return io;case 35674:return ro;case 35675:return no;case 35676:return oo;case 35678:case 36198:return ao;case 35680:return so;case 5124:case 35670:return Qn;case 35667:case 35671:return co;case 35668:case 35672:return uo;case 35669:case 35673:return ho}}(e.type)}function So(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return lo;case 35664:return fo;case 35665:return mo;case 35666:return go;case 35674:return vo;case 35675:return yo;case 35676:return bo;case 35678:return xo;case 35680:return _o;case 5124:case 35670:return po;case 35667:case 35671:return co;case 35668:case 35672:return uo;case 35669:case 35673:return ho}}(e.type)}function Ao(t){this.id=t,Gn.call(this)}So.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),Zn(e,t)},Ao.prototype.setValue=function(t,e,i){for(var r=this.seq,n=0,o=r.length;n!==o;++n){var a=r[n];a.setValue(t,e[a.id],i)}};var Mo=/([\w\d_]+)(\])?(\[|\.)?/g;function Eo(t,e){t.seq.push(e),t.map[e.id]=e}function Po(t,e,i){var r=t.name,n=r.length;for(Mo.lastIndex=0;;){var o=Mo.exec(r),a=Mo.lastIndex,s=o[1],c="]"===o[2],u=o[3];if(c&&(s|=0),void 0===u||"["===u&&a+2===n){Eo(i,void 0===u?new wo(s,t,e):new So(s,t,e));break}var h=i.map[s];void 0===h&&Eo(i,h=new Ao(s)),i=h}}function To(t,e,i){Gn.call(this),this.renderer=i;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<r;++n){var o=t.getActiveUniform(e,n);Po(o,t.getUniformLocation(e,o.name),this)}}function Co(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")}(i)),r}To.prototype.setValue=function(t,e,i){var r=this.map[e];void 0!==r&&r.setValue(t,i,this.renderer)},To.prototype.setOptional=function(t,e,i){var r=e[i];void 0!==r&&this.setValue(t,i,r)},To.upload=function(t,e,i,r){for(var n=0,o=e.length;n!==o;++n){var a=e[n],s=i[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},To.seqWithValue=function(t,e){for(var i=[],r=0,n=t.length;r!==n;++r){var o=t[r];o.id in e&&i.push(o)}return i};var Io=0;function Oo(t){switch(t){case Ge:return["Linear","( value )"];case Ve:return["sRGB","( value )"];case $e:return["RGBE","( value )"];case We:return["RGBM","( value, 7.0 )"];case Xe:return["RGBM","( value, 16.0 )"];case qe:return["RGBD","( value, 256.0 )"];case He:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Lo(t,e){var i=Oo(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Ro(t){return""!==t}function Do(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ko(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function Bo(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(t,e){var i=Li[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return Bo(i)})}function No(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,i,r){for(var n="",o=parseInt(e);o<parseInt(i);o++)n+=r.replace(/\[ i \]/g,"[ "+o+" ]");return n})}function Fo(t,e,i,r,n,o,a){var s=t.context,c=r.defines,u=n.vertexShader,h=n.fragmentShader,l="SHADOWMAP_TYPE_BASIC";o.shadowMapType===U?l="SHADOWMAP_TYPE_PCF":o.shadowMapType===j&&(l="SHADOWMAP_TYPE_PCF_SOFT");var p="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case Rt:case Dt:p="ENVMAP_TYPE_CUBE";break;case Ft:case zt:p="ENVMAP_TYPE_CUBE_UV";break;case kt:case Bt:p="ENVMAP_TYPE_EQUIREC";break;case Nt:p="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case Dt:case Bt:d="ENVMAP_MODE_REFRACTION"}switch(r.combine){case Mt:f="ENVMAP_BLENDING_MULTIPLY";break;case Et:f="ENVMAP_BLENDING_MIX";break;case Pt:f="ENVMAP_BLENDING_ADD"}}var m,g,v,y,b,x,_,w,S=0<t.gammaFactor?t.gammaFactor:1,A=a.isWebGL2?"":(m=r.extensions,g=o,v=e,[(m=m||{}).derivatives||g.envMapCubeUV||g.bumpMap||g.normalMap&&!g.objectSpaceNormalMap||g.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(m.fragDepth||g.logarithmicDepthBuffer)&&v.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",m.drawBuffers&&v.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(m.shaderTextureLOD||g.envMap)&&v.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ro).join("\n")),M=function(t){var e=[];for(var i in t){var r=t[i];!1!==r&&e.push("#define "+i+" "+r)}return e.join("\n")}(c),E=s.createProgram();if(r.isRawShaderMaterial?(0<(y=[M].filter(Ro).join("\n")).length&&(y+="\n"),0<(b=[A,M].filter(Ro).join("\n")).length&&(b+="\n")):(y=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+n.name,M,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+S,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+l:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ro).join("\n"),b=[A,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+n.name,M,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+S,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.envMap?"#define "+d:"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+l:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==Tt?"#define TONE_MAPPING":"",o.toneMapping!==Tt?Li.tonemapping_pars_fragment:"",o.toneMapping!==Tt?function(t,e){var i;switch(e){case Ct:i="Linear";break;case It:i="Reinhard";break;case Ot:i="Uncharted2";break;case Lt:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Li.encodings_pars_fragment:"",o.mapEncoding?Lo("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?Lo("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Lo("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(x="linearToOutputTexel",_=o.outputEncoding,w=Oo(_),"vec4 "+x+"( vec4 value ) { return LinearTo"+w[0]+w[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Ro).join("\n")),u=ko(u=Do(u=Bo(u),o),o),h=ko(h=Do(h=Bo(h),o),o),u=No(u),h=No(h),a.isWebGL2&&!r.isRawShaderMaterial){var P=!1,T=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==u.match(T)&&null!==h.match(T)&&(P=!0,u=u.replace(T,""),h=h.replace(T,"")),y=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,b=["#version 300 es\n","#define varying in",P?"":"out highp vec4 pc_fragColor;",P?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b}var C=y+u,I=b+h,O=Co(s,s.VERTEX_SHADER,C),L=Co(s,s.FRAGMENT_SHADER,I);s.attachShader(E,O),s.attachShader(E,L),void 0!==r.index0AttributeName?s.bindAttribLocation(E,0,r.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(E,0,"position"),s.linkProgram(E);var R,D,k=s.getProgramInfoLog(E).trim(),B=s.getShaderInfoLog(O).trim(),N=s.getShaderInfoLog(L).trim(),F=!0,z=!0;return!1===s.getProgramParameter(E,s.LINK_STATUS)?(F=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"gl.VALIDATE_STATUS",s.getProgramParameter(E,s.VALIDATE_STATUS),"gl.getProgramInfoLog",k,B,N)):""!==k?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",k):""!==B&&""!==N||(z=!1),z&&(this.diagnostics={runnable:F,material:r,programLog:k,vertexShader:{log:B,prefix:y},fragmentShader:{log:N,prefix:b}}),s.deleteShader(O),s.deleteShader(L),this.getUniforms=function(){return void 0===R&&(R=new To(s,E,t)),R},this.getAttributes=function(){return void 0===D&&(D=function(t,e){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var o=t.getActiveAttrib(e,n).name;i[o]=t.getAttribLocation(e,o)}return i}(s,E)),D},this.destroy=function(){s.deleteProgram(E),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=n.name,this.id=Io++,this.code=i,this.usedTimes=1,this.program=E,this.vertexShader=O,this.fragmentShader=L,this}function zo(l,c,p){var u=[],d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function f(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),i=t.texture.encoding):i=Ge,i===Ge&&e&&(i=He),i}this.getParameters=function(t,e,i,r,n,o,a){var s=d[t.type],c=a.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(p.floatVertexTextures)return 1024;var i=p.maxVertexUniforms,r=Math.floor((i-20)/4),n=Math.min(r,e.length);return n<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+n+"."),0):n}(a):0,u=p.precision;null!==t.precision&&(u=p.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",u,"instead.");var h=l.getRenderTarget();return{shaderID:s,precision:u,supportsVertexTextures:p.vertexTextures,outputEncoding:f(h?h.texture:null,l.gammaOutput),map:!!t.map,mapEncoding:f(t.map,l.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:f(t.envMap,l.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Ft||t.envMap.mapping===zt),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:f(t.emissiveMap,l.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Je,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!r,useFog:t.fog,fogExp:r&&r.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:p.logarithmicDepthBuffer,skinning:t.skinning&&0<c,maxBones:c,useVertexTexture:p.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:l.maxMorphTargets,maxMorphNormals:l.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numClippingPlanes:n,numClipIntersection:o,dithering:t.dithering,shadowMapEnabled:l.shadowMap.enabled&&a.receiveShadow&&0<i.length,shadowMapType:l.shadowMap.type,toneMapping:l.toneMapping,physicallyCorrectLights:l.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===et,flipSided:t.side===wt,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(var n=0;n<o.length;n++)i.push(e[o[n]]);return i.push(t.onBeforeCompile.toString()),i.push(l.gammaOutput),i.join()},this.acquireProgram=function(t,e,i,r){for(var n,o=0,a=u.length;o<a;o++){var s=u[o];if(s.code===r){++(n=s).usedTimes;break}}return void 0===n&&(n=new Fo(l,c,r,t,e,i,p),u.push(n)),n},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=u.indexOf(t);u[e]=u[u.length-1],u.pop(),t.destroy()}},this.programs=u}function Uo(){var r=new WeakMap;return{get:function(t){var e=r.get(t);return void 0===e&&(e={},r.set(t,e)),e},remove:function(t){r.delete(t)},update:function(t,e,i){r.get(t)[e]=i},dispose:function(){r=new WeakMap}}}function jo(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Go(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Vo(){var a=[],s=0,c=[],u=[];return{opaque:c,transparent:u,init:function(){s=0,c.length=0,u.length=0},push:function(t,e,i,r,n){var o=a[s];void 0===o?(o={id:t.id,object:t,geometry:e,material:i,program:i.program,renderOrder:t.renderOrder,z:r,group:n},a[s]=o):(o.id=t.id,o.object=t,o.geometry=e,o.material=i,o.program=i.program,o.renderOrder=t.renderOrder,o.z=r,o.group=n),(!0===i.transparent?u:c).push(o),s++},sort:function(){1<c.length&&c.sort(jo),1<u.length&&u.sort(Go)}}}function Ho(){var n={};return{get:function(t,e){var i=t.id+","+e.id,r=n[i];return void 0===r&&(r=new Vo,n[i]=r),r},dispose:function(){n={}}}}function $o(){var i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];var e;switch(t.type){case"DirectionalLight":e={direction:new ri,color:new ki,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ti};break;case"SpotLight":e={position:new ri,direction:new ri,color:new ki,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ti};break;case"PointLight":e={position:new ri,color:new ki,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ti,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":e={direction:new ri,skyColor:new ki,groundColor:new ki};break;case"RectAreaLight":e={color:new ki,position:new ri,halfWidth:new ri,halfHeight:new ri}}return i[t.id]=e}}}var Wo,Xo,qo,Yo,Zo,Ko,Jo,Qo,ta,ea,ia,ra,na,oa,aa,sa,ca=0;function ua(){var _=new $o,w={id:ca++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},S=new ri,A=new ei,M=new ei;return{setup:function(t,e,i){for(var r=0,n=0,o=0,a=0,s=0,c=0,u=0,h=0,l=i.matrixWorldInverse,p=0,d=t.length;p<d;p++){var f=t[p],m=f.color,g=f.intensity,v=f.distance,y=f.shadow&&f.shadow.map?f.shadow.map.texture:null;if(f.isAmbientLight)r+=m.r*g,n+=m.g*g,o+=m.b*g;else if(f.isDirectionalLight){if((x=_.get(f)).color.copy(f.color).multiplyScalar(f.intensity),x.direction.setFromMatrixPosition(f.matrixWorld),S.setFromMatrixPosition(f.target.matrixWorld),x.direction.sub(S),x.direction.transformDirection(l),x.shadow=f.castShadow,f.castShadow){var b=f.shadow;x.shadowBias=b.bias,x.shadowRadius=b.radius,x.shadowMapSize=b.mapSize}w.directionalShadowMap[a]=y,w.directionalShadowMatrix[a]=f.shadow.matrix,w.directional[a]=x,a++}else if(f.isSpotLight)(x=_.get(f)).position.setFromMatrixPosition(f.matrixWorld),x.position.applyMatrix4(l),x.color.copy(m).multiplyScalar(g),x.distance=v,x.direction.setFromMatrixPosition(f.matrixWorld),S.setFromMatrixPosition(f.target.matrixWorld),x.direction.sub(S),x.direction.transformDirection(l),x.coneCos=Math.cos(f.angle),x.penumbraCos=Math.cos(f.angle*(1-f.penumbra)),x.decay=0===f.distance?0:f.decay,x.shadow=f.castShadow,f.castShadow&&(b=f.shadow,x.shadowBias=b.bias,x.shadowRadius=b.radius,x.shadowMapSize=b.mapSize),w.spotShadowMap[c]=y,w.spotShadowMatrix[c]=f.shadow.matrix,w.spot[c]=x,c++;else if(f.isRectAreaLight)(x=_.get(f)).color.copy(m).multiplyScalar(g),x.position.setFromMatrixPosition(f.matrixWorld),x.position.applyMatrix4(l),M.identity(),A.copy(f.matrixWorld),A.premultiply(l),M.extractRotation(A),x.halfWidth.set(.5*f.width,0,0),x.halfHeight.set(0,.5*f.height,0),x.halfWidth.applyMatrix4(M),x.halfHeight.applyMatrix4(M),w.rectArea[u]=x,u++;else if(f.isPointLight)(x=_.get(f)).position.setFromMatrixPosition(f.matrixWorld),x.position.applyMatrix4(l),x.color.copy(f.color).multiplyScalar(f.intensity),x.distance=f.distance,x.decay=0===f.distance?0:f.decay,x.shadow=f.castShadow,f.castShadow&&(b=f.shadow,x.shadowBias=b.bias,x.shadowRadius=b.radius,x.shadowMapSize=b.mapSize,x.shadowCameraNear=b.camera.near,x.shadowCameraFar=b.camera.far),w.pointShadowMap[s]=y,w.pointShadowMatrix[s]=f.shadow.matrix,w.point[s]=x,s++;else if(f.isHemisphereLight){var x;(x=_.get(f)).direction.setFromMatrixPosition(f.matrixWorld),x.direction.transformDirection(l),x.direction.normalize(),x.skyColor.copy(f.color).multiplyScalar(g),x.groundColor.copy(f.groundColor).multiplyScalar(g),w.hemi[h]=x,h++}}w.ambient[0]=r,w.ambient[1]=n,w.ambient[2]=o,w.directional.length=a,w.spot.length=c,w.rectArea.length=u,w.point.length=s,w.hemi.length=h,w.hash.stateID=w.id,w.hash.directionalLength=a,w.hash.pointLength=s,w.hash.spotLength=c,w.hash.rectAreaLength=u,w.hash.hemiLength=h,w.hash.shadowsLength=e.length},state:w}}function ha(){var e=new ua,i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:e},setupLights:function(t){e.setup(i,r,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function la(){var r={};return{get:function(t,e){var i;return void 0===r[t.id]?(i=new ha,r[t.id]={},r[t.id][e.id]=i):void 0===r[t.id][e.id]?(i=new ha,r[t.id][e.id]=i):i=r[t.id][e.id],i},dispose:function(){r={}}}}function pa(t){wn.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ye,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function da(t){wn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ri,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function fa(b,m,t){for(var x=new Ii,_=new ei,w=new ti,S=new ti(t,t),A=new ri,M=new ri,v=1,y=2,e=1+(v|y),E=new Array(e),P=new Array(e),T={},C={0:wt,1:G,2:et},I=[new ri(1,0,0),new ri(-1,0,0),new ri(0,0,1),new ri(0,0,-1),new ri(0,1,0),new ri(0,-1,0)],O=[new ri(0,1,0),new ri(0,1,0),new ri(0,1,0),new ri(0,1,0),new ri(0,0,1),new ri(0,0,-1)],L=[new Si,new Si,new Si,new Si,new Si,new Si],i=0;i!==e;++i){var r=0!=(i&v),n=0!=(i&y),o=new pa({depthPacking:Ze,morphTargets:r,skinning:n});E[i]=o;var a=new da({morphTargets:r,skinning:n});P[i]=a}var R=this;function g(t,e,i,r,n,o){var a=t.geometry,s=null,c=E,u=t.customDepthMaterial;if(i&&(c=P,u=t.customDistanceMaterial),u)s=u;else{var h=!1;e.morphTargets&&(a&&a.isBufferGeometry?h=a.morphAttributes&&a.morphAttributes.position&&0<a.morphAttributes.position.length:a&&a.isGeometry&&(h=a.morphTargets&&0<a.morphTargets.length)),t.isSkinnedMesh&&!1===e.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var l=t.isSkinnedMesh&&e.skinning,p=0;h&&(p|=v),l&&(p|=y),s=c[p]}if(b.localClippingEnabled&&!0===e.clipShadows&&0!==e.clippingPlanes.length){var d=s.uuid,f=e.uuid,m=T[d];void 0===m&&(m={},T[d]=m);var g=m[f];void 0===g&&(g=s.clone(),m[f]=g),s=g}return s.visible=e.visible,s.wireframe=e.wireframe,s.side=null!=e.shadowSide?e.shadowSide:C[e.side],s.clipShadows=e.clipShadows,s.clippingPlanes=e.clippingPlanes,s.clipIntersection=e.clipIntersection,s.wireframeLinewidth=e.wireframeLinewidth,s.linewidth=e.linewidth,i&&s.isMeshDistanceMaterial&&(s.referencePosition.copy(r),s.nearDistance=n,s.farDistance=o),s}function D(t,e,i,r){if(!1!==t.visible){if(t.layers.test(e.layers)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!t.frustumCulled||x.intersectsObject(t))){t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld);var n=m.update(t),o=t.material;if(Array.isArray(o))for(var a=n.groups,s=0,c=a.length;s<c;s++){var u=a[s],h=o[u.materialIndex];if(h&&h.visible){var l=g(t,h,r,M,i.near,i.far);b.renderBufferDirect(i,null,n,l,t,u)}}else if(o.visible){l=g(t,o,r,M,i.near,i.far);b.renderBufferDirect(i,null,n,l,t,null)}}for(var p=t.children,d=0,f=p.length;d<f;d++)D(p[d],e,i,r)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=U,this.render=function(t,e,i){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var r,n=b.context,o=b.state;o.disable(n.BLEND),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var a=0,s=t.length;a<s;a++){var c=t[a],u=c.shadow,h=c&&c.isPointLight;if(void 0!==u){var l=u.camera;if(w.copy(u.mapSize),w.min(S),h){var p=w.x,d=w.y;L[0].set(2*p,d,p,d),L[1].set(0,d,p,d),L[2].set(3*p,d,p,d),L[3].set(p,d,p,d),L[4].set(3*p,0,p,d),L[5].set(p,0,p,d),w.x*=4,w.y*=2}if(null===u.map){var f={minFilter:Vt,magFilter:Vt,format:ue};u.map=new Ai(w.x,w.y,f),u.map.texture.name=c.name+".shadowMap",l.updateProjectionMatrix()}u.isSpotLightShadow&&u.update(c);var m=u.map,g=u.matrix;M.setFromMatrixPosition(c.matrixWorld),l.position.copy(M),h?(r=6,g.makeTranslation(-M.x,-M.y,-M.z)):(r=1,A.setFromMatrixPosition(c.target.matrixWorld),l.lookAt(A),l.updateMatrixWorld(),g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g.multiply(l.projectionMatrix),g.multiply(l.matrixWorldInverse)),b.setRenderTarget(m),b.clear();for(var v=0;v<r;v++){if(h){A.copy(l.position),A.add(I[v]),l.up.copy(O[v]),l.lookAt(A),l.updateMatrixWorld();var y=L[v];o.viewport(y)}_.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),x.setFromMatrix(_),D(e,i,l,h)}}else console.warn("THREE.WebGLShadowMap:",c,"has no shadow.")}R.needsUpdate=!1}}}function ma(h,i,c,r){var n=new function(){var e=!1,o=new Si,i=null,a=new Si(0,0,0,0);return{setMask:function(t){i===t||e||(h.colorMask(t,t,t,t),i=t)},setLocked:function(t){e=t},setClear:function(t,e,i,r,n){!0===n&&(t*=r,e*=r,i*=r),o.set(t,e,i,r),!1===a.equals(o)&&(h.clearColor(t,e,i,r),a.copy(o))},reset:function(){e=!1,i=null,a.set(-1,0,0,0)}}},o=new function(){var e=!1,i=null,r=null,n=null;return{setTest:function(t){t?F(h.DEPTH_TEST):z(h.DEPTH_TEST)},setMask:function(t){i===t||e||(h.depthMask(t),i=t)},setFunc:function(t){if(r!==t){if(t)switch(t){case gt:h.depthFunc(h.NEVER);break;case vt:h.depthFunc(h.ALWAYS);break;case yt:h.depthFunc(h.LESS);break;case bt:h.depthFunc(h.LEQUAL);break;case xt:h.depthFunc(h.EQUAL);break;case _t:h.depthFunc(h.GEQUAL);break;case St:h.depthFunc(h.GREATER);break;case At:h.depthFunc(h.NOTEQUAL);break;default:h.depthFunc(h.LEQUAL)}else h.depthFunc(h.LEQUAL);r=t}},setLocked:function(t){e=t},setClear:function(t){n!==t&&(h.clearDepth(t),n=t)},reset:function(){e=!1,n=r=i=null}}},e=new function(){var e=!1,i=null,r=null,n=null,o=null,a=null,s=null,c=null,u=null;return{setTest:function(t){t?F(h.STENCIL_TEST):z(h.STENCIL_TEST)},setMask:function(t){i===t||e||(h.stencilMask(t),i=t)},setFunc:function(t,e,i){r===t&&n===e&&o===i||(h.stencilFunc(t,e,i),r=t,n=e,o=i)},setOp:function(t,e,i){a===t&&s===e&&c===i||(h.stencilOp(t,e,i),a=t,s=e,c=i)},setLocked:function(t){e=t},setClear:function(t){u!==t&&(h.clearStencil(t),u=t)},reset:function(){e=!1,u=c=s=a=o=n=r=i=null}}},t=h.getParameter(h.MAX_VERTEX_ATTRIBS),a=new Uint8Array(t),s=new Uint8Array(t),u=new Uint8Array(t),l={},p=null,d=null,f=null,m=null,g=null,v=null,y=null,b=null,x=null,_=!1,w=null,S=null,A=null,M=null,E=null,P=h.getParameter(h.MAX_COMBINED_TEXTURE_IMAGE_UNITS),T=!1,C=0,I=h.getParameter(h.VERSION);-1!==I.indexOf("WebGL")?(C=parseFloat(/^WebGL\ ([0-9])/.exec(I)[1]),T=1<=C):-1!==I.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(I)[1]),T=2<=C);var O=null,L={},R=new Si,D=new Si;function k(t,e,i){var r=new Uint8Array(4),n=h.createTexture();h.bindTexture(t,n),h.texParameteri(t,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(t,h.TEXTURE_MAG_FILTER,h.NEAREST);for(var o=0;o<i;o++)h.texImage2D(e+o,0,h.RGBA,1,1,0,h.RGBA,h.UNSIGNED_BYTE,r);return n}var B={};function N(t,e){(a[t]=1,0===s[t]&&(h.enableVertexAttribArray(t),s[t]=1),u[t]!==e)&&((r.isWebGL2?h:i.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](t,e),u[t]=e)}function F(t){!0!==l[t]&&(h.enable(t),l[t]=!0)}function z(t){!1!==l[t]&&(h.disable(t),l[t]=!1)}function U(t,e,i,r,n,o,a,s){if(t!==q?F(h.BLEND):z(h.BLEND),t!==Q){if(t!==f||s!==_)switch(t){case Z:s?(h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.ONE,h.ONE,h.ONE,h.ONE)):(h.blendEquation(h.FUNC_ADD),h.blendFunc(h.SRC_ALPHA,h.ONE));break;case K:s?(h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.ZERO,h.ZERO,h.ONE_MINUS_SRC_COLOR,h.ONE_MINUS_SRC_ALPHA)):(h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ZERO,h.ONE_MINUS_SRC_COLOR));break;case J:s?(h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.ZERO,h.SRC_COLOR,h.ZERO,h.SRC_ALPHA)):(h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ZERO,h.SRC_COLOR));break;default:s?(h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.ONE,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA)):(h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA))}x=b=y=v=g=m=null}else n=n||e,o=o||i,a=a||r,e===m&&n===y||(h.blendEquationSeparate(c.convert(e),c.convert(n)),m=e,y=n),i===g&&r===v&&o===b&&a===x||(h.blendFuncSeparate(c.convert(i),c.convert(r),c.convert(o),c.convert(a)),g=i,v=r,b=o,x=a);f=t,_=s}function j(t){w!==t&&(t?h.frontFace(h.CW):h.frontFace(h.CCW),w=t)}function G(t){t!==$?(F(h.CULL_FACE),t!==S&&(t===W?h.cullFace(h.BACK):t===X?h.cullFace(h.FRONT):h.cullFace(h.FRONT_AND_BACK))):z(h.CULL_FACE),S=t}function V(t,e,i){t?(F(h.POLYGON_OFFSET_FILL),M===e&&E===i||(h.polygonOffset(e,i),M=e,E=i)):z(h.POLYGON_OFFSET_FILL)}function H(t){void 0===t&&(t=h.TEXTURE0+P-1),O!==t&&(h.activeTexture(t),O=t)}return B[h.TEXTURE_2D]=k(h.TEXTURE_2D,h.TEXTURE_2D,1),B[h.TEXTURE_CUBE_MAP]=k(h.TEXTURE_CUBE_MAP,h.TEXTURE_CUBE_MAP_POSITIVE_X,6),n.setClear(0,0,0,1),o.setClear(1),e.setClear(0),F(h.DEPTH_TEST),o.setFunc(bt),j(!1),G(W),F(h.CULL_FACE),F(h.BLEND),U(Y),{buffers:{color:n,depth:o,stencil:e},initAttributes:function(){for(var t=0,e=a.length;t<e;t++)a[t]=0},enableAttribute:function(t){N(t,0)},enableAttributeAndDivisor:N,disableUnusedAttributes:function(){for(var t=0,e=s.length;t!==e;++t)s[t]!==a[t]&&(h.disableVertexAttribArray(t),s[t]=0)},enable:F,disable:z,getCompressedTextureFormats:function(){if(null===p&&(p=[],i.get("WEBGL_compressed_texture_pvrtc")||i.get("WEBGL_compressed_texture_s3tc")||i.get("WEBGL_compressed_texture_etc1")||i.get("WEBGL_compressed_texture_astc")))for(var t=h.getParameter(h.COMPRESSED_TEXTURE_FORMATS),e=0;e<t.length;e++)p.push(t[e]);return p},useProgram:function(t){return d!==t&&(h.useProgram(t),d=t,!0)},setBlending:U,setMaterial:function(t,e){t.side===et?z(h.CULL_FACE):F(h.CULL_FACE);var i=t.side===wt;e&&(i=!i),j(i),t.blending===Y&&!1===t.transparent?U(q):U(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),n.setMask(t.colorWrite),V(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:j,setCullFace:G,setLineWidth:function(t){t!==A&&(T&&h.lineWidth(t),A=t)},setPolygonOffset:V,setScissorTest:function(t){t?F(h.SCISSOR_TEST):z(h.SCISSOR_TEST)},activeTexture:H,bindTexture:function(t,e){null===O&&H();var i=L[O];void 0===i&&(i={type:void 0,texture:void 0},L[O]=i),i.type===t&&i.texture===e||(h.bindTexture(t,e||B[t]),i.type=t,i.texture=e)},compressedTexImage2D:function(){try{h.compressedTexImage2D.apply(h,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{h.texImage2D.apply(h,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===R.equals(t)&&(h.scissor(t.x,t.y,t.z,t.w),R.copy(t))},viewport:function(t){!1===D.equals(t)&&(h.viewport(t.x,t.y,t.z,t.w),D.copy(t))},reset:function(){for(var t=0;t<s.length;t++)1===s[t]&&(h.disableVertexAttribArray(t),s[t]=0);l={},L={},S=w=f=d=O=p=null,n.reset(),o.reset(),e.reset()}}}function ga(g,n,v,y,b,x,_){var f,s={};function w(t,e){if(t.width>e||t.height>e){if("data"in t)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+t.width+"x"+t.height+").");var i=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(t.width*i),r.height=Math.floor(t.height*i),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height),r}return t}function S(t){return Qe.isPowerOfTwo(t.width)&&Qe.isPowerOfTwo(t.height)}function A(t,e){return t.generateMipmaps&&e&&t.minFilter!==Vt&&t.minFilter!==Wt}function M(t,e,i,r){g.generateMipmap(t),y.get(e).__maxMipLevel=Math.log(Math.max(i,r))*Math.LOG2E}function E(t,e){if(!b.isWebGL2)return t;if(t===g.RGB){if(e===g.FLOAT)return g.RGB32F;if(e===g.HALF_FLOAT)return g.RGB16F;if(e===g.UNSIGNED_BYTE)return g.RGB8}if(t===g.RGBA){if(e===g.FLOAT)return g.RGBA32F;if(e===g.HALF_FLOAT)return g.RGBA16F;if(e===g.UNSIGNED_BYTE)return g.RGBA8}return t}function o(t){return t===Vt||t===Ht||t===$t?g.NEAREST:g.LINEAR}function P(t){var e=t.target;e.removeEventListener("dispose",P),function(t){var e=y.get(t);if(t.image&&e.__image__webglTextureCube)g.deleteTexture(e.__image__webglTextureCube);else{if(void 0===e.__webglInit)return;g.deleteTexture(e.__webglTexture)}y.remove(t)}(e),e.isVideoTexture&&delete s[e.id],_.memory.textures--}function a(t){var e=t.target;e.removeEventListener("dispose",a),function(t){var e=y.get(t),i=y.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&g.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var r=0;r<6;r++)g.deleteFramebuffer(e.__webglFramebuffer[r]),e.__webglDepthbuffer&&g.deleteRenderbuffer(e.__webglDepthbuffer[r]);else g.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&g.deleteRenderbuffer(e.__webglDepthbuffer);y.remove(t.texture),y.remove(t)}(e),_.memory.textures--}function c(t,e){var i,r,n,o=y.get(t);if(t.isVideoTexture&&(r=(i=t).id,n=_.render.frame,s[r]!==n&&(s[r]=n,i.update())),0<t.version&&o.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void function(t,e,i){void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",P),t.__webglTexture=g.createTexture(),_.memory.textures++);v.activeTexture(g.TEXTURE0+i),v.bindTexture(g.TEXTURE_2D,t.__webglTexture),g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,e.flipY),g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),g.pixelStorei(g.UNPACK_ALIGNMENT,e.unpackAlignment);var r=w(e.image,b.maxTextureSize);o=e,b.isWebGL2||o.wrapS===jt&&o.wrapT===jt&&(o.minFilter===Vt||o.minFilter===Wt)||!1!==S(r)||(r=(n=r)instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof ImageBitmap?(void 0===f&&(f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),f.width=Qe.floorPowerOfTwo(n.width),f.height=Qe.floorPowerOfTwo(n.height),f.getContext("2d").drawImage(n,0,0,f.width,f.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+n.width+"x"+n.height+"). Resized to "+f.width+"x"+f.height),f):n);var n;var o;var a=S(r),s=x.convert(e.format),c=x.convert(e.type),u=E(s,c);T(g.TEXTURE_2D,e,a);var h,l=e.mipmaps;if(e.isDepthTexture){if(u=g.DEPTH_COMPONENT,e.type===ee){if(!b.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");u=g.DEPTH_COMPONENT32F}else b.isWebGL2&&(u=g.DEPTH_COMPONENT16);e.format===pe&&u===g.DEPTH_COMPONENT&&e.type!==Jt&&e.type!==te&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),e.type=Jt,c=x.convert(e.type)),e.format===fe&&(u=g.DEPTH_STENCIL,e.type!==ae&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),e.type=ae,c=x.convert(e.type))),v.texImage2D(g.TEXTURE_2D,0,u,r.width,r.height,0,s,c,null)}else if(e.isDataTexture)if(0<l.length&&a){for(var p=0,d=l.length;p<d;p++)h=l[p],v.texImage2D(g.TEXTURE_2D,p,u,h.width,h.height,0,s,c,h.data);e.generateMipmaps=!1,t.__maxMipLevel=l.length-1}else v.texImage2D(g.TEXTURE_2D,0,u,r.width,r.height,0,s,c,r.data),t.__maxMipLevel=0;else if(e.isCompressedTexture){for(var p=0,d=l.length;p<d;p++)h=l[p],e.format!==ue&&e.format!==ce?-1<v.getCompressedTextureFormats().indexOf(s)?v.compressedTexImage2D(g.TEXTURE_2D,p,u,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):v.texImage2D(g.TEXTURE_2D,p,u,h.width,h.height,0,s,c,h.data);t.__maxMipLevel=l.length-1}else if(0<l.length&&a){for(var p=0,d=l.length;p<d;p++)h=l[p],v.texImage2D(g.TEXTURE_2D,p,u,s,c,h);e.generateMipmaps=!1,t.__maxMipLevel=l.length-1}else v.texImage2D(g.TEXTURE_2D,0,u,s,c,r),t.__maxMipLevel=0;A(e,a)&&M(g.TEXTURE_2D,e,r.width,r.height);t.__version=e.version,e.onUpdate&&e.onUpdate(e)}(o,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}v.activeTexture(g.TEXTURE0+e),v.bindTexture(g.TEXTURE_2D,o.__webglTexture)}function T(t,e,i){var r;if(i?(g.texParameteri(t,g.TEXTURE_WRAP_S,x.convert(e.wrapS)),g.texParameteri(t,g.TEXTURE_WRAP_T,x.convert(e.wrapT)),g.texParameteri(t,g.TEXTURE_MAG_FILTER,x.convert(e.magFilter)),g.texParameteri(t,g.TEXTURE_MIN_FILTER,x.convert(e.minFilter))):(g.texParameteri(t,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(t,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),e.wrapS===jt&&e.wrapT===jt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),g.texParameteri(t,g.TEXTURE_MAG_FILTER,o(e.magFilter)),g.texParameteri(t,g.TEXTURE_MIN_FILTER,o(e.minFilter)),e.minFilter!==Vt&&e.minFilter!==Wt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),r=n.get("EXT_texture_filter_anisotropic")){if(e.type===ee&&null===n.get("OES_texture_float_linear"))return;if(e.type===ie&&null===(b.isWebGL2||n.get("OES_texture_half_float_linear")))return;(1<e.anisotropy||y.get(e).__currentAnisotropy)&&(g.texParameterf(t,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,b.getMaxAnisotropy())),y.get(e).__currentAnisotropy=e.anisotropy)}}function u(t,e,i,r){var n=x.convert(e.texture.format),o=x.convert(e.texture.type),a=E(n,o);v.texImage2D(r,0,a,e.width,e.height,0,n,o,null),g.bindFramebuffer(g.FRAMEBUFFER,t),g.framebufferTexture2D(g.FRAMEBUFFER,i,r,y.get(e.texture).__webglTexture,0),g.bindFramebuffer(g.FRAMEBUFFER,null)}function h(t,e){g.bindRenderbuffer(g.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(g.renderbufferStorage(g.RENDERBUFFER,g.DEPTH_COMPONENT16,e.width,e.height),g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_ATTACHMENT,g.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(g.renderbufferStorage(g.RENDERBUFFER,g.DEPTH_STENCIL,e.width,e.height),g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,t)):g.renderbufferStorage(g.RENDERBUFFER,g.RGBA4,e.width,e.height),g.bindRenderbuffer(g.RENDERBUFFER,null)}function l(t){var e=y.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,e){if(e&&e.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(g.bindFramebuffer(g.FRAMEBUFFER,t),!e.depthTexture||!e.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");y.get(e.depthTexture).__webglTexture&&e.depthTexture.image.width===e.width&&e.depthTexture.image.height===e.height||(e.depthTexture.image.width=e.width,e.depthTexture.image.height=e.height,e.depthTexture.needsUpdate=!0),c(e.depthTexture,0);var i=y.get(e.depthTexture).__webglTexture;if(e.depthTexture.format===pe)g.framebufferTexture2D(g.FRAMEBUFFER,g.DEPTH_ATTACHMENT,g.TEXTURE_2D,i,0);else{if(e.depthTexture.format!==fe)throw new Error("Unknown depthTexture format");g.framebufferTexture2D(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.TEXTURE_2D,i,0)}}(e.__webglFramebuffer,t)}else if(i){e.__webglDepthbuffer=[];for(var r=0;r<6;r++)g.bindFramebuffer(g.FRAMEBUFFER,e.__webglFramebuffer[r]),e.__webglDepthbuffer[r]=g.createRenderbuffer(),h(e.__webglDepthbuffer[r],t)}else g.bindFramebuffer(g.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=g.createRenderbuffer(),h(e.__webglDepthbuffer,t);g.bindFramebuffer(g.FRAMEBUFFER,null)}this.setTexture2D=c,this.setTextureCube=function(t,e){var i=y.get(t);if(6===t.image.length)if(0<t.version&&i.__version!==t.version){i.__image__webglTextureCube||(t.addEventListener("dispose",P),i.__image__webglTextureCube=g.createTexture(),_.memory.textures++),v.activeTexture(g.TEXTURE0+e),v.bindTexture(g.TEXTURE_CUBE_MAP,i.__image__webglTextureCube),g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var r=t&&t.isCompressedTexture,n=t.image[0]&&t.image[0].isDataTexture,o=[],a=0;a<6;a++)o[a]=r||n?n?t.image[a].image:t.image[a]:w(t.image[a],b.maxCubemapSize);var s=o[0],c=S(s),u=x.convert(t.format),h=x.convert(t.type),l=E(u,h);for(T(g.TEXTURE_CUBE_MAP,t,c),a=0;a<6;a++)if(r)for(var p,d=o[a].mipmaps,f=0,m=d.length;f<m;f++)p=d[f],t.format!==ue&&t.format!==ce?-1<v.getCompressedTextureFormats().indexOf(u)?v.compressedTexImage2D(g.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,l,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):v.texImage2D(g.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,l,p.width,p.height,0,u,h,p.data);else n?v.texImage2D(g.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,o[a].width,o[a].height,0,u,h,o[a].data):v.texImage2D(g.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,u,h,o[a]);i.__maxMipLevel=r?d.length-1:0,A(t,c)&&M(g.TEXTURE_CUBE_MAP,t,s.width,s.height),i.__version=t.version,t.onUpdate&&t.onUpdate(t)}else v.activeTexture(g.TEXTURE0+e),v.bindTexture(g.TEXTURE_CUBE_MAP,i.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,e){v.activeTexture(g.TEXTURE0+e),v.bindTexture(g.TEXTURE_CUBE_MAP,y.get(t).__webglTexture)},this.setupRenderTarget=function(t){var e=y.get(t),i=y.get(t.texture);t.addEventListener("dispose",a),i.__webglTexture=g.createTexture(),_.memory.textures++;var r=!0===t.isWebGLRenderTargetCube,n=S(t);if(r){e.__webglFramebuffer=[];for(var o=0;o<6;o++)e.__webglFramebuffer[o]=g.createFramebuffer()}else e.__webglFramebuffer=g.createFramebuffer();if(r){for(v.bindTexture(g.TEXTURE_CUBE_MAP,i.__webglTexture),T(g.TEXTURE_CUBE_MAP,t.texture,n),o=0;o<6;o++)u(e.__webglFramebuffer[o],t,g.COLOR_ATTACHMENT0,g.TEXTURE_CUBE_MAP_POSITIVE_X+o);A(t.texture,n)&&M(g.TEXTURE_CUBE_MAP,t.texture,t.width,t.height),v.bindTexture(g.TEXTURE_CUBE_MAP,null)}else v.bindTexture(g.TEXTURE_2D,i.__webglTexture),T(g.TEXTURE_2D,t.texture,n),u(e.__webglFramebuffer,t,g.COLOR_ATTACHMENT0,g.TEXTURE_2D),A(t.texture,n)&&M(g.TEXTURE_2D,t.texture,t.width,t.height),v.bindTexture(g.TEXTURE_2D,null);t.depthBuffer&&l(t)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(A(e,S(t))){var i=t.isWebGLRenderTargetCube?g.TEXTURE_CUBE_MAP:g.TEXTURE_2D,r=y.get(e).__webglTexture;v.bindTexture(i,r),M(i,e,t.width,t.height),v.bindTexture(i,null)}}}function va(i,r,n){return{convert:function(t){var e;if(t===Ut)return i.REPEAT;if(t===jt)return i.CLAMP_TO_EDGE;if(t===Gt)return i.MIRRORED_REPEAT;if(t===Vt)return i.NEAREST;if(t===Ht)return i.NEAREST_MIPMAP_NEAREST;if(t===$t)return i.NEAREST_MIPMAP_LINEAR;if(t===Wt)return i.LINEAR;if(t===Xt)return i.LINEAR_MIPMAP_NEAREST;if(t===qt)return i.LINEAR_MIPMAP_LINEAR;if(t===Yt)return i.UNSIGNED_BYTE;if(t===re)return i.UNSIGNED_SHORT_4_4_4_4;if(t===ne)return i.UNSIGNED_SHORT_5_5_5_1;if(t===oe)return i.UNSIGNED_SHORT_5_6_5;if(t===Zt)return i.BYTE;if(t===Kt)return i.SHORT;if(t===Jt)return i.UNSIGNED_SHORT;if(t===Qt)return i.INT;if(t===te)return i.UNSIGNED_INT;if(t===ee)return i.FLOAT;if(t===ie){if(n.isWebGL2)return i.HALF_FLOAT;if(null!==(e=r.get("OES_texture_half_float")))return e.HALF_FLOAT_OES}if(t===se)return i.ALPHA;if(t===ce)return i.RGB;if(t===ue)return i.RGBA;if(t===he)return i.LUMINANCE;if(t===le)return i.LUMINANCE_ALPHA;if(t===pe)return i.DEPTH_COMPONENT;if(t===fe)return i.DEPTH_STENCIL;if(t===H)return i.FUNC_ADD;if(t===tt)return i.FUNC_SUBTRACT;if(t===it)return i.FUNC_REVERSE_SUBTRACT;if(t===ot)return i.ZERO;if(t===at)return i.ONE;if(t===st)return i.SRC_COLOR;if(t===ct)return i.ONE_MINUS_SRC_COLOR;if(t===ut)return i.SRC_ALPHA;if(t===ht)return i.ONE_MINUS_SRC_ALPHA;if(t===lt)return i.DST_ALPHA;if(t===pt)return i.ONE_MINUS_DST_ALPHA;if(t===dt)return i.DST_COLOR;if(t===ft)return i.ONE_MINUS_DST_COLOR;if(t===mt)return i.SRC_ALPHA_SATURATE;if((t===ge||t===ve||t===ye||t===be)&&null!==(e=r.get("WEBGL_compressed_texture_s3tc"))){if(t===ge)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===ve)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===ye)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===be)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===xe||t===_e||t===we||t===Se)&&null!==(e=r.get("WEBGL_compressed_texture_pvrtc"))){if(t===xe)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===_e)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===we)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Se)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Ae&&null!==(e=r.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===Me||t===Ee||t===Pe||t===Te||t===Ce||t===Ie||t===Oe||t===Le||t===Re||t===De||t===ke||t===Be||t===Ne||t===Fe)&&null!==(e=r.get("WEBGL_compressed_texture_astc")))return t;if(t===rt||t===nt){if(n.isWebGL2){if(t===rt)return i.MIN;if(t===nt)return i.MAX}if(null!==(e=r.get("EXT_blend_minmax"))){if(t===rt)return e.MIN_EXT;if(t===nt)return e.MAX_EXT}}if(t===ae){if(n.isWebGL2)return i.UNSIGNED_INT_24_8;if(null!==(e=r.get("WEBGL_depth_texture")))return e.UNSIGNED_INT_24_8_WEBGL}return 0}}}function ya(){ur.call(this),this.type="Group"}function ba(t,e,i,r){hr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function xa(t){ba.call(this),this.cameras=t||[]}function _a(r){var s=this,c=null,u=null,h=null,l=[],p=new ei,d=new ei;"undefined"!=typeof window&&"VRFrameData"in window&&(u=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",t,!1));var f=new ei,m=new ii,g=new ri,v=new ba;v.bounds=new Si(0,0,.5,1),v.layers.enable(1);var y=new ba;y.bounds=new Si(.5,0,.5,1),y.layers.enable(2);var n,o,b=new xa([v,y]);function a(){return null!==c&&!0===c.isPresenting}function t(){if(a()){var t=c.getEyeParameters("left"),e=t.renderWidth,i=t.renderHeight;o=r.getPixelRatio(),n=r.getSize(),r.setDrawingBufferSize(2*e,i,1),w.start()}else s.enabled&&(r.setDrawingBufferSize(n.width,n.height,o),w.stop())}b.layers.enable(1),b.layers.enable(2);var x=[];function _(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=e.length;i<n;i++){var o=e[i];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(r===t)return o;r++}}}this.enabled=!1,this.userHeight=1.6,this.getController=function(t){var e=l[t];return void 0===e&&((e=new ya).matrixAutoUpdate=!1,e.visible=!1,l[t]=e),e},this.getDevice=function(){return c},this.setDevice=function(t){void 0!==t&&(c=t),w.setContext(t)},this.setPoseTarget=function(t){void 0!==t&&(h=t)},this.getCamera=function(t){if(null===c)return t.position.set(0,s.userHeight,0),t;c.depthNear=t.near,c.depthFar=t.far,c.getFrameData(u);var e=c.stageParameters;e?p.fromArray(e.sittingToStandingTransform):p.makeTranslation(0,s.userHeight,0);var i=u.pose,r=null!==h?h:t;if(r.matrix.copy(p),r.matrix.decompose(r.position,r.quaternion,r.scale),null!==i.orientation&&(m.fromArray(i.orientation),r.quaternion.multiply(m)),null!==i.position&&(m.setFromRotationMatrix(p),g.fromArray(i.position),g.applyQuaternion(m),r.position.add(g)),r.updateMatrixWorld(),!1===c.isPresenting)return t;v.near=t.near,y.near=t.near,v.far=t.far,y.far=t.far,b.matrixWorld.copy(t.matrixWorld),b.matrixWorldInverse.copy(t.matrixWorldInverse),v.matrixWorldInverse.fromArray(u.leftViewMatrix),y.matrixWorldInverse.fromArray(u.rightViewMatrix),d.getInverse(p),v.matrixWorldInverse.multiply(d),y.matrixWorldInverse.multiply(d);var n=r.parent;null!==n&&(f.getInverse(n.matrixWorld),v.matrixWorldInverse.multiply(f),y.matrixWorldInverse.multiply(f)),v.matrixWorld.getInverse(v.matrixWorldInverse),y.matrixWorld.getInverse(y.matrixWorldInverse),v.projectionMatrix.fromArray(u.leftProjectionMatrix),y.projectionMatrix.fromArray(u.rightProjectionMatrix),b.projectionMatrix.copy(v.projectionMatrix);var o=c.getLayers();if(o.length){var a=o[0];null!==a.leftBounds&&4===a.leftBounds.length&&v.bounds.fromArray(a.leftBounds),null!==a.rightBounds&&4===a.rightBounds.length&&y.bounds.fromArray(a.rightBounds)}return function(){for(var t=0;t<l.length;t++){var e=l[t],i=_(t);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(p),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var n="Daydream Controller"===i.id?0:1;x[t]!==i.buttons[n].pressed&&(x[t]=i.buttons[n].pressed,!0===x[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),b},this.getStandingMatrix=function(){return p},this.isPresenting=a;var w=new Ui;this.setAnimationLoop=function(t){w.setAnimationLoop(t)},this.submitFrame=function(){a()&&c.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",t)}}function wa(i){var r=i.context,e=null,p=null,d=null,f=null,m=[],g=[];function a(){return null!==p&&null!==d}var t=new ba;t.layers.enable(1),t.viewport=new Si;var n=new ba;n.layers.enable(2),n.viewport=new Si;var v=new xa([t,n]);function o(t){var e=m[g.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function s(){i.setFramebuffer(null),u.stop()}function c(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}v.layers.enable(1),v.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=m[t];return void 0===e&&((e=new ya).matrixAutoUpdate=!1,e.visible=!1,m[t]=e),e},this.getDevice=function(){return e},this.setDevice=function(t){void 0!==t&&(e=t),t instanceof XRDevice&&r.setCompatibleXRDevice(t)},this.setSession=function(t,e){null!==(p=t)&&(p.addEventListener("select",o),p.addEventListener("selectstart",o),p.addEventListener("selectend",o),p.addEventListener("end",s),p.baseLayer=new XRWebGLLayer(p,r),p.requestFrameOfReference(e.frameOfReferenceType).then(function(t){d=t,i.setFramebuffer(p.baseLayer.framebuffer),u.setContext(p),u.start()}),g=p.getInputSources(),p.addEventListener("inputsourceschange",function(){g=p.getInputSources(),console.log(g)}))},this.getCamera=function(t){if(a()){var e=t.parent,i=v.cameras;c(v,e);for(var r=0;r<i.length;r++)c(i[r],e);t.matrixWorld.copy(v.matrixWorld);for(var n=t.children,o=(r=0,n.length);r<o;r++)n[r].updateMatrixWorld(!0);return v}return t},this.isPresenting=a;var y=null;var u=new Ui;u.setAnimationLoop(function(t,e){if(null!==(f=e.getDevicePose(d)))for(var i=p.baseLayer,r=e.views,n=0;n<r.length;n++){var o=r[n],a=i.getViewport(o),s=f.getViewMatrix(o),c=v.cameras[n];c.matrix.fromArray(s).getInverse(c.matrix),c.projectionMatrix.fromArray(o.projectionMatrix),c.viewport.set(a.x,a.y,a.width,a.height),0===n&&(v.matrix.copy(c.matrix),v.projectionMatrix.copy(c.projectionMatrix))}for(n=0;n<m.length;n++){var u=m[n],h=g[n];if(h){var l=e.getInputPose(h,d);if(null!==l){u.matrix.elements=l.pointerMatrix,u.matrix.decompose(u.position,u.rotation,u.scale),u.visible=!0;continue}}u.visible=!1}y&&y(t)}),this.setAnimationLoop=function(t){y=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Sa(t){console.log("THREE.WebGLRenderer","95");var r=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,n=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=void 0!==t.powerPreference?t.powerPreference:"default",d=null,j=null;this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Ct,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var G,S,V,H,h,$,l,A,M,f,y,p,m,g,E,P,T,v,W=this,b=!1,x=null,_=null,w=null,X=-1,C={geometry:null,program:null,wireframe:!1},q=null,Y=null,I=new Si,O=new Si,L=null,Z=0,R=r.width,K=r.height,J=1,D=new Si(0,0,R,K),k=new Si(0,0,R,K),B=!1,N=new Ii,Q=new On,tt=!1,et=!1,F=new ei,it=new ri;function z(){return null===_?J:1}try{var U={alpha:i,depth:n,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:u};if(r.addEventListener("webglcontextlost",at,!1),r.addEventListener("webglcontextrestored",st,!1),null===(G=e||r.getContext("webgl",U)||r.getContext("experimental-webgl",U)))throw null!==r.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===G.getShaderPrecisionFormat&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error("THREE.WebGLRenderer: "+t.message)}function rt(){S=new Ln(G),(V=new In(G,S,t)).isWebGL2||(S.get("WEBGL_depth_texture"),S.get("OES_texture_float"),S.get("OES_texture_half_float"),S.get("OES_texture_half_float_linear"),S.get("OES_standard_derivatives"),S.get("OES_element_index_uint"),S.get("ANGLE_instanced_arrays")),S.get("OES_texture_float_linear"),v=new va(G,S,V),(H=new ma(G,S,v,V)).scissor(O.copy(k).multiplyScalar(J)),H.viewport(I.copy(D).multiplyScalar(J)),h=new kn(G),$=new Uo,l=new ga(G,S,H,$,V,v,h),A=new ji(G),M=new Rn(G,A,h),f=new Fn(M,h),E=new Nn(G),y=new zo(W,S,V),p=new Ho,m=new la,g=new Tn(W,H,f,s),P=new Cn(G,S,h,V),T=new Dn(G,S,h,V),h.programs=y.programs,W.context=G,W.capabilities=V,W.extensions=S,W.properties=$,W.renderLists=p,W.state=H,W.info=h}rt();var nt="xr"in navigator?new wa(W):new _a(W);this.vr=nt;var ot=new fa(W,f,V.maxTextureSize);function at(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function st(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1,rt()}function ct(t){var e,i=t.target;i.removeEventListener("dispose",ct),ut(e=i),$.remove(e)}function ut(t){var e=$.get(t).program;(t.program=void 0)!==e&&y.releaseProgram(e)}this.shadowMap=ot,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){var t=S.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=S.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(t){void 0!==t&&(J=t,this.setSize(R,K,!1))},this.getSize=function(){return{width:R,height:K}},this.setSize=function(t,e,i){nt.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(R=t,K=e,r.width=t*J,r.height=e*J,!1!==i&&(r.style.width=t+"px",r.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(){return{width:R*J,height:K*J}},this.setDrawingBufferSize=function(t,e,i){R=t,K=e,J=i,r.width=t*i,r.height=e*i,this.setViewport(0,0,t,e)},this.getCurrentViewport=function(){return I},this.setViewport=function(t,e,i,r){D.set(t,K-e-r,i,r),H.viewport(I.copy(D).multiplyScalar(J))},this.setScissor=function(t,e,i,r){k.set(t,K-e-r,i,r),H.scissor(O.copy(k).multiplyScalar(J))},this.setScissorTest=function(t){H.setScissorTest(B=t)},this.getClearColor=function(){return g.getClearColor()},this.setClearColor=function(){g.setClearColor.apply(g,arguments)},this.getClearAlpha=function(){return g.getClearAlpha()},this.setClearAlpha=function(){g.setClearAlpha.apply(g,arguments)},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=G.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=G.DEPTH_BUFFER_BIT),(void 0===i||i)&&(r|=G.STENCIL_BUFFER_BIT),G.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},this.dispose=function(){r.removeEventListener("webglcontextlost",at,!1),r.removeEventListener("webglcontextrestored",st,!1),p.dispose(),m.dispose(),$.dispose(),f.dispose(),nt.dispose(),ft.stop()},this.renderBufferImmediate=function(t,e){H.initAttributes();var i=$.get(t);t.hasPositions&&!i.position&&(i.position=G.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=G.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=G.createBuffer()),t.hasColors&&!i.color&&(i.color=G.createBuffer());var r=e.getAttributes();t.hasPositions&&(G.bindBuffer(G.ARRAY_BUFFER,i.position),G.bufferData(G.ARRAY_BUFFER,t.positionArray,G.DYNAMIC_DRAW),H.enableAttribute(r.position),G.vertexAttribPointer(r.position,3,G.FLOAT,!1,0,0)),t.hasNormals&&(G.bindBuffer(G.ARRAY_BUFFER,i.normal),G.bufferData(G.ARRAY_BUFFER,t.normalArray,G.DYNAMIC_DRAW),H.enableAttribute(r.normal),G.vertexAttribPointer(r.normal,3,G.FLOAT,!1,0,0)),t.hasUvs&&(G.bindBuffer(G.ARRAY_BUFFER,i.uv),G.bufferData(G.ARRAY_BUFFER,t.uvArray,G.DYNAMIC_DRAW),H.enableAttribute(r.uv),G.vertexAttribPointer(r.uv,2,G.FLOAT,!1,0,0)),t.hasColors&&(G.bindBuffer(G.ARRAY_BUFFER,i.color),G.bufferData(G.ARRAY_BUFFER,t.colorArray,G.DYNAMIC_DRAW),H.enableAttribute(r.color),G.vertexAttribPointer(r.color,3,G.FLOAT,!1,0,0)),H.disableUnusedAttributes(),G.drawArrays(G.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,n,o){var a=n.isMesh&&n.normalMatrix.determinant()<0;H.setMaterial(r,a);var s=yt(t,e,r,n),c=!1;C.geometry===i.id&&C.program===s.id&&C.wireframe===(!0===r.wireframe)||(C.geometry=i.id,C.program=s.id,C.wireframe=!0===r.wireframe,c=!0),n.morphTargetInfluences&&(E.update(n,i,r,s),c=!0);var u,h=i.index,l=i.attributes.position,p=1;!0===r.wireframe&&(h=M.getWireframeAttribute(i),p=2);var d=P;null!==h&&(u=A.get(h),(d=T).setIndex(u)),c&&(!function(t,e,i){if(i&&i.isInstancedBufferGeometry&!V.isWebGL2&&null===S.get("ANGLE_instanced_arrays"))return console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");H.initAttributes();var r=i.attributes,n=e.getAttributes(),o=t.defaultAttributeValues;for(var a in n){var s=n[a];if(0<=s){var c=r[a];if(void 0!==c){var u=c.normalized,h=c.itemSize,l=A.get(c);if(void 0===l)continue;var p=l.buffer,d=l.type,f=l.bytesPerElement;if(c.isInterleavedBufferAttribute){var m=c.data,g=m.stride,v=c.offset;m&&m.isInstancedInterleavedBuffer?(H.enableAttributeAndDivisor(s,m.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=m.meshPerAttribute*m.count)):H.enableAttribute(s),G.bindBuffer(G.ARRAY_BUFFER,p),G.vertexAttribPointer(s,h,d,u,g*f,v*f)}else c.isInstancedBufferAttribute?(H.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=c.meshPerAttribute*c.count)):H.enableAttribute(s),G.bindBuffer(G.ARRAY_BUFFER,p),G.vertexAttribPointer(s,h,d,u,0,0)}else if(void 0!==o){var y=o[a];if(void 0!==y)switch(y.length){case 2:G.vertexAttrib2fv(s,y);break;case 3:G.vertexAttrib3fv(s,y);break;case 4:G.vertexAttrib4fv(s,y);break;default:G.vertexAttrib1fv(s,y)}}}}H.disableUnusedAttributes()}(r,s,i),null!==h&&G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,u.buffer));var f=1/0;null!==h?f=h.count:void 0!==l&&(f=l.count);var m=i.drawRange.start*p,g=i.drawRange.count*p,v=null!==o?o.start*p:0,y=null!==o?o.count*p:1/0,b=Math.max(m,v),x=Math.min(f,m+g,v+y)-1,_=Math.max(0,x-b+1);if(0!==_){if(n.isMesh)if(!0===r.wireframe)H.setLineWidth(r.wireframeLinewidth*z()),d.setMode(G.LINES);else switch(n.drawMode){case je:d.setMode(G.TRIANGLES);break;case 1:d.setMode(G.TRIANGLE_STRIP);break;case 2:d.setMode(G.TRIANGLE_FAN)}else if(n.isLine){var w=r.linewidth;void 0===w&&(w=1),H.setLineWidth(w*z()),n.isLineSegments?d.setMode(G.LINES):n.isLineLoop?d.setMode(G.LINE_LOOP):d.setMode(G.LINE_STRIP)}else n.isPoints?d.setMode(G.POINTS):n.isSprite&&d.setMode(G.TRIANGLES);i&&i.isInstancedBufferGeometry?0<i.maxInstancedCount&&d.renderInstances(i,b,_):d.render(b,_)}},this.compile=function(i,t){(j=m.get(i,t)).init(),i.traverse(function(t){t.isLight&&(j.pushLight(t),t.castShadow&&j.pushShadow(t))}),j.setupLights(t),i.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var e=0;e<t.material.length;e++)vt(t.material[e],i.fog,t);else vt(t.material,i.fog,t)})};var ht=null;var lt,pt,dt,ft=new Ui;function mt(t,e,i,r){for(var n=0,o=t.length;n<o;n++){var a=t[n],s=a.object,c=a.geometry,u=void 0===r?a.material:r,h=a.group;if(i.isArrayCamera)for(var l=(Y=i).cameras,p=0,d=l.length;p<d;p++){var f=l[p];if(s.layers.test(f.layers)){if("viewport"in f)H.viewport(I.copy(f.viewport));else{var m=f.bounds,g=m.x*R,v=m.y*K,y=m.z*R,b=m.w*K;H.viewport(I.set(g,v,y,b).multiplyScalar(J))}gt(s,e,f,c,u,h)}}else Y=null,gt(s,e,i,c,u,h)}}function gt(t,e,i,r,n,o){if(t.onBeforeRender(W,e,i,r,n,o),j=m.get(e,Y||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){H.setMaterial(n);var a=yt(i,e.fog,n,t);C.geometry=null,C.program=null,C.wireframe=!1,s=a,t.render(function(t){W.renderBufferImmediate(t,s)})}else W.renderBufferDirect(i,e.fog,r,n,t,o);var s;t.onAfterRender(W,e,i,r,n,o),j=m.get(e,Y||i)}function vt(t,e,i){var r=$.get(t),n=j.state.lights,o=j.state.shadowsArray,a=r.lightsHash,s=n.state.hash,c=y.getParameters(t,n.state,o,e,Q.numPlanes,Q.numIntersection,i),u=y.getProgramCode(t,c),h=r.program,l=!0;if(void 0===h)t.addEventListener("dispose",ct);else if(h.code!==u)ut(t);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,l=!1;else{if(void 0!==c.shaderID)return;l=!1}if(l){if(c.shaderID){var p=zi[c.shaderID];r.shader={name:t.type,uniforms:Ri.clone(p.uniforms),vertexShader:p.vertexShader,fragmentShader:p.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,W),u=y.getProgramCode(t,c),h=y.acquireProgram(t,r.shader,c,u),r.program=h,t.program=h}var d=h.getAttributes();if(t.morphTargets)for(var f=t.numSupportedMorphTargets=0;f<W.maxMorphTargets;f++)0<=d["morphTarget"+f]&&t.numSupportedMorphTargets++;if(t.morphNormals)for(f=t.numSupportedMorphNormals=0;f<W.maxMorphNormals;f++)0<=d["morphNormal"+f]&&t.numSupportedMorphNormals++;var m=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=Q.numPlanes,r.numIntersection=Q.numIntersection,m.clippingPlanes=Q.uniform),r.fog=e,void 0===a&&(r.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,t.lights&&(m.ambientLightColor.value=n.state.ambient,m.directionalLights.value=n.state.directional,m.spotLights.value=n.state.spot,m.rectAreaLights.value=n.state.rectArea,m.pointLights.value=n.state.point,m.hemisphereLights.value=n.state.hemi,m.directionalShadowMap.value=n.state.directionalShadowMap,m.directionalShadowMatrix.value=n.state.directionalShadowMatrix,m.spotShadowMap.value=n.state.spotShadowMap,m.spotShadowMatrix.value=n.state.spotShadowMatrix,m.pointShadowMap.value=n.state.pointShadowMap,m.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),v=To.seqWithValue(g.seq,m);r.uniformsList=v}function yt(t,e,i,r){Z=0;var n=$.get(i),o=j.state.lights,a=n.lightsHash,s=o.state.hash;if(tt&&(et||t!==q)){var c=t===q&&i.id===X;Q.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,n,c)}!1===i.needsUpdate&&(void 0===n.program?i.needsUpdate=!0:i.fog&&n.fog!==e?i.needsUpdate=!0:(!i.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===Q.numPlanes&&n.numIntersection===Q.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(vt(i,e,r),i.needsUpdate=!1);var u,h,l,p,d,f,m,g,v,y,b,x,_,w,S,A,M,E,P,T,C=!1,I=!1,O=!1,L=n.program,R=L.getUniforms(),D=n.shader.uniforms;if(H.useProgram(L.program)&&(O=I=C=!0),i.id!==X&&(X=i.id,I=!0),C||t!==q){if(R.setValue(G,"projectionMatrix",t.projectionMatrix),V.logarithmicDepthBuffer&&R.setValue(G,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),q!==(Y||t)&&(q=Y||t,O=I=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var k=R.map.cameraPosition;void 0!==k&&k.setValue(G,it.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&R.setValue(G,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){R.setOptional(G,r,"bindMatrix"),R.setOptional(G,r,"bindMatrixInverse");var B=r.skeleton;if(B){var N=B.bones;if(V.floatVertexTextures){if(void 0===B.boneTexture){var F=Math.sqrt(4*N.length);F=Qe.ceilPowerOfTwo(F),F=Math.max(F,4);var z=new Float32Array(F*F*4);z.set(B.boneMatrices);var U=new Ei(z,F,F,ue,ee);U.needsUpdate=!0,B.boneMatrices=z,B.boneTexture=U,B.boneTextureSize=F}R.setValue(G,"boneTexture",B.boneTexture),R.setValue(G,"boneTextureSize",B.boneTextureSize)}else R.setOptional(G,B,"boneMatrices")}}return I&&(R.setValue(G,"toneMappingExposure",W.toneMappingExposure),R.setValue(G,"toneMappingWhitePoint",W.toneMappingWhitePoint),i.lights&&(T=O,(P=D).ambientLightColor.needsUpdate=T,P.directionalLights.needsUpdate=T,P.pointLights.needsUpdate=T,P.spotLights.needsUpdate=T,P.rectAreaLights.needsUpdate=T,P.hemisphereLights.needsUpdate=T),e&&i.fog&&(E=e,(M=D).fogColor.value=E.color,E.isFog?(M.fogNear.value=E.near,M.fogFar.value=E.far):E.isFogExp2&&(M.fogDensity.value=E.density)),i.isMeshBasicMaterial?bt(D,i):i.isMeshLambertMaterial?(bt(D,i),S=D,(A=i).emissiveMap&&(S.emissiveMap.value=A.emissiveMap)):i.isMeshPhongMaterial?(bt(D,i),i.isMeshToonMaterial?(xt(_=D,w=i),w.gradientMap&&(_.gradientMap.value=w.gradientMap)):xt(D,i)):i.isMeshStandardMaterial?(bt(D,i),i.isMeshPhysicalMaterial?(_t(b=D,x=i),b.reflectivity.value=x.reflectivity,b.clearCoat.value=x.clearCoat,b.clearCoatRoughness.value=x.clearCoatRoughness):_t(D,i)):i.isMeshDepthMaterial?(bt(D,i),v=D,(y=i).displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias)):i.isMeshDistanceMaterial?(bt(D,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(D,i)):i.isMeshNormalMaterial?(bt(D,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===wt&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===wt&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(D,i)):i.isLineBasicMaterial?(g=i,(m=D).diffuse.value=g.color,m.opacity.value=g.opacity,i.isLineDashedMaterial&&(f=i,(d=D).dashSize.value=f.dashSize,d.totalSize.value=f.dashSize+f.gapSize,d.scale.value=f.scale)):i.isPointsMaterial?(p=i,(l=D).diffuse.value=p.color,l.opacity.value=p.opacity,l.size.value=p.size*J,l.scale.value=.5*K,l.map.value=p.map,null!==p.map&&(!0===p.map.matrixAutoUpdate&&p.map.updateMatrix(),l.uvTransform.value.copy(p.map.matrix))):i.isSpriteMaterial?(h=i,(u=D).diffuse.value=h.color,u.opacity.value=h.opacity,u.rotation.value=h.rotation,u.map.value=h.map,null!==h.map&&(!0===h.map.matrixAutoUpdate&&h.map.updateMatrix(),u.uvTransform.value.copy(h.map.matrix))):i.isShadowMaterial&&(D.color.value=i.color,D.opacity.value=i.opacity),void 0!==D.ltc_1&&(D.ltc_1.value=Fi.LTC_1),void 0!==D.ltc_2&&(D.ltc_2.value=Fi.LTC_2),To.upload(G,n.uniformsList,D,W)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(To.upload(G,n.uniformsList,D,W),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&R.setValue(G,"center",r.center),R.setValue(G,"modelViewMatrix",r.modelViewMatrix),R.setValue(G,"normalMatrix",r.normalMatrix),R.setValue(G,"modelMatrix",r.matrixWorld),L}function bt(t,e){var i;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=$.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function xt(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===wt&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===wt&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function _t(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===wt&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===wt&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}ft.setAnimationLoop(function(t){nt.isPresenting()||ht&&ht(t)}),"undefined"!=typeof window&&ft.setContext(window),this.setAnimationLoop=function(t){ht=t,nt.setAnimationLoop(t),ft.start()},this.render=function(t,e,i,r){if(e&&e.isCamera){if(!b){C.geometry=null,C.program=null,C.wireframe=!1,X=-1,!(q=null)===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),nt.enabled&&(e=nt.getCamera(e)),(j=m.get(t,e)).init(),t.onBeforeRender(W,t,e,i),F.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),N.setFromMatrix(F),et=this.localClippingEnabled,tt=Q.init(this.clippingPlanes,et,e),(d=p.get(t,e)).init(),function t(e,i,r){if(!1===e.visible)return;var n=e.layers.test(i.layers);if(n)if(e.isLight)j.pushLight(e),e.castShadow&&j.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||N.intersectsSprite(e)){r&&it.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);var o=f.update(e),a=e.material;d.push(e,o,a,it.z,null)}}else if(e.isImmediateRenderObject)r&&it.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F),d.push(e,null,e.material,it.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||N.intersectsObject(e))){r&&it.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);var o=f.update(e),a=e.material;if(Array.isArray(a))for(var s=o.groups,c=0,u=s.length;c<u;c++){var h=s[c],l=a[h.materialIndex];l&&l.visible&&d.push(e,o,l,it.z,h)}else a.visible&&d.push(e,o,a,it.z,null)}var p=e.children;for(var c=0,u=p.length;c<u;c++)t(p[c],i,r)}(t,e,W.sortObjects),!0===W.sortObjects&&d.sort(),tt&&Q.beginShadows();var n=j.state.shadowsArray;ot.render(n,t,e),j.setupLights(e),tt&&Q.endShadows(),this.info.autoReset&&this.info.reset(),void 0===i&&(i=null),this.setRenderTarget(i),g.render(d,t,e,r);var o=d.opaque,a=d.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&mt(o,t,e,s),a.length&&mt(a,t,e,s)}else o.length&&mt(o,t,e),a.length&&mt(a,t,e);i&&l.updateRenderTargetMipmap(i),H.buffers.depth.setTest(!0),H.buffers.depth.setMask(!0),H.buffers.color.setMask(!0),H.setPolygonOffset(!1),t.onAfterRender(W,t,e),nt.enabled&&nt.submitFrame(),j=d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var t=Z;return t>=V.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+V.maxTextures),Z+=1,t},this.setTexture2D=(lt=!1,function(t,e){t&&t.isWebGLRenderTarget&&(lt||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),lt=!0),t=t.texture),l.setTexture2D(t,e)}),this.setTexture=(pt=!1,function(t,e){pt||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),pt=!0),l.setTexture2D(t,e)}),this.setTextureCube=(dt=!1,function(t,e){t&&t.isWebGLRenderTargetCube&&(dt||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),dt=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?l.setTextureCube(t,e):l.setTextureCubeDynamic(t,e)}),this.setFramebuffer=function(t){x=t},this.getRenderTarget=function(){return _},this.setRenderTarget=function(t){(_=t)&&void 0===$.get(t).__webglFramebuffer&&l.setupRenderTarget(t);var e=x,i=!1;if(t){var r=$.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=r[t.activeCubeFace],i=!0):e=r,I.copy(t.viewport),O.copy(t.scissor),L=t.scissorTest}else I.copy(D).multiplyScalar(J),O.copy(k).multiplyScalar(J),L=B;if(w!==e&&(G.bindFramebuffer(G.FRAMEBUFFER,e),w=e),H.viewport(I),H.scissor(O),H.setScissorTest(L),i){var n=$.get(t.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,n.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,i,r,n,o){if(t&&t.isWebGLRenderTarget){var a=$.get(t).__webglFramebuffer;if(a){var s=!1;a!==w&&(G.bindFramebuffer(G.FRAMEBUFFER,a),s=!0);try{var c=t.texture,u=c.format,h=c.type;if(u!==ue&&v.convert(u)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(h===Yt||v.convert(h)===G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)||h===ee&&(V.isWebGL2||S.get("OES_texture_float")||S.get("WEBGL_color_buffer_float"))||h===ie&&(V.isWebGL2?S.get("EXT_color_buffer_float"):S.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");G.checkFramebufferStatus(G.FRAMEBUFFER)===G.FRAMEBUFFER_COMPLETE?0<=e&&e<=t.width-r&&0<=i&&i<=t.height-n&&G.readPixels(e,i,r,n,v.convert(u),v.convert(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&G.bindFramebuffer(G.FRAMEBUFFER,w)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,i){var r=e.image.width,n=e.image.height,o=v.convert(e.format);this.setTexture2D(e,0),G.copyTexImage2D(G.TEXTURE_2D,i||0,o,t.x,t.y,r,n,0)},this.copyTextureToTexture=function(t,e,i,r){var n=e.image.width,o=e.image.height,a=v.convert(i.format),s=v.convert(i.type);this.setTexture2D(i,0),e.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,r||0,t.x,t.y,n,o,a,s,e.image.data):G.texSubImage2D(G.TEXTURE_2D,r||0,t.x,t.y,a,s,e.image)}}function Aa(t,e){this.name="",this.color=new ki(t),this.density=void 0!==e?e:25e-5}function Ma(t,e,i){this.name="",this.color=new ki(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Ea(){ur.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Pa(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ta(t,e,i,r){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===r}function Ca(t){wn.call(this),this.type="SpriteMaterial",this.color=new ki(16777215),this.map=null,this.rotation=0,this.lights=!1,this.transparent=!0,this.setValues(t)}function Ia(t){if(ur.call(this),this.type="Sprite",void 0===Wo){Wo=new $r;var e=new Pa(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Wo.setIndex([0,1,2,0,2,3]),Wo.addAttribute("position",new Ta(e,3,0,!1)),Wo.addAttribute("uv",new Ta(e,2,3,!1))}this.geometry=Wo,this.material=void 0!==t?t:new Ca,this.center=new ti(.5,.5)}function Oa(){ur.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function La(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ei)}}function Ra(){ur.call(this),this.type="Bone"}function Da(t,e){Pn.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ei,this.bindMatrixInverse=new ei;var i=new La(this.initBones());this.bind(i,this.matrixWorld),this.normalizeSkinWeights()}function ka(t){wn.call(this),this.type="LineBasicMaterial",this.color=new ki(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ba(t,e,i){1===i&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),ur.call(this),this.type="Line",this.geometry=void 0!==t?t:new $r,this.material=void 0!==e?e:new ka({color:16777215*Math.random()})}function Na(t,e){Ba.call(this,t,e),this.type="LineSegments"}function Fa(t,e){Ba.call(this,t,e),this.type="LineLoop"}function za(t){wn.call(this),this.type="PointsMaterial",this.color=new ki(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Ua(t,e){ur.call(this),this.type="Points",this.geometry=void 0!==t?t:new $r,this.material=void 0!==e?e:new za({color:16777215*Math.random()})}function ja(t,e,i,r,n,o,a,s,c){wi.call(this,t,e,i,r,n,o,a,s,c),this.generateMipmaps=!1}function Ga(t,e,i,r,n,o,a,s,c,u,h,l){wi.call(this,null,o,a,s,c,u,r,n,h,l),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Va(t,e,i,r,n,o,a,s,c){wi.call(this,t,e,i,r,n,o,a,s,c),this.needsUpdate=!0}function Ha(t,e,i,r,n,o,a,s,c,u){if((u=void 0!==u?u:pe)!==pe&&u!==fe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===pe&&(i=Jt),void 0===i&&u===fe&&(i=ae),wi.call(this,null,r,n,o,a,s,u,i,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:Vt,this.minFilter=void 0!==s?s:Vt,this.flipY=!1,this.generateMipmaps=!1}function $a(t){$r.call(this),this.type="WireframeGeometry";var e,i,r,n,o,a,s,c,u,h,l=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var g=m[e];for(i=0;i<3;i++)s=g[f[i]],c=g[f[(i+1)%3]],p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[u=p[0]+","+p[1]]&&(d[u]={index1:p[0],index2:p[1]})}for(u in d)a=d[u],h=t.vertices[a.index1],l.push(h.x,h.y,h.z),h=t.vertices[a.index2],l.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var v,y,b,x,_,w;if(h=new ri,null!==t.index){for(v=t.attributes.position,y=t.index,0===(b=t.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),n=0,o=b.length;n<o;++n)for(r=(e=(x=b[n]).start)+x.count;e<r;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),c=y.getX(e+(i+1)%3),p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[u=p[0]+","+p[1]]&&(d[u]={index1:p[0],index2:p[1]});for(u in d)a=d[u],h.fromBufferAttribute(v,a.index1),l.push(h.x,h.y,h.z),h.fromBufferAttribute(v,a.index2),l.push(h.x,h.y,h.z)}else for(e=0,r=(v=t.attributes.position).count/3;e<r;e++)for(i=0;i<3;i++)_=3*e+i,h.fromBufferAttribute(v,_),l.push(h.x,h.y,h.z),w=3*e+(i+1)%3,h.fromBufferAttribute(v,w),l.push(h.x,h.y,h.z)}this.addAttribute("position",new Ir(l,3))}function Wa(t,e,i){_r.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new Xa(t,e,i)),this.mergeVertices()}function Xa(t,e,i){$r.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var r,n,o=[],a=[],s=[],c=[],u=new ri,h=new ri,l=new ri,p=new ri,d=new ri;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=e+1;for(r=0;r<=i;r++){var m=r/i;for(n=0;n<=e;n++){var g=n/e;t(g,m,h),a.push(h.x,h.y,h.z),0<=g-1e-5?(t(g-1e-5,m,l),p.subVectors(h,l)):(t(g+1e-5,m,l),p.subVectors(l,h)),0<=m-1e-5?(t(g,m-1e-5,l),d.subVectors(h,l)):(t(g,m+1e-5,l),d.subVectors(l,h)),u.crossVectors(p,d).normalize(),s.push(u.x,u.y,u.z),c.push(g,m)}}for(r=0;r<i;r++)for(n=0;n<e;n++){var v=r*f+n,y=r*f+n+1,b=(r+1)*f+n+1,x=(r+1)*f+n;o.push(v,y,x),o.push(y,b,x)}this.setIndex(o),this.addAttribute("position",new Ir(a,3)),this.addAttribute("normal",new Ir(s,3)),this.addAttribute("uv",new Ir(c,2))}function qa(t,e,i,r){_r.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},this.fromBufferGeometry(new Ya(t,e,i,r)),this.mergeVertices()}function Ya(r,o,t,e){$r.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:r,indices:o,radius:t,detail:e},t=t||1;var h=[],l=[];function a(t,e,i,r){var n,o,a=Math.pow(2,r),s=[];for(n=0;n<=a;n++){s[n]=[];var c=t.clone().lerp(i,n/a),u=e.clone().lerp(i,n/a),h=a-n;for(o=0;o<=h;o++)s[n][o]=0===o&&n===a?c:c.clone().lerp(u,o/h)}for(n=0;n<a;n++)for(o=0;o<2*(a-n)-1;o++){var l=Math.floor(o/2);o%2==0?(p(s[n][l+1]),p(s[n+1][l]),p(s[n][l])):(p(s[n][l+1]),p(s[n+1][l+1]),p(s[n+1][l]))}}function p(t){h.push(t.x,t.y,t.z)}function s(t,e){var i=3*t;e.x=r[i+0],e.y=r[i+1],e.z=r[i+2]}function d(t,e,i,r){r<0&&1===t.x&&(l[e]=t.x-1),0===i.x&&0===i.z&&(l[e]=r/2/Math.PI+.5)}function f(t){return Math.atan2(t.z,-t.x)}!function(t){for(var e=new ri,i=new ri,r=new ri,n=0;n<o.length;n+=3)s(o[n+0],e),s(o[n+1],i),s(o[n+2],r),a(e,i,r,t)}(e=e||0),function(t){for(var e=new ri,i=0;i<h.length;i+=3)e.x=h[i+0],e.y=h[i+1],e.z=h[i+2],e.normalize().multiplyScalar(t),h[i+0]=e.x,h[i+1]=e.y,h[i+2]=e.z}(t),function(){for(var t=new ri,e=0;e<h.length;e+=3){t.x=h[e+0],t.y=h[e+1],t.z=h[e+2];var i=f(t)/2/Math.PI+.5,r=(n=t,Math.atan2(-n.y,Math.sqrt(n.x*n.x+n.z*n.z))/Math.PI+.5);l.push(i,1-r)}var n;(function(){for(var t=new ri,e=new ri,i=new ri,r=new ri,n=new ti,o=new ti,a=new ti,s=0,c=0;s<h.length;s+=9,c+=6){t.set(h[s+0],h[s+1],h[s+2]),e.set(h[s+3],h[s+4],h[s+5]),i.set(h[s+6],h[s+7],h[s+8]),n.set(l[c+0],l[c+1]),o.set(l[c+2],l[c+3]),a.set(l[c+4],l[c+5]),r.copy(t).add(e).add(i).divideScalar(3);var u=f(r);d(n,c+0,t,u),d(o,c+2,e,u),d(a,c+4,i,u)}})(),function(){for(var t=0;t<l.length;t+=6){var e=l[t+0],i=l[t+2],r=l[t+4],n=Math.max(e,i,r),o=Math.min(e,i,r);.9<n&&o<.1&&(e<.2&&(l[t+0]+=1),i<.2&&(l[t+2]+=1),r<.2&&(l[t+4]+=1))}}()}(),this.addAttribute("position",new Ir(h,3)),this.addAttribute("normal",new Ir(h.slice(),3)),this.addAttribute("uv",new Ir(l,2)),0===e?this.computeVertexNormals():this.normalizeNormals()}function Za(t,e){_r.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ka(t,e)),this.mergeVertices()}function Ka(t,e){Ya.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ja(t,e){_r.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Qa(t,e)),this.mergeVertices()}function Qa(t,e){Ya.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ts(t,e){_r.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new es(t,e)),this.mergeVertices()}function es(t,e){var i=(1+Math.sqrt(5))/2;Ya.call(this,[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function is(t,e){_r.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new rs(t,e)),this.mergeVertices()}function rs(t,e){var i=(1+Math.sqrt(5))/2,r=1/i;Ya.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ns(t,e,i,r,n,o){_r.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new os(t,e,i,r,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function os(a,s,c,u,t){$r.call(this),this.type="TubeBufferGeometry",this.parameters={path:a,tubularSegments:s,radius:c,radialSegments:u,closed:t},s=s||64,c=c||1,u=u||8,t=t||!1;var h=a.computeFrenetFrames(s,t);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;var n,l,p=new ri,d=new ri,e=new ti,f=new ri,m=[],g=[],i=[],o=[];function r(t){f=a.getPointAt(t/s,f);var e=h.normals[t],i=h.binormals[t];for(l=0;l<=u;l++){var r=l/u*Math.PI*2,n=Math.sin(r),o=-Math.cos(r);d.x=o*e.x+n*i.x,d.y=o*e.y+n*i.y,d.z=o*e.z+n*i.z,d.normalize(),g.push(d.x,d.y,d.z),p.x=f.x+c*d.x,p.y=f.y+c*d.y,p.z=f.z+c*d.z,m.push(p.x,p.y,p.z)}}!function(){for(n=0;n<s;n++)r(n);r(!1===t?s:0),function(){for(n=0;n<=s;n++)for(l=0;l<=u;l++)e.x=n/s,e.y=l/u,i.push(e.x,e.y)}(),function(){for(l=1;l<=s;l++)for(n=1;n<=u;n++){var t=(u+1)*(l-1)+(n-1),e=(u+1)*l+(n-1),i=(u+1)*l+n,r=(u+1)*(l-1)+n;o.push(t,e,r),o.push(e,i,r)}}()}(),this.setIndex(o),this.addAttribute("position",new Ir(m,3)),this.addAttribute("normal",new Ir(g,3)),this.addAttribute("uv",new Ir(i,2))}function as(t,e,i,r,n,o,a){_r.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ss(t,e,i,r,n,o)),this.mergeVertices()}function ss(t,e,i,r,n,o){$r.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:o},t=t||1,e=e||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,o=o||3;var a,s,c=[],u=[],h=[],l=[],p=new ri,d=new ri,f=new ri,m=new ri,g=new ri,v=new ri,y=new ri;for(a=0;a<=i;++a){var b=a/i*n*Math.PI*2;for(P(b,n,o,t,f),P(b+.01,n,o,t,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=r;++s){var x=s/r*Math.PI*2,_=-e*Math.cos(x),w=e*Math.sin(x);p.x=f.x+(_*y.x+w*g.x),p.y=f.y+(_*y.y+w*g.y),p.z=f.z+(_*y.z+w*g.z),u.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),h.push(d.x,d.y,d.z),l.push(a/i),l.push(s/r)}}for(s=1;s<=i;s++)for(a=1;a<=r;a++){var S=(r+1)*(s-1)+(a-1),A=(r+1)*s+(a-1),M=(r+1)*s+a,E=(r+1)*(s-1)+a;c.push(S,A,E),c.push(A,M,E)}function P(t,e,i,r,n){var o=Math.cos(t),a=Math.sin(t),s=i/e*t,c=Math.cos(s);n.x=r*(2+c)*.5*o,n.y=r*(2+c)*a*.5,n.z=r*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new Ir(u,3)),this.addAttribute("normal",new Ir(h,3)),this.addAttribute("uv",new Ir(l,2))}function cs(t,e,i,r,n){_r.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new us(t,e,i,r,n)),this.mergeVertices()}function us(t,e,i,r,n){$r.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},t=t||1,e=e||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var o,a,s=[],c=[],u=[],h=[],l=new ri,p=new ri,d=new ri;for(o=0;o<=i;o++)for(a=0;a<=r;a++){var f=a/r*n,m=o/i*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),c.push(p.x,p.y,p.z),l.x=t*Math.cos(f),l.y=t*Math.sin(f),d.subVectors(p,l).normalize(),u.push(d.x,d.y,d.z),h.push(a/r),h.push(o/i)}for(o=1;o<=i;o++)for(a=1;a<=r;a++){var g=(r+1)*o+a-1,v=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(g,v,b),s.push(v,y,b)}this.setIndex(s),this.addAttribute("position",new Ir(c,3)),this.addAttribute("normal",new Ir(u,3)),this.addAttribute("uv",new Ir(h,2))}((pa.prototype=Object.create(wn.prototype)).constructor=pa).prototype.isMeshDepthMaterial=!0,pa.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},((da.prototype=Object.create(wn.prototype)).constructor=da).prototype.isMeshDistanceMaterial=!0,da.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},ya.prototype=Object.assign(Object.create(ur.prototype),{constructor:ya,isGroup:!0}),ba.prototype=Object.assign(Object.create(hr.prototype),{constructor:ba,isPerspectiveCamera:!0,copy:function(t,e){return hr.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Qe.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Qe.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Qe.RAD2DEG*Math.atan(Math.tan(.5*Qe.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,r,n,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Qe.DEG2RAD*this.fov)/this.zoom,i=2*e,r=this.aspect*i,n=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;n+=o.offsetX*r/a,e-=o.offsetY*i/s,r*=o.width/a,i*=o.height/s}var c=this.filmOffset;0!==c&&(n+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,e,e-i,t,this.far)},toJSON:function(t){var e=ur.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),xa.prototype=Object.assign(Object.create(ba.prototype),{constructor:xa,isArrayCamera:!0}),Aa.prototype.isFogExp2=!0,Aa.prototype.clone=function(){return new Aa(this.color,this.density)},Aa.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Ma.prototype.isFog=!0,Ma.prototype.clone=function(){return new Ma(this.color,this.near,this.far)},Ma.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Ea.prototype=Object.assign(Object.create(ur.prototype),{constructor:Ea,copy:function(t,e){return ur.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=ur.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Object.defineProperty(Pa.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Pa.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var r=0,n=this.stride;r<n;r++)this.array[t+r]=e.array[i+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Ta.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ta.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=n,this}}),((Ca.prototype=Object.create(wn.prototype)).constructor=Ca).prototype.isSpriteMaterial=!0,Ca.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Ia.prototype=Object.assign(Object.create(ur.prototype),{constructor:Ia,isSprite:!0,raycast:function(){var c=new ri,u=new ri,h=new ri,a=new ti,s=new ti,l=new ei,p=new ri,d=new ri,f=new ri;function m(t,e,i,r,n,o){a.subVectors(t,i).addScalar(.5).multiply(r),void 0!==n?(s.x=o*a.x-n*a.y,s.y=n*a.x+o*a.y):s.copy(a),t.copy(e),t.x+=s.x,t.y+=s.y,t.applyMatrix4(l)}return function(t,e){u.setFromMatrixScale(this.matrixWorld),l.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),h.setFromMatrixPosition(this.modelViewMatrix);var i,r,n=this.material.rotation;0!==n&&(r=Math.cos(n),i=Math.sin(n));var o=this.center;m(p.set(-.5,-.5,0),h,o,u,i,r),m(d.set(.5,-.5,0),h,o,u,i,r),m(f.set(.5,.5,0),h,o,u,i,r);var a=t.ray.intersectTriangle(p,d,f,!1,c);if(null!==a||(m(d.set(-.5,.5,0),h,o,u,i,r),null!==(a=t.ray.intersectTriangle(p,f,d,!1,c)))){var s=t.ray.origin.distanceTo(c);s<t.near||s>t.far||e.push({distance:s,point:c.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return ur.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Oa.prototype=Object.assign(Object.create(ur.prototype),{constructor:Oa,copy:function(t){ur.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var n=e[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,r=0;r<i.length&&!(e<i[r].distance);r++);i.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,i=1,r=e.length;i<r&&!(t<e[i].distance);i++);return e[i-1].object},raycast:(Yo=new ri,function(t,e){Yo.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(Yo);this.getObjectForDistance(i).raycast(t,e)}),update:(Xo=new ri,qo=new ri,function(t){var e=this.levels;if(1<e.length){Xo.setFromMatrixPosition(t.matrixWorld),qo.setFromMatrixPosition(this.matrixWorld);var i=Xo.distanceTo(qo);e[0].object.visible=!0;for(var r=1,n=e.length;r<n&&i>=e[r].distance;r++)e[r-1].object.visible=!1,e[r].object.visible=!0;for(;r<n;r++)e[r].object.visible=!1}}),toJSON:function(t){var e=ur.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var o=i[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(La.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new ei;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Zo=new ei,Ko=new ei,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,o=t.length;n<o;n++){var a=t[n]?t[n].matrixWorld:Ko;Zo.multiplyMatrices(a,e[n]),Zo.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new La(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var r=this.bones[e];if(r.name===t)return r}}}),Ra.prototype=Object.assign(Object.create(ur.prototype),{constructor:Ra,isBone:!0}),Da.prototype=Object.assign(Object.create(Pn.prototype),{constructor:Da,isSkinnedMesh:!0,initBones:function(){var t,e,i,r,n=[];if(this.geometry&&void 0!==this.geometry.bones){for(i=0,r=this.geometry.bones.length;i<r;i++)e=this.geometry.bones[i],t=new Ra,n.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(i=0,r=this.geometry.bones.length;i<r;i++)-1!==(e=this.geometry.bones[i]).parent&&null!==e.parent&&void 0!==n[e.parent]?n[e.parent].add(n[i]):this.add(n[i])}return this.updateMatrixWorld(!0),n},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var i=this.geometry.skinWeights[e];(t=1/i.manhattanLength())!==1/0?i.multiplyScalar(t):i.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new Si,n=this.geometry.attributes.skinWeight;for(e=0;e<n.count;e++)r.x=n.getX(e),r.y=n.getY(e),r.z=n.getZ(e),r.w=n.getW(e),(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),n.setXYZW(e,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Pn.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((ka.prototype=Object.create(wn.prototype)).constructor=ka).prototype.isLineBasicMaterial=!0,ka.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ba.prototype=Object.assign(Object.create(ur.prototype),{constructor:Ba,isLine:!0,computeLineDistances:(ea=new ri,ia=new ri,function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,i=[0],r=1,n=e.count;r<n;r++)ea.fromBufferAttribute(e,r-1),ia.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=ea.distanceTo(ia);t.addAttribute("lineDistance",new Ir(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var o=t.vertices;for((i=t.lineDistances)[0]=0,r=1,n=o.length;r<n;r++)i[r]=i[r-1],i[r]+=o[r-1].distanceTo(o[r])}return this}),raycast:(Jo=new ei,Qo=new Mn,ta=new Ti,function(t,e){var i=t.linePrecision,r=i*i,n=this.geometry,o=this.matrixWorld;if(null===n.boundingSphere&&n.computeBoundingSphere(),ta.copy(n.boundingSphere),ta.applyMatrix4(o),!1!==t.ray.intersectsSphere(ta)){Jo.getInverse(o),Qo.copy(t.ray).applyMatrix4(Jo);var a=new ri,s=new ri,c=new ri,u=new ri,h=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var l=n.index,p=n.attributes.position.array;if(null!==l)for(var d=l.array,f=0,m=d.length-1;f<m;f+=h){var g=d[f],v=d[f+1];a.fromArray(p,3*g),s.fromArray(p,3*v),r<Qo.distanceSqToSegment(a,s,u,c)||(u.applyMatrix4(this.matrixWorld),(x=t.ray.origin.distanceTo(u))<t.near||x>t.far||e.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}else for(f=0,m=p.length/3-1;f<m;f+=h)a.fromArray(p,3*f),s.fromArray(p,3*f+3),r<Qo.distanceSqToSegment(a,s,u,c)||(u.applyMatrix4(this.matrixWorld),(x=t.ray.origin.distanceTo(u))<t.near||x>t.far||e.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}else if(n.isGeometry){var y=n.vertices,b=y.length;for(f=0;f<b-1;f+=h){var x;r<Qo.distanceSqToSegment(y[f],y[f+1],u,c)||(u.applyMatrix4(this.matrixWorld),(x=t.ray.origin.distanceTo(u))<t.near||x>t.far||e.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Na.prototype=Object.assign(Object.create(Ba.prototype),{constructor:Na,isLineSegments:!0,computeLineDistances:(ra=new ri,na=new ri,function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,i=[],r=0,n=e.count;r<n;r+=2)ra.fromBufferAttribute(e,r),na.fromBufferAttribute(e,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+ra.distanceTo(na);t.addAttribute("lineDistance",new Ir(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var o=t.vertices;for(i=t.lineDistances,r=0,n=o.length;r<n;r+=2)ra.copy(o[r]),na.copy(o[r+1]),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+ra.distanceTo(na)}return this})}),Fa.prototype=Object.assign(Object.create(Ba.prototype),{constructor:Fa,isLineLoop:!0}),((za.prototype=Object.create(wn.prototype)).constructor=za).prototype.isPointsMaterial=!0,za.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Ua.prototype=Object.assign(Object.create(ur.prototype),{constructor:Ua,isPoints:!0,raycast:(oa=new ei,aa=new Mn,sa=new Ti,function(n,o){var a=this,t=this.geometry,s=this.matrixWorld,e=n.params.Points.threshold;if(null===t.boundingSphere&&t.computeBoundingSphere(),sa.copy(t.boundingSphere),sa.applyMatrix4(s),sa.radius+=e,!1!==n.ray.intersectsSphere(sa)){oa.getInverse(s),aa.copy(n.ray).applyMatrix4(oa);var i=e/((this.scale.x+this.scale.y+this.scale.z)/3),c=i*i,r=new ri,u=new ri;if(t.isBufferGeometry){var h=t.index,l=t.attributes.position.array;if(null!==h)for(var p=h.array,d=0,f=p.length;d<f;d++){var m=p[d];r.fromArray(l,3*m),y(r,m)}else{d=0;for(var g=l.length/3;d<g;d++)r.fromArray(l,3*d),y(r,d)}}else{var v=t.vertices;for(d=0,g=v.length;d<g;d++)y(v[d],d)}}function y(t,e){var i=aa.distanceSqToPoint(t);if(i<c){aa.closestPointToPoint(t,u),u.applyMatrix4(s);var r=n.ray.origin.distanceTo(u);if(r<n.near||r>n.far)return;o.push({distance:r,distanceToRay:Math.sqrt(i),point:u.clone(),index:e,face:null,object:a})}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ja.prototype=Object.assign(Object.create(wi.prototype),{constructor:ja,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((Ga.prototype=Object.create(wi.prototype)).constructor=Ga).prototype.isCompressedTexture=!0,((Va.prototype=Object.create(wi.prototype)).constructor=Va).prototype.isCanvasTexture=!0,((Ha.prototype=Object.create(wi.prototype)).constructor=Ha).prototype.isDepthTexture=!0,($a.prototype=Object.create($r.prototype)).constructor=$a,(Wa.prototype=Object.create(_r.prototype)).constructor=Wa,(Xa.prototype=Object.create($r.prototype)).constructor=Xa,(qa.prototype=Object.create(_r.prototype)).constructor=qa,(Ya.prototype=Object.create($r.prototype)).constructor=Ya,(Za.prototype=Object.create(_r.prototype)).constructor=Za,(Ka.prototype=Object.create(Ya.prototype)).constructor=Ka,(Ja.prototype=Object.create(_r.prototype)).constructor=Ja,(Qa.prototype=Object.create(Ya.prototype)).constructor=Qa,(ts.prototype=Object.create(_r.prototype)).constructor=ts,(es.prototype=Object.create(Ya.prototype)).constructor=es,(is.prototype=Object.create(_r.prototype)).constructor=is,(rs.prototype=Object.create(Ya.prototype)).constructor=rs,(ns.prototype=Object.create(_r.prototype)).constructor=ns,(os.prototype=Object.create($r.prototype)).constructor=os,(as.prototype=Object.create(_r.prototype)).constructor=as,(ss.prototype=Object.create($r.prototype)).constructor=ss,(cs.prototype=Object.create(_r.prototype)).constructor=cs,(us.prototype=Object.create($r.prototype)).constructor=us;var hs=function(t,e,i){i=i||2;var r,n,o,a,s,c,u,h=e&&e.length,l=h?e[0]*i:t.length,p=ls(t,0,l,i,!0),d=[];if(!p)return d;if(h&&(p=function(t,e,i,r){var n,o,a,s,c,u=[];for(n=0,o=e.length;n<o;n++)a=e[n]*r,s=n<o-1?e[n+1]*r:t.length,(c=ls(t,a,s,r,!1))===c.next&&(c.steiner=!0),u.push(_s(c));for(u.sort(ys),n=0;n<u.length;n++)bs(u[n],i),i=ps(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=o=t[0],n=a=t[1];for(var f=i;f<l;f+=i)(s=t[f])<r&&(r=s),(c=t[f+1])<n&&(n=c),o<s&&(o=s),a<c&&(a=c);u=0!==(u=Math.max(o-r,a-n))?1/u:0}return ds(p,d,i,r,n,u),d};function ls(t,e,i,r,n){var o,a;if(n===0<function(t,e,i,r){for(var n=0,o=e,a=i-r;o<i;o+=r)n+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return n}(t,e,i,r))for(o=e;o<i;o+=r)a=Ts(o,t[o],t[o+1],a);else for(o=i-r;e<=o;o-=r)a=Ts(o,t[o],t[o+1],a);return a&&As(a,a.next)&&(Cs(a),a=a.next),a}function ps(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!As(r,r.next)&&0!==Ss(r.prev,r,r.next))r=r.next;else{if(Cs(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function ds(t,e,i,r,n,o,a){if(t){!a&&o&&function(t,e,i,r){var n=t;for(;null===n.z&&(n.z=xs(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next,n!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,a,s,c,u=1;do{for(i=t,o=t=null,a=0;i;){for(a++,r=i,e=s=0;e<u&&(s++,r=r.nextZ);e++);for(c=u;0<s||0<c&&r;)0!==s&&(0===c||!r||i.z<=r.z)?(i=(n=i).nextZ,s--):(r=(n=r).nextZ,c--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,u*=2}while(1<a)}(n)}(t,r,n,o);for(var s,c,u=t;t.prev!==t.next;)if(s=t.prev,c=t.next,o?ms(t,r,n,o):fs(t))e.push(s.i/i),e.push(t.i/i),e.push(c.i/i),Cs(t),t=c.next,u=c.next;else if((t=c)===u){a?1===a?ds(t=gs(t,e,i),e,i,r,n,o,2):2===a&&vs(t,e,i,r,n,o):ds(ps(t),e,i,r,n,o,1);break}}}function fs(t){var e=t.prev,i=t,r=t.next;if(0<=Ss(e,i,r))return!1;for(var n=t.next.next;n!==t.prev;){if(ws(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&0<=Ss(n.prev,n,n.next))return!1;n=n.next}return!0}function ms(t,e,i,r){var n=t.prev,o=t,a=t.next;if(0<=Ss(n,o,a))return!1;for(var s=n.x<o.x?n.x<a.x?n.x:a.x:o.x<a.x?o.x:a.x,c=n.y<o.y?n.y<a.y?n.y:a.y:o.y<a.y?o.y:a.y,u=n.x>o.x?n.x>a.x?n.x:a.x:o.x>a.x?o.x:a.x,h=n.y>o.y?n.y>a.y?n.y:a.y:o.y>a.y?o.y:a.y,l=xs(s,c,e,i,r),p=xs(u,h,e,i,r),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&ws(n.x,n.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=Ss(d.prev,d,d.next))return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=l;){if(d!==t.prev&&d!==t.next&&ws(n.x,n.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=Ss(d.prev,d,d.next))return!1;d=d.prevZ}return!0}function gs(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!As(n,o)&&Ms(n,r,r.next,o)&&Es(n,o)&&Es(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),Cs(r),Cs(r.next),r=t=o),r=r.next}while(r!==t);return r}function vs(t,e,i,r,n,o){var a,s,c=t;do{for(var u=c.next.next;u!==c.prev;){if(c.i!==u.i&&(s=u,(a=c).next.i!==s.i&&a.prev.i!==s.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Ms(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(a,s)&&Es(a,s)&&Es(s,a)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;for(;i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next,i!==t;);return r}(a,s))){var h=Ps(c,u);return c=ps(c,c.next),h=ps(h,h.next),ds(c,e,i,r,n,o),void ds(h,e,i,r,n,o)}u=u.next}c=c.next}while(c!==t)}function ys(t,e){return t.x-e.x}function bs(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&a<s){if((a=s)===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===a)return i.prev;var c,u=i,h=i.x,l=i.y,p=1/0;r=i.next;for(;r!==u;)n>=r.x&&r.x>=h&&n!==r.x&&ws(o<l?n:a,o,h,l,o<l?a:n,o,r.x,r.y)&&((c=Math.abs(o-r.y)/(n-r.x))<p||c===p&&r.x>i.x)&&Es(r,t)&&(i=r,p=c),r=r.next;return i}(t,e)){var i=Ps(e,t);ps(i,i.next)}}function xs(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _s(t){for(var e=t,i=t;e.x<i.x&&(i=e),(e=e.next)!==t;);return i}function ws(t,e,i,r,n,o,a,s){return 0<=(n-a)*(e-s)-(t-a)*(o-s)&&0<=(t-a)*(r-s)-(i-a)*(e-s)&&0<=(i-a)*(o-s)-(n-a)*(r-s)}function Ss(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function As(t,e){return t.x===e.x&&t.y===e.y}function Ms(t,e,i,r){return!!(As(t,e)&&As(i,r)||As(t,r)&&As(i,e))||0<Ss(t,e,i)!=0<Ss(t,e,r)&&0<Ss(i,r,t)!=0<Ss(i,r,e)}function Es(t,e){return Ss(t.prev,t,t.next)<0?0<=Ss(t,e,t.next)&&0<=Ss(t,t.prev,e):Ss(t,e,t.prev)<0||Ss(t,t.next,e)<0}function Ps(t,e){var i=new Is(t.i,t.x,t.y),r=new Is(e.i,e.x,e.y),n=t.next,o=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(r.next=i).prev=r,(o.next=r).prev=o,r}function Ts(t,e,i,r){var n=new Is(t,e,i);return r?(n.next=r.next,(n.prev=r).next.prev=n,r.next=n):(n.prev=n).next=n,n}function Cs(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Is(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Os={area:function(t){for(var e=t.length,i=0,r=e-1,n=0;n<e;r=n++)i+=t[r].x*t[n].y-t[n].x*t[r].y;return.5*i},isClockWise:function(t){return Os.area(t)<0},triangulateShape:function(t,e){var i=[],r=[],n=[];Ls(t),Rs(i,t);var o=t.length;e.forEach(Ls);for(var a=0;a<e.length;a++)r.push(o),o+=e[a].length,Rs(i,e[a]);var s=hs(i,r);for(a=0;a<s.length;a+=3)n.push(s.slice(a,a+3));return n}};function Ls(t){var e=t.length;2<e&&t[e-1].equals(t[0])&&t.pop()}function Rs(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function Ds(t,e){_r.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new ks(t,e)),this.mergeVertices()}function ks(t,Z){$r.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:Z},t=Array.isArray(t)?t:[t];for(var K=this,J=[],Q=[],e=0,i=t.length;e<i;e++){r(t[e])}function r(t){var r=[],e=void 0!==Z.curveSegments?Z.curveSegments:12,c=void 0!==Z.steps?Z.steps:1,i=void 0!==Z.depth?Z.depth:100,n=void 0===Z.bevelEnabled||Z.bevelEnabled,o=void 0!==Z.bevelThickness?Z.bevelThickness:6,a=void 0!==Z.bevelSize?Z.bevelSize:o-2,u=void 0!==Z.bevelSegments?Z.bevelSegments:3,s=Z.extrudePath,h=void 0!==Z.UVGenerator?Z.UVGenerator:Bs;void 0!==Z.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),i=Z.amount);var l,p,d,f,m,g,v,y,b=!1;s&&(l=s.getSpacedPoints(c),n=!(b=!0),p=s.computeFrenetFrames(c,!1),d=new ri,f=new ri,m=new ri),n||(a=o=u=0);var x=t.extractPoints(e),_=x.shape,w=x.holes;if(!Os.isClockWise(_))for(_=_.reverse(),v=0,y=w.length;v<y;v++)g=w[v],Os.isClockWise(g)&&(w[v]=g.reverse());var S=Os.triangulateShape(_,w),A=_;for(v=0,y=w.length;v<y;v++)g=w[v],_=_.concat(g);function M(t,e,i){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(i).add(t)}var E,P,T,C,I,O,L=_.length,R=S.length;function D(t,e,i){var r,n,o,a=t.x-e.x,s=t.y-e.y,c=i.x-t.x,u=i.y-t.y,h=a*a+s*s,l=a*u-s*c;if(Math.abs(l)>Number.EPSILON){var p=Math.sqrt(h),d=Math.sqrt(c*c+u*u),f=e.x-s/p,m=e.y+a/p,g=((i.x-u/d-f)*u-(i.y+c/d-m)*c)/(a*u-s*c),v=(r=f+a*g-t.x)*r+(n=m+s*g-t.y)*n;if(v<=2)return new ti(r,n);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,n=a,o=Math.sqrt(h)):(r=a,n=s,o=Math.sqrt(h/2))}return new ti(r/o,n/o)}for(var k=[],B=0,N=A.length,F=N-1,z=B+1;B<N;B++,F++,z++)F===N&&(F=0),z===N&&(z=0),k[B]=D(A[B],A[F],A[z]);var U,j,G=[],V=k.concat();for(v=0,y=w.length;v<y;v++){for(g=w[v],U=[],B=0,F=(N=g.length)-1,z=B+1;B<N;B++,F++,z++)F===N&&(F=0),z===N&&(z=0),U[B]=D(g[B],g[F],g[z]);G.push(U),V=V.concat(U)}for(E=0;E<u;E++){for(T=E/u,C=o*Math.cos(T*Math.PI/2),P=a*Math.sin(T*Math.PI/2),B=0,N=A.length;B<N;B++)$((I=M(A[B],k[B],P)).x,I.y,-C);for(v=0,y=w.length;v<y;v++)for(g=w[v],U=G[v],B=0,N=g.length;B<N;B++)$((I=M(g[B],U[B],P)).x,I.y,-C)}for(P=a,B=0;B<L;B++)I=n?M(_[B],V[B],P):_[B],b?(f.copy(p.normals[0]).multiplyScalar(I.x),d.copy(p.binormals[0]).multiplyScalar(I.y),m.copy(l[0]).add(f).add(d),$(m.x,m.y,m.z)):$(I.x,I.y,0);for(j=1;j<=c;j++)for(B=0;B<L;B++)I=n?M(_[B],V[B],P):_[B],b?(f.copy(p.normals[j]).multiplyScalar(I.x),d.copy(p.binormals[j]).multiplyScalar(I.y),m.copy(l[j]).add(f).add(d),$(m.x,m.y,m.z)):$(I.x,I.y,i/c*j);for(E=u-1;0<=E;E--){for(T=E/u,C=o*Math.cos(T*Math.PI/2),P=a*Math.sin(T*Math.PI/2),B=0,N=A.length;B<N;B++)$((I=M(A[B],k[B],P)).x,I.y,i+C);for(v=0,y=w.length;v<y;v++)for(g=w[v],U=G[v],B=0,N=g.length;B<N;B++)I=M(g[B],U[B],P),b?$(I.x,I.y+l[c-1].y,l[c-1].x+C):$(I.x,I.y,i+C)}function H(t,e){var i,r;for(B=t.length;0<=--B;){(r=(i=B)-1)<0&&(r=t.length-1);var n=0,o=c+2*u;for(n=0;n<o;n++){var a=L*n,s=L*(n+1);X(e+i+a,e+r+a,e+r+s,e+i+s)}}}function $(t,e,i){r.push(t),r.push(e),r.push(i)}function W(t,e,i){q(t),q(e),q(i);var r=J.length/3,n=h.generateTopUV(K,J,r-3,r-2,r-1);Y(n[0]),Y(n[1]),Y(n[2])}function X(t,e,i,r){q(t),q(e),q(r),q(e),q(i),q(r);var n=J.length/3,o=h.generateSideWallUV(K,J,n-6,n-3,n-2,n-1);Y(o[0]),Y(o[1]),Y(o[3]),Y(o[1]),Y(o[2]),Y(o[3])}function q(t){J.push(r[3*t+0]),J.push(r[3*t+1]),J.push(r[3*t+2])}function Y(t){Q.push(t.x),Q.push(t.y)}!function(){var t=J.length/3;if(n){var e=0,i=L*e;for(B=0;B<R;B++)W((O=S[B])[2]+i,O[1]+i,O[0]+i);for(i=L*(e=c+2*u),B=0;B<R;B++)W((O=S[B])[0]+i,O[1]+i,O[2]+i)}else{for(B=0;B<R;B++)W((O=S[B])[2],O[1],O[0]);for(B=0;B<R;B++)W((O=S[B])[0]+L*c,O[1]+L*c,O[2]+L*c)}K.addGroup(t,J.length/3-t,0)}(),function(){var t=J.length/3,e=0;for(H(A,e),e+=A.length,v=0,y=w.length;v<y;v++)H(g=w[v],e),e+=g.length;K.addGroup(t,J.length/3-t,1)}()}this.addAttribute("position",new Ir(J,3)),this.addAttribute("uv",new Ir(Q,2)),this.computeVertexNormals()}((Ds.prototype=Object.create(_r.prototype)).constructor=Ds).prototype.toJSON=function(){var t=_r.prototype.toJSON.call(this);return Ns(this.parameters.shapes,this.parameters.options,t)},((ks.prototype=Object.create($r.prototype)).constructor=ks).prototype.toJSON=function(){var t=$r.prototype.toJSON.call(this);return Ns(this.parameters.shapes,this.parameters.options,t)};var Bs={generateTopUV:function(t,e,i,r,n){var o=e[3*i],a=e[3*i+1],s=e[3*r],c=e[3*r+1],u=e[3*n],h=e[3*n+1];return[new ti(o,a),new ti(s,c),new ti(u,h)]},generateSideWallUV:function(t,e,i,r,n,o){var a=e[3*i],s=e[3*i+1],c=e[3*i+2],u=e[3*r],h=e[3*r+1],l=e[3*r+2],p=e[3*n],d=e[3*n+1],f=e[3*n+2],m=e[3*o],g=e[3*o+1],v=e[3*o+2];return Math.abs(s-h)<.01?[new ti(a,1-c),new ti(u,1-l),new ti(p,1-f),new ti(m,1-v)]:[new ti(s,1-c),new ti(h,1-l),new ti(d,1-f),new ti(g,1-v)]}};function Ns(t,e,i){if(i.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var o=t[r];i.shapes.push(o.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}function Fs(t,e){_r.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new zs(t,e)),this.mergeVertices()}function zs(t,e){var i=(e=e||{}).font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new _r;var r=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ks.call(this,r,e),this.type="TextBufferGeometry"}function Us(t,e,i,r,n,o,a){_r.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new js(t,e,i,r,n,o,a)),this.mergeVertices()}function js(t,e,i,r,n,o,a){$r.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:o,thetaLength:a},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var s,c,u=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),h=0,l=[],p=new ri,d=new ri,f=[],m=[],g=[],v=[];for(c=0;c<=i;c++){var y=[],b=c/i;for(s=0;s<=e;s++){var x=s/e;p.x=-t*Math.cos(r+x*n)*Math.sin(o+b*a),p.y=t*Math.cos(o+b*a),p.z=t*Math.sin(r+x*n)*Math.sin(o+b*a),m.push(p.x,p.y,p.z),d.set(p.x,p.y,p.z).normalize(),g.push(d.x,d.y,d.z),v.push(x,1-b),y.push(h++)}l.push(y)}for(c=0;c<i;c++)for(s=0;s<e;s++){var _=l[c][s+1],w=l[c][s],S=l[c+1][s],A=l[c+1][s+1];(0!==c||0<o)&&f.push(_,w,A),(c!==i-1||u<Math.PI)&&f.push(w,S,A)}this.setIndex(f),this.addAttribute("position",new Ir(m,3)),this.addAttribute("normal",new Ir(g,3)),this.addAttribute("uv",new Ir(v,2))}function Gs(t,e,i,r,n,o){_r.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:o},this.fromBufferGeometry(new Vs(t,e,i,r,n,o)),this.mergeVertices()}function Vs(t,e,i,r,n,o){$r.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:o},t=t||.5,e=e||1,n=void 0!==n?n:0,o=void 0!==o?o:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var a,s,c,u=[],h=[],l=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new ri,g=new ti;for(s=0;s<=r;s++){for(c=0;c<=i;c++)a=n+c/i*o,m.x=d*Math.cos(a),m.y=d*Math.sin(a),h.push(m.x,m.y,m.z),l.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,p.push(g.x,g.y);d+=f}for(s=0;s<r;s++){var v=s*(i+1);for(c=0;c<i;c++){var y=a=c+v,b=a+i+1,x=a+i+2,_=a+1;u.push(y,b,_),u.push(b,x,_)}}this.setIndex(u),this.addAttribute("position",new Ir(h,3)),this.addAttribute("normal",new Ir(l,3)),this.addAttribute("uv",new Ir(p,2))}function Hs(t,e,i,r){_r.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},this.fromBufferGeometry(new $s(t,e,i,r)),this.mergeVertices()}function $s(t,e,i,r){$r.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=Qe.clamp(r,0,2*Math.PI);var n,o,a,s=[],c=[],u=[],h=1/e,l=new ri,p=new ti;for(o=0;o<=e;o++){var d=i+o*h*r,f=Math.sin(d),m=Math.cos(d);for(a=0;a<=t.length-1;a++)l.x=t[a].x*f,l.y=t[a].y,l.z=t[a].x*m,c.push(l.x,l.y,l.z),p.x=o/e,p.y=a/(t.length-1),u.push(p.x,p.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var g=n=a+o*t.length,v=n+t.length,y=n+t.length+1,b=n+1;s.push(g,v,b),s.push(v,y,b)}if(this.setIndex(s),this.addAttribute("position",new Ir(c,3)),this.addAttribute("uv",new Ir(u,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,_=new ri,w=new ri,S=new ri;for(n=e*t.length*3,a=o=0;o<t.length;o++,a+=3)_.x=x[a+0],_.y=x[a+1],_.z=x[a+2],w.x=x[n+a+0],w.y=x[n+a+1],w.z=x[n+a+2],S.addVectors(_,w).normalize(),x[a+0]=x[n+a+0]=S.x,x[a+1]=x[n+a+1]=S.y,x[a+2]=x[n+a+2]=S.z}}function Ws(t,e){_r.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Xs(t,e)),this.mergeVertices()}function Xs(t,f){$r.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:f},f=f||12;var m=[],g=[],v=[],y=[],e=0,b=0;if(!1===Array.isArray(t))r(t);else for(var i=0;i<t.length;i++)r(t[i]),this.addGroup(e,b,i),e+=b,b=0;function r(t){var e,i,r,n=g.length/3,o=t.extractPoints(f),a=o.shape,s=o.holes;if(!1===Os.isClockWise(a))for(a=a.reverse(),e=0,i=s.length;e<i;e++)r=s[e],!0===Os.isClockWise(r)&&(s[e]=r.reverse());var c=Os.triangulateShape(a,s);for(e=0,i=s.length;e<i;e++)r=s[e],a=a.concat(r);for(e=0,i=a.length;e<i;e++){var u=a[e];g.push(u.x,u.y,0),v.push(0,0,1),y.push(u.x,u.y)}for(e=0,i=c.length;e<i;e++){var h=c[e],l=h[0]+n,p=h[1]+n,d=h[2]+n;m.push(l,p,d),b+=3}}this.setIndex(m),this.addAttribute("position",new Ir(g,3)),this.addAttribute("normal",new Ir(v,3)),this.addAttribute("uv",new Ir(y,2))}function qs(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}function Ys(t,e){$r.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,r,n,o,a=[],s=Math.cos(Qe.DEG2RAD*e),c=[0,0],u={},h=["a","b","c"];t.isBufferGeometry?(o=new _r).fromBufferGeometry(t):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var l=o.vertices,p=o.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],g=0;g<3;g++)i=m[h[g]],r=m[h[(g+1)%3]],c[0]=Math.min(i,r),c[1]=Math.max(i,r),void 0===u[n=c[0]+","+c[1]]?u[n]={index1:c[0],index2:c[1],face1:d,face2:void 0}:u[n].face2=d;for(n in u){var v=u[n];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var y=l[v.index1];a.push(y.x,y.y,y.z),y=l[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Ir(a,3))}function Zs(t,e,i,r,n,o,a,s){_r.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Ks(t,e,i,r,n,o,a,s)),this.mergeVertices()}function Ks(v,y,b,x,_,t,w,S){$r.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:v,radiusBottom:y,height:b,radialSegments:x,heightSegments:_,openEnded:t,thetaStart:w,thetaLength:S};var A=this;v=void 0!==v?v:1,y=void 0!==y?y:1,b=b||1,x=Math.floor(x)||8,_=Math.floor(_)||1,t=void 0!==t&&t,w=void 0!==w?w:0,S=void 0!==S?S:2*Math.PI;var M=[],E=[],P=[],T=[],C=0,I=[],O=b/2,L=0;function e(t){var e,i,r,n=new ti,o=new ri,a=0,s=!0===t?v:y,c=!0===t?1:-1;for(i=C,e=1;e<=x;e++)E.push(0,O*c,0),P.push(0,c,0),T.push(.5,.5),C++;for(r=C,e=0;e<=x;e++){var u=e/x*S+w,h=Math.cos(u),l=Math.sin(u);o.x=s*l,o.y=O*c,o.z=s*h,E.push(o.x,o.y,o.z),P.push(0,c,0),n.x=.5*h+.5,n.y=.5*l*c+.5,T.push(n.x,n.y),C++}for(e=0;e<x;e++){var p=i+e,d=r+e;!0===t?M.push(d,d+1,p):M.push(d+1,d,p),a+=3}A.addGroup(L,a,!0===t?1:2),L+=a}!function(){var t,e,i=new ri,r=new ri,n=0,o=(y-v)/b;for(e=0;e<=_;e++){var a=[],s=e/_,c=s*(y-v)+v;for(t=0;t<=x;t++){var u=t/x,h=u*S+w,l=Math.sin(h),p=Math.cos(h);r.x=c*l,r.y=-s*b+O,r.z=c*p,E.push(r.x,r.y,r.z),i.set(l,o,p).normalize(),P.push(i.x,i.y,i.z),T.push(u,1-s),a.push(C++)}I.push(a)}for(t=0;t<x;t++)for(e=0;e<_;e++){var d=I[e][t],f=I[e+1][t],m=I[e+1][t+1],g=I[e][t+1];M.push(d,f,g),M.push(f,m,g),n+=6}A.addGroup(L,n,0),L+=n}(),!1===t&&(0<v&&e(!0),0<y&&e(!1)),this.setIndex(M),this.addAttribute("position",new Ir(E,3)),this.addAttribute("normal",new Ir(P,3)),this.addAttribute("uv",new Ir(T,2))}function Js(t,e,i,r,n,o,a){Zs.call(this,0,t,e,i,r,n,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:o,thetaLength:a}}function Qs(t,e,i,r,n,o,a){Ks.call(this,0,t,e,i,r,n,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:o,thetaLength:a}}function tc(t,e,i,r){_r.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new ec(t,e,i,r)),this.mergeVertices()}function ec(t,e,i,r){$r.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,o,a=[],s=[],c=[],u=[],h=new ri,l=new ti;for(s.push(0,0,0),c.push(0,0,1),u.push(.5,.5),o=0,n=3;o<=e;o++,n+=3){var p=i+o/e*r;h.x=t*Math.cos(p),h.y=t*Math.sin(p),s.push(h.x,h.y,h.z),c.push(0,0,1),l.x=(s[n]/t+1)/2,l.y=(s[n+1]/t+1)/2,u.push(l.x,l.y)}for(n=1;n<=e;n++)a.push(n,n+1,0);this.setIndex(a),this.addAttribute("position",new Ir(s,3)),this.addAttribute("normal",new Ir(c,3)),this.addAttribute("uv",new Ir(u,2))}(Fs.prototype=Object.create(_r.prototype)).constructor=Fs,(zs.prototype=Object.create(ks.prototype)).constructor=zs,(Us.prototype=Object.create(_r.prototype)).constructor=Us,(js.prototype=Object.create($r.prototype)).constructor=js,(Gs.prototype=Object.create(_r.prototype)).constructor=Gs,(Vs.prototype=Object.create($r.prototype)).constructor=Vs,(Hs.prototype=Object.create(_r.prototype)).constructor=Hs,($s.prototype=Object.create($r.prototype)).constructor=$s,((Ws.prototype=Object.create(_r.prototype)).constructor=Ws).prototype.toJSON=function(){var t=_r.prototype.toJSON.call(this);return qs(this.parameters.shapes,t)},((Xs.prototype=Object.create($r.prototype)).constructor=Xs).prototype.toJSON=function(){var t=$r.prototype.toJSON.call(this);return qs(this.parameters.shapes,t)},(Ys.prototype=Object.create($r.prototype)).constructor=Ys,(Zs.prototype=Object.create(_r.prototype)).constructor=Zs,(Ks.prototype=Object.create($r.prototype)).constructor=Ks,(Js.prototype=Object.create(Zs.prototype)).constructor=Js,(Qs.prototype=Object.create(Ks.prototype)).constructor=Qs,(tc.prototype=Object.create(_r.prototype)).constructor=tc,(ec.prototype=Object.create($r.prototype)).constructor=ec;var ic=Object.freeze({WireframeGeometry:$a,ParametricGeometry:Wa,ParametricBufferGeometry:Xa,TetrahedronGeometry:Za,TetrahedronBufferGeometry:Ka,OctahedronGeometry:Ja,OctahedronBufferGeometry:Qa,IcosahedronGeometry:ts,IcosahedronBufferGeometry:es,DodecahedronGeometry:is,DodecahedronBufferGeometry:rs,PolyhedronGeometry:qa,PolyhedronBufferGeometry:Ya,TubeGeometry:ns,TubeBufferGeometry:os,TorusKnotGeometry:as,TorusKnotBufferGeometry:ss,TorusGeometry:cs,TorusBufferGeometry:us,TextGeometry:Fs,TextBufferGeometry:zs,SphereGeometry:Us,SphereBufferGeometry:js,RingGeometry:Gs,RingBufferGeometry:Vs,PlaneGeometry:qr,PlaneBufferGeometry:Yr,LatheGeometry:Hs,LatheBufferGeometry:$s,ShapeGeometry:Ws,ShapeBufferGeometry:Xs,ExtrudeGeometry:Ds,ExtrudeBufferGeometry:ks,EdgesGeometry:Ys,ConeGeometry:Js,ConeBufferGeometry:Qs,CylinderGeometry:Zs,CylinderBufferGeometry:Ks,CircleGeometry:tc,CircleBufferGeometry:ec,BoxGeometry:Wr,BoxBufferGeometry:Xr});function rc(t){wn.call(this),this.type="ShadowMaterial",this.color=new ki(0),this.transparent=!0,this.setValues(t)}function nc(t){An.call(this,t),this.type="RawShaderMaterial"}function oc(t){wn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ki(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ki(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new ti(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ac(t){oc.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function sc(t){wn.call(this),this.type="MeshPhongMaterial",this.color=new ki(16777215),this.specular=new ki(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ki(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new ti(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function cc(t){sc.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function uc(t){wn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new ti(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function hc(t){wn.call(this),this.type="MeshLambertMaterial",this.color=new ki(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ki(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function lc(t){ka.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}((rc.prototype=Object.create(wn.prototype)).constructor=rc).prototype.isShadowMaterial=!0,rc.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.color.copy(t.color),this},((nc.prototype=Object.create(An.prototype)).constructor=nc).prototype.isRawShaderMaterial=!0,((oc.prototype=Object.create(wn.prototype)).constructor=oc).prototype.isMeshStandardMaterial=!0,oc.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((ac.prototype=Object.create(oc.prototype)).constructor=ac).prototype.isMeshPhysicalMaterial=!0,ac.prototype.copy=function(t){return oc.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},((sc.prototype=Object.create(wn.prototype)).constructor=sc).prototype.isMeshPhongMaterial=!0,sc.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((cc.prototype=Object.create(sc.prototype)).constructor=cc).prototype.isMeshToonMaterial=!0,cc.prototype.copy=function(t){return sc.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},((uc.prototype=Object.create(wn.prototype)).constructor=uc).prototype.isMeshNormalMaterial=!0,uc.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((hc.prototype=Object.create(wn.prototype)).constructor=hc).prototype.isMeshLambertMaterial=!0,hc.prototype.copy=function(t){return wn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((lc.prototype=Object.create(ka.prototype)).constructor=lc).prototype.isLineDashedMaterial=!0,lc.prototype.copy=function(t){return ka.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var pc=Object.freeze({ShadowMaterial:rc,SpriteMaterial:Ca,RawShaderMaterial:nc,ShaderMaterial:An,PointsMaterial:za,MeshPhysicalMaterial:ac,MeshStandardMaterial:oc,MeshPhongMaterial:sc,MeshToonMaterial:cc,MeshNormalMaterial:uc,MeshLambertMaterial:hc,MeshDepthMaterial:pa,MeshDistanceMaterial:da,MeshBasicMaterial:Sn,LineDashedMaterial:lc,LineBasicMaterial:ka,Material:wn}),dc={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function fc(t,e,i){var r=this,n=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){a++,!1===n&&void 0!==r.onStart&&r.onStart(t,o,a),n=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var mc=new fc,gc={};function vc(t){this.manager=void 0!==t?t:mc}function yc(t){this.manager=void 0!==t?t:mc}function bc(t){this.manager=void 0!==t?t:mc}function xc(t){this.manager=void 0!==t?t:mc}function _c(){this.type="Curve",this.arcLengthDivisions=200}function wc(t,e,i,r,n,o,a,s){_c.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Sc(t,e,i,r,n,o){wc.call(this,t,e,i,i,r,n,o),this.type="ArcCurve"}function Ac(){var n=0,o=0,a=0,s=0;function u(t,e,i,r){a=-3*(n=t)+3*e-2*(o=i)-r,s=2*t-2*e+i+r}return{initCatmullRom:function(t,e,i,r,n){u(e,i,n*(i-t),n*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,n,o,a){var s=(e-t)/n-(i-t)/(n+o)+(i-e)/o,c=(i-e)/o-(r-e)/(o+a)+(r-i)/a;u(e,i,s*=o,c*=o)},calc:function(t){var e=t*t;return n+o*t+a*e+s*(e*t)}}}Object.assign(vc.prototype,{load:function(a,t,e,i){void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);var s=this,r=dc.get(a);if(void 0!==r)return s.manager.itemStart(a),setTimeout(function(){t&&t(r),s.manager.itemEnd(a)},0),r;if(void 0===gc[a]){var n=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(n){var o=n[1],c=!!n[2],u=n[3];u=window.decodeURIComponent(u),c&&(u=window.atob(u));try{var h,l=(this.responseType||"").toLowerCase();switch(l){case"arraybuffer":case"blob":for(var p=new Uint8Array(u.length),d=0;d<u.length;d++)p[d]=u.charCodeAt(d);h="blob"===l?new Blob([p.buffer],{type:o}):p.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(u,o);break;case"json":h=JSON.parse(u);break;default:h=u}window.setTimeout(function(){t&&t(h),s.manager.itemEnd(a)},0)}catch(t){window.setTimeout(function(){i&&i(t),s.manager.itemEnd(a),s.manager.itemError(a)},0)}}else{gc[a]=[],gc[a].push({onLoad:t,onProgress:e,onError:i});var m=new XMLHttpRequest;for(var g in m.open("GET",a,!0),m.addEventListener("load",function(t){var e=this.response;dc.add(a,e);var i=gc[a];if(delete gc[a],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var r=0,n=i.length;r<n;r++){(o=i[r]).onLoad&&o.onLoad(e)}s.manager.itemEnd(a)}else{for(r=0,n=i.length;r<n;r++){var o;(o=i[r]).onError&&o.onError(t)}s.manager.itemEnd(a),s.manager.itemError(a)}},!1),m.addEventListener("progress",function(t){for(var e=gc[a],i=0,r=e.length;i<r;i++){var n=e[i];n.onProgress&&n.onProgress(t)}},!1),m.addEventListener("error",function(t){var e=gc[a];delete gc[a];for(var i=0,r=e.length;i<r;i++){var n=e[i];n.onError&&n.onError(t)}s.manager.itemEnd(a),s.manager.itemError(a)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return s.manager.itemStart(a),m}gc[a].push({onLoad:t,onProgress:e,onError:i})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(function(t){this.manager=void 0!==t?t:mc,this._parser=null}.prototype,{load:function(t,o,e,r){var a=this,s=[],c=new Ga;c.image=s;var n=new vc(this.manager);function i(i){n.load(t[i],function(t){var e=a._parser(t,!0);s[i]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(u+=1)&&(1===e.mipmapCount&&(c.minFilter=Wt),c.format=e.format,c.needsUpdate=!0,o&&o(c))},e,r)}if(n.setPath(this.path),n.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,h=0,l=t.length;h<l;++h)i(h);else n.load(t,function(t){var e=a._parser(t,!0);if(e.isCubemap)for(var i=e.mipmaps.length/e.mipmapCount,r=0;r<i;r++){s[r]={mipmaps:[]};for(var n=0;n<e.mipmapCount;n++)s[r].mipmaps.push(e.mipmaps[r*e.mipmapCount+n]),s[r].format=e.format,s[r].width=e.width,s[r].height=e.height}else c.image.width=e.width,c.image.height=e.height,c.mipmaps=e.mipmaps;1===e.mipmapCount&&(c.minFilter=Wt),c.format=e.format,c.needsUpdate=!0,o&&o(c)},e,r);return c},setPath:function(t){return this.path=t,this}}),Object.assign(function(t){this.manager=void 0!==t?t:mc,this._parser=null}.prototype,{load:function(t,i,e,r){var n=this,o=new Ei,a=new vc(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var e=n._parser(t);e&&(void 0!==e.image?o.image=e.image:void 0!==e.data&&(o.image.width=e.width,o.image.height=e.height,o.image.data=e.data),o.wrapS=void 0!==e.wrapS?e.wrapS:jt,o.wrapT=void 0!==e.wrapT?e.wrapT:jt,o.magFilter=void 0!==e.magFilter?e.magFilter:Wt,o.minFilter=void 0!==e.minFilter?e.minFilter:qt,o.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(o.format=e.format),void 0!==e.type&&(o.type=e.type),void 0!==e.mipmaps&&(o.mipmaps=e.mipmaps),1===e.mipmapCount&&(o.minFilter=Wt),o.needsUpdate=!0,i&&i(o,e))},e,r),o}}),Object.assign(yc.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,o=dc.get(e);if(void 0!==o)return n.manager.itemStart(e),setTimeout(function(){t&&t(o),n.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),dc.add(e,this),t&&t(this),n.manager.itemEnd(e)}function c(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),r&&r(t),n.manager.itemEnd(e),n.manager.itemError(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),n.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(bc.prototype,{crossOrigin:"anonymous",load:function(t,i,e,r){var n=new zn,o=new yc(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(e){o.load(t[e],function(t){n.images[e]=t,6===++a&&(n.needsUpdate=!0,i&&i(n))},void 0,r)}for(var c=0;c<t.length;++c)s(c);return n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(xc.prototype,{crossOrigin:"anonymous",load:function(i,r,t,e){var n=new wi,o=new yc(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(i,function(t){n.image=t;var e=0<i.search(/\.(jpg|jpeg)$/)||0===i.search(/^data\:image\/jpeg/);n.format=e?ce:ue,n.needsUpdate=!0,void 0!==r&&r(n)},t,e),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(_c.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],n=this.getPoint(0),o=0;for(r.push(0),i=1;i<=t;i++)o+=(e=this.getPoint(i/t)).distanceTo(n),r.push(o),n=e;return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,r=this.getLengths(),n=0,o=r.length;i=e||t*r[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=r[n=Math.floor(s+(c-s)/2)]-i)<0)s=n+1;else{if(!(0<a)){c=n;break}c=n-1}if(r[n=c]===i)return n/(o-1);var u=r[n];return(n+(i-u)/(r[n+1]-u))/(o-1)},getTangent:function(t){var e=t-1e-4,i=t+1e-4;e<0&&(e=0),1<i&&(i=1);var r=this.getPoint(e);return this.getPoint(i).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,r,n,o=new ri,a=[],s=[],c=[],u=new ri,h=new ei;for(i=0;i<=t;i++)r=i/t,a[i]=this.getTangentAt(r),a[i].normalize();s[0]=new ri,c[0]=new ri;var l=Number.MAX_VALUE,p=Math.abs(a[0].x),d=Math.abs(a[0].y),f=Math.abs(a[0].z);for(p<=l&&(l=p,o.set(1,0,0)),d<=l&&(l=d,o.set(0,1,0)),f<=l&&o.set(0,0,1),u.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],u),c[0].crossVectors(a[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),c[i]=c[i-1].clone(),u.crossVectors(a[i-1],a[i]),u.length()>Number.EPSILON&&(u.normalize(),n=Math.acos(Qe.clamp(a[i-1].dot(a[i]),-1,1)),s[i].applyMatrix4(h.makeRotationAxis(u,n))),c[i].crossVectors(a[i],s[i]);if(!0===e)for(n=Math.acos(Qe.clamp(s[0].dot(s[t]),-1,1)),n/=t,0<a[0].dot(u.crossVectors(s[0],s[t]))&&(n=-n),i=1;i<=t;i++)s[i].applyMatrix4(h.makeRotationAxis(a[i],n*i)),c[i].crossVectors(a[i],s[i]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),((wc.prototype=Object.create(_c.prototype)).constructor=wc).prototype.isEllipseCurve=!0,wc.prototype.getPoint=function(t,e){for(var i=e||new ti,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,o=Math.abs(n)<Number.EPSILON;n<0;)n+=r;for(;r<n;)n-=r;n<Number.EPSILON&&(n=o?0:r),!0!==this.aClockwise||o||(n===r?n=-r:n-=r);var a=this.aStartAngle+t*n,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),l=s-this.aX,p=c-this.aY;s=l*u-p*h+this.aX,c=l*h+p*u+this.aY}return i.set(s,c)},wc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},wc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},wc.prototype.fromJSON=function(t){return _c.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},((Sc.prototype=Object.create(wc.prototype)).constructor=Sc).prototype.isArcCurve=!0;var Mc=new ri,Ec=new Ac,Pc=new Ac,Tc=new Ac;function Cc(t,e,i,r){_c.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=r||.5}function Ic(t,e,i,r,n){var o=.5*(r-e),a=.5*(n-i),s=t*t;return(2*i-2*r+o+a)*(t*s)+(-3*i+3*r-2*o-a)*s+o*t+i}function Oc(t,e,i,r){return(a=1-t)*a*e+2*(1-(o=t))*o*i+(n=t)*n*r;var n,o,a}function Lc(t,e,i,r,n){return(u=1-t)*u*u*e+3*(c=1-(s=t))*c*s*i+3*(1-(a=t))*a*a*r+(o=t)*o*o*n;var o,a,s,c,u}function Rc(t,e,i,r){_c.call(this),this.type="CubicBezierCurve",this.v0=t||new ti,this.v1=e||new ti,this.v2=i||new ti,this.v3=r||new ti}function Dc(t,e,i,r){_c.call(this),this.type="CubicBezierCurve3",this.v0=t||new ri,this.v1=e||new ri,this.v2=i||new ri,this.v3=r||new ri}function kc(t,e){_c.call(this),this.type="LineCurve",this.v1=t||new ti,this.v2=e||new ti}function Bc(t,e){_c.call(this),this.type="LineCurve3",this.v1=t||new ri,this.v2=e||new ri}function Nc(t,e,i){_c.call(this),this.type="QuadraticBezierCurve",this.v0=t||new ti,this.v1=e||new ti,this.v2=i||new ti}function Fc(t,e,i){_c.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new ri,this.v1=e||new ri,this.v2=i||new ri}function zc(t){_c.call(this),this.type="SplineCurve",this.points=t||[]}((Cc.prototype=Object.create(_c.prototype)).constructor=Cc).prototype.isCatmullRomCurve3=!0,Cc.prototype.getPoint=function(t,e){var i,r,n,o,a=e||new ri,s=this.points,c=s.length,u=(c-(this.closed?0:1))*t,h=Math.floor(u),l=u-h;if(this.closed?h+=0<h?0:(Math.floor(Math.abs(h)/c)+1)*c:0===l&&h===c-1&&(h=c-2,l=1),this.closed||0<h?i=s[(h-1)%c]:(Mc.subVectors(s[0],s[1]).add(s[0]),i=Mc),r=s[h%c],n=s[(h+1)%c],this.closed||h+2<c?o=s[(h+2)%c]:(Mc.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=Mc),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),p),f=Math.pow(r.distanceToSquared(n),p),m=Math.pow(n.distanceToSquared(o),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),Ec.initNonuniformCatmullRom(i.x,r.x,n.x,o.x,d,f,m),Pc.initNonuniformCatmullRom(i.y,r.y,n.y,o.y,d,f,m),Tc.initNonuniformCatmullRom(i.z,r.z,n.z,o.z,d,f,m)}else"catmullrom"===this.curveType&&(Ec.initCatmullRom(i.x,r.x,n.x,o.x,this.tension),Pc.initCatmullRom(i.y,r.y,n.y,o.y,this.tension),Tc.initCatmullRom(i.z,r.z,n.z,o.z,this.tension));return a.set(Ec.calc(l),Pc.calc(l),Tc.calc(l)),a},Cc.prototype.copy=function(t){_c.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Cc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Cc.prototype.fromJSON=function(t){_c.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ri).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},((Rc.prototype=Object.create(_c.prototype)).constructor=Rc).prototype.isCubicBezierCurve=!0,Rc.prototype.getPoint=function(t,e){var i=e||new ti,r=this.v0,n=this.v1,o=this.v2,a=this.v3;return i.set(Lc(t,r.x,n.x,o.x,a.x),Lc(t,r.y,n.y,o.y,a.y)),i},Rc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Rc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Rc.prototype.fromJSON=function(t){return _c.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},((Dc.prototype=Object.create(_c.prototype)).constructor=Dc).prototype.isCubicBezierCurve3=!0,Dc.prototype.getPoint=function(t,e){var i=e||new ri,r=this.v0,n=this.v1,o=this.v2,a=this.v3;return i.set(Lc(t,r.x,n.x,o.x,a.x),Lc(t,r.y,n.y,o.y,a.y),Lc(t,r.z,n.z,o.z,a.z)),i},Dc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Dc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Dc.prototype.fromJSON=function(t){return _c.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},((kc.prototype=Object.create(_c.prototype)).constructor=kc).prototype.isLineCurve=!0,kc.prototype.getPoint=function(t,e){var i=e||new ti;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},kc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},kc.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},kc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},kc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},kc.prototype.fromJSON=function(t){return _c.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((Bc.prototype=Object.create(_c.prototype)).constructor=Bc).prototype.isLineCurve3=!0,Bc.prototype.getPoint=function(t,e){var i=e||new ri;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Bc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Bc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Bc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Bc.prototype.fromJSON=function(t){return _c.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((Nc.prototype=Object.create(_c.prototype)).constructor=Nc).prototype.isQuadraticBezierCurve=!0,Nc.prototype.getPoint=function(t,e){var i=e||new ti,r=this.v0,n=this.v1,o=this.v2;return i.set(Oc(t,r.x,n.x,o.x),Oc(t,r.y,n.y,o.y)),i},Nc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Nc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Nc.prototype.fromJSON=function(t){return _c.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((Fc.prototype=Object.create(_c.prototype)).constructor=Fc).prototype.isQuadraticBezierCurve3=!0,Fc.prototype.getPoint=function(t,e){var i=e||new ri,r=this.v0,n=this.v1,o=this.v2;return i.set(Oc(t,r.x,n.x,o.x),Oc(t,r.y,n.y,o.y),Oc(t,r.z,n.z,o.z)),i},Fc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Fc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Fc.prototype.fromJSON=function(t){return _c.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((zc.prototype=Object.create(_c.prototype)).constructor=zc).prototype.isSplineCurve=!0,zc.prototype.getPoint=function(t,e){var i=e||new ti,r=this.points,n=(r.length-1)*t,o=Math.floor(n),a=n-o,s=r[0===o?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(Ic(a,s.x,c.x,u.x,h.x),Ic(a,s.y,c.y,u.y,h.y)),i},zc.prototype.copy=function(t){_c.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this},zc.prototype.toJSON=function(){var t=_c.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t},zc.prototype.fromJSON=function(t){_c.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ti).fromArray(r))}return this};var Uc=Object.freeze({ArcCurve:Sc,CatmullRomCurve3:Cc,CubicBezierCurve:Rc,CubicBezierCurve3:Dc,EllipseCurve:wc,LineCurve:kc,LineCurve3:Bc,QuadraticBezierCurve:Nc,QuadraticBezierCurve3:Fc,SplineCurve:zc});function jc(){_c.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Gc(t){jc.call(this),this.type="Path",this.currentPoint=new ti,t&&this.setFromPoints(t)}function Vc(t){Gc.call(this,t),this.uuid=Qe.generateUUID(),this.type="Shape",this.holes=[]}function Hc(t,e){ur.call(this),this.type="Light",this.color=new ki(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function $c(t,e,i){Hc.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ur.DefaultUp),this.updateMatrix(),this.groundColor=new ki(e)}function Wc(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new ti(512,512),this.map=null,this.matrix=new ei}function Xc(){Wc.call(this,new ba(50,1,.5,500))}function qc(t,e,i,r,n,o){Hc.call(this,t,e),this.type="SpotLight",this.position.copy(ur.DefaultUp),this.updateMatrix(),this.target=new ur,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==o?o:1,this.shadow=new Xc}function Yc(t,e,i,r){Hc.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new Wc(new ba(90,1,.5,500))}function Zc(){Wc.call(this,new lr(-5,5,5,-5,.5,500))}function Kc(t,e){Hc.call(this,t,e),this.type="DirectionalLight",this.position.copy(ur.DefaultUp),this.updateMatrix(),this.target=new ur,this.shadow=new Zc}function Jc(t,e){Hc.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Qc(t,e,i,r){Hc.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}jc.prototype=Object.assign(Object.create(_c.prototype),{constructor:jc,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new kc(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=e){var n=i[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-n/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],r=0,n=this.curves;r<n.length;r++)for(var o=n[r],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),c=0;c<s.length;c++){var u=s[c];e&&e.equals(u)||(i.push(u),e=u)}return this.autoClose&&1<i.length&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){_c.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=_c.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){_c.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new Uc[r.type]).fromJSON(r))}return this}}),Gc.prototype=Object.assign(Object.create(jc.prototype),{constructor:Gc,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new kc(this.currentPoint.clone(),new ti(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var n=new Nc(this.currentPoint.clone(),new ti(t,e),new ti(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,n,o){var a=new Rc(this.currentPoint.clone(),new ti(t,e),new ti(i,r),new ti(n,o));this.curves.push(a),this.currentPoint.set(n,o)},splineThru:function(t){var e=new zc([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,r,n,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,i,r,n,o)},absarc:function(t,e,i,r,n,o){this.absellipse(t,e,i,i,r,n,o)},ellipse:function(t,e,i,r,n,o,a,s){var c=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+c,e+u,i,r,n,o,a,s)},absellipse:function(t,e,i,r,n,o,a,s){var c=new wc(t,e,i,r,n,o,a,s);if(0<this.curves.length){var u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);var h=c.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return jc.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=jc.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return jc.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Vc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Vc,getPointsHoles:function(t){for(var e=[],i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Gc.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=Gc.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){Gc.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new Gc).fromJSON(r))}return this}}),Hc.prototype=Object.assign(Object.create(ur.prototype),{constructor:Hc,isLight:!0,copy:function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ur.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),$c.prototype=Object.assign(Object.create(Hc.prototype),{constructor:$c,isHemisphereLight:!0,copy:function(t){return Hc.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Wc.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Xc.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Xc,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*Qe.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,n=t.distance||e.far;i===e.fov&&r===e.aspect&&n===e.far||(e.fov=i,e.aspect=r,e.far=n,e.updateProjectionMatrix())}}),qc.prototype=Object.assign(Object.create(Hc.prototype),{constructor:qc,isSpotLight:!0,copy:function(t){return Hc.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Yc.prototype=Object.assign(Object.create(Hc.prototype),{constructor:Yc,isPointLight:!0,copy:function(t){return Hc.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Zc.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Zc}),Kc.prototype=Object.assign(Object.create(Hc.prototype),{constructor:Kc,isDirectionalLight:!0,copy:function(t){return Hc.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Jc.prototype=Object.assign(Object.create(Hc.prototype),{constructor:Jc,isAmbientLight:!0}),Qc.prototype=Object.assign(Object.create(Hc.prototype),{constructor:Qc,isRectAreaLight:!0,copy:function(t){return Hc.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=Hc.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var tu={arraySlice:function(t,e,i){return tu.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(i){for(var t=i.length,e=new Array(t),r=0;r!==t;++r)e[r]=r;return e.sort(function(t,e){return i[t]-i[e]}),e},sortedArray:function(t,e,i){for(var r=t.length,n=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=i[o]*e,c=0;c!==e;++c)n[a++]=t[s+c];return n},flattenJSON:function(t,e,i,r){for(var n=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[n++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))for(;void 0!==(a=o[r])&&(e.push(o.time),i.push.apply(i,a)),void 0!==(o=t[n++]););else if(void 0!==a.toArray)for(;void 0!==(a=o[r])&&(e.push(o.time),a.toArray(i,i.length)),void 0!==(o=t[n++]););else for(;void 0!==(a=o[r])&&(e.push(o.time),i.push(a)),void 0!==(o=t[n++]););}}};function eu(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function iu(t,e,i,r){eu.call(this,t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ru(t,e,i,r){eu.call(this,t,e,i,r)}function nu(t,e,i,r){eu.call(this,t,e,i,r)}function ou(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=tu.convertArray(e,this.TimeBufferType),this.values=tu.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function au(t,e,i){ou.call(this,t,e,i)}function su(t,e,i,r){ou.call(this,t,e,i,r)}function cu(t,e,i,r){ou.call(this,t,e,i,r)}function uu(t,e,i,r){eu.call(this,t,e,i,r)}function hu(t,e,i,r){ou.call(this,t,e,i,r)}function lu(t,e,i,r){ou.call(this,t,e,i,r)}function pu(t,e,i,r){ou.call(this,t,e,i,r)}function du(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=Qe.generateUUID(),this.duration<0&&this.resetDuration()}function fu(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cu;case"vector":case"vector2":case"vector3":case"vector4":return pu;case"color":return su;case"quaternion":return hu;case"bool":case"boolean":return au;case"string":return lu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],r=[];tu.flattenJSON(t.keys,i,r,"value"),t.times=i,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function mu(t){this.manager=void 0!==t?t:mc,this.textures={}}function gu(t){this.manager=void 0!==t?t:mc}Object.assign(eu.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,r=e[i],n=e[i-1];t:{e:{var o;i:{r:if(!(t<r)){for(var a=i+2;;){if(void 0===r){if(t<n)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,n)}if(i===a)break;if(n=r,t<(r=e[++i]))break e}o=e.length;break i}if(n<=t)break t;var s=e[1];t<s&&(i=2,n=s);for(a=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===a)break;if(r=n,(n=e[--i-1])<=t)break e}o=i,i=0}for(;i<o;){var c=i+o>>>1;t<e[c]?o=c:i=c+1}if(r=e[i],void 0===(n=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,n,t)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=t*r,o=0;o!==r;++o)e[o]=i[n+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(eu.prototype,{beforeStart_:eu.prototype.copySampleValue_,afterEnd_:eu.prototype.copySampleValue_}),iu.prototype=Object.assign(Object.create(eu.prototype),{constructor:iu,DefaultSettings_:{endingStart:ze,endingEnd:ze},intervalChanged_:function(t,e,i){var r=this.parameterPositions,n=t-2,o=t+1,a=r[n],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Ue:n=t,a=2*e-i;break;case 2402:a=e+r[n=r.length-2]-r[n+1];break;default:n=t,a=i}if(void 0===s)switch(this.getSettings_().endingEnd){case Ue:o=t,s=2*i-e;break;case 2402:s=i+r[o=1]-r[0];break;default:o=t-1,s=e}var c=.5*(i-e),u=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-i),this._offsetPrev=n*u,this._offsetNext=o*u},interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,u=this._offsetPrev,h=this._offsetNext,l=this._weightPrev,p=this._weightNext,d=(i-e)/(r-e),f=d*d,m=f*d,g=-l*m+2*l*f-l*d,v=(1+l)*m+(-1.5-2*l)*f+(-.5+l)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,b=p*m-p*f,x=0;x!==a;++x)n[x]=g*o[u+x]+v*o[c+x]+y*o[s+x]+b*o[h+x];return n}}),ru.prototype=Object.assign(Object.create(eu.prototype),{constructor:ru,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,u=(i-e)/(r-e),h=1-u,l=0;l!==a;++l)n[l]=o[c+l]*h+o[s+l]*u;return n}}),nu.prototype=Object.assign(Object.create(eu.prototype),{constructor:nu,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(ou,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:tu.convertArray(t.times,Array),values:tu.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),Object.assign(ou.prototype,{constructor:ou,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new nu(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new ru(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new iu(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,r=i.length,n=0,o=r-1;n!==r&&i[n]<t;)++n;for(;-1!==o&&i[o]>e;)--o;if(++o,0!==n||o!==r){o<=n&&(n=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=tu.arraySlice(i,n,o),this.values=tu.arraySlice(this.values,n*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var i=this.times,r=this.values,n=i.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==n;a++){var s=i[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&s<o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&tu.isTypedArray(r)){a=0;for(var c=r.length;a!==c;++a){var u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),r=2302===this.getInterpolation(),n=1,o=t.length-1,a=1;a<o;++a){var s=!1,c=t[a];if(c!==t[a+1]&&(1!==a||c!==c[0]))if(r)s=!0;else for(var u=a*i,h=u-i,l=u+i,p=0;p!==i;++p){var d=e[u+p];if(d!==e[h+p]||d!==e[l+p]){s=!0;break}}if(s){if(a!==n){t[n]=t[a];var f=a*i,m=n*i;for(p=0;p!==i;++p)e[m+p]=e[f+p]}++n}}if(0<o){t[n]=t[o];for(f=o*i,m=n*i,p=0;p!==i;++p)e[m+p]=e[f+p];++n}return n!==t.length&&(this.times=tu.arraySlice(t,0,n),this.values=tu.arraySlice(e,0,n*i)),this}}),au.prototype=Object.assign(Object.create(ou.prototype),{constructor:au,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),su.prototype=Object.assign(Object.create(ou.prototype),{constructor:su,ValueTypeName:"color"}),cu.prototype=Object.assign(Object.create(ou.prototype),{constructor:cu,ValueTypeName:"number"}),uu.prototype=Object.assign(Object.create(eu.prototype),{constructor:uu,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=(i-e)/(r-e),u=s+a;s!==u;s+=4)ii.slerpFlat(n,0,o,s-a,o,s,c);return n}}),hu.prototype=Object.assign(Object.create(ou.prototype),{constructor:hu,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new uu(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),lu.prototype=Object.assign(Object.create(ou.prototype),{constructor:lu,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),pu.prototype=Object.assign(Object.create(ou.prototype),{constructor:pu,ValueTypeName:"vector"}),Object.assign(du,{parse:function(t){for(var e=[],i=t.tracks,r=1/(t.fps||1),n=0,o=i.length;n!==o;++n)e.push(fu(i[n]).scale(r));return new du(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},n=0,o=i.length;n!==o;++n)e.push(ou.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(t,e,i,r){for(var n=e.length,o=[],a=0;a<n;a++){var s=[],c=[];s.push((a+n-1)%n,a,(a+1)%n),c.push(0,1,0);var u=tu.getKeyframeOrder(s);s=tu.sortedArray(s,1,u),c=tu.sortedArray(c,1,u),r||0!==s[0]||(s.push(n),c.push(c[0])),o.push(new cu(".morphTargetInfluences["+e[a].name+"]",s,c).scale(1/i))}return new du(t,-1,o)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var r=t;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],c=s.name.match(n);if(c&&1<c.length){var u=r[l=c[1]];u||(r[l]=u=[]),u.push(s)}}var h=[];for(var l in r)h.push(du.CreateFromMorphTargetSequence(l,r[l],e,i));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var i=function(t,e,i,r,n){if(0!==i.length){var o=[],a=[];tu.flattenJSON(i,o,a,r),0!==o.length&&n.push(new t(e,o,a))}},r=[],n=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var u=s[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var h={},l=0;l<u.length;l++)if(u[l].morphTargets)for(var p=0;p<u[l].morphTargets.length;p++)h[u[l].morphTargets[p]]=-1;for(var d in h){var f=[],m=[];for(p=0;p!==u[l].morphTargets.length;++p){var g=u[l];f.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new cu(".morphTargetInfluence["+d+"]",f,m))}o=h.length*(a||1)}else{var v=".bones["+e[c].name+"]";i(pu,v+".position",u,"pos",r),i(hu,v+".quaternion",u,"rot",r),i(pu,v+".scale",u,"scl",r)}}return 0===r.length?null:new du(n,o,r)}}),Object.assign(du.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(mu.prototype,{load:function(t,e,i,r){var n=this;new vc(n.manager).load(t,function(t){e(n.parse(JSON.parse(t)))},i,r)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function i(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=new pc[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var n=t.normalScale;!1===Array.isArray(n)&&(n=[n,n]),r.normalScale=(new ti).fromArray(n)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),r}}),Object.assign(gu.prototype,{load:function(t,e,i,r){var n=this;new vc(n.manager).load(t,function(t){e(n.parse(JSON.parse(t)))},i,r)},parse:function(t){var e=new $r,i=t.data.index;if(void 0!==i){var r=new _u[i.type](i.array);e.setIndex(new wr(r,1))}var n=t.data.attributes;for(var o in n){var a=n[o];r=new _u[a.type](a.array);e.addAttribute(o,new wr(r,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,u=s.length;c!==u;++c){var h=s[c];e.addGroup(h.start,h.count,h.materialIndex)}var l=t.data.boundingSphere;if(void 0!==l){var p=new ri;void 0!==l.center&&p.fromArray(l.center),e.boundingSphere=new Ti(p,l.radius)}return e}});var vu,yu,bu,xu,_u={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function wu(){}wu.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,r=e.length;i<r;i+=2){var n=e[i],o=e[i+1];if(n.test(t))return o}return null}},Object.assign(wu.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var r=[],n=0;n<t.length;++n)r[n]=this.createMaterial(t[n],e,i);return r},createMaterial:(vu={NoBlending:q,NormalBlending:Y,AdditiveBlending:Z,SubtractiveBlending:K,MultiplyBlending:J,CustomBlending:Q},yu=new ki,bu=new xc,xu=new mu,function(t,u,h){var l={};function e(t,e,i,r,n){var o,a=u+t,s=wu.Handlers.get(a);null!==s?o=s.load(a):(bu.setCrossOrigin(h),o=bu.load(a)),void 0!==e&&(o.repeat.fromArray(e),1!==e[0]&&(o.wrapS=Ut),1!==e[1]&&(o.wrapT=Ut)),void 0!==i&&o.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(o.wrapS=Ut),"mirror"===r[0]&&(o.wrapS=Gt),"repeat"===r[1]&&(o.wrapT=Ut),"mirror"===r[1]&&(o.wrapT=Gt)),void 0!==n&&(o.anisotropy=n);var c=Qe.generateUUID();return l[c]=o,c}var i={uuid:Qe.generateUUID(),type:"MeshLambertMaterial"};for(var r in t){var n=t[r];switch(r){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":i.name=n;break;case"blending":i.blending=vu[n];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",r,"is no longer supported.");break;case"colorDiffuse":i.color=yu.fromArray(n).getHex();break;case"colorSpecular":i.specular=yu.fromArray(n).getHex();break;case"colorEmissive":i.emissive=yu.fromArray(n).getHex();break;case"specularCoef":i.shininess=n;break;case"shading":"basic"===n.toLowerCase()&&(i.type="MeshBasicMaterial"),"phong"===n.toLowerCase()&&(i.type="MeshPhongMaterial"),"standard"===n.toLowerCase()&&(i.type="MeshStandardMaterial");break;case"mapDiffuse":i.map=e(n,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":i.emissiveMap=e(n,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":i.lightMap=e(n,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":i.aoMap=e(n,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":i.bumpMap=e(n,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":i.bumpScale=n;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":i.normalMap=e(n,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":i.normalScale=n;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":i.specularMap=e(n,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":i.metalnessMap=e(n,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":i.roughnessMap=e(n,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":i.alphaMap=e(n,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":i.side=wt;break;case"doubleSided":i.side=et;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),i.opacity=n;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":i[r]=n;break;case"vertexColors":!0===n&&(i.vertexColors=2),"face"===n&&(i.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",r,n)}}return"MeshBasicMaterial"===i.type&&delete i.emissive,"MeshPhongMaterial"!==i.type&&delete i.specular,i.opacity<1&&(i.transparent=!0),xu.setTextures(l),xu.parse(i)})});var Su=function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)};function Au(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:mc,this.withCredentials=!1}Object.assign(Au.prototype,{crossOrigin:"anonymous",load:function(o,a,t,e){var s=this,c=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Su(o),i=new vc(this.manager);i.setWithCredentials(this.withCredentials),i.load(o,function(t){var e=JSON.parse(t),i=e.metadata;if(void 0!==i){var r=i.type;if(void 0!==r&&"object"===r.toLowerCase())return void console.error("THREE.JSONLoader: "+o+" should be loaded with THREE.ObjectLoader instead.")}var n=s.parse(e,c);a(n.geometry,n.materials)},t,e)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setTexturePath:function(t){return this.texturePath=t,this},parse:function(t,e){void 0!==t.data&&(t=t.data),void 0!==t.scale?t.scale=1/t.scale:t.scale=1;var i=new _r;return function(t,e){function i(t,e){return t&1<<e}var r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b,x,_,w,S,A,M,E,P,T=t.faces,C=t.vertices,I=t.normals,O=t.colors,L=t.scale,R=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&R++;for(r=0;r<R;r++)e.faceVertexUvs[r]=[]}for(a=0,s=C.length;a<s;)(x=new ri).x=C[a++]*L,x.y=C[a++]*L,x.z=C[a++]*L,e.vertices.push(x);for(a=0,s=T.length;a<s;)if(d=i(p=T[a++],0),f=i(p,1),m=i(p,3),g=i(p,4),v=i(p,5),y=i(p,6),b=i(p,7),d){if((w=new pr).a=T[a],w.b=T[a+1],w.c=T[a+3],(S=new pr).a=T[a+1],S.b=T[a+2],S.c=T[a+3],a+=4,f&&(l=T[a++],w.materialIndex=l,S.materialIndex=l),o=e.faces.length,m)for(r=0;r<R;r++)for(E=t.uvs[r],e.faceVertexUvs[r][o]=[],e.faceVertexUvs[r][o+1]=[],n=0;n<4;n++)P=new ti(E[2*(h=T[a++])],E[2*h+1]),2!==n&&e.faceVertexUvs[r][o].push(P),0!==n&&e.faceVertexUvs[r][o+1].push(P);if(g&&(u=3*T[a++],w.normal.set(I[u++],I[u++],I[u]),S.normal.copy(w.normal)),v)for(r=0;r<4;r++)u=3*T[a++],M=new ri(I[u++],I[u++],I[u]),2!==r&&w.vertexNormals.push(M),0!==r&&S.vertexNormals.push(M);if(y&&(A=O[c=T[a++]],w.color.setHex(A),S.color.setHex(A)),b)for(r=0;r<4;r++)A=O[c=T[a++]],2!==r&&w.vertexColors.push(new ki(A)),0!==r&&S.vertexColors.push(new ki(A));e.faces.push(w),e.faces.push(S)}else{if((_=new pr).a=T[a++],_.b=T[a++],_.c=T[a++],f&&(l=T[a++],_.materialIndex=l),o=e.faces.length,m)for(r=0;r<R;r++)for(E=t.uvs[r],e.faceVertexUvs[r][o]=[],n=0;n<3;n++)P=new ti(E[2*(h=T[a++])],E[2*h+1]),e.faceVertexUvs[r][o].push(P);if(g&&(u=3*T[a++],_.normal.set(I[u++],I[u++],I[u])),v)for(r=0;r<3;r++)u=3*T[a++],M=new ri(I[u++],I[u++],I[u]),_.vertexNormals.push(M);if(y&&(c=T[a++],_.color.setHex(O[c])),b)for(r=0;r<3;r++)c=T[a++],_.vertexColors.push(new ki(O[c]));e.faces.push(_)}}(t,i),function(t,e){var i=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,n=t.skinWeights.length;r<n;r+=i){var o=t.skinWeights[r],a=1<i?t.skinWeights[r+1]:0,s=2<i?t.skinWeights[r+2]:0,c=3<i?t.skinWeights[r+3]:0;e.skinWeights.push(new Si(o,a,s,c))}if(t.skinIndices)for(r=0,n=t.skinIndices.length;r<n;r+=i){var u=t.skinIndices[r],h=1<i?t.skinIndices[r+1]:0,l=2<i?t.skinIndices[r+2]:0,p=3<i?t.skinIndices[r+3]:0;e.skinIndices.push(new Si(u,h,l,p))}e.bones=t.bones,e.bones&&0<e.bones.length&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}(t,i),function(t,e){var i=t.scale;if(void 0!==t.morphTargets)for(var r=0,n=t.morphTargets.length;r<n;r++){e.morphTargets[r]={},e.morphTargets[r].name=t.morphTargets[r].name,e.morphTargets[r].vertices=[];for(var o=e.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,c=a.length;s<c;s+=3){var u=new ri;u.x=a[s]*i,u.y=a[s+1]*i,u.z=a[s+2]*i,o.push(u)}}if(void 0!==t.morphColors&&0<t.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var h=e.faces,l=t.morphColors[0].colors;for(r=0,n=h.length;r<n;r++)h[r].color.fromArray(l,3*r)}}(t,i),function(t,e){var i=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var n=0;n<r.length;n++){var o=du.parseAnimation(r[n],e.bones);o&&i.push(o)}if(e.morphTargets){var a=du.CreateClipsFromMorphTargetSequences(e.morphTargets,10);i=i.concat(a)}0<i.length&&(e.animations=i)}(t,i),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:i}:{geometry:i,materials:wu.prototype.initMaterials(t.materials,e,this.crossOrigin)}}}),Object.assign(function(t){this.manager=void 0!==t?t:mc,this.texturePath=""}.prototype,{crossOrigin:"anonymous",load:function(r,n,t,o){""===this.texturePath&&(this.texturePath=r.substring(0,r.lastIndexOf("/")+1));var a=this;new vc(a.manager).load(r,function(t){var e=null;try{e=JSON.parse(t)}catch(t){return void 0!==o&&o(t),void console.error("THREE:ObjectLoader: Can't parse "+r+".",t.message)}var i=e.metadata;void 0!==i&&void 0!==i.type&&"geometry"!==i.type.toLowerCase()?a.parse(e,n):console.error("THREE.ObjectLoader: Can't load "+r+". Use THREE.JSONLoader instead.")},t,o)},setTexturePath:function(t){return this.texturePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var i=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,i),n=this.parseImages(t.images,function(){void 0!==e&&e(s)}),o=this.parseTextures(t.textures,n),a=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,r,a);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,r=t.length;i<r;i++){var n=(new Vc).fromJSON(t[i]);e[n.uuid]=n}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var r=new Au,n=new gu,o=0,a=t.length;o<a;o++){var s,c=t[o];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new ic[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new ic[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new ic[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new ic[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new ic[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new ic[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new ic[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new ic[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new ic[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new ic[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new ic[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new ic[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],h=0,l=c.shapes.length;h<l;h++){var p=e[c.shapes[h]];u.push(p)}s=new ic[c.type](u,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],h=0,l=c.shapes.length;h<l;h++){p=e[c.shapes[h]];u.push(p)}var d=c.options.extrudePath;void 0!==d&&(c.options.extrudePath=(new Uc[d.type]).fromJSON(d)),s=new ic[c.type](u,c.options);break;case"BufferGeometry":s=n.parse(c);break;case"Geometry":s=r.parse(c,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),!0===s.isBufferGeometry&&void 0!==c.userData&&(s.userData=c.userData),i[c.uuid]=s}return i},parseMaterials:function(t,e){var i={};if(void 0!==t){var r=new mu;r.setTextures(e);for(var n=0,o=t.length;n<o;n++){var a=t[n];if("MultiMaterial"===a.type){for(var s=[],c=0;c<a.materials.length;c++)s.push(r.parse(a.materials[c]));i[a.uuid]=s}else i[a.uuid]=r.parse(a)}}return i},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],n=du.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),e.push(n)}return e},parseImages:function(t,e){var i=this,r={};function n(t){return i.manager.itemStart(t),o.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemEnd(t),i.manager.itemError(t)})}if(void 0!==t&&0<t.length){var o=new yc(new fc(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var c=t[a],u=c.url;if(Array.isArray(u)){r[c.uuid]=[];for(var h=0,l=u.length;h<l;h++){var p=u[h],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.texturePath+p;r[c.uuid].push(n(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:i.texturePath+c.url;r[c.uuid]=n(d)}}}return r},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var n=0,o=t.length;n<o;n++){var a,s=t[n];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(e[s.image])?new zn(e[s.image]):new wi(e[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=i(s.mapping,Eu)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=i(s.wrap[0],Pu),a.wrapT=i(s.wrap[1],Pu)),void 0!==s.format&&(a.format=s.format),void 0!==s.minFilter&&(a.minFilter=i(s.minFilter,Tu)),void 0!==s.magFilter&&(a.magFilter=i(s.magFilter,Tu)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),r[s.uuid]=a}return r},parseObject:function(t,e,o){var i;function r(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function n(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];void 0===o[n]&&console.warn("THREE.ObjectLoader: Undefined material",n),e.push(o[n])}return e}return void 0===o[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),o[t]}}switch(t.type){case"Scene":i=new Ea,void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new ki(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new Ma(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new Aa(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new ba(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new lr(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"AmbientLight":i=new Jc(t.color,t.intensity);break;case"DirectionalLight":i=new Kc(t.color,t.intensity);break;case"PointLight":i=new Yc(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new Qc(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new qc(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new $c(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(t.geometry),s=n(t.material);i=a.bones&&0<a.bones.length?new Da(a,s):new Pn(a,s);break;case"LOD":i=new Oa;break;case"Line":i=new Ba(r(t.geometry),n(t.material),t.mode);break;case"LineLoop":i=new Fa(r(t.geometry),n(t.material));break;case"LineSegments":i=new Na(r(t.geometry),n(t.material));break;case"PointCloud":case"Points":i=new Ua(r(t.geometry),n(t.material));break;case"Sprite":i=new Ia(n(t.material));break;case"Group":i=new ya;break;default:i=new ur}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(i.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.frustumCulled&&(i.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(i.renderOrder=t.renderOrder),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.layers&&(i.layers.mask=t.layers),void 0!==t.children)for(var c=t.children,u=0;u<c.length;u++)i.add(this.parseObject(c[u],e,o));if("LOD"===t.type)for(var h=t.levels,l=0;l<h.length;l++){var p=h[l],d=i.getObjectByProperty("uuid",p.object);void 0!==d&&i.addLevel(d,p.distance)}return i}});var Mu,Eu={UVMapping:300,CubeReflectionMapping:Rt,CubeRefractionMapping:Dt,EquirectangularReflectionMapping:kt,EquirectangularRefractionMapping:Bt,SphericalReflectionMapping:Nt,CubeUVReflectionMapping:Ft,CubeUVRefractionMapping:zt},Pu={RepeatWrapping:Ut,ClampToEdgeWrapping:jt,MirroredRepeatWrapping:Gt},Tu={NearestFilter:Vt,NearestMipMapNearestFilter:Ht,NearestMipMapLinearFilter:$t,LinearFilter:Wt,LinearMipMapNearestFilter:Xt,LinearMipMapLinearFilter:qt};function Cu(){this.type="ShapePath",this.color=new ki,this.subPaths=[],this.currentPath=null}function Iu(t){this.type="Font",this.data=t}function Ou(t,e,i,r,n){var o=n.glyphs[t]||n.glyphs["?"];if(o){var a,s,c,u,h,l,p,d,f=new Cu;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":a=m[g++]*e+i,s=m[g++]*e+r,f.moveTo(a,s);break;case"l":a=m[g++]*e+i,s=m[g++]*e+r,f.lineTo(a,s);break;case"q":c=m[g++]*e+i,u=m[g++]*e+r,h=m[g++]*e+i,l=m[g++]*e+r,f.quadraticCurveTo(h,l,c,u);break;case"b":c=m[g++]*e+i,u=m[g++]*e+r,h=m[g++]*e+i,l=m[g++]*e+r,p=m[g++]*e+i,d=m[g++]*e+r,f.bezierCurveTo(h,l,p,d,c,u)}}return{offsetX:o.ha*e,path:f}}}Object.assign(Cu.prototype,{moveTo:function(t,e){this.currentPath=new Gc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,r){this.currentPath.quadraticCurveTo(t,e,i,r)},bezierCurveTo:function(t,e,i,r,n,o){this.currentPath.bezierCurveTo(t,e,i,r,n,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i],o=new Vc;o.curves=n.curves,e.push(o)}return e}function r(t,e){for(var i=e.length,r=!1,n=i-1,o=0;o<i;n=o++){var a=e[n],s=e[o],c=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=e[o],c=-c,s=e[n],u=-u),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var h=u*(t.x-a.x)-c*(t.y-a.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var n=Os.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return i(o);var a,s,c,u=[];if(1===o.length)return s=o[0],(c=new Vc).curves=s.curves,u.push(c),u;var h=!n(o[0].getPoints());h=t?!h:h;var l,p,d=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=n(l=(s=o[v]).getPoints()),(a=t?!a:a)?(!h&&f[g]&&g++,f[g]={s:new Vc,p:l},f[g].s.curves=s.curves,h&&g++,m[g]=[]):m[g].push({h:s,p:l[0]});if(!f[0])return i(o);if(1<f.length){for(var b=!1,x=[],_=0,w=f.length;_<w;_++)d[_]=[];for(_=0,w=f.length;_<w;_++)for(var S=m[_],A=0;A<S.length;A++){for(var M=S[A],E=!0,P=0;P<f.length;P++)r(M.p,f[P].p)&&(_!==P&&x.push({froms:_,tos:P,hole:A}),E?(E=!1,d[P].push(M)):b=!0);E&&d[_].push(M)}0<x.length&&(b||(m=d))}v=0;for(var T=f.length;v<T;v++){c=f[v].s,u.push(c);for(var C=0,I=(p=m[v]).length;C<I;C++)c.holes.push(p[C].h)}return u}}),Object.assign(Iu.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var i=[],r=function(t,e,i){for(var r=Array.from?Array.from(t):String(t).split(""),n=e/i.resolution,o=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,a=[],s=0,c=0,u=0;u<r.length;u++){var h=r[u];if("\n"===h)s=0,c-=o;else{var l=Ou(h,n,s,c,i);s+=l.offsetX,a.push(l.path)}}return a}(t,e,this.data),n=0,o=r.length;n<o;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),Object.assign(function(t){this.manager=void 0!==t?t:mc}.prototype,{load:function(t,r,e,i){var n=this,o=new vc(this.manager);o.setPath(this.path),o.load(t,function(e){var i;try{i=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(e.substring(65,e.length-2))}var t=n.parse(i);r&&r(t)},e,i)},parse:function(t){return new Iu(t)},setPath:function(t){return this.path=t,this}});var Lu,Ru,Du,ku,Bu,Nu,Fu,zu,Uu,ju,Gu,Vu,Hu,$u,Wu,Xu,qu,Yu,Zu=function(){return void 0===Mu&&(Mu=new(window.AudioContext||window.webkitAudioContext)),Mu};function Ku(t){this.manager=void 0!==t?t:mc}function Ju(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ba,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ba,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Qu(t,e,i){ur.call(this),this.type="CubeCamera";var n=new ba(90,1,t,e);n.up.set(0,-1,0),n.lookAt(new ri(1,0,0)),this.add(n);var o=new ba(90,1,t,e);o.up.set(0,-1,0),o.lookAt(new ri(-1,0,0)),this.add(o);var a=new ba(90,1,t,e);a.up.set(0,0,1),a.lookAt(new ri(0,1,0)),this.add(a);var s=new ba(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new ri(0,-1,0)),this.add(s);var c=new ba(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new ri(0,0,1)),this.add(c);var u=new ba(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new ri(0,0,-1)),this.add(u);var r={format:ce,magFilter:Wt,minFilter:Wt};this.renderTarget=new Mi(i,i,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,r=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,n,i),i.activeCubeFace=1,t.render(e,o,i),i.activeCubeFace=2,t.render(e,a,i),i.activeCubeFace=3,t.render(e,s,i),i.activeCubeFace=4,t.render(e,c,i),i.texture.generateMipmaps=r,i.activeCubeFace=5,t.render(e,u,i),t.setRenderTarget(null)},this.clear=function(t,e,i,r){for(var n=this.renderTarget,o=0;o<6;o++)n.activeCubeFace=o,t.setRenderTarget(n),t.clear(e,i,r);t.setRenderTarget(null)}}function th(){ur.call(this),this.type="AudioListener",this.context=Zu(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function eh(t){ur.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function ih(t){eh.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function rh(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function nh(t,e,i){this.binding=t,this.valueSize=i;var r,n=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(Ku.prototype,{load:function(t,i,e,r){var n=new vc(this.manager);n.setResponseType("arraybuffer"),n.load(t,function(t){var e=t.slice(0);Zu().decodeAudioData(e,function(t){i(t)})},e,r)}}),Object.assign(Ju.prototype,{update:(Uu=new ei,ju=new ei,function(t){if(Lu!==this||Ru!==t.focus||Du!==t.fov||ku!==t.aspect*this.aspect||Bu!==t.near||Nu!==t.far||Fu!==t.zoom||zu!==this.eyeSep){Lu=this,Ru=t.focus,Du=t.fov,ku=t.aspect*this.aspect,Bu=t.near,Nu=t.far,Fu=t.zoom;var e,i,r=t.projectionMatrix.clone(),n=(zu=this.eyeSep/2)*Bu/Ru,o=Bu*Math.tan(Qe.DEG2RAD*Du*.5)/Fu;ju.elements[12]=-zu,Uu.elements[12]=zu,e=-o*ku+n,i=o*ku+n,r.elements[0]=2*Bu/(i-e),r.elements[8]=(i+e)/(i-e),this.cameraL.projectionMatrix.copy(r),e=-o*ku-n,i=o*ku-n,r.elements[0]=2*Bu/(i-e),r.elements[8]=(i+e)/(i-e),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(ju),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Uu)})}),(Qu.prototype=Object.create(ur.prototype)).constructor=Qu,th.prototype=Object.assign(Object.create(ur.prototype),{constructor:th,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:(Gu=new ri,Vu=new ii,Hu=new ri,$u=new ri,function(t){ur.prototype.updateMatrixWorld.call(this,t);var e=this.context.listener,i=this.up;this.matrixWorld.decompose(Gu,Vu,Hu),$u.set(0,0,-1).applyQuaternion(Vu),e.positionX?(e.positionX.setValueAtTime(Gu.x,this.context.currentTime),e.positionY.setValueAtTime(Gu.y,this.context.currentTime),e.positionZ.setValueAtTime(Gu.z,this.context.currentTime),e.forwardX.setValueAtTime($u.x,this.context.currentTime),e.forwardY.setValueAtTime($u.y,this.context.currentTime),e.forwardZ.setValueAtTime($u.z,this.context.currentTime),e.upX.setValueAtTime(i.x,this.context.currentTime),e.upY.setValueAtTime(i.y,this.context.currentTime),e.upZ.setValueAtTime(i.z,this.context.currentTime)):(e.setPosition(Gu.x,Gu.y,Gu.z),e.setOrientation($u.x,$u.y,$u.z,i.x,i.y,i.z))})}),eh.prototype=Object.assign(Object.create(ur.prototype),{constructor:eh,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),ih.prototype=Object.assign(Object.create(eh.prototype),{constructor:ih,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this},updateMatrixWorld:(Wu=new ri,Xu=new ii,qu=new ri,Yu=new ri,function(t){ur.prototype.updateMatrixWorld.call(this,t);var e=this.panner;this.matrixWorld.decompose(Wu,Xu,qu),Yu.set(0,0,1).applyQuaternion(Xu),e.setPosition(Wu.x,Wu.y,Wu.z),e.setOrientation(Yu.x,Yu.y,Yu.z)})}),Object.assign(rh.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),Object.assign(nh.prototype,{accumulate:function(t,e){var i=this.buffer,r=this.valueSize,n=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)i[n+a]=i[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,i=this.buffer,r=t*e+e,n=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,n<1){var a=3*e;this._mixBufferRegion(i,r,a,1-n,e)}for(var s=e,c=e+e;s!==c;++s)if(i[s]!==i[s+e]){o.setValue(i,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,r=3*i;t.getValue(e,r);for(var n=i,o=r;n!==o;++n)e[n]=e[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,r,n){if(.5<=r)for(var o=0;o!==n;++o)t[e+o]=t[i+o]},_slerp:function(t,e,i,r){ii.slerpFlat(t,e,t,e,t,i,r)},_lerp:function(t,e,i,r,n){for(var o=1-r,a=0;a!==n;++a){var s=e+a;t[s]=t[s]*o+t[i+a]*r}}});var oh,ah,sh,ch,uh,hh,lh,ph,dh,fh,mh,gh,vh,yh,bh,xh,_h,wh,Sh,Ah,Mh,Eh,Ph,Th,Ch,Ih,Oh,Lh,Rh,Dh,kh,Bh,Nh,Fh,zh,Uh,jh="\\[\\]\\.:\\/";function Gh(t,e,i){var r=i||Vh.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Vh(t,e,i){this.path=e,this.parsedPath=i||Vh.parseTrackName(e),this.node=Vh.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Hh(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var r=e.tracks,n=r.length,o=new Array(n),a={endingStart:ze,endingEnd:ze},s=0;s!==n;++s){var c=r[s].createInterpolant(null);(o[s]=c).settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function $h(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Wh(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Xh(){$r.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function qh(t,e,i){Pa.call(this,t,e),this.meshPerAttribute=i||1}function Yh(t,e,i){wr.call(this,t,e),this.meshPerAttribute=i||1}function Zh(t,e){return t.distance-e.distance}function Kh(t,e,i,r){if(!1!==t.visible&&(t.raycast(e,i),!0===r))for(var n=t.children,o=0,a=n.length;o<a;o++)Kh(n[o],e,i,!0)}function Jh(t,e){this.min=void 0!==t?t:new ti(1/0,1/0),this.max=void 0!==e?e:new ti(-1/0,-1/0)}function Qh(t,e){this.start=void 0!==t?t:new ri,this.end=void 0!==e?e:new ri}function tl(t){ur.call(this),this.material=t,this.render=function(){}}function el(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new $r,u=new Ir(2*a*3,3);c.addAttribute("position",u),Na.call(this,c,new ka({color:n,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function il(t,e){ur.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new $r,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,o=1;n<32;n++,o++){var a=n/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new Ir(r,3));var c=new ka({fog:!1});this.cone=new Na(i,c),this.add(this.cone),this.update()}function rl(t){for(var e=function t(e){var i=[];e&&e.isBone&&i.push(e);for(var r=0;r<e.children.length;r++)i.push.apply(i,t(e.children[r]));return i}(t),i=new $r,r=[],n=[],o=new ki(0,0,1),a=new ki(0,1,0),s=0;s<e.length;s++){var c=e[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(o.r,o.g,o.b),n.push(a.r,a.g,a.b))}i.addAttribute("position",new Ir(r,3)),i.addAttribute("color",new Ir(n,3));var u=new ka({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});Na.call(this,i,u),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function nl(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var r=new js(e,4,2),n=new Sn({wireframe:!0,fog:!1});Pn.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ol(t,e){ur.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var i=new ka({fog:!1}),r=new $r;r.addAttribute("position",new wr(new Float32Array(15),3)),this.line=new Ba(r,i),this.add(this.line),this.update()}function al(t,e,i){ur.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new Qa(e);r.rotateY(.5*Math.PI),this.material=new Sn({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var n=r.getAttribute("position"),o=new Float32Array(3*n.count);r.addAttribute("color",new wr(o,3)),this.add(new Pn(r,this.material)),this.update()}function sl(t,e,i,r){t=t||10,e=e||10,i=new ki(void 0!==i?i:4473924),r=new ki(void 0!==r?r:8947848);for(var n=e/2,o=t/e,a=t/2,s=[],c=[],u=0,h=0,l=-a;u<=e;u++,l+=o){s.push(-a,0,l,a,0,l),s.push(l,0,-a,l,0,a);var p=u===n?i:r;p.toArray(c,h),h+=3,p.toArray(c,h),h+=3,p.toArray(c,h),h+=3,p.toArray(c,h),h+=3}var d=new $r;d.addAttribute("position",new Ir(s,3)),d.addAttribute("color",new Ir(c,3));var f=new ka({vertexColors:2});Na.call(this,d,f)}function cl(t,e,i,r,n,o){t=t||10,e=e||16,i=i||8,r=r||64,n=new ki(void 0!==n?n:4473924),o=new ki(void 0!==o?o:8947848);var a,s,c,u,h,l,p,d=[],f=[];for(u=0;u<=e;u++)c=u/e*(2*Math.PI),a=Math.sin(c)*t,s=Math.cos(c)*t,d.push(0,0,0),d.push(a,0,s),p=1&u?n:o,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(u=0;u<=i;u++)for(p=1&u?n:o,l=t-t/i*u,h=0;h<r;h++)c=h/r*(2*Math.PI),a=Math.sin(c)*l,s=Math.cos(c)*l,d.push(a,0,s),f.push(p.r,p.g,p.b),c=(h+1)/r*(2*Math.PI),a=Math.sin(c)*l,s=Math.cos(c)*l,d.push(a,0,s),f.push(p.r,p.g,p.b);var m=new $r;m.addAttribute("position",new Ir(d,3)),m.addAttribute("color",new Ir(f,3));var g=new ka({vertexColors:2});Na.call(this,m,g)}function ul(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new $r,u=new Ir(2*a*3,3);c.addAttribute("position",u),Na.call(this,c,new ka({color:n,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function hl(t,e,i){ur.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var r=new $r;r.addAttribute("position",new Ir([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new ka({fog:!1});this.lightPlane=new Ba(r,n),this.add(this.lightPlane),(r=new $r).addAttribute("position",new Ir([0,0,0,0,0,1],3)),this.targetLine=new Ba(r,n),this.add(this.targetLine),this.update()}function ll(t){var e=new $r,i=new ka({color:16777215,vertexColors:1}),r=[],n=[],o={},a=new ki(16755200),s=new ki(16711680),c=new ki(43775),u=new ki(16777215),h=new ki(3355443);function l(t,e,i){p(t,i),p(e,i)}function p(t,e){r.push(0,0,0),n.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(r.length/3-1)}l("n1","n2",a),l("n2","n4",a),l("n4","n3",a),l("n3","n1",a),l("f1","f2",a),l("f2","f4",a),l("f4","f3",a),l("f3","f1",a),l("n1","f1",a),l("n2","f2",a),l("n3","f3",a),l("n4","f4",a),l("p","n1",s),l("p","n2",s),l("p","n3",s),l("p","n4",s),l("u1","u2",c),l("u2","u3",c),l("u3","u1",c),l("c","t",u),l("p","c",h),l("cn1","cn2",h),l("cn3","cn4",h),l("cf1","cf2",h),l("cf3","cf4",h),e.addAttribute("position",new Ir(r,3)),e.addAttribute("color",new Ir(n,3)),Na.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function pl(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new $r;n.setIndex(new wr(i,1)),n.addAttribute("position",new wr(r,3)),Na.call(this,n,new ka({color:e})),this.matrixAutoUpdate=!1,this.update()}function dl(t,e){this.type="Box3Helper",this.box=t;var i=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new $r;n.setIndex(new wr(r,1)),n.addAttribute("position",new Ir([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Na.call(this,n,new ka({color:i})),this.geometry.computeBoundingSphere()}function fl(t,e,i){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==i?i:16776960,n=new $r;n.addAttribute("position",new Ir([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),Ba.call(this,n,new ka({color:r}));var o=new $r;o.addAttribute("position",new Ir([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Pn(o,new Sn({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function ml(t,e,i,r,n,o){ur.call(this),void 0===r&&(r=16776960),void 0===i&&(i=1),void 0===n&&(n=.2*i),void 0===o&&(o=.2*n),void 0===Bh&&((Bh=new $r).addAttribute("position",new Ir([0,0,0,0,1,0],3)),(Nh=new Ks(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Ba(Bh,new ka({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pn(Nh,new Sn({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,n,o)}function gl(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new $r;i.addAttribute("position",new Ir(e,3)),i.addAttribute("color",new Ir([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new ka({vertexColors:2});Na.call(this,i,r)}function vl(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Cc.call(this,t),this.type="catmullrom"}function yl(t){if("undefined"!=typeof window){var e=new RegExp(t+"=([^&#=]*)").exec(window.location.search);return e?decodeURIComponent(e[1]):void 0}}function bl(t,e){return void 0!==t?t:e}function xl(t,e){var i=Object.assign({},t);for(var r in e){void 0===t[r]&&(i[r]=e[r])}return i}function _l(t,e){for(var i in e){var r=e[i];void 0!==r&&(t[i]=r)}return t}function wl(){var t=window.location.protocol;return null===t.match(/http(s)?:/gi)?"http:":t}function Sl(){if("undefined"==typeof window)return!1;var t=window.navigator.userAgent;return/Opera|OPR/.test(t)?"Opera":/Chrome/i.test(t)?"Chrome":/Firefox/i.test(t)?"Firefox":/Mobile(\/.*)? Safari/i.test(t)?"Mobile Safari":/MSIE/i.test(t)?"Internet Explorer":!!/Safari/i.test(t)&&"Safari"}function Al(t){window.open(t,"_blank")||(window.location.href=t)}function Ml(t,e){if(void 0===e&&(e="download"),t){var i="Safari"===Sl(),r=/CriOS\/[\d]+/.test(window.navigator.userAgent),n=document.createElement("a");if("undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(t,e);else if((i||r)&&FileReader)if(t instanceof Blob){var o=new FileReader;o.onloadend=function(){s(o.result)},o.readAsDataURL(t)}else s(t);else{var a=!1;t instanceof Blob&&(t=URL.createObjectURL(t),a=!0),"download"in n?(n.style.display="hidden",document.body.appendChild(n),n.href=t,n.download=e,n.target="_blank",n.click(),document.body.removeChild(n)):Al(t),a&&window.URL.revokeObjectURL(t)}}function s(t){Al(r?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"))}}function El(t,e){return t<e?-1:e<t?1:0}function Pl(t,e,i){void 0===i&&(i=El);for(var r=0,n=t.length-1;r<=n;){var o=r+n>>1,a=i(e,t[o]);if(0<a)r=o+1;else{if(!(a<0))return o;n=o-1}}return-r-1}function Tl(t,e,i){var r=function(t,e){var i=t.length-1;if(t[i]<e)return-1;for(var r=0;r<=i;){var n=r+i>>1;t[n]>=e?i=n-1:r=n+1}return i+1}(t,e),n=function(t,e){if(t[0]>e)return-1;for(var i=0,r=t.length-1;i<=r;){var n=i+r>>1;t[n]>e?r=n-1:i=n+1}return i-1}(t,i);return-1===r||-1===n||n<r?0:n-r+1}function Cl(t){return t.sort().filter(function(t,e,i){return 0===e||t!==i[e-1]})}function Il(t){if(28672<t.length){for(var e=[],i=0;i<t.length;i+=28672)e.push(String.fromCharCode.apply(null,t.subarray(i,i+28672)));return e.join("")}return String.fromCharCode.apply(null,t)}function Ol(t,e){switch(t){case"int8":return new Int8Array(e);case"int16":return new Int16Array(e);case"int32":return new Int32Array(e);case"uint8":return new Uint8Array(e);case"uint16":return new Uint16Array(e);case"uint32":return new Uint32Array(e);case"float32":return new Float32Array(e);default:throw new Error("arrayType unknown: "+t)}}function Ll(t,e){return new(65535<e?Uint32Array:Uint16Array)(t)}function Rl(t){return t.buffer&&t.buffer instanceof ArrayBuffer?t.buffer:t}function Dl(t,e){return void 0===t?t=new e:Array.isArray(t)&&(t=(new e).fromArray(t)),t}function kl(t){return Dl(t,ri)}function Bl(t){return Dl(t,ei)}function Nl(t){return Dl(t,ii)}function Fl(t){return e=t,i=Float32Array,e instanceof i?e:new i(e);var e,i}function zl(t){return bl(t,"").toString().toLowerCase()}Object.assign(Gh.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),Object.assign(Vh,{Composite:Gh,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Vh.Composite(t,e,i):new Vh(t,e,i)},sanitizeNodeName:(dh=new RegExp("["+jh+"]","g"),function(t){return t.replace(/\s/g,"_").replace(dh,"")}),parseTrackName:(oh="[^"+jh+"]",ah="[^"+jh.replace("\\.","")+"]",sh=/((?:WC+[\/:])*)/.source.replace("WC",oh),ch=/(WCOD+)?/.source.replace("WCOD",ah),uh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",oh),hh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",oh),lh=new RegExp("^"+sh+ch+uh+hh+"$"),ph=["material","materials","bones"],function(t){var e=lh.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==ph.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,n){if(!n||""===n||"root"===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){var e=t.skeleton.getBoneByName(n);if(void 0!==e)return e}if(t.children){var o=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.name===n||i.uuid===n)return i;var r=o(i.children);if(r)return r}return null},i=o(t.children);if(i)return i}return null}}),Object.assign(Vh.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)t[e++]=i[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,r=e.propertyName,n=e.propertyIndex;if(t||(t=Vh.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var o=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[r];if(void 0!==s){var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var u=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(t.geometry.morphAttributes.position[a].name===n){n=a;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===n){n=a;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]}else{var h=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Vh.prototype,{_getValue_unbound:Vh.prototype.getValue,_setValue_unbound:Vh.prototype.setValue}),Object.assign(function(){var t=arguments;this.uuid=Qe.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var i=0,r=arguments.length;i!==r;++i)e[t[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=arguments,e=this._objects,i=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,c=s.length,u=void 0,h=0,l=arguments.length;h!==l;++h){var p=t[h],d=p.uuid,f=n[d];if(void 0===f){f=i++,n[d]=f,e.push(p);for(var m=0,g=c;m!==g;++m)s[m].push(new Vh(p,o[m],a[m]))}else if(f<r){u=e[f];var v=--r,y=e[v];e[n[y.uuid]=f]=y,e[n[d]=v]=p;for(m=0,g=c;m!==g;++m){var b=s[m],x=b[v],_=b[f];b[f]=x,void 0===_&&(_=new Vh(p,o[m],a[m])),b[v]=_}}else e[f]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(){for(var t=arguments,e=this._objects,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,o=n.length,a=0,s=arguments.length;a!==s;++a){var c=t[a],u=c.uuid,h=r[u];if(void 0!==h&&i<=h){var l=i++,p=e[l];e[r[p.uuid]=h]=p,e[r[u]=l]=c;for(var d=0,f=o;d!==f;++d){var m=n[d],g=m[l],v=m[h];m[h]=g,m[l]=v}}}this.nCachedObjects_=i},uncache:function(){for(var t=arguments,e=this._objects,i=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,o=this._bindings,a=o.length,s=0,c=arguments.length;s!==c;++s){var u=t[s].uuid,h=n[u];if(void 0!==h)if(delete n[u],h<r){var l=--r,p=e[l],d=e[y=--i];e[n[p.uuid]=h]=p,e[n[d.uuid]=l]=d,e.pop();for(var f=0,m=a;f!==m;++f){var g=(b=o[f])[l],v=b[y];b[h]=g,b[l]=v,b.pop()}}else{var y;e[n[(d=e[y=--i]).uuid]=h]=d,e.pop();for(f=0,m=a;f!==m;++f){var b;(b=o[f])[h]=b[y],b.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,r=i[t],n=this._bindings;if(void 0!==r)return n[r];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,u=this.nCachedObjects_,h=new Array(c);r=n.length,i[t]=r,o.push(t),a.push(e),n.push(h);for(var l=u,p=s.length;l!==p;++l){var d=s[l];h[l]=new Vh(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var r=this._paths,n=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];o[e[t[a]]=i]=s,o.pop(),n[i]=n[a],n.pop(),r[i]=r[a],r.pop()}}}),Object.assign(Hh.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var r=this._clip.duration,n=t._clip.duration,o=n/r,a=r/n;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var r=this._mixer,n=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=n,s[1]=n+i,c[0]=t/a,c[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var o=(t-n)*i;if(o<0||0===i)return;this._startTime=null,e=i*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(0<s)for(var c=this._interpolants,u=this._propertyBindings,h=0,l=c.length;h!==l;++h)c[h].evaluate(a),u[h].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i)e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,r=this.loop,n=this._loopCount,o=2202===r;if(0===t)return-1===n?e:o&&1==(1&n)?i-e:e;if(2200===r){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i<=e)e=i;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(0<=t?(n=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i<=e||e<0){var a=Math.floor(e/i);e-=i*a,n+=Math.abs(a);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=0<t?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&n))return i-(this.time=e)}return this.time=e},_setEndings:function(t,e,i){var r=this._interpolantSettings;i?(r.endingStart=Ue,r.endingEnd=Ue):(r.endingStart=t?this.zeroSlopeAtStart?Ue:ze:2402,r.endingEnd=e?this.zeroSlopeAtEnd?Ue:ze:2402)},_scheduleFading:function(t,e,i){var r=this._mixer,n=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=n,s[0]=e,a[1]=n+t,s[1]=i,this}}),$h.prototype=Object.assign(Object.create(v.prototype),{constructor:$h,_bindAction:function(t,e){var i=t._localRoot||this._root,r=t._clip.tracks,n=r.length,o=t._propertyBindings,a=t._interpolants,s=i.uuid,c=this._bindingsByRootAndName,u=c[s];void 0===u&&(u={},c[s]=u);for(var h=0;h!==n;++h){var l=r[h],p=l.name,d=u[p];if(void 0!==d)o[h]=d;else{if(void 0!==(d=o[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;++(d=new nh(Vh.create(i,p,f),l.ValueTypeName,l.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),o[h]=d}a[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}for(var n=t._propertyBindings,o=0,a=n.length;o!==a;++o){var s=n[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var r=this._actions,n=this._actionsByClip,o=n[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],r=t._cacheIndex;e[i._cacheIndex=r]=i,e.pop(),t._cacheIndex=null;var n=t._clip.uuid,o=this._actionsByClip,a=o[n],s=a.knownActions,c=s[s.length-1],u=t._byClipCacheIndex;s[c._byClipCacheIndex=u]=c,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[n],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,n=e[r];e[t._cacheIndex=r]=t,e[n._cacheIndex=i]=n},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,n=e[r];e[t._cacheIndex=r]=t,e[n._cacheIndex=i]=n},_addInactiveBinding:function(t,e,i){var r=this._bindingsByRootAndName,n=r[e],o=this._bindings;void 0===n&&(n={},r[e]=n),(n[i]=t)._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,r=i.rootNode.uuid,n=i.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],c=t._cacheIndex;e[s._cacheIndex=c]=s,e.pop(),delete a[n];t:{for(var u in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,n=e[r];e[t._cacheIndex=r]=t,e[n._cacheIndex=i]=n},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,n=e[r];e[t._cacheIndex=r]=t,e[n._cacheIndex=i]=n},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&(t[(i=new ru(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,n=e[r];e[t.__cacheIndex=r]=t,e[n.__cacheIndex=i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?du.findByName(i,t):t,o=null!==n?n.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[r];if(void 0!==c)return c;s=a.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var u=new Hh(this,n,e);return this._bindAction(u,s),this._addInactiveAction(u,o,r),u},existingAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?du.findByName(i,t):t,o=n?n.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0;for(var n=this._nActiveBindings=0;n!==e;++n)t[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,r=this.time+=t,n=Math.sign(t),o=this._accuIndex^=1,a=0;a!==i;++a){e[a]._update(r,t,n,o)}var s=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var o=n.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var u=c._cacheIndex,h=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,e[h._cacheIndex=u]=h,e.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Wh.prototype.clone=function(){return new Wh(void 0===this.value.clone?this.value:this.value.clone())},Xh.prototype=Object.assign(Object.create($r.prototype),{constructor:Xh,isInstancedBufferGeometry:!0,copy:function(t){return $r.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),qh.prototype=Object.assign(Object.create(Pa.prototype),{constructor:qh,isInstancedInterleavedBuffer:!0,copy:function(t){return Pa.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Yh.prototype=Object.assign(Object.create(wr.prototype),{constructor:Yh,isInstancedBufferAttribute:!0,copy:function(t){return wr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(function(t,e,i,r){this.ray=new Mn(t,e),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,i){var r=i||[];return Kh(t,this,r,e),r.sort(Zh),r},intersectObjects:function(t,e,i){var r=i||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var n=0,o=t.length;n<o;n++)Kh(t[n],this,r,e);return r.sort(Zh),r}}),Object.assign(function(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(function(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Qe.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(function(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),Object.assign(Jh.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:(mh=new ti,function(t,e){var i=mh.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new ti),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new ti),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new ti),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new ti),e.copy(t).clamp(this.min,this.max)},distanceToPoint:(fh=new ti,function(t){return fh.copy(t).clamp(this.min,this.max).sub(t).length()}),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Qh.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new ri),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new ri),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new ri),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(gh=new ri,vh=new ri,function(t,e){gh.subVectors(t,this.start),vh.subVectors(this.end,this.start);var i=vh.dot(vh),r=vh.dot(gh)/i;return e&&(r=Qe.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e);return void 0===i&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new ri),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),((tl.prototype=Object.create(ur.prototype)).constructor=tl).prototype.isImmediateRenderObject=!0,((el.prototype=Object.create(Na.prototype)).constructor=el).prototype.update=(yh=new ri,bh=new ri,xh=new ni,function(){var t=["a","b","c"];this.object.updateMatrixWorld(!0),xh.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,i=this.geometry.attributes.position,r=this.object.geometry;if(r&&r.isGeometry)for(var n=r.vertices,o=r.faces,a=0,s=0,c=o.length;s<c;s++)for(var u=o[s],h=0,l=u.vertexNormals.length;h<l;h++){var p=n[u[t[h]]],d=u.vertexNormals[h];yh.copy(p).applyMatrix4(e),bh.copy(d).applyMatrix3(xh).normalize().multiplyScalar(this.size).add(yh),i.setXYZ(a,yh.x,yh.y,yh.z),a+=1,i.setXYZ(a,bh.x,bh.y,bh.z),a+=1}else if(r&&r.isBufferGeometry){var f=r.attributes.position,m=r.attributes.normal;for(h=a=0,l=f.count;h<l;h++)yh.set(f.getX(h),f.getY(h),f.getZ(h)).applyMatrix4(e),bh.set(m.getX(h),m.getY(h),m.getZ(h)),bh.applyMatrix3(xh).normalize().multiplyScalar(this.size).add(yh),i.setXYZ(a,yh.x,yh.y,yh.z),a+=1,i.setXYZ(a,bh.x,bh.y,bh.z),a+=1}i.needsUpdate=!0}),((il.prototype=Object.create(ur.prototype)).constructor=il).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},il.prototype.update=(_h=new ri,wh=new ri,function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),_h.setFromMatrixPosition(this.light.matrixWorld),wh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(wh.sub(_h)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}),((rl.prototype=Object.create(Na.prototype)).constructor=rl).prototype.updateMatrixWorld=(Sh=new ri,Ah=new ei,Mh=new ei,function(t){var e=this.bones,i=this.geometry,r=i.getAttribute("position");Mh.getInverse(this.root.matrixWorld);for(var n=0,o=0;n<e.length;n++){var a=e[n];a.parent&&a.parent.isBone&&(Ah.multiplyMatrices(Mh,a.matrixWorld),Sh.setFromMatrixPosition(Ah),r.setXYZ(o,Sh.x,Sh.y,Sh.z),Ah.multiplyMatrices(Mh,a.parent.matrixWorld),Sh.setFromMatrixPosition(Ah),r.setXYZ(o+1,Sh.x,Sh.y,Sh.z),o+=2)}i.getAttribute("position").needsUpdate=!0,ur.prototype.updateMatrixWorld.call(this,t)}),((nl.prototype=Object.create(Pn.prototype)).constructor=nl).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},nl.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},((ol.prototype=Object.create(ur.prototype)).constructor=ol).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ol.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,i=this.line.geometry.attributes.position,r=i.array;r[0]=t,r[1]=-e,r[2]=0,r[3]=t,r[4]=e,r[5]=0,r[6]=-t,r[7]=e,r[8]=0,r[9]=-t,r[10]=-e,r[11]=0,r[12]=t,r[13]=-e,r[14]=0,i.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},((al.prototype=Object.create(ur.prototype)).constructor=al).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},al.prototype.update=(Eh=new ri,Ph=new ki,Th=new ki,function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");Ph.copy(this.light.color),Th.copy(this.light.groundColor);for(var i=0,r=e.count;i<r;i++){var n=i<r/2?Ph:Th;e.setXYZ(i,n.r,n.g,n.b)}e.needsUpdate=!0}t.lookAt(Eh.setFromMatrixPosition(this.light.matrixWorld).negate())}),(sl.prototype=Object.create(Na.prototype)).constructor=sl,(cl.prototype=Object.create(Na.prototype)).constructor=cl,((ul.prototype=Object.create(Na.prototype)).constructor=ul).prototype.update=(Ch=new ri,Ih=new ri,Oh=new ni,function(){this.object.updateMatrixWorld(!0),Oh.getNormalMatrix(this.object.matrixWorld);for(var t=this.object.matrixWorld,e=this.geometry.attributes.position,i=this.object.geometry,r=i.vertices,n=i.faces,o=0,a=0,s=n.length;a<s;a++){var c=n[a],u=c.normal;Ch.copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(t),Ih.copy(u).applyMatrix3(Oh).normalize().multiplyScalar(this.size).add(Ch),e.setXYZ(o,Ch.x,Ch.y,Ch.z),o+=1,e.setXYZ(o,Ih.x,Ih.y,Ih.z),o+=1}e.needsUpdate=!0}),((hl.prototype=Object.create(ur.prototype)).constructor=hl).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},hl.prototype.update=(Lh=new ri,Rh=new ri,Dh=new ri,function(){Lh.setFromMatrixPosition(this.light.matrixWorld),Rh.setFromMatrixPosition(this.light.target.matrixWorld),Dh.subVectors(Rh,Lh),this.lightPlane.lookAt(Dh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Dh),this.targetLine.scale.z=Dh.length()}),((ll.prototype=Object.create(Na.prototype)).constructor=ll).prototype.update=function(){var c,u,h=new ri,l=new hr;function t(t,e,i,r){h.set(e,i,r).unproject(l);var n=u[t];if(void 0!==n)for(var o=c.getAttribute("position"),a=0,s=n.length;a<s;a++)o.setXYZ(n[a],h.x,h.y,h.z)}return function(){c=this.geometry,u=this.pointMap;l.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),c.getAttribute("position").needsUpdate=!0}}(),((pl.prototype=Object.create(Na.prototype)).constructor=pl).prototype.update=(kh=new Pi,function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&kh.setFromObject(this.object),!kh.isEmpty()){var e=kh.min,i=kh.max,r=this.geometry.attributes.position,n=r.array;n[0]=i.x,n[1]=i.y,n[2]=i.z,n[3]=e.x,n[4]=i.y,n[5]=i.z,n[6]=e.x,n[7]=e.y,n[8]=i.z,n[9]=i.x,n[10]=e.y,n[11]=i.z,n[12]=i.x,n[13]=i.y,n[14]=e.z,n[15]=e.x,n[16]=i.y,n[17]=e.z,n[18]=e.x,n[19]=e.y,n[20]=e.z,n[21]=i.x,n[22]=e.y,n[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}),pl.prototype.setFromObject=function(t){return this.object=t,this.update(),this},((dl.prototype=Object.create(Na.prototype)).constructor=dl).prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),ur.prototype.updateMatrixWorld.call(this,t))},((fl.prototype=Object.create(Ba.prototype)).constructor=fl).prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?wt:G,this.lookAt(this.plane.normal),ur.prototype.updateMatrixWorld.call(this,t)},((ml.prototype=Object.create(ur.prototype)).constructor=ml).prototype.setDirection=(zh=new ri,function(t){.99999<t.y?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(zh.set(t.z,0,-t.x).normalize(),Fh=Math.acos(t.y),this.quaternion.setFromAxisAngle(zh,Fh))}),ml.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},ml.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},(gl.prototype=Object.create(Na.prototype)).constructor=gl,_c.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(_c.prototype),(t.prototype.constructor=t).prototype.getPoint=e,t},Object.assign(jc.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new _r,i=0,r=t.length;i<r;i++){var n=t[i];e.vertices.push(new ri(n.x,n.y,n.z||0))}return e}}),Object.assign(Gc.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),vl.prototype=Object.create(Cc.prototype),Object.assign(vl.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),sl.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},rl.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(wu.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Su(t)}}),Object.assign(Jh.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Pi.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Qh.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Qe,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Qe.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Qe.ceilPowerOfTwo(t)}}),Object.assign(ni.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(ei.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return void 0===Uh&&(Uh=new ri),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),Uh.setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,i,r,n,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,i,n,o)}}),Ci.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},ii.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Mn.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(En.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(En,{barycoordFromPoint:function(t,e,i,r,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),En.getBarycoord(t,e,i,r,n)},normal:function(t,e,i,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),En.getNormal(t,e,i,r)}}),Object.assign(Vc.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ds(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ws(this,t)}}),Object.assign(ti.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ri.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Si.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(_r.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(ur.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(ur.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Oa.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(La.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(_c.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),ba.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Hc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(wr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign($r.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties($r.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(ks.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Wh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(wn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ki}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}}}),Object.defineProperties(sc.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(An.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Sa.prototype,{animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Sa.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(fa.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ai.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(_a.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),eh.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Ku).load(t,function(t){e.setBuffer(t)}),this},rh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Qu.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},xi.crossOrigin=void 0,xi.loadTexture=function(t,e,i,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var n=new xc;n.setCrossOrigin(this.crossOrigin);var o=n.load(t,i,void 0,r);return e&&(o.mapping=e),o},xi.loadTextureCube=function(t,e,i,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var n=new bc;n.setCrossOrigin(this.crossOrigin);var o=n.load(t,i,void 0,r);return e&&(o.mapping=e),o},xi.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},xi.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Ul=function(t){this.name=t,this._dict={}},jl={names:{configurable:!0}};function Gl(t){return.01745*t}Ul.prototype.add=function(t,e){this._dict[zl(t)]=e},Ul.prototype.get=function(t){return this._dict[zl(t)]},jl.names.get=function(){return Object.keys(this._dict)},Object.defineProperties(Ul.prototype,jl);var Vl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Hl=new Array(36);function $l(){for(var t,e=0,i=0;i<36;i++)8===i||13===i||18===i||23===i?Hl[i]="-":14===i?Hl[i]="4":(e<=2&&(e=33554432+16777216*Math.random()|0),t=15&e,e>>=4,Hl[i]=Vl[19===i?3&t|8:t]);return Hl.join("")}function Wl(t,e,i){return Math.max(e,Math.min(i,t))}function Xl(t){return Wl(t,0,100)}function ql(t,e,i){return t+(e-t)*i}function Yl(t,e,i,r,n,o){var a=(i-t)*o,s=(r-e)*o,c=n*n;return(2*e-2*i+a+s)*(n*c)+(-3*e+3*i-2*a-s)*c+a*n+e}function Zl(t,e,i){var r;return(i=Wl((i-(r=t))/(e-r),0,1))*i*(3-2*i)}var Kl="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Jl(t,e){return t(e={exports:{}},e.exports),e.exports}var Ql=Jl(function(Pt,Tt){(function(){var T,n,s,C,c,a,d,m,u,h,l,p,nt,I,f,r,t,i,e,ot,g,o,O,v,y,b,x,at,_,w,S,A,M,E,P,L,R,D,k,B,N,F,z,U,j,G,V,st,H,$,ct,W,X,q,ut,Y,Z,K,J,Q,tt,et,it,rt,ht,lt,pt,dt,ft,mt,gt,vt,yt,bt,xt,_t,wt,St,At,Mt,Et=[].slice;_t=function(){var i,t,e,r,n;for(i={},r=0,t=(n="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)e=n[r],i["[object "+e+"]"]=e.toLowerCase();return function(t){var e;return e=Object.prototype.toString.call(t),i[e]||"object"}}(),V=function(t,e,i){return null==e&&(e=0),null==i&&(i=1),t<e&&(t=e),i<t&&(t=i),t},wt=function(t){return 3<=t.length?Array.prototype.slice.call(t):t[0]},g=function(t){var e,i;for(t._clipped=!1,t._unclipped=t.slice(0),e=i=0;i<3;e=++i)e<3?((t[e]<0||255<t[e])&&(t._clipped=!0),t[e]<0&&(t[e]=0),255<t[e]&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),1<t[e]&&(t[e]=1));return t._clipped||delete t._unclipped,t},C=Math.PI,gt=Math.round,O=Math.cos,at=Math.floor,ut=Math.pow,st=Math.log,yt=Math.sin,bt=Math.sqrt,I=Math.atan2,ct=Math.max,nt=Math.abs,d=2*C,c=C/3,n=C/180,a=180/C,(ot=function(){return arguments[0]instanceof T?arguments[0]:function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,arguments,function(){})}).default=ot,p=[],null!==Pt&&null!=Pt.exports&&(Pt.exports=ot),((null!==Tt?Tt:this).chroma=ot).version="1.3.7",l={},h=!(u=[]),T=function(){function t(){var t,e,i,r,n,o,a,s,c=arguments;for(this,e=[],a=0,r=arguments.length;a<r;a++)null!=(t=c[a])&&e.push(t);if(1<e.length&&(o=e[e.length-1]),null!=l[o])this._rgb=g(l[o](wt(e.slice(0,-1))));else{for(h||(u=u.sort(function(t,e){return e.p-t.p}),h=!0),s=0,n=u.length;s<n&&!(o=(i=u[s]).test.apply(i,e));s++);o&&(this._rgb=g(l[o].apply(l,e)))}null==this._rgb&&console.warn("unknown format: "+e),null==this._rgb&&(this._rgb=[0,0,0]),3===this._rgb.length&&this._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t.prototype.clone=function(){return ot(me._rgb)},t}(),ot._input=l,ot.brewer=i={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;for(t in e=[],i)e.push(i[t.toLowerCase()]=i[t])}(),ot.colors=St={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},F=function(){var t,e,i,r,n,o,a;return r=(e=wt(arguments))[0],t=e[1],i=e[2],o=(r+16)/116,n=isNaN(t)?o:o+t/500,a=isNaN(i)?o:o-i/200,o=s.Yn*z(o),n=s.Xn*z(n),a=s.Zn*z(a),[Mt(3.2404542*n-1.5371385*o-.4985314*a),Mt(-.969266*n+1.8760108*o+.041556*a),i=Mt(.0556434*n-.2040259*o+1.0572252*a),3<e.length?e[3]:1]},Mt=function(t){return 255*(t<=.00304?12.92*t:1.055*ut(t,1/2.4)-.055)},z=function(t){return t>s.t1?t*t*t:s.t2*(t-s.t0)},s={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},it=function(){var t,e,i,r,n,o,a;return i=(r=wt(arguments))[0],e=r[1],t=r[2],o=(n=dt(i,e,t))[0],[116*(a=n[1])-16,500*(o-a),200*(a-n[2])]},ft=function(t){return(t/=255)<=.04045?t/12.92:ut((t+.055)/1.055,2.4)},At=function(t){return t>s.t3?ut(t,1/3):t/s.t2+s.t0},dt=function(){var t,e,i,r;return i=(r=wt(arguments))[0],e=r[1],t=r[2],i=ft(i),e=ft(e),t=ft(t),[At((.4124564*i+.3575761*e+.1804375*t)/s.Xn),At((.2126729*i+.7151522*e+.072175*t)/s.Yn),At((.0193339*i+.119192*e+.9503041*t)/s.Zn)]},ot.lab=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["lab"]),function(){})},l.lab=F,T.prototype.lab=function(){return it(this._rgb)},f=function(r){var t,e,i,n,o,a,s,c,u,h,l;return 2===(r=function(){var t,e,i;for(i=[],e=0,t=r.length;e<t;e++)n=r[e],i.push(ot(n));return i}()).length?(u=function(){var t,e,i;for(i=[],e=0,t=r.length;e<t;e++)n=r[e],i.push(n.lab());return i}(),o=u[0],a=u[1],t=function(i){var r,t;return t=function(){var t,e;for(e=[],r=t=0;t<=2;r=++t)e.push(o[r]+i*(a[r]-o[r]));return e}(),ot.lab.apply(ot,t)}):3===r.length?(h=function(){var t,e,i;for(i=[],e=0,t=r.length;e<t;e++)n=r[e],i.push(n.lab());return i}(),o=h[0],a=h[1],s=h[2],t=function(i){var r,t;return t=function(){var t,e;for(e=[],r=t=0;t<=2;r=++t)e.push((1-i)*(1-i)*o[r]+2*(1-i)*i*a[r]+i*i*s[r]);return e}(),ot.lab.apply(ot,t)}):4===r.length?(l=function(){var t,e,i;for(i=[],e=0,t=r.length;e<t;e++)n=r[e],i.push(n.lab());return i}(),o=l[0],a=l[1],s=l[2],c=l[3],t=function(i){var r,t;return t=function(){var t,e;for(e=[],r=t=0;t<=2;r=++t)e.push((1-i)*(1-i)*(1-i)*o[r]+3*(1-i)*(1-i)*i*a[r]+3*(1-i)*i*i*s[r]+i*i*i*c[r]);return e}(),ot.lab.apply(ot,t)}):5===r.length&&(e=f(r.slice(0,3)),i=f(r.slice(2,5)),t=function(t){return t<.5?e(2*t):i(2*(t-.5))}),t},ot.bezier=function(t){var e;return(e=f(t)).scale=function(){return ot.scale(e)},e},ot.cubehelix=function(a,s,c,u,h){var l,p,e;return null==a&&(a=300),null==s&&(s=-1.5),null==c&&(c=1),null==u&&(u=1),null==h&&(h=[0,1]),l=0,"array"===_t(h)?p=h[1]-h[0]:(p=0,h=[h,h]),(e=function(t){var e,i,r,n,o;return e=d*((a+120)/360+s*t),n=ut(h[0]+p*t,u),i=(0!==l?c[0]+t*l:c)*n*(1-n)/2,r=O(e),o=yt(e),ot(g([255*(n+i*(-.14861*r+1.78277*o)),255*(n+i*(-.29227*r-.90649*o)),255*(n+i*(1.97294*r))]))}).start=function(t){return null==t?a:(a=t,e)},e.rotations=function(t){return null==t?s:(s=t,e)},e.gamma=function(t){return null==t?u:(u=t,e)},e.hue=function(t){return null==t?c:("array"===_t(c=t)?0===(l=c[1]-c[0])&&(c=c[1]):l=0,e)},e.lightness=function(t){return null==t?h:("array"===_t(t)?p=(h=t)[1]-t[0]:(h=[t,t],p=0),e)},e.scale=function(){return ot.scale(e)},e.hue(c),e},ot.random=function(){var t,e;for("0123456789abcdef",t="#",e=0;e<6;++e)t+="0123456789abcdef".charAt(at(16*Math.random()));return new T(t)},p=[],P=function(t,e,i,r){var n,o,a,s;for(null==i&&(i=.5),null==r&&(r="rgb"),"object"!==_t(t)&&(t=ot(t)),"object"!==_t(e)&&(e=ot(e)),a=0,o=p.length;a<o;a++)if(r===(n=p[a])[0]){s=n[1](t,e,i,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(t.alpha()+i*(e.alpha()-t.alpha()))},ot.interpolate=P,T.prototype.interpolate=function(t,e,i){return P(this,t,e,i)},ot.mix=P,T.prototype.mix=T.prototype.interpolate,l.rgb=function(){var t,e,i,r;for(t in i=[],e=wt(arguments))r=e[t],i.push(r);return i},ot.rgb=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["rgb"]),function(){})},T.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},T.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},u.push({p:3,test:function(t){var e;return e=wt(arguments),"array"===_t(e)&&3===e.length?"rgb":4===e.length&&"number"===_t(e[3])&&0<=e[3]&&e[3]<=1?"rgb":void 0}}),l.lrgb=l.rgb,D=function(t,e,i,r){var n,o;return n=t._rgb,o=e._rgb,new T(bt(ut(n[0],2)*(1-i)+ut(o[0],2)*i),bt(ut(n[1],2)*(1-i)+ut(o[1],2)*i),bt(ut(n[2],2)*(1-i)+ut(o[2],2)*i),r)},m=function(t){var e,i,r,n,o;for(e=1/t.length,o=[0,0,0,0],r=0,i=t.length;r<i;r++)n=t[r]._rgb,o[0]+=ut(n[0],2)*e,o[1]+=ut(n[1],2)*e,o[2]+=ut(n[2],2)*e,o[3]+=n[3]*e;return o[0]=bt(o[0]),o[1]=bt(o[1]),o[2]=bt(o[2]),new T(o)},p.push(["lrgb",D]),ot.average=function(t,e){var i,r,n,o,a,s,c,u,h,l,p,d,f;if(null==e&&(e="rgb"),h=t.length,c=(t=t.map(function(t){return ot(t)})).splice(0,1)[0],"lrgb"===e)return m(t);for(u in o=[],s=a=0,d=c.get(e))d[u]=d[u]||0,o.push(isNaN(d[u])?0:1),"h"!==e.charAt(u)||isNaN(d[u])||(i=d[u]/180*C,a+=O(i),s+=yt(i));for(r=c.alpha(),p=0,l=t.length;p<l;p++)for(u in f=(n=t[p]).get(e),r+=n.alpha(),d)isNaN(f[u])||(o[u]+=1,"h"===e.charAt(u)?(i=f[u]/180*C,a+=O(i),s+=yt(i)):d[u]+=f[u]);for(u in d)if("h"===e.charAt(u)){for(i=I(s/o[u],a/o[u])/C*180;i<0;)i+=360;for(;360<=i;)i-=360;d[u]=i}else d[u]=d[u]/o[u];return ot(d,e).alpha(r/h)},w=function(t){var e,i;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[(i=parseInt(t,16))>>16,i>>8&255,255&i,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),[(i=parseInt(t,16))>>24&255,i>>16&255,i>>8&255,gt((255&i)/255*100)/100];if(null!=l.css&&(e=l.css(t)))return e;throw"unknown color: "+t},J=function(t,e){var i,r,n,o,a,s;return null==e&&(e="rgb"),a=t[0],n=t[1],r=t[2],i=t[3],a=Math.round(a),n=Math.round(n),r=Math.round(r),s=(s="000000"+(a<<16|n<<8|r).toString(16)).substr(s.length-6),o=(o="0"+gt(255*i).toString(16)).substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},l.hex=function(t){return w(t)},ot.hex=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["hex"]),function(){})},T.prototype.hex=function(t){return null==t&&(t="rgb"),J(this._rgb,t)},u.push({p:4,test:function(t){if(1===arguments.length&&"string"===_t(t))return"hex"}}),M=function(){var t,e,i,r,n,o,a,s,c,u,h,l,p,d;if(n=(t=wt(arguments))[0],h=t[1],a=t[2],0===h)c=r=e=255*a;else{for(i=[0,0,0],l=2*a-(p=a<.5?a*(1+h):a+h-a*h),(d=[0,0,0])[0]=(n/=360)+1/3,d[1]=n,d[2]=n-1/3,o=s=0;s<=2;o=++s)d[o]<0&&(d[o]+=1),1<d[o]&&(d[o]-=1),6*d[o]<1?i[o]=l+6*(p-l)*d[o]:2*d[o]<1?i[o]=p:3*d[o]<2?i[o]=l+(p-l)*(2/3-d[o])*6:i[o]=l;c=(u=[gt(255*i[0]),gt(255*i[1]),gt(255*i[2])])[0],r=u[1],e=u[2]}return 3<t.length?[c,r,e,t[3]]:[c,r,e]},tt=function(t,e,i){var r,n,o,a,s;return void 0!==t&&3<=t.length&&(t=(a=t)[0],e=a[1],i=a[2]),t/=255,e/=255,i/=255,o=Math.min(t,e,i),n=((ct=Math.max(t,e,i))+o)/2,ct===o?(s=0,r=Number.NaN):s=n<.5?(ct-o)/(ct+o):(ct-o)/(2-ct-o),t===ct?r=(e-i)/(ct-o):e===ct?r=2+(i-t)/(ct-o):i===ct&&(r=4+(t-e)/(ct-o)),(r*=60)<0&&(r+=360),[r,s,n]},ot.hsl=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["hsl"]),function(){})},l.hsl=M,T.prototype.hsl=function(){return tt(this._rgb)},E=function(){var t,e,i,r,n,o,a,s,c,u,h,l,p,d,f,m,g,v;if(n=(t=wt(arguments))[0],m=t[1],v=t[2],v*=255,0===m)c=r=e=v;else switch(360===n&&(n=0),360<n&&(n-=360),n<0&&(n+=360),a=v*(1-m),s=v*(1-m*(i=(n/=60)-(o=at(n)))),g=v*(1-m*(1-i)),o){case 0:c=(u=[v,g,a])[0],r=u[1],e=u[2];break;case 1:c=(h=[s,v,a])[0],r=h[1],e=h[2];break;case 2:c=(l=[a,v,g])[0],r=l[1],e=l[2];break;case 3:c=(p=[a,s,v])[0],r=p[1],e=p[2];break;case 4:c=(d=[g,a,v])[0],r=d[1],e=d[2];break;case 5:c=(f=[v,a,s])[0],r=f[1],e=f[2]}return[c,r,e,3<t.length?t[3]:1]},et=function(){var t,e,i,r,n,o,a,s,c;return o=(a=wt(arguments))[0],i=a[1],t=a[2],n=Math.min(o,i,t),e=(ct=Math.max(o,i,t))-n,c=ct/255,0===ct?(r=Number.NaN,s=0):(s=e/ct,o===ct&&(r=(i-t)/e),i===ct&&(r=2+(t-o)/e),t===ct&&(r=4+(o-i)/e),(r*=60)<0&&(r+=360)),[r,s,c]},ot.hsv=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["hsv"]),function(){})},l.hsv=E,T.prototype.hsv=function(){return et(this._rgb)},X=function(t){return"number"===_t(t)&&0<=t&&t<=16777215?[t>>16,t>>8&255,255&t,1]:(console.warn("unknown num color: "+t),[0,0,0,1])},lt=function(){var t;return((t=wt(arguments))[0]<<16)+(t[1]<<8)+t[2]},ot.num=function(t){return new T(t,"num")},T.prototype.num=function(t){return null==t&&(t="rgb"),lt(this._rgb,t)},l.num=X,u.push({p:1,test:function(t){if(1===arguments.length&&"number"===_t(t)&&0<=t&&t<=16777215)return"num"}}),_=function(){var t,e,i,r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b;if(s=(i=wt(arguments))[0],n=i[1],e=i[2],a=a/100*255,t=255*(n/=100),0===n)l=a=r=e;else switch(360===s&&(s=0),360<s&&(s-=360),s<0&&(s+=360),h=(u=e*(1-n))+t*(1-(o=(s/=60)-(c=at(s)))),y=u+t*o,b=u+t,c){case 0:l=(p=[b,y,u])[0],a=p[1],r=p[2];break;case 1:l=(d=[h,b,u])[0],a=d[1],r=d[2];break;case 2:l=(f=[u,b,y])[0],a=f[1],r=f[2];break;case 3:l=(m=[u,h,b])[0],a=m[1],r=m[2];break;case 4:l=(g=[y,u,b])[0],a=g[1],r=g[2];break;case 5:l=(v=[b,u,h])[0],a=v[1],r=v[2]}return[l,a,r,3<i.length?i[3]:1]},K=function(){var t,e,i,r,n,o,a,s,c;return s=(c=wt(arguments))[0],n=c[1],e=c[2],a=Math.min(s,n,e),i=100*(r=(ct=Math.max(s,n,e))-a)/255,t=a/(255-r)*100,0===r?o=Number.NaN:(s===ct&&(o=(n-e)/r),n===ct&&(o=2+(e-s)/r),e===ct&&(o=4+(s-n)/r),(o*=60)<0&&(o+=360)),[o,i,t]},ot.hcg=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["hcg"]),function(){})},l.hcg=_,T.prototype.hcg=function(){return K(this._rgb)},v=function(t){var e,i,r,n,o,a,s,c;if(t=t.toLowerCase(),null!=ot.colors&&ot.colors[t])return w(ot.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),n=a=0;a<=2;n=++a)s[n]=+s[n];s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),n=c=0;c<=3;n=++c)s[n]=+s[n];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),n=e=0;e<=2;n=++e)s[n]=gt(2.55*s[n]);s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),n=i=0;i<=2;n=++i)s[n]=gt(2.55*s[n]);s[3]=+s[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(s=M(r))[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(s=M(r))[3]=+o[4]);return s},Z=function(t){var e;return"rgb"===(e=t[3]<1?"rgba":"rgb")?e+"("+t.slice(0,3).map(gt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(gt).join(",")+","+t[3]+")":void 0},mt=function(t){return gt(100*t)/100},A=function(t,e){var i;return i=e<1?"hsla":"hsl",t[0]=mt(t[0]||0),t[1]=mt(100*t[1])+"%",t[2]=mt(100*t[2])+"%","hsla"===i&&(t[3]=e),i+"("+t.join(",")+")"},l.css=function(t){return v(t)},ot.css=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["css"]),function(){})},T.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?Z(this._rgb):"hsl"===t.slice(0,3)?A(this.hsl(),this.alpha()):void 0},l.named=function(t){return w(St[t])},u.push({p:5,test:function(t){if(1===arguments.length&&null!=St[t])return"named"}}),T.prototype.name=function(t){var e,i;for(i in arguments.length&&(St[t]&&(this._rgb=w(St[t])),this._rgb[3]=1),e=this.hex(),St)if(e===St[i])return i;return e},U=function(){var t,e,i,r;return i=(r=wt(arguments))[0],t=r[1],e=r[2],[i,O(e*=n)*t,yt(e)*t]},j=function(){var t,e,i,r,n,o,a,s,c;return a=(i=wt(arguments))[0],n=i[1],o=i[2],t=(s=U(a,n,o))[0],e=s[1],r=s[2],[(c=F(t,e,r))[0],c[1],r=c[2],3<i.length?i[3]:1]},N=function(){var t,e,i,r,n,o;return n=(o=wt(arguments))[0],t=o[1],e=o[2],i=bt(t*t+e*e),r=(I(e,t)*a+360)%360,0===gt(1e4*i)&&(r=Number.NaN),[n,i,r]},rt=function(){var t,e,i,r,n,o,a;return n=(o=wt(arguments))[0],i=o[1],e=o[2],r=(a=it(n,i,e))[0],t=a[1],e=a[2],N(r,t,e)},ot.lch=function(){var t;return t=wt(arguments),new T(t,"lch")},ot.hcl=function(){var t;return t=wt(arguments),new T(t,"hcl")},l.lch=j,l.hcl=function(){var t,e,i,r;return e=(r=wt(arguments))[0],t=r[1],i=r[2],j([i,t,e])},T.prototype.lch=function(){return rt(this._rgb)},T.prototype.hcl=function(){return rt(this._rgb).reverse()},Y=function(t){var e,i,r,n,o,a;return null==t&&(t="rgb"),o=(a=wt(arguments))[0],r=a[1],e=a[2],r/=255,e/=255,[(1-(o/=255)-(n=1-Math.max(o,Math.max(r,e))))*(i=n<1?1/(1-n):0),(1-r-n)*i,(1-e-n)*i,n]},o=function(){var t,e,i,r,n,o;return i=(e=wt(arguments))[0],n=e[1],o=e[2],r=e[3],t=4<e.length?e[4]:1,1===r?[0,0,0,t]:[1<=i?0:255*(1-i)*(1-r),1<=n?0:255*(1-n)*(1-r),1<=o?0:255*(1-o)*(1-r),t]},l.cmyk=function(){return o(wt(arguments))},ot.cmyk=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["cmyk"]),function(){})},T.prototype.cmyk=function(){return Y(this._rgb)},l.gl=function(){var t,i,e,r,n;for(r=function(){var t,e;for(i in e=[],t=wt(arguments))n=t[i],e.push(n);return e}.apply(this,arguments),t=e=0;e<=2;t=++e)r[t]*=255;return r},ot.gl=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["gl"]),function(){})},T.prototype.gl=function(){var t;return[(t=this._rgb)[0]/255,t[1]/255,t[2]/255,t[3]]},ht=function(t,e,i){var r;return t=(r=wt(arguments))[0],e=r[1],i=r[2],.2126*(t=H(t))+.7152*(e=H(e))+.0722*(i=H(i))},H=function(t){return(t/=255)<=.03928?t/12.92:ut((t+.055)/1.055,2.4)},B=function(t,e,i,r){var n,o;return n=t._rgb,o=e._rgb,new T(n[0]+i*(o[0]-n[0]),n[1]+i*(o[1]-n[1]),n[2]+i*(o[2]-n[2]),r)},p.push(["rgb",B]),T.prototype.luminance=function(n,o){var t,a,e,s;return null==o&&(o="rgb"),arguments.length?(e=this._rgb,0===n?e=[0,0,0,this._rgb[3]]:1===n?e=[255,255,255,this[3]]:(t=ht(this._rgb),1e-7,a=20,s=function(t,e){var i,r;return i=(r=t.interpolate(e,.5,o)).luminance(),Math.abs(n-i)<1e-7||!a--?r:n<i?s(t,r):s(r,e)},e=n<t?s(ot("black"),this).rgba():s(this,ot("white")).rgba()),ot(e).alpha(this.alpha())):ht(this._rgb)},xt=function(t){var e,i,r,n;return(n=t/100)<66?(r=255,i=-155.25485562709179-.44596950469579133*(i=n-2)+104.49216199393888*st(i),e=n<20?0:.8274096064007395*(e=n-10)-254.76935184120902+115.67994401066147*st(e)):(r=351.97690566805693+.114206453784165*(r=n-55)-40.25366309332127*st(r),i=325.4494125711974+.07943456536662342*(i=n-50)-28.0852963507957*st(i),e=255),[r,i,e]},pt=function(){var t,e,i,r,n,o,a;for(r=(n=wt(arguments))[0],n[1],t=n[2],i=1e3,e=4e4,.4;.4<e-i;)(o=xt(a=.5*(e+i)))[2]/o[0]>=t/r?e=a:i=a;return gt(a)},ot.temperature=ot.kelvin=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["temperature"]),function(){})},l.temperature=l.kelvin=l.K=xt,T.prototype.temperature=function(){return pt(this._rgb)},T.prototype.kelvin=T.prototype.temperature,ot.contrast=function(t,e){var i,r,n,o;return"string"!==(n=_t(t))&&"number"!==n||(t=new T(t)),"string"!==(o=_t(e))&&"number"!==o||(e=new T(e)),i=t.luminance(),(r=e.luminance())<i?(i+.05)/(r+.05):(r+.05)/(i+.05)},ot.distance=function(t,e,i){var r,n,o,a,s,c,u;for(n in null==i&&(i="lab"),"string"!==(s=_t(t))&&"number"!==s||(t=new T(t)),"string"!==(c=_t(e))&&"number"!==c||(e=new T(e)),o=t.get(i),a=e.get(i),u=0,o)u+=(r=(o[n]||0)-(a[n]||0))*r;return Math.sqrt(u)},ot.deltaE=function(t,e,i,r){var n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b,x,_,w,S,A,M,E,P;for(null==i&&(i=1),null==r&&(r=1),"string"!==(y=_t(t))&&"number"!==y||(t=new T(t)),"string"!==(b=_t(e))&&"number"!==b||(e=new T(e)),n=(x=t.lab())[0],a=x[1],c=x[2],o=(_=e.lab())[0],s=_[1],u=_[2],h=bt(a*a+c*c),l=bt(s*s+u*u),S=n<16?.511:.040975*n/(1+.01765*n),w=.0638*h/(1+.0131*h)+.638,v=h<1e-6?0:180*I(c,a)/C;v<0;)v+=360;for(;360<=v;)v-=360;return A=164<=v&&v<=345?.56+nt(.2*O(C*(v+168)/180)):.36+nt(.4*O(C*(v+35)/180)),g=bt((p=h*h*h*h)/(p+1900)),bt((M=(n-o)/(i*S))*M+(E=(m=h-l)/(r*w))*E+((d=a-s)*d+(f=c-u)*f-m*m)/((P=w*(g*A+1-g))*P))},T.prototype.get=function(t){var e,i,r,n,o;return this,r=(n=t.split("."))[0],e=n[1],o=this[r](),e?-1<(i=r.indexOf(e))?o[i]:console.warn("unknown channel "+e+" in mode "+r):o},T.prototype.set=function(t,e){var i,r,n,o,a;if(this,n=(o=t.split("."))[0],i=o[1])if(a=this[n](),-1<(r=n.indexOf(i)))if("string"===_t(e))switch(e.charAt(0)){case"+":case"-":a[r]+=+e;break;case"*":a[r]*=+e.substr(1);break;case"/":a[r]/=+e.substr(1);break;default:a[r]=+e}else a[r]=e;else console.warn("unknown channel "+i+" in mode "+n);else a=e;return ot(a,n).alpha(this.alpha())},T.prototype.clipped=function(){return this._rgb._clipped||!1},T.prototype.alpha=function(t){return arguments.length?ot.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},T.prototype.darken=function(t){var e;return null==t&&(t=1),(e=this.lab())[0]-=s.Kn*t,ot.lab(e).alpha(this.alpha())},T.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},T.prototype.darker=T.prototype.darken,T.prototype.brighter=T.prototype.brighten,T.prototype.saturate=function(t){var e;return null==t&&(t=1),(e=this.lch())[1]+=t*s.Kn,e[1]<0&&(e[1]=0),ot.lch(e).alpha(this.alpha())},T.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},T.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),ot(e[0]*t,e[1]*t,e[2]*t,t)},W=function(t,e){return t*e/255},y=function(t,e){return e<t?e:t},G=function(t,e){return e<t?t:e},vt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},q=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},e=function(t,e){return 255*(1-(1-e/255)/(t/255))},b=function(t,e){return 255===t?255:255<(t=e/255*255/(1-t/255))?255:t},(r=function(t,e,i){if(!r[i])throw"unknown blend mode "+i;return r[i](t,e)}).normal=(t=function(n){return function(t,e){var i,r;return i=ot(e).rgb(),r=ot(t).rgb(),ot(n(i,r),"rgb")}})((x=function(o){return function(t,e){var i,r,n;for(n=[],i=r=0;r<=3;i=++r)n[i]=o(t[i],e[i]);return n}})(function(t,e){return t})),r.multiply=t(x(W)),r.screen=t(x(vt)),r.overlay=t(x(q)),r.darken=t(x(y)),r.lighten=t(x(G)),r.dodge=t(x(b)),r.burn=t(x(e)),ot.blend=r,ot.analyze=function(t){var e,i,r,n;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},i=0,e=t.length;i<e;i++)null==(n=t[i])||isNaN(n)||(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(t,e){return ot.limits(r,t,e)},r},ot.scale=function(h,t){var l,u,p,e,d,f,m,g,v,y,i,b,x,r,_,w,S,A,s,n,M;return v="rgb",y=ot("#ccc"),d=[r=0,1],x=[],l=!(b=[0,0]),i=!(p=[]),g=0,u={},_=!(e=!(m=1)),f=1,n=function(t){var e,i,r,n,o,a;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===_t(t)&&null!=ot.brewer&&(t=ot.brewer[t]||ot.brewer[t.toLowerCase()]||t),"array"===_t(t)){for(e=r=0,n=(t=t.slice(0)).length-1;0<=n?r<=n:n<=r;e=0<=n?++r:--r)i=t[e],"string"===_t(i)&&(t[e]=ot(i));for(e=a=x.length=0,o=t.length-1;0<=o?a<=o:o<=a;e=0<=o?++a:--a)x.push(e/(t.length-1))}return s(),p=t},S=function(t){var e,i;if(null!=l){for(i=l.length-1,e=0;e<i&&t>=l[e];)e++;return e-1}return 0},M=function(t){return t},A=function(t,e){var i,r,n,o,a,s,c;if(null==e&&(e=!1),isNaN(t))return y;if(c=e?t:l&&2<l.length?S(t)/(l.length-2):m!==g?(t-g)/(m-g):1,e||(c=M(c)),1!==f&&(c=ut(c,f)),c=b[0]+c*(1-b[0]-b[1]),c=Math.min(1,Math.max(0,c)),n=Math.floor(1e4*c),_&&u[n])i=u[n];else{if("array"===_t(p))for(r=o=0,s=x.length-1;0<=s?o<=s:s<=o;r=0<=s?++o:--o){if(c<=(a=x[r])){i=p[r];break}if(a<=c&&r===x.length-1){i=p[r];break}if(a<c&&c<x[r+1]){c=(c-a)/(x[r+1]-a),i=ot.interpolate(p[r],p[r+1],c,v);break}}else"function"===_t(p)&&(i=p(c));_&&(u[n]=i)}return i},s=function(){return u={}},n(h),(w=function(t){var e;return e=ot(A(t)),i&&e[i]?e[i]():e}).classes=function(t){var e;return null!=t?("array"===_t(t)?d=[(l=t)[0],t[t.length-1]]:(e=ot.analyze(d),l=0===t?[e.min,e.max]:ot.limits(e,"e",t)),w):l},w.domain=function(t){var e,i,r,n,o,a,s;if(!arguments.length)return d;if(g=t[0],m=t[t.length-1],x=[],r=p.length,t.length===r&&g!==m)for(o=0,n=t.length;o<n;o++)i=t[o],x.push((i-g)/(m-g));else for(e=s=0,a=r-1;0<=a?s<=a:a<=s;e=0<=a?++s:--s)x.push(e/(r-1));return d=[g,m],w},w.mode=function(t){return arguments.length?(v=t,s(),w):v},w.range=function(t,e){return n(t),w},w.out=function(t){return i=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),e=t,s(),M=e?function(t){var e,i,r,n,o,a,s,c,u;for(e=A(0,!0).lab()[0],i=A(1,!0).lab()[0],s=i<e,r=A(t,!0).lab()[0],n=r-(o=e+(i-e)*t),c=0,u=1,a=20;.01<Math.abs(n)&&0<a--;)s&&(n*=-1),t+=n<0?.5*(u-(c=t)):.5*(c-(u=t)),r=A(t,!0).lab()[0],n=r-o;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===_t(t)&&(t=[t,t]),b=t,w):b},w.colors=function(e,i){var r,n,t,o,a,s,c,u;if(arguments.length<2&&(i="hex"),a=[],0===arguments.length)a=p.slice(0);else if(1===e)a=[w(.5)];else if(1<e)n=d[0],r=d[1]-n,a=function(){s=[];for(var t=0;0<=e?t<e:e<t;0<=e?t++:t--)s.push(t);return s}.apply(this).map(function(t){return w(n+t/(e-1)*r)});else{if(h=[],c=[],l&&2<l.length)for(t=u=1,o=l.length;1<=o?u<o:o<u;t=1<=o?++u:--u)c.push(.5*(l[t-1]+l[t]));else c=d;a=c.map(function(t){return w(t)})}return ot[i]&&(a=a.map(function(t){return t[i]()})),a},w.cache=function(t){return null!=t?(_=t,w):_},w.gamma=function(t){return null!=t?(f=t,w):f},w},null==ot.scales&&(ot.scales={}),ot.scales.cool=function(){return ot.scale([ot.hsl(180,1,.9),ot.hsl(250,.7,.4)])},ot.scales.hot=function(){return ot.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},ot.analyze=function(t,i,r){var n,e,o,a,s,c;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==r&&(r=function(){return!0}),n=function(t){null==t||isNaN(t)||(s.values.push(t),s.sum+=t,t<s.min&&(s.min=t),t>s.max&&(s.max=t),s.count+=1)},c=function(t,e){if(r(t,e))return null!=i&&"function"===_t(i)?n(i(t)):null!=i&&"string"===_t(i)||"number"===_t(i)?n(t[i]):n(t)},"array"===_t(t))for(a=0,o=t.length;a<o;a++)c(t[a]);else for(e in t)c(t[e],e);return s.domain=[s.min,s.max],s.limits=function(t,e){return ot.limits(s,t,e)},s},ot.limits=function(t,e,i){var r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b,x,_,w,S,A,M,E,P,T,C,I,O,L,R,D,k,B,N,F,z,U,j,G,V,H,$,W,X,q,Y,Z,K,J,Q,tt,et,it,rt;if(null==e&&(e="equal"),null==i&&(i=7),"array"===_t(t)&&(t=ot.analyze(t)),P=t.min,ct=t.max,t.sum,it=t.values.sort(function(t,e){return t-e}),1===i)return[P,ct];if(M=[],"c"===e.substr(0,1)&&(M.push(P),M.push(ct)),"e"===e.substr(0,1)){for(M.push(P),w=R=1,N=i-1;1<=N?R<=N:N<=R;w=1<=N?++R:--R)M.push(P+w/i*(ct-P));M.push(ct)}else if("l"===e.substr(0,1)){if(P<=0)throw"Logarithmic scales are only possible for values > 0";for(T=Math.LOG10E*st(P),E=Math.LOG10E*st(ct),M.push(P),w=rt=1,F=i-1;1<=F?rt<=F:F<=rt;w=1<=F?++rt:--rt)M.push(ut(10,T+w/i*(E-T)));M.push(ct)}else if("q"===e.substr(0,1)){for(M.push(P),w=r=1,H=i-1;1<=H?r<=H:H<=r;w=1<=H?++r:--r)D=(it.length-1)*w/i,(k=at(D))===D?M.push(it[k]):(B=D-k,M.push(it[k]*(1-B)+it[k+1]*B));M.push(ct)}else if("k"===e.substr(0,1)){for(I=it.length,g=new Array(I),x=new Array(i),J=!0,O=0,y=null,(y=[]).push(P),w=n=1,$=i-1;1<=$?n<=$:$<=n;w=1<=$?++n:--n)y.push(P+w/i*(ct-P));for(y.push(ct);J;){for(S=o=0,W=i-1;0<=W?o<=W:W<=o;S=0<=W?++o:--o)x[S]=0;for(w=a=0,X=I-1;0<=X?a<=X:X<=a;w=0<=X?++a:--a){for(et=it[w],C=Number.MAX_VALUE,S=s=0,q=i-1;0<=q?s<=q:q<=s;S=0<=q?++s:--s)(_=nt(y[S]-et))<C&&(C=_,v=S);x[v]++,g[w]=v}for(L=new Array(i),S=c=0,Y=i-1;0<=Y?c<=Y:Y<=c;S=0<=Y?++c:--c)L[S]=null;for(w=u=0,Z=I-1;0<=Z?u<=Z:Z<=u;w=0<=Z?++u:--u)null===L[b=g[w]]?L[b]=it[w]:L[b]+=it[w];for(S=h=0,K=i-1;0<=K?h<=K:K<=h;S=0<=K?++h:--h)L[S]*=1/x[S];for(J=!1,S=l=0,z=i-1;0<=z?l<=z:z<=l;S=0<=z?++l:--l)if(L[S]!==y[w]){J=!0;break}y=L,200<++O&&(J=!1)}for(A={},S=p=0,U=i-1;0<=U?p<=U:U<=p;S=0<=U?++p:--p)A[S]=[];for(w=d=0,j=I-1;0<=j?d<=j:j<=d;w=0<=j?++d:--d)A[b=g[w]].push(it[w]);for(Q=[],S=f=0,G=i-1;0<=G?f<=G:G<=f;S=0<=G?++f:--f)Q.push(A[S][0]),Q.push(A[S][A[S].length-1]);for(Q=Q.sort(function(t,e){return t-e}),M.push(Q[0]),w=m=1,V=Q.length-1;m<=V;w=m+=2)tt=Q[w],isNaN(tt)||-1!==M.indexOf(tt)||M.push(tt)}return M},S=function(t,e,i){var r,n,o,a;return t=(r=wt(arguments))[0],e=r[1],i=r[2],isNaN(t)&&(t=0),(t/=360)<1/3?o=1-((n=(1-e)/3)+(a=(1+e*O(d*t)/O(c-d*t))/3)):t<2/3?n=1-((a=(1-e)/3)+(o=(1+e*O(d*(t-=1/3))/O(c-d*t))/3)):a=1-((o=(1-e)/3)+(n=(1+e*O(d*(t-=2/3))/O(c-d*t))/3)),[255*(a=V(i*a*3)),255*(o=V(i*o*3)),255*(n=V(i*n*3)),3<r.length?r[3]:1]},Q=function(){var t,e,i,r,n,o,a;return n=(o=wt(arguments))[0],e=o[1],t=o[2],d=2*Math.PI,n/=255,e/=255,t/=255,0===(a=1-Math.min(n,e,t)/(r=(n+e+t)/3))?i=0:(i=(n-e+(n-t))/2,i/=Math.sqrt((n-e)*(n-e)+(n-t)*(e-t)),i=Math.acos(i),e<t&&(i=d-i),i/=d),[360*i,a,r]},ot.hsi=function(){return function(t,e,i){i.prototype=t.prototype;var r=new i,n=t.apply(r,e);return Object(n)===n?n:r}(T,Et.call(arguments).concat(["hsi"]),function(){})},l.hsi=S,T.prototype.hsi=function(){return Q(this._rgb)},L=function(t,e,i,r){var n,o,a,s,c,u,h,l,p,d;return"hsl"===r?(p=t.hsl(),d=e.hsl()):"hsv"===r?(p=t.hsv(),d=e.hsv()):"hcg"===r?(p=t.hcg(),d=e.hcg()):"hsi"===r?(p=t.hsi(),d=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",p=t.hcl(),d=e.hcl()),"h"===r.substr(0,1)&&(o=p[0],h=p[1],s=p[2],a=d[0],l=d[1],c=d[2]),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?n=Number.NaN:(n=a,1!==s&&0!==s||"hsv"===r||(u=l)):(n=o,1!==c&&0!==c||"hsv"===r||(u=h)):n=o+i*(o<a&&180<a-o?a-(o+360):a<o&&180<o-a?a+360-o:a-o),null==u&&(u=h+i*(l-h)),ot[r](n,u,s+i*(c-s))},k=function(t,e,i,r){var n,o;return n=t.num(),o=e.num(),ot.num(n+(o-n)*i,"num")},(p=p.concat(function(){var t,e,i,r;for(r=[],e=0,t=(i=["hsv","hsl","hsi","hcl","lch","hcg"]).length;e<t;e++)$=i[e],r.push([$,L]);return r}())).push(["num",k]),R=function(t,e,i,r){var n,o;return n=t.lab(),o=e.lab(),new T(n[0]+i*(o[0]-n[0]),n[1]+i*(o[1]-n[1]),n[2]+i*(o[2]-n[2]),r)},p.push(["lab",R])}).call(Kl)}).scale,tp={scale:"uniform",mode:"hcl",domain:[0,1],value:16777215,reverse:!1},ep=new ki,ip=function(t){void 0===t&&(t={}),this.parameters=xl(t,tp),"string"==typeof this.parameters.value&&(this.parameters.value=ep.set(this.parameters.value).getHex()),this.parameters.structure&&(this.atomProxy=this.parameters.structure.getAtomProxy())};ip.prototype.getScale=function(t){void 0===t&&(t={});var e=xl(t,this.parameters);return"rainbow"===e.scale?e.scale=["red","orange","yellow","green","blue"]:"rwb"===e.scale&&(e.scale=["red","white","blue"]),e.reverse&&e.domain.reverse(),Ql(e.scale).mode(e.mode).domain(e.domain).out("num")},ip.prototype.colorToArray=function(t,e,i){return void 0===e&&(e=[]),void 0===i&&(i=0),e[i]=(t>>16&255)/255,e[i+1]=(t>>8&255)/255,e[i+2]=(255&t)/255,e},ip.prototype.atomColorToArray=function(t,e,i){return this.colorToArray(this.atomColor?this.atomColor(t):0,e,i)},ip.prototype.bondColor=function(t,e){return this.atomProxy&&this.atomColor?(this.atomProxy.index=e?t.atomIndex1:t.atomIndex2,this.atomColor(this.atomProxy)):0},ip.prototype.bondColorToArray=function(t,e,i,r){return this.colorToArray(this.bondColor(t,e),i,r)},ip.prototype.volumeColorToArray=function(t,e,i){return this.colorToArray(this.volumeColor?this.volumeColor(t):0,e,i)},ip.prototype.positionColorToArray=function(t,e,i){return this.colorToArray(this.positionColor?this.positionColor(t):0,e,i)};var rp,np,op=Jl(function(n){!function(t){function a(t,e,i,r,n){this._listener=e,this._isOnce=i,this.context=r,this._signal=t,this._priority=n||0}function r(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function e(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){e.prototype.dispatch.apply(t,arguments)}}e.prototype={VERSION:"1.0.0",memorize:!(a.prototype={active:!0,params:null,execute:function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,i),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}}),_shouldPropagate:!0,active:!0,_registerListener:function(t,e,i,r){var n,o=this._indexOfListener(t,i);if(-1!==o){if((n=this._bindings[o]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else n=new a(this,t,e,i,r),this._addBinding(n);return this.memorize&&this._prevParams&&n.execute(this._prevParams),n},_addBinding:function(t){for(var e=this._bindings.length;--e,this._bindings[e]&&t._priority<=this._bindings[e]._priority;);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var i,r=this._bindings.length;r--;)if((i=this._bindings[r])._listener===t&&i.context===e)return r;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){return r(t,"add"),this._registerListener(t,!1,e,i)},addOnce:function(t,e,i){return r(t,"addOnce"),this._registerListener(t,!0,e,i)},remove:function(t,e){r(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,i=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=i),r)for(e=this._bindings.slice(),this._shouldPropagate=!0;e[--r]&&this._shouldPropagate&&!1!==e[r].execute(i););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var i=e;i.Signal=e,n.exports?n.exports=i:t.signals=i}(Kl)}).Signal;(np=rp||(rp={}))[np.PROTEIN=1]="PROTEIN",np[np.NUCLEIC=2]="NUCLEIC",np[np.RNA=3]="RNA",np[np.DNA=4]="DNA",np[np.POLYMER=5]="POLYMER",np[np.WATER=6]="WATER",np[np.HELIX=7]="HELIX",np[np.SHEET=8]="SHEET",np[np.TURN=9]="TURN",np[np.BACKBONE=10]="BACKBONE",np[np.SIDECHAIN=11]="SIDECHAIN",np[np.ALL=12]="ALL",np[np.HETERO=13]="HETERO",np[np.ION=14]="ION",np[np.SACCHARIDE=15]="SACCHARIDE",np[np.SUGAR=15]="SUGAR",np[np.BONDED=16]="BONDED",np[np.RING=17]="RING",np[np.AROMATICRING=18]="AROMATICRING",np[np.METAL=19]="METAL",np[np.NONE=20]="NONE";var ap=["*","","ALL"],sp=["NONE"],cp=[rp.BACKBONE,rp.SIDECHAIN,rp.BONDED,rp.RING,rp.AROMATICRING,rp.METAL],up=[rp.POLYMER,rp.WATER],hp=["ALA","GLY","SER"],lp=["CYS","SER","THR"],pp=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],dp=["PHE","TRP","TYR","HIS"],fp=["ASN","GLN"],mp=["ASP","GLU"],gp=["ARG","HIS","LYS"],vp=["ARG","ASP","GLU","HIS","LYS"],yp=["ASN","ARG","ASP","CYS","GLY","GLN","GLU","HIS","LYS","SER","THR","TYR"],bp=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],xp=["HIS","PHE","PRO","TRP","TYR"],_p=["ALA","GLY","ILE","LEU","VAL"];function wp(t,e){if(void 0===e.atomname&&void 0===e.element&&void 0===e.altloc&&void 0===e.atomindex&&void 0===e.keyword&&void 0===e.inscode&&void 0===e.resname&&void 0===e.sstruc&&void 0===e.resno&&void 0===e.chainname&&void 0===e.model)return-1;if(void 0!==e.keyword){if(e.keyword===rp.BACKBONE&&!t.isBackbone())return!1;if(e.keyword===rp.SIDECHAIN&&!t.isSidechain())return!1;if(e.keyword===rp.BONDED&&!t.isBonded())return!1;if(e.keyword===rp.RING&&!t.isRing())return!1;if(e.keyword===rp.AROMATICRING&&!t.isAromatic())return!1;if(e.keyword===rp.HETERO&&!t.isHetero())return!1;if(e.keyword===rp.PROTEIN&&!t.isProtein())return!1;if(e.keyword===rp.NUCLEIC&&!t.isNucleic())return!1;if(e.keyword===rp.RNA&&!t.isRna())return!1;if(e.keyword===rp.DNA&&!t.isDna())return!1;if(e.keyword===rp.POLYMER&&!t.isPolymer())return!1;if(e.keyword===rp.WATER&&!t.isWater())return!1;if(e.keyword===rp.HELIX&&!t.isHelix())return!1;if(e.keyword===rp.SHEET&&!t.isSheet())return!1;if(e.keyword===rp.TURN&&!t.isTurn())return!1;if(e.keyword===rp.ION&&!t.isIon())return!1;if(e.keyword===rp.SACCHARIDE&&!t.isSaccharide())return!1;if(e.keyword===rp.METAL&&!t.isMetal())return!1}if(void 0!==e.atomname&&e.atomname!==t.atomname)return!1;if(void 0!==e.element&&e.element!==t.element)return!1;if(void 0!==e.altloc&&e.altloc!==t.altloc)return!1;if(void 0!==e.atomindex&&Pl(e.atomindex,t.index)<0)return!1;if(void 0!==e.resname)if(Array.isArray(e.resname)){if(!e.resname.includes(t.resname))return!1}else if(e.resname!==t.resname)return!1;if(void 0!==e.sstruc&&e.sstruc!==t.sstruc)return!1;if(void 0!==e.resno)if(Array.isArray(e.resno)&&2===e.resno.length){if(e.resno[0]>t.resno||e.resno[1]<t.resno)return!1}else if(e.resno!==t.resno)return!1;return(void 0===e.inscode||e.inscode===t.inscode)&&((void 0===e.chainname||e.chainname===t.chainname)&&(void 0===e.model||e.model===t.modelIndex))}function Sp(t,e){if(void 0===e.resname&&void 0===e.resno&&void 0===e.inscode&&void 0===e.sstruc&&void 0===e.model&&void 0===e.chainname&&void 0===e.atomindex&&(void 0===e.keyword||cp.includes(e.keyword)))return-1;if(void 0!==e.keyword){if(e.keyword===rp.HETERO&&!t.isHetero())return!1;if(e.keyword===rp.PROTEIN&&!t.isProtein())return!1;if(e.keyword===rp.NUCLEIC&&!t.isNucleic())return!1;if(e.keyword===rp.RNA&&!t.isRna())return!1;if(e.keyword===rp.DNA&&!t.isDna())return!1;if(e.keyword===rp.POLYMER&&!t.isPolymer())return!1;if(e.keyword===rp.WATER&&!t.isWater())return!1;if(e.keyword===rp.HELIX&&!t.isHelix())return!1;if(e.keyword===rp.SHEET&&!t.isSheet())return!1;if(e.keyword===rp.TURN&&!t.isTurn())return!1;if(e.keyword===rp.ION&&!t.isIon())return!1;if(e.keyword===rp.SACCHARIDE&&!t.isSaccharide())return!1}if(void 0!==e.atomindex&&0===Tl(e.atomindex,t.atomOffset,t.atomEnd))return!1;if(void 0!==e.resname)if(Array.isArray(e.resname)){if(!e.resname.includes(t.resname))return!1}else if(e.resname!==t.resname)return!1;if(void 0!==e.sstruc&&e.sstruc!==t.sstruc)return!1;if(void 0!==e.resno)if(Array.isArray(e.resno)&&2===e.resno.length){if(e.resno[0]>t.resno||e.resno[1]<t.resno)return!1}else if(e.resno!==t.resno)return!1;return(void 0===e.inscode||e.inscode===t.inscode)&&((void 0===e.chainname||e.chainname===t.chainname)&&(void 0===e.model||e.model===t.modelIndex))}function Ap(t,e){if(!(void 0!==e.chainname||void 0!==e.model||void 0!==e.atomindex||void 0!==e.keyword&&up.includes(e.keyword)&&t.entity))return-1;if(void 0!==e.keyword){if(e.keyword===rp.POLYMER&&!t.entity.isPolymer())return!1;if(e.keyword===rp.WATER&&!t.entity.isWater())return!1}return(void 0===e.atomindex||0!==Tl(e.atomindex,t.atomOffset,t.atomEnd))&&((void 0===e.chainname||e.chainname===t.chainname)&&(void 0===e.model||e.model===t.modelIndex))}function Mp(t,e){return void 0===e.model&&void 0===e.atomindex?-1:(void 0===e.atomindex||0!==Tl(e.atomindex,t.atomOffset,t.atomEnd))&&(void 0===e.model||e.model===t.index)}function Ep(s,c){if(null===s)return!1;if(s.error)return!1;if(!s.rules||0===s.rules.length)return!1;for(var u=s.rules.length,h=!s.negate,l=!!s.negate,p=[],t=0;t<u;++t){var e=s.rules[t];e.hasOwnProperty("operator")&&(p[t]=Ep(e,c))}return function(t){for(var e="AND"===s.operator,i=!1,r=0;r<u;++r){var n=s.rules[r],o=void 0;if(n.hasOwnProperty("operator")){var a=p[r];if(-1===(o=!1!==a?a(t):-1)){i=!0;continue}if(!0===o){if(e)continue;return h}if(e)return l}else{if(n.keyword===rp.ALL){if(e)continue;return h}if(n.keyword===rp.NONE){if(e)continue;return l}if(-1!==(o=c(t,n))){if(!0===o){if(e)continue;return h}if(e)return l}else i=!0}}return i?-1:e?h:l}}function Pp(t,e){if(t.error)return t;if(!t.rules||0===t.rules.length)return t;var i=t.rules.length,r={operator:t.operator,rules:[]};t.hasOwnProperty("negate")&&(r.negate=t.negate);for(var n=0;n<i;++n){var o=t.rules[n];if(o.hasOwnProperty("operator")){var a=Pp(o,e);null!==a&&r.rules.push(a)}else e(o)||r.rules.push(o)}return 0<r.rules.length?t:null}function Tp(t,e){void 0===e&&(e=!1);var i=t;return e&&(i=Pp(t,function(t){return void 0!==t.keyword&&!cp.includes(t.keyword)||(void 0!==t.model||(void 0!==t.chainname||(void 0!==t.resname||(void 0!==t.resno||void 0!==t.sstruc))))})),Ep(i,wp)}function Cp(t,e){void 0===e&&(e=!1);var i=t;return e&&(i=Pp(t,function(t){return!(void 0===t.keyword||!cp.includes(t.keyword))||(void 0!==t.model||(void 0!==t.chainname||(void 0!==t.atomname||(void 0!==t.element||void 0!==t.altloc))))})),Ep(i,Sp)}function Ip(t,e){void 0===e&&(e=!1);var i=t;return e&&(i=Pp(t,function(t){return void 0!==t.keyword&&!up.includes(t.keyword)||(void 0!==t.resname||(void 0!==t.resno||(void 0!==t.atomname||(void 0!==t.element||(void 0!==t.altloc||(void 0!==t.sstruc||void 0!==t.inscode))))))})),Ep(i,Ap)}function Op(t,e){void 0===e&&(e=!1);var i=t;return e&&(i=Pp(t,function(t){return void 0!==t.keyword||(void 0!==t.chainname||(void 0!==t.resname||(void 0!==t.resno||(void 0!==t.atomname||(void 0!==t.element||(void 0!==t.altloc||(void 0!==t.sstruc||void 0!==t.inscode)))))))})),Ep(i,Mp)}var Lp=function(t){this.signals={stringChanged:new op},this.setString(t)},Rp={type:{configurable:!0}};Rp.type.get=function(){return"selection"},Lp.prototype.setString=function(t,e){if(void 0===t&&(t=this.string||""),t!==this.string){try{this.selection=function(t){var e={operator:void 0,rules:[]};if(!t)return e;var i,r,n=e,o=[];"("===(t=t.replace(/\(/g," ( ").replace(/\)/g," ) ").trim()).charAt(0)&&")"===t.substr(-1)&&(t=t.slice(1,-1).trim());for(var a=t.split(/\s+/),s=function(t){i={operator:t,rules:[]},void 0===n?e=n=i:(n.rules.push(i),o.push(n),n=i)},c=function(t){r=n,void 0===(n=o.pop())&&(s(t),u(r))},u=function(t){n.rules.push(t)},h=!1,l=0;l<a.length;++l){var p=a[l],d=p.toUpperCase();if("("!==p)if(")"!==p){if(0<h)if("NOT"===d)h=1;else if(1===h)h=2;else{if(2!==h)throw new Error("something went wrong with 'not'");h=!1,c()}if("AND"!==d)if("OR"!==d)if("NOT"!==p.toUpperCase()){if(+d!=+d){var f=rp[d];if(void 0!==f){u({keyword:f});continue}}if("HYDROGEN"!==d)if("SMALL"!==d)if("NUCLEOPHILIC"!==d)if("HYDROPHOBIC"!==d)if("AROMATIC"!==d)if("AMIDE"!==d)if("ACIDIC"!==d)if("BASIC"!==d)if("CHARGED"!==d)if("POLAR"!==d)if("NONPOLAR"!==d)if("CYCLIC"!==d)if("ALIPHATIC"!==d)if("SIDECHAINATTACHED"!==d)if("LIGAND"!==d)if(-1===ap.indexOf(d))if("@"!==p.charAt(0))if("#"!==p.charAt(0))if("_"!==p.charAt(0))if("["!==p[0]||"]"!==p[p.length-1])if(1<=p.length&&p.length<=4&&"^"!==p[0]&&":"!==p[0]&&"."!==p[0]&&"%"!==p[0]&&"/"!==p[0]&&isNaN(parseInt(p)))u({resname:d});else{var m={operator:"AND",rules:[]},g=p.split("/");if(1<g.length&&g[1]){if(isNaN(parseInt(g[1])))throw new Error("model must be an integer");m.rules.push({model:parseInt(g[1])})}var v=g[0].split("%");1<v.length&&m.rules.push({altloc:v[1]});var y=v[0].split(".");if(1<y.length&&y[1]){if(4<y[1].length)throw new Error("atomname must be one to four characters");m.rules.push({atomname:y[1].substring(0,4).toUpperCase()})}var b=y[0].split(":");1<b.length&&b[1]&&m.rules.push({chainname:b[1]});var x=b[0].split("^");if(1<x.length&&m.rules.push({inscode:x[1]}),x[0]){var _=void 0,w=void 0;"-"===x[0][0]&&(x[0]=x[0].substr(1),_=!0),x[0].includes("--")&&(x[0]=x[0].replace("--","-"),w=!0);var S=x[0].split("-");if(1===S.length){var A=parseInt(S[0]);if(isNaN(A))throw new Error("resi must be an integer");_&&(A*=-1),m.rules.push({resno:A})}else{if(2!==S.length)throw new Error("resi range must contain one '-'");var M=S.map(function(t){return parseInt(t)});_&&(M[0]*=-1),w&&(M[1]*=-1),m.rules.push({resno:[M[0],M[1]]})}}if(1===m.rules.length)u(m.rules[0]);else{if(!(1<m.rules.length))throw new Error("empty selection chunk");u(m)}}else{var E=d.substr(1,p.length-2).split(","),P=1<E.length?E:E[0];u({resname:P})}else u({element:d.substr(1)});else console.error("# for element selection deprecated, use _"),u({element:d.substr(1)});else{var T=p.substr(1).split(",").map(function(t){return parseInt(t)});T.sort(function(t,e){return t-e}),u({atomindex:T})}else u({keyword:rp.ALL});else u({operator:"AND",rules:[{operator:"OR",rules:[{operator:"AND",rules:[{keyword:rp.HETERO},{negate:!0,operator:void 0,rules:[{keyword:rp.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{keyword:rp.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{operator:"OR",rules:[{keyword:rp.WATER},{keyword:rp.ION}]}]}]});else u({operator:"OR",rules:[{keyword:rp.SIDECHAIN},{operator:"AND",negate:!1,rules:[{keyword:rp.PROTEIN},{operator:"OR",negate:!1,rules:[{atomname:"CA"},{atomname:"BB"}]}]},{operator:"AND",negate:!1,rules:[{resname:"PRO"},{atomname:"N"}]},{operator:"AND",negate:!1,rules:[{keyword:rp.NUCLEIC},{operator:"OR",negate:!0,rules:[{atomname:"P"},{atomname:"OP1"},{atomname:"OP2"},{atomname:"O3'"},{atomname:"O3*"},{atomname:"O5'"},{atomname:"O5*"},{atomname:"C5'"},{atomname:"C5*"}]}]}]});else u({resname:_p});else u({resname:xp});else u({resname:bp});else u({resname:yp});else u({resname:vp});else u({resname:gp});else u({resname:mp});else u({resname:fp});else u({resname:dp});else u({resname:pp});else u({resname:lp});else u({resname:hp});else u({operator:"OR",rules:[{element:"H"},{element:"D"}]})}else h=1,s(),n.negate=!0;else"AND"===n.operator?c("OR"):n.operator="OR";else if("OR"===n.operator){var C=n.rules.pop();s("AND"),u(C)}else n.operator="AND"}else c(),n.negate&&c();else h=!1,s()}return void 0===e.operator&&1===e.rules.length&&e.rules[0].hasOwnProperty("operator")&&(e=e.rules[0]),e}(t)}catch(t){this.selection={error:t.message}}var i=this.selection;this.string=t,this.test=Tp(i),this.residueTest=Cp(i),this.chainTest=Ip(i),this.modelTest=Op(i),this.atomOnlyTest=Tp(i,!0),this.residueOnlyTest=Cp(i,!0),this.chainOnlyTest=Ip(i,!0),this.modelOnlyTest=Op(i,!0),e||this.signals.stringChanged.dispatch(this.string)}},Lp.prototype.isAllSelection=function(){return ap.includes(this.string.toUpperCase())},Lp.prototype.isNoneSelection=function(){return sp.includes(this.string.toUpperCase())},Object.defineProperties(Lp.prototype,Rp);var Dp=function(e){function t(t){var n=this;e.call(this,t),this.colormakerList=[],this.selectionList=[],(t.dataList||[]).forEach(function(t){var e=t[0],i=t[1],r=t[2];void 0===r&&(r={}),Qp.hasScheme(e)?Object.assign(r,{scheme:e,structure:n.parameters.structure}):Object.assign(r,{scheme:"uniform",value:new ki(e).getHex()}),n.colormakerList.push(Qp.getScheme(r)),n.selectionList.push(new Lp(i))})}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){for(var e=0,i=this.selectionList.length;e<i;++e){var r=this.selectionList[e].test;if(r&&r(t))return this.colormakerList[e].atomColor(t)}return 16777215},t}(ip),kp={"":"",OrRd:"[S] Orange-Red",PuBu:"[S] Purple-Blue",BuPu:"[S] Blue-Purple",Oranges:"[S] Oranges",BuGn:"[S] Blue-Green",YlOrBr:"[S] Yellow-Orange-Brown",YlGn:"[S] Yellow-Green",Reds:"[S] Reds",RdPu:"[S] Red-Purple",Greens:"[S] Greens",YlGnBu:"[S] Yellow-Green-Blue",Purples:"[S] Purples",GnBu:"[S] Green-Blue",Greys:"[S] Greys",YlOrRd:"[S] Yellow-Orange-Red",PuRd:"[S] Purple-Red",Blues:"[S] Blues",PuBuGn:"[S] Purple-Blue-Green",Viridis:"[D] Viridis",Spectral:"[D] Spectral",RdYlGn:"[D] Red-Yellow-Green",RdBu:"[D] Red-Blue",PiYG:"[D] Pink-Yellowgreen",PRGn:"[D] Purplered-Green",RdYlBu:"[D] Red-Yellow-Blue",BrBG:"[D] Brown-Bluegreen",RdGy:"[D] Red-Grey",PuOr:"[D] Purple-Orange",Set1:"[Q] Set1",Set2:"[Q] Set2",Set3:"[Q] Set3",Dark2:"[Q] Dark2",Paired:"[Q] Paired",Pastel1:"[Q] Pastel1",Pastel2:"[Q] Pastel2",Accent:"[Q] Accent",rainbow:"[?] Rainbow",rwb:"[?] Red-White-Blue"},Bp={"":"",rgb:"Red Green Blue",hsv:"Hue Saturation Value",hsl:"Hue Saturation Lightness",hsi:"Hue Saturation Intensity",lab:"CIE L*a*b*",hcl:"Hue Chroma Lightness"},Np=function(){this.schemes={},this.userSchemes={}};Np.prototype.getScheme=function(t){var e=((t||{}).scheme||"").toLowerCase();return new(e in this.schemes?this.schemes[e]:e in this.userSchemes?this.userSchemes[e]:ip)(t)},Np.prototype.getSchemes=function(){var e={};return Object.keys(this.schemes).forEach(function(t){e[t]=t}),Object.keys(this.userSchemes).forEach(function(t){e[t]=t.split("|")[1]}),e},Np.prototype.getScales=function(){return kp},Np.prototype.getModes=function(){return Bp},Np.prototype.add=function(t,e){t=t.toLowerCase(),this.schemes[t]=e},Np.prototype.addScheme=function(t,e){return t instanceof ip||(t=this._createScheme(t)),this._addUserScheme(t,e)},Np.prototype._addUserScheme=function(t,e){e=e||"";var i=($l()+"|"+e).toLowerCase();return this.userSchemes[i]=t,i},Np.prototype.removeScheme=function(t){t=t.toLowerCase(),delete this.userSchemes[t]},Np.prototype._createScheme=function(e){var t=function(t){ip.call(this,t),e.call(this,t)};return(t.prototype=ip.prototype).constructor=ip,t},Np.prototype.addSelectionScheme=function(i,t){var e=function(e){function t(t){e.call(this,Object.assign({dataList:i},t))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t}(Dp);return this._addUserScheme(e,t)},Np.prototype.hasScheme=function(t){return(t=t.toLowerCase())in this.schemes||t in this.userSchemes};var Fp=function(t){function e(){t.call(this,"parser")}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.__hasObjName=function(t,e){var i=this.get(t);return i&&i.prototype.__objName===e},e.prototype.isTrajectory=function(t){return this.__hasObjName(t,"frames")},e.prototype.isStructure=function(t){return this.__hasObjName(t,"structure")},e.prototype.isVolume=function(t){return this.__hasObjName(t,"volume")},e.prototype.isSurface=function(t){return this.__hasObjName(t,"surface")},e.prototype.isBinary=function(t){var e=this.get(t);return e&&e.prototype.isBinary},e.prototype.isXml=function(t){var e=this.get(t);return e&&e.prototype.isXml},e.prototype.isJson=function(t){var e=this.get(t);return e&&e.prototype.isJson},e.prototype.getTrajectoryExtensions=function(){var e=this;return this.names.filter(function(t){return e.isTrajectory(t)})},e.prototype.getStructureExtensions=function(){var e=this;return this.names.filter(function(t){return e.isStructure(t)})},e.prototype.getVolumeExtensions=function(){var e=this;return this.names.filter(function(t){return e.isVolume(t)})},e.prototype.getSurfaceExtensions=function(){var e=this;return this.names.filter(function(t){return e.isSurface(t)})},e}(Ul);function zp(t){return Cl(function e(t){var i=t;return t.forEach(function(t){t.__deps&&Array.prototype.push.apply(i,e(t.__deps))}),i}(t)).map(function(t){return t.toString()}).join("\n\n\n")}function Up(t,e){var i="'use strict';\n\n"+zp(e);return i+="\n\n\nself.func = "+t.toString()+";",i+="\n\n\nself.onmessage = "+function(t){var e=t.data.__name,i=t.data.__postId;void 0===e?console.error("message __name undefined"):void 0===self.func?console.error("worker func undefined",e):self.func(t,function(e,t){e=e||{},void 0!==i&&(e.__postId=i);try{self.postMessage(e,t)}catch(t){console.error("self.postMessage:",t),self.postMessage(e)}})}.toString()+";",new Blob([i],{type:"application/javascript"})}var jp=function(){this.activeWorkerCount=0,this._funcDict={},this._depsDict={},this._blobDict={}};jp.prototype.add=function(t,e,i){this._funcDict[t]=e,this._depsDict[t]=i},jp.prototype.get=function(t){return this._blobDict[t]||(this._blobDict[t]=Up(this._funcDict[t],this._depsDict[t])),this._blobDict[t]};var Gp=Sl(),Vp=!1;try{var Hp=Object.defineProperty({},"passive",{get:function(){Vp=!0}});window.addEventListener("test",function(t){},Hp)}catch(t){}var $p="undefined"!=typeof window&&void 0!==window.orientation,Wp=!1;var Xp=!1;var qp,Yp={log:Function.prototype.bind.call(console.log,console),info:Function.prototype.bind.call(console.info,console),warn:Function.prototype.bind.call(console.warn,console),error:Function.prototype.bind.call(console.error,console),time:Function.prototype.bind.call(console.time,console),timeEnd:Function.prototype.bind.call(console.timeEnd,console)},Zp={color:"green",labelColor:"grey",labelAttachment:"bottom-center",labelSize:.7,labelZOffset:.5,labelYOffset:.1,labelBorder:!0,labelBorderColor:"lightgrey",labelBorderWidth:.25,lineOpacity:.8,linewidth:5,opacity:.6,labelUnit:"angstrom",arcVisible:!0,planeVisible:!1};de.Debug=!!(qp=yl("debug"))&&("string"!=typeof qp||/^1|true|t|yes|y$/i.test(qp));var Kp=["ngl","js"],Jp=new jp,Qp=new Np,td=new Ul("datasource"),ed=new Ul("representatation"),id=new Fp,rd=new Ul("shader"),nd=new Ul("decompressor"),od=new Ul("component"),ad=new Ul("buffer"),sd=new Ul("picker");var cd=function(t,e){void 0===e&&(e={}),this.chunkSize=10485760,this.newline="\n",this.__pointer=0,this.__partialLine="",this.compressed=bl(e.compressed,!1),this.binary=bl(e.binary,!1),this.json=bl(e.json,!1),this.xml=bl(e.xml,!1),this.src=t};cd.prototype.isBinary=function(){return this.binary||this.compressed},cd.prototype.read=function(){var i=this;return this._read().then(function(t){var e=i.compressed?nd.get(i.compressed):void 0;return i.compressed&&e?i.data=e(t):((i.binary||i.compressed)&&t instanceof ArrayBuffer&&(t=new Uint8Array(t)),i.data=t),i.data})},cd.prototype._chunk=function(t,e){return e=Math.min(this.data.length,e),0===t&&this.data.length===e?this.data:this.isBinary()?this.data.subarray(t,e):this.data.substring(t,e)},cd.prototype.chunk=function(t){var e=t+this.chunkSize;return this._chunk(t,e)},cd.prototype.peekLines=function(t){var e,i=this.data,r=i.length,n=this.isBinary()?this.newline.charCodeAt(0):this.newline,o=0;for(e=0;e<r&&(i[e]===n&&++o,o!==t);++e);var a=this._chunk(0,e+1);return this.chunkToLines(a,"",r<e).lines},cd.prototype.chunkCount=function(){return Math.floor(this.data.length/this.chunkSize)+1},cd.prototype.asText=function(){return this.isBinary()?Il(this.data):this.data},cd.prototype.chunkToLines=function(t,e,i){var r=this.newline;if(!this.isBinary()&&t.length===this.data.length)return{lines:t.split(r),partialLine:""};var n=[],o=this.isBinary()?Il(t):t,a=o.lastIndexOf(r);if(-1===a)e+=o;else{var s=e+o.substr(0,a);n=n.concat(s.split(r)),e=a===o.length-r.length?"":o.substr(a+r.length)}return i&&""!==e&&n.push(e),{lines:n,partialLine:e}},cd.prototype.nextChunk=function(){var t=this.__pointer;if(!(t>this.data.length))return this.__pointer+=this.chunkSize,this.chunk(t)},cd.prototype.nextChunkOfLines=function(){var t=this.nextChunk();if(void 0!==t){var e=this.__pointer>this.data.length,i=this.chunkToLines(t,this.__partialLine,e);return this.__partialLine=i.partialLine,i.lines}},cd.prototype.eachChunk=function(t){for(var e=this.chunkSize,i=this.data.length,r=this.chunkCount(),n=0;n<i;n+=e){t(this.chunk(n),Math.round(n/e),r)}},cd.prototype.eachChunkOfLines=function(o){var a=this;this.eachChunk(function(t,e,i){var r=e===i+1,n=a.chunkToLines(t,a.__partialLine,r);a.__partialLine=n.partialLine,o(n.lines,e,i)})},cd.prototype.dispose=function(){delete this.src};var ud=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._read=function(){var n=this;return new Promise(function(e,i){var t=n.src,r=new FileReader;r.onload=function(t){t.target&&e(t.target.result)},r.onerror=function(t){return i(t)},n.binary||n.compressed?r.readAsArrayBuffer(t):r.readAsText(t)})},e}(cd),hd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._read=function(){var n=this;return new Promise(function(t,e){var i=n.src,r=new XMLHttpRequest;r.open("GET",i,!0),r.addEventListener("load",function(){if(200===r.status||304===r.status||0===r.status)try{t(r.response)}catch(t){e(t)}else e(r.statusText)},!1),r.addEventListener("error",function(t){return e("network error")},!1),n.isBinary()?r.responseType="arraybuffer":n.json?r.responseType="json":n.xml?r.responseType="document":r.responseType="text",r.send()})},e}(cd),ld=function(t,e){void 0===e&&(e={}),this.parameters=xl(e,{ext:"",compressed:!1,binary:id.isBinary(e.ext||""),name:"",dir:"",path:"",protocol:""});var i={compressed:this.parameters.compressed,binary:this.parameters.binary,json:id.isJson(this.parameters.ext),xml:id.isXml(this.parameters.ext)};"undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Blob&&t instanceof Blob?this.streamer=new ud(t,i):this.streamer=new hd(t,i)},pd=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e),this.parserParams={voxelSize:e.voxelSize,firstModelOnly:e.firstModelOnly,asTrajectory:e.asTrajectory,cAlphaOnly:e.cAlphaOnly,name:this.parameters.name,path:this.parameters.path}}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.load=function(){return new(id.get(this.parameters.ext))(this.streamer,this.parserParams).parse()},t}(ld),dd=function(t,e,i){this.name=e,this.path=i,this.signals={elementAdded:new op,elementRemoved:new op,nameChanged:new op},this.type="Script",this.dir=i.substring(0,i.lastIndexOf("/")+1);try{this.fn=new Function("stage","__name","__path","__dir",t)}catch(t){Yp.error("Script compilation failed",t),this.fn=function(){}}};dd.prototype.run=function(i){var r=this;return new Promise(function(t,e){try{r.fn.apply(null,[i,r.name,r.path,r.dir]),t()}catch(t){Yp.error("Script.fn",t),e(t)}})};var fd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.load=function(){var t=this;return this.streamer.read().then(function(){return new dd(t.streamer.asText(),t.parameters.name,t.parameters.path)})},e}(ld);function md(t){var e,i,r=nd.names,n="",o=(e=t instanceof File?t.name:t instanceof Blob?"":t).lastIndexOf("?"),a=-1!==o?e.substring(o):"",s=(e=e.substring(0,-1===o?e.length:o)).replace(/^.*[\\/]/,""),c=s.substring(0,s.lastIndexOf(".")),u=s.split("."),h=1<u.length?(u.pop()||"").toLowerCase():"",l=e.match(/^(.+):\/\/(.+)$/);l&&(n=l[1].toLowerCase(),e=l[2]||"");var p=e.substring(0,e.lastIndexOf("/")+1);if(r.includes(h)){i=h;var d=e.length-h.length-1;h=(e.substr(0,d).split(".").pop()||"").toLowerCase();var f=c.length-h.length-1;c=c.substr(0,f)}else i=!1;return{path:e,name:s,ext:h,base:c,dir:p,compressed:i,protocol:n,query:a,src:t}}function gd(t){var e=md(t),i=td.get(e.protocol);return i&&!(e=md(i.getUrl(e.src))).ext&&i.getExt&&(e.ext=i.getExt(t)),e}function vd(t,e){void 0===e&&(e={});var i,r=Object.assign(gd(t),e);return id.names.includes(r.ext)?i=new pd(r.src,r):Kp.includes(r.ext)&&(i=new fd(r.src,r)),i?i.load():Promise.reject(new Error("autoLoad: ext '"+r.ext+"' unknown"))}var yd=Jl(function(t,e){!function(){var f={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function m(t){return function(t,e){var i,r,n,o,a,s,c,u,h,l=1,p=t.length,d="";for(r=0;r<p;r++)if("string"==typeof t[r])d+=t[r];else if("object"==typeof t[r]){if((o=t[r]).keys)for(i=e[l],n=0;n<o.keys.length;n++){if(null==i)throw new Error(m('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[n],o.keys[n-1]));i=i[o.keys[n]]}else i=o.param_no?e[o.param_no]:e[l++];if(f.not_type.test(o.type)&&f.not_primitive.test(o.type)&&i instanceof Function&&(i=i()),f.numeric_arg.test(o.type)&&"number"!=typeof i&&isNaN(i))throw new TypeError(m("[sprintf] expecting number but found %T",i));switch(f.number.test(o.type)&&(u=0<=i),o.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,o.width?parseInt(o.width):0);break;case"e":i=o.precision?parseFloat(i).toExponential(o.precision):parseFloat(i).toExponential();break;case"f":i=o.precision?parseFloat(i).toFixed(o.precision):parseFloat(i);break;case"g":i=o.precision?String(Number(i.toPrecision(o.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=o.precision?i.substring(0,o.precision):i;break;case"t":i=String(!!i),i=o.precision?i.substring(0,o.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=o.precision?i.substring(0,o.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=o.precision?i.substring(0,o.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}f.json.test(o.type)?d+=i:(!f.number.test(o.type)||u&&!o.sign?h="":(h=u?"+":"-",i=i.toString().replace(f.sign,"")),s=o.pad_char?"0"===o.pad_char?"0":o.pad_char.charAt(1):" ",c=o.width-(h+i).length,a=o.width&&0<c?s.repeat(c):"",d+=o.align?h+i+a:"0"===s?h+a+i:a+h+i)}return d}(function(t){if(c[t])return c[t];var e,i=t,r=[],n=0;for(;i;){if(null!==(e=f.text.exec(i)))r.push(e[0]);else if(null!==(e=f.modulo.exec(i)))r.push("%");else{if(null===(e=f.placeholder.exec(i)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){n|=1;var o=[],a=e[2],s=[];if(null===(s=f.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=f.key_access.exec(a)))o.push(s[1]);else{if(null===(s=f.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(s[1])}e[2]=o}else n|=2;if(3===n)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}i=i.substring(e[0].length)}return c[t]=r}(t),arguments)}function t(t,e){return m.apply(null,[t].concat(e||[]))}var c=Object.create(null);e.sprintf=m,e.vsprintf=t,"undefined"!=typeof window&&(window.sprintf=m,window.vsprintf=t)}()}).sprintf,bd=function(){};bd.prototype.getBlob=function(){return new Blob([this.getData()],{type:this.mimeType})},bd.prototype.download=function(t,e){t=bl(t,this.defaultName),e=bl(e,this.defaultExt),Ml(this.getBlob(),t+"."+e)};var xd=function(n){function t(t,e){n.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="pdb";var i,r=Object.assign({},e);this.renumberSerial=bl(r.renumberSerial,!0),this.remarks=(i=bl(r.remarks,[]),Array.isArray(i)?i:[i]),this.structure=t,this._records=[]}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype._writeRecords=function(){this._records.length=0,this._writeTitle(),this._writeRemarks(),this._writeAtoms()},t.prototype._writeTitle=function(){this._records.push(yd("TITLE %-74s",this.structure.name))},t.prototype._writeRemarks=function(){var e=this;this.remarks.forEach(function(t){e._records.push(yd("REMARK %-73s",t))}),this.structure.trajectory&&(this._records.push(yd("REMARK %-73s","Trajectory '"+this.structure.trajectory.name+"'")),this._records.push(yd("REMARK %-73s","Frame "+this.structure.trajectory.frame)))},t.prototype._writeAtoms=function(){var n=this,o=1,e=1;this.structure.eachModel(function(t){n._records.push(yd("MODEL %-74d",e++)),t.eachAtom(function(t){var e=t.hetero?"HETATM%5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s":"ATOM  %5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s",i=n.renumberSerial?o:t.serial,r=t.atomname;1===r.length&&(r=" "+r),n._records.push(yd(e,i,r,t.resname,bl(t.chainname," "),t.resno,t.x,t.y,t.z,bl(t.occupancy,1),bl(t.bfactor,0),"",bl(t.element,""))),o+=1}),n._records.push(yd("%-80s","ENDMDL")),e+=1}),this._records.push(yd("%-80s","END"))},t.prototype.getString=function(){return console.warn("PdbWriter.getString() is deprecated, use .getData instead"),this.getData()},t.prototype.getData=function(){return this._writeRecords(),this._records.join("\n")},t}(bd),_d=function(e){function t(t){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="sdf",this.structure=t,this._records=[]}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var i={idString:{configurable:!0},titleString:{configurable:!0},countsString:{configurable:!0},chargeLines:{configurable:!0}};return i.idString.get=function(){return this.structure.id},i.titleString.get=function(){return"  "+this.structure.title},i.countsString.get=function(){return yd("%3i%3i  0  0  0  0  0  0  0  0999 V2000",this.structure.atomCount,this.structure.bondCount)},i.chargeLines.get=function(){var e=[];this.structure.eachAtom(function(t){null!=t.formalCharge&&0!==t.formalCharge&&e.push([t.index,t.formalCharge])});for(var t=[],i=0;i<e.length;i+=8){for(var r=Math.min(8,e.length-i),n=yd("M  CHG%3i",r),o=i;o<i+r;o++)n+=yd(" %3i %3i",e[o][0]+1,e[o][1]);t.push(n)}return t},t.prototype.formatAtom=function(t){var e=0;null!=t.formalCharge&&0!==t.formalCharge&&(e=4-t.formalCharge);var i=yd("%10.4f%10.4f%10.4f %-3s 0%3i  0  0  0",t.x,t.y,t.z,t.element,e);if(48!==i.length)throw new Error("Incompatible atom for sdf format");return i},t.prototype.formatBond=function(t){return yd("%3i%3i%3i  0  0  0",t.atomIndex1+1,t.atomIndex2+1,t.bondOrder)},t.prototype._writeRecords=function(){this._records.length=0,this._writeHeader(),this._writeCTab(),this._writeFooter()},t.prototype._writeHeader=function(){this._records.push(this.idString,this.titleString,"")},t.prototype._writeCTab=function(){var e=this;this._records.push(this.countsString),this.structure.eachAtom(function(t){e._records.push(e.formatAtom(t))}),this.structure.eachBond(function(t){e._records.push(e.formatBond(t))}),this.chargeLines.forEach(function(t){e._records.push(t)}),this._records.push("M  END")},t.prototype._writeFooter=function(){this._records.push("$$$$")},t.prototype.getData=function(){return this._writeRecords(),this._records.join("\n")},Object.defineProperties(t.prototype,i),t}(bd),wd=[],Sd=function(t,e){void 0===e&&(e={}),this._mark=0,this._marks=[],this.offset=0;var i=!(this.littleEndian=!0);void 0===t&&(t=8192),"number"==typeof t?t=new ArrayBuffer(t):i=!0;var r=e.offset?e.offset>>>0:0,n=t.byteLength-r,o=r;t instanceof ArrayBuffer||(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+r),t=t.buffer),this._lastWrittenByte=i?n:0,this.buffer=t,this.length=n,this.byteLength=n,this.byteOffset=o,this._data=new DataView(this.buffer,o,n)};Sd.prototype.available=function(t){return void 0===t&&(t=1),this.offset+t<=this.length},Sd.prototype.isLittleEndian=function(){return this.littleEndian},Sd.prototype.setLittleEndian=function(){return this.littleEndian=!0,this},Sd.prototype.isBigEndian=function(){return!this.littleEndian},Sd.prototype.setBigEndian=function(){return this.littleEndian=!1,this},Sd.prototype.skip=function(t){return void 0===t&&(t=1),this.offset+=t,this},Sd.prototype.seek=function(t){return this.offset=t,this},Sd.prototype.mark=function(){return this._mark=this.offset,this},Sd.prototype.reset=function(){return this.offset=this._mark,this},Sd.prototype.pushMark=function(){return this._marks.push(this.offset),this},Sd.prototype.popMark=function(){var t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this},Sd.prototype.rewind=function(){return this.offset=0,this},Sd.prototype.ensureAvailable=function(t){if(void 0===t&&(t=1),!this.available(t)){var e=2*(this.offset+t),i=new Uint8Array(e);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=this.byteLength=e,this._data=new DataView(this.buffer)}return this},Sd.prototype.readBoolean=function(){return 0!==this.readUint8()},Sd.prototype.readInt8=function(){return this._data.getInt8(this.offset++)},Sd.prototype.readUint8=function(){return this._data.getUint8(this.offset++)},Sd.prototype.readByte=function(){return this.readUint8()},Sd.prototype.readBytes=function(t){void 0===t&&(t=1);for(var e=new Uint8Array(t),i=0;i<t;i++)e[i]=this.readByte();return e},Sd.prototype.readInt16=function(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},Sd.prototype.readUint16=function(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},Sd.prototype.readInt32=function(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},Sd.prototype.readUint32=function(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},Sd.prototype.readFloat32=function(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},Sd.prototype.readFloat64=function(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},Sd.prototype.readChar=function(){return String.fromCharCode(this.readInt8())},Sd.prototype.readChars=function(t){void 0===t&&(t=1),wd.length=t;for(var e=0;e<t;e++)wd[e]=this.readChar();return wd.join("")},Sd.prototype.writeBoolean=function(t){return void 0===t&&(t=!1),this.writeUint8(t?255:0),this},Sd.prototype.writeInt8=function(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this},Sd.prototype.writeUint8=function(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this},Sd.prototype.writeByte=function(t){return this.writeUint8(t)},Sd.prototype.writeBytes=function(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this},Sd.prototype.writeInt16=function(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},Sd.prototype.writeUint16=function(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},Sd.prototype.writeInt32=function(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},Sd.prototype.writeUint32=function(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},Sd.prototype.writeFloat32=function(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},Sd.prototype.writeFloat64=function(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this},Sd.prototype.writeChar=function(t){return this.writeUint8(t.charCodeAt(0))},Sd.prototype.writeChars=function(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this},Sd.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)},Sd.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)};var Ad=function(e){function t(t){e.call(this),this.mimeType="application/vnd.ms-pki.stl",this.defaultName="surface",this.defaultExt="stl",this.surface=t}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.getData=function(){var t=this.surface.index.length/3,e=new Sd(2*t+3*t*4*4+80+4);e.skip(80),e.writeUint32(t);for(var i=new ri,r=new ri,n=new ri,o=new ri,a=0;a<t;a++){var s=[this.surface.index[3*a],this.surface.index[3*a+1],this.surface.index[3*a+2]];r.fromArray(this.surface.normal,3*s[0]),n.fromArray(this.surface.normal,3*s[1]),o.fromArray(this.surface.normal,3*s[2]),i.addVectors(r,n).add(o).normalize(),e.writeFloat32(i.x),e.writeFloat32(i.y),e.writeFloat32(i.z);for(var c=0;c<3;c++)i.fromArray(this.surface.position,3*s[c]),e.writeFloat32(i.x),e.writeFloat32(i.y),e.writeFloat32(i.z);e.writeUint16(0)}return new DataView(e.buffer)},t}(bd),Md=function(){this.count=0,this.signals={countChanged:new op}};Md.prototype.clear=function(){this.change(-this.count)},Md.prototype.change=function(t){this.count+=t,this.signals.countChanged.dispatch(t,this.count),this.count<0&&Yp.warn("Counter.count below zero",this.count)},Md.prototype.increment=function(){this.change(1)},Md.prototype.decrement=function(){this.change(-1)},Md.prototype.listen=function(t){this.change(t.count),t.signals.countChanged.add(this.change,this)},Md.prototype.unlisten=function(t){var e=t.signals.countChanged;e.has(this.change,this)&&e.remove(this.change,this)},Md.prototype.onZeroOnce=function(t,e){var i=this;if(0===this.count)t.call(e);else{var r=function(){0===i.count&&(i.signals.countChanged.remove(r,i),t.call(e))};this.signals.countChanged.add(r,this)}},Md.prototype.dispose=function(){this.clear(),this.signals.countChanged.dispose()},rd.add("shader/BasicLine.vert","void main(){\n#include begin_vertex\n#include project_vertex\n}"),rd.add("shader/BasicLine.frag","uniform vec3 uColor;\n#include common\n#include fog_pars_fragment\nvoid main(){\ngl_FragColor = vec4( uColor, 1.0 );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n}"),rd.add("shader/Quad.vert","varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}"),rd.add("shader/Quad.frag","varying vec2 vUv;\nuniform sampler2D tForeground;\nuniform float scale;\nvoid main() {\nvec4 foreground = texture2D( tForeground, vUv );\ngl_FragColor = foreground * scale;\n}");var Ed=function(){this.signals={updated:new op},this.maxDuration=-1/0,this.minDuration=1/0,this.avgDuration=14,this.lastDuration=1/0,this.prevFpsTime=0,this.lastFps=1/0,this.lastFrames=1,this.frames=0,this.count=0,this.begin()};Ed.prototype.update=function(){this.startTime=this.end(),this.currentTime=this.startTime,this.signals.updated.dispatch()},Ed.prototype.begin=function(){this.startTime=window.performance.now(),this.lastFrames=this.frames},Ed.prototype.end=function(){var t=window.performance.now();return this.count+=1,this.frames+=1,this.lastDuration=t-this.startTime,this.minDuration=Math.min(this.minDuration,this.lastDuration),this.maxDuration=Math.max(this.maxDuration,this.lastDuration),this.avgDuration-=this.avgDuration/30,this.avgDuration+=this.lastDuration/30,t>this.prevFpsTime+1e3&&(this.lastFps=this.frames,this.prevFpsTime=t,this.frames=0),t},rd.add("shader/chunk/fog_fragment.glsl","#ifdef USE_FOG\nfloat depth = length( vViewPosition );\n#ifdef FOG_EXP2\nfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n#else\nfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n#endif\ngl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif"),rd.add("shader/chunk/interior_fragment.glsl","if( gl_FrontFacing == false ){\n#ifdef USE_INTERIOR_COLOR\noutgoingLight.xyz = interiorColor;\n#else\n#ifdef DIFFUSE_INTERIOR\noutgoingLight.xyz = vColor;\n#endif\n#endif\noutgoingLight.xyz *= 1.0 - interiorDarkening;\n}"),rd.add("shader/chunk/matrix_scale.glsl","float matrixScale( in mat4 m ){\nvec4 r = m[ 0 ];\nreturn sqrt( r[ 0 ] * r[ 0 ] + r[ 1 ] * r[ 1 ] + r[ 2 ] * r[ 2 ] );\n}"),rd.add("shader/chunk/nearclip_vertex.glsl","#ifdef NEAR_CLIP\nif( vViewPosition.z < clipNear - 5.0 )\ngl_Position.z = 2.0 * gl_Position.w;\n#endif"),rd.add("shader/chunk/nearclip_fragment.glsl","#ifdef NEAR_CLIP\nif( vViewPosition.z < clipNear )\ndiscard;\n#endif"),rd.add("shader/chunk/opaque_back_fragment.glsl","#ifdef OPAQUE_BACK\n#ifdef FLIP_SIDED\nif( gl_FrontFacing == true ){\ngl_FragColor.a = 1.0;\n}\n#else\nif( gl_FrontFacing == false ){\ngl_FragColor.a = 1.0;\n}\n#endif\n#endif"),rd.add("shader/chunk/radiusclip_vertex.glsl","#ifdef RADIUS_CLIP\nif( distance( vViewPosition, vClipCenter ) > clipRadius + 5.0 )\ngl_Position.z = 2.0 * gl_Position.w;\n#endif"),rd.add("shader/chunk/radiusclip_fragment.glsl","#ifdef RADIUS_CLIP\nif( distance( vViewPosition, vClipCenter ) > clipRadius )\ndiscard;\n#endif"),rd.add("shader/chunk/unpack_color.glsl","vec3 unpackColor(float f) {\nvec3 color;\ncolor.r = floor(f / 256.0 / 256.0);\ncolor.g = floor((f - color.r * 256.0 * 256.0) / 256.0);\ncolor.b = floor(f - color.r * 256.0 * 256.0 - color.g * 256.0);\nreturn color / 255.0;\n}");var Pd=/^(?!\/\/)\s*#include\s+(\S+)/gim,Td={};function Cd(t,e){void 0===e&&(e={});var i=t+"|";for(var r in e)i+=r+":"+e[r];if(!Td[i]){var n=function(t){if(void 0===t)return"";var e=[];for(var i in t){var r=t[i];r&&e.push("#define "+i+" "+r)}return e.join("\n")+"\n"}(e),o=rd.get("shader/"+t);if(!o)throw new Error("empty shader, '"+t+"'");o=o.replace(Pd,function(t,e){var i="shader/chunk/"+e+".glsl",r=rd.get(i)||Li[e];if(!r)throw new Error("empty chunk, '"+e+"'");return r}),Td[i]=n+o}return Td[i]}if("undefined"!=typeof WebGLRenderingContext){var Id=WebGLRenderingContext.prototype,Od=Id.getShaderParameter;Id.getShaderParameter=function(){return!de.Debug||Od.apply(this,arguments)};var Ld=Id.getShaderInfoLog;Id.getShaderInfoLog=function(){return de.Debug?Ld.apply(this,arguments):""};var Rd=Id.getProgramParameter;Id.getProgramParameter=function(t,e){return!de.Debug&&e===Id.LINK_STATUS||Rd.apply(this,arguments)};var Dd=Id.getProgramInfoLog;Id.getProgramInfoLog=function(){return de.Debug?Dd.apply(this,arguments):""}}var kd=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];kd.forEach(function(t){t.forEach(function(t){t[0]*=.0625,t[1]*=.0625})});var Bd=function(t,e,i,r){this.canvas=document.createElement("canvas"),this._viewer=i,this._factor=bl(r.factor,2),this._antialias=bl(r.antialias,!1),this._onProgress=r.onProgress,this._onFinish=r.onFinish,this._antialias&&(this._factor*=2),this._n=this._factor*this._factor,this._width=this._viewer.width,this._height=this._viewer.height,this._antialias?(this.canvas.width=this._width*this._factor/2,this.canvas.height=this._height*this._factor/2):(this.canvas.width=this._width*this._factor,this.canvas.height=this._height*this._factor),this._ctx=this.canvas.getContext("2d"),this._viewerSampleLevel=i.sampleLevel,this._viewer.setSampling(-1)};Bd.prototype._renderTile=function(t){var e=this._viewer,i=this._width,r=this._height,n=this._factor,o=t%n*i,a=Math.floor(t/n)*r;if(e.camera.setViewOffset(i*n,r*n,o,a,i,r),e.render(),this._antialias){var s=Math.round((o+i)/2)-Math.round(o/2),c=Math.round((a+r)/2)-Math.round(a/2);this._ctx.drawImage(e.renderer.domElement,Math.round(o/2),Math.round(a/2),s,c)}else this._ctx.drawImage(e.renderer.domElement,Math.floor(o),Math.floor(a),Math.ceil(i),Math.ceil(r));"function"==typeof this._onProgress&&this._onProgress(t+1,this._n,!1)},Bd.prototype._finalize=function(){this._viewer.setSampling(this._viewerSampleLevel),this._viewer.camera.view=null,"function"==typeof this._onFinish&&this._onFinish(this._n+1,this._n,!1)},Bd.prototype.render=function(){for(var t=0;t<=this._n;++t)t===this._n?this._finalize():this._renderTile(t)},Bd.prototype.renderAsync=function(){for(var t=this,e=0,i=this._n,r=function(){e===i?t._finalize():t._renderTile(e),e+=1},n=0;n<=i;++n)setTimeout(r,0)};var Nd=2*Math.PI,Fd=(Math.PI,180/Math.PI);function zd(t,e,i,r,n){void 0===i&&(i=1),void 0===r&&(r=0);var o=n?n.length:t.length/i,a=0,s=0;if(n)for(var c=0;c<o;++c){var u=(t[n[c]*i+r]+e)%e/e*Nd-Math.PI;a+=Math.cos(u),s+=Math.sin(u)}else for(var h=r;h<o;h+=i){var l=(t[h]+e)%e/e*Nd-Math.PI;a+=Math.cos(l),s+=Math.sin(l)}return a/=o,s/=o,(Math.atan2(s,a)+Math.PI)/Nd*e}function Ud(t,e,i,r){void 0===r&&(r=0);for(var n=t.length,o=i||new Float32Array(n),a=0;a<n;a+=3)o[r+a+0]=(t[a+0]+e[a+0])/2,o[r+a+1]=(t[a+1]+e[a+1])/2,o[r+a+2]=(t[a+2]+e[a+2])/2;return o}function jd(t,e){for(var i=t.length,r=new Float32Array(i),n=0;n<i;n+=3)r[n+0]=e[n+0]-t[n+0],r[n+1]=e[n+1]-t[n+1],r[n+2]=e[n+2]-t[n+2];return r}function Gd(t,e,i){for(var r=i||new Float32Array(t),n=0;n<t;++n)r[n]=e;return r}function Vd(t,e,i,r,n){for(var o=n||new Float32Array(3*t),a=0;a<t;++a){var s=3*a;o[s+0]=e,o[s+1]=i,o[s+2]=r}return o}function Hd(t){for(var e=new Float32Array(t),i=0;i<t;++i)e[i]=i;return e}function $d(t,e,i,r){void 0===i&&(i=0);for(var n=r||new Float32Array(t*e),o=0;o<t;++o)for(var a=i+o*e,s=0;s<e;++s)n[a+s]=o;return n}function Wd(t,e){for(var i=t.length,r=new Float32Array(i*e),n=0;n<i;++n)for(var o=n*e,a=t[n],s=0;s<e;++s)r[o+s]=a;return r}function Xd(t,e,i,r,n){for(var o=0;o<n;++o)e[r+o]=t[i+o]}function qd(t,e,i,r){Xd(t,t,e,i,r)}function Yd(t){for(var e=-1/0,i=0,r=t.length;i<r;++i)t[i]>e&&(e=t[i]);return e}function Zd(t){for(var e=1/0,i=0,r=t.length;i<r;++i)t[i]<e&&(e=t[i]);return e}function Kd(t,e,i){void 0===e&&(e=1),void 0===i&&(i=0);for(var r=t.length,n=0,o=i;o<r;o+=e)n+=t[o];return n}function Jd(t,e,i){return void 0===e&&(e=1),void 0===i&&(i=0),Kd(t,e,i)/(t.length/e)}var Qd={trim:!1,factor:1,antialias:!1,transparent:!1,onProgress:void 0};function tf(o,r){void 0===r&&(r={});var t=xl(r,Qd),i=t.trim,e=t.factor,a=t.antialias,s=t.transparent,c=o.renderer,u=o.camera,h=c.getClearAlpha(),n=c.getClearColor();function l(t){void 0===t&&(t=!1);var i=e;a&&(i*=2),t&&(i=1/i),o.scene.traverse(function(t){var e=t.material;e&&e.linewidth&&(e.linewidth*=i),e&&e.uniforms&&e.uniforms.size&&void 0===e.uniforms.size.__seen&&(e.uniforms.size.value*=i,e.uniforms.size.__seen=!0),e&&e.uniforms&&e.uniforms.linewidth&&void 0===e.uniforms.linewidth.__seen&&(e.uniforms.linewidth.value*=i,e.uniforms.linewidth.__seen=!0)}),o.scene.traverse(function(t){var e=t.material;e&&e.uniforms&&e.uniforms.size&&delete e.uniforms.size.__seen,e&&e.uniforms&&e.uniforms.linewidth&&delete e.uniforms.linewidth.__seen})}function p(t){if(i){var e=n;return function(t,e,i,r,n){var o,a,s,c,u=t.height,h=t.width,l=t.getContext("2d").getImageData(0,0,h,u).data;for(s=!1,a=0;a<u;a++){for(o=0;o<h;o++)if(l[c=4*(a*h+o)]!==e||l[c+1]!==i||l[c+2]!==r||l[c+3]!==n){s=!0;break}if(s)break}var p=a;for(s=!1,o=0;o<h;o++){for(a=0;a<u;a++)if(l[c=4*(a*h+o)]!==e||l[c+1]!==i||l[c+2]!==r||l[c+3]!==n){s=!0;break}if(s)break}var d=o;for(s=!1,a=u-1;0<=a;a--){for(o=h-1;0<=o;o--)if(l[c=4*(a*h+o)]!==e||l[c+1]!==i||l[c+2]!==r||l[c+3]!==n){s=!0;break}if(s)break}var f=a;for(s=!1,o=h-1;0<=o;o--){for(a=u-1;0<=a;a--)if(l[c=4*(a*h+o)]!==e||l[c+1]!==i||l[c+2]!==r||l[c+3]!==n){s=!0;break}if(s)break}var m=o,g=document.createElement("canvas");return g.width=m-d,g.height=f-p,g.getContext("2d").drawImage(t,d,p,g.width,g.height,0,0,g.width,g.height),g}(t,s?0:255*e.r,s?0:255*e.g,s?0:255*e.b,s?0:255)}return t}function d(t,e,i){"function"==typeof r.onProgress&&r.onProgress(t,e,i)}return new Promise(function(i,r){var n=new Bd(c,u,o,{factor:e,antialias:a,onProgress:d,onFinish:function(t,e){p(n.canvas).toBlob(function(t){c.setClearAlpha(h),l(!0),o.requestRender(),d(e,e,!0),t?i(t):r("error creating image")},"image/png")}});c.setClearAlpha(s?0:1),l(),n.renderAsync()})}var ef=new ri,rf=new ei,nf=new ei;var of=new ti,af=new ei,sf=new ei;function cf(t,e){af.getInverse(e.projectionMatrix),sf.copy(e.projectionMatrix).transpose(),t.traverse(function(t){var e=t.material;if(e){var i=e.uniforms;i&&(i.projectionMatrixInverse&&i.projectionMatrixInverse.value.copy(af),i.projectionMatrixTranspose&&i.projectionMatrixTranspose.value.copy(sf))}})}function uf(t,e,i){var r=t.createShader(i);return t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log("error compiling shader "+r+": "+t.getShaderInfoLog(r)),t.deleteShader(r),null)}function hf(t,e){var i=t.getExtension(e);return i||console.log("extension '"+e+"' not available"),i}var lf=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);function pf(t){var e=document.createElement("canvas");e.width=16,e.height=16,e.style.width="16px",e.style.height="16px";var i=e.getContext("webgl")||e.getContext("experimental-webgl");if(!i)return console.log("error creating webgl context for "+t),!1;hf(i,"OES_texture_float"),hf(i,"OES_texture_half_float"),hf(i,"WEBGL_color_buffer_float");var r=uf(i,"\nattribute vec4 a_position;\n\nvoid main() {\n  gl_Position = a_position;\n}",i.VERTEX_SHADER),n=uf(i,"\nprecision mediump float;\nuniform vec4 u_color;\nuniform sampler2D u_texture;\n\nvoid main() {\n  gl_FragColor = texture2D(u_texture, vec2(0.5, 0.5)) * u_color;\n}",i.FRAGMENT_SHADER);if(!r||!n)return!1;var o,a,s,c,u,h=(a=[r,n],u=(o=i).createProgram(),a.forEach(function(t){return o.attachShader(u,t)}),s&&s.forEach(function(t,e){o.bindAttribLocation(u,c?c[e]:e,t)}),o.linkProgram(u),o.getProgramParameter(u,o.LINK_STATUS)?u:(console.log("error linking program: "+o.getProgramInfoLog(u)),o.deleteProgram(u),null));i.useProgram(h);var l=i.getAttribLocation(h,"a_position"),p=i.getUniformLocation(h,"u_color");if(!p)return console.log("error getting 'u_color' uniform location"),!1;var d=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,d),i.bufferData(i.ARRAY_BUFFER,lf,i.STATIC_DRAW),i.enableVertexAttribArray(l),i.vertexAttribPointer(l,2,i.FLOAT,!1,0,0);var f=i.createTexture(),m=new Uint8Array([255,255,255,255]);i.bindTexture(i.TEXTURE_2D,f),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,m);var g=i.createTexture();i.bindTexture(i.TEXTURE_2D,g),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,t,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);var v=i.createFramebuffer();if(i.bindFramebuffer(i.FRAMEBUFFER,v),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,g,0),i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE)return console.log("error creating framebuffer for "+t),!1;i.bindTexture(i.TEXTURE_2D,f),i.uniform4fv(p,[0,10,20,1]),i.drawArrays(i.TRIANGLES,0,6),i.bindTexture(i.TEXTURE_2D,g),i.bindFramebuffer(i.FRAMEBUFFER,null),i.clearColor(1,0,0,1),i.clear(i.COLOR_BUFFER_BIT),i.uniform4fv(p,[0,.1,.05,1]),i.drawArrays(i.TRIANGLES,0,6);var y=new Uint8Array(4);if(i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,y),0!==y[0]||y[1]<248||y[2]<248||y[3]<254)return console.log("not able to actually render to "+t+" texture"),!1;if(t===i.FLOAT){i.bindFramebuffer(i.FRAMEBUFFER,v);var b=new Float32Array(4);i.readPixels(0,0,1,1,i.RGBA,i.FLOAT,b);var x=i.getError();if(x)return console.log("error reading pixels as float: '"+function(t,e){switch(e){case t.NO_ERROR:return"no error";case t.INVALID_ENUM:return"invalid enum";case t.INVALID_VALUE:return"invalid value";case t.INVALID_OPERATION:return"invalid operation";case t.INVALID_FRAMEBUFFER_OPERATION:return"invalid framebuffer operation";case t.OUT_OF_MEMORY:return"out of memory";case t.CONTEXT_LOST_WEBGL:return"context lost"}return"unknown error"}(i,x)+"'"),!1}return!0}var df=new Float32Array(100),ff=new Uint8Array(100),mf=[12,7,13,17,11,6,8,18,16,2,14,22,10,1,3,9,19,23,21,15,5,0,4,24,20],gf=new ei;function vf(t,e,i,r,n){var o=n.uniforms,a=[];if(o.objectId&&(o.objectId.value=Wp?this.id:this.id/255,a.push("objectId")),(o.modelViewMatrixInverse||o.modelViewMatrixInverseTranspose||o.modelViewProjectionMatrix||o.modelViewProjectionMatrixInverse)&&this.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,this.matrixWorld),o.modelViewMatrixInverse&&(o.modelViewMatrixInverse.value.getInverse(this.modelViewMatrix),a.push("modelViewMatrixInverse")),o.modelViewMatrixInverseTranspose&&(o.modelViewMatrixInverse?o.modelViewMatrixInverseTranspose.value.copy(o.modelViewMatrixInverse.value).transpose():o.modelViewMatrixInverseTranspose.value.getInverse(this.modelViewMatrix).transpose(),a.push("modelViewMatrixInverseTranspose")),o.modelViewProjectionMatrix&&(o.modelViewProjectionMatrix.value.multiplyMatrices(i.projectionMatrix,this.modelViewMatrix),a.push("modelViewProjectionMatrix")),o.modelViewProjectionMatrixInverse&&(o.modelViewProjectionMatrix?gf.copy(o.modelViewProjectionMatrix.value):gf.multiplyMatrices(i.projectionMatrix,this.modelViewMatrix),o.modelViewProjectionMatrixInverse.value.getInverse(gf),a.push("modelViewProjectionMatrixInverse")),a.length){var s=t.properties.get(n);if(s.program){var c=t.getContext(),u=s.program;c.useProgram(u.program);var h=u.getUniforms();a.forEach(function(t){h.setValue(c,t,o[t].value)})}}}var yf=function(t){if(this.boundingBox=new Pi,this.boundingBoxSize=new ri,this.boundingBoxLength=0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this.distVector=new ri,this.signals={ticked:new op,rendered:new op},"string"==typeof t){var e=document.getElementById(t);this.container=null===e?document.createElement("div"):e}else t instanceof HTMLElement?this.container=t:this.container=document.createElement("div");if(this.container===document.body)this.width=window.innerWidth||1,this.height=window.innerHeight||1;else{var i=this.container.getBoundingClientRect();this.width=i.width||1,this.height=i.height||1,this.container.style.overflow="hidden"}this.wrapper=document.createElement("div"),this.wrapper.style.position="relative",this.container.appendChild(this.wrapper),this._initParams(),this._initStats(),this._initCamera(),this._initScene(),!1!==this._initRenderer()?(this._initHelper(),this.setBackground(),this.setFog(),this.animate=this.animate.bind(this)):Yp.error("Viewer: could not initialize renderer")};yf.prototype._initParams=function(){this.parameters={fogColor:new ki(0),fogNear:50,fogFar:100,fogMode:"scene",fogScale:"relative",backgroundColor:new ki(0),cameraType:"perspective",cameraFov:40,cameraEyeSep:.3,cameraZ:-80,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",lightColor:new ki(14540253),lightIntensity:1,ambientColor:new ki(14540253),ambientIntensity:.2,sampleLevel:0}},yf.prototype._initCamera=function(){var t=new ri(0,0,0),e=this.width,i=this.height;this.perspectiveCamera=new ba(this.parameters.cameraFov,e/i),this.perspectiveCamera.position.z=this.parameters.cameraZ,this.perspectiveCamera.lookAt(t),this.orthographicCamera=new lr(e/-2,e/2,i/2,i/-2),this.orthographicCamera.position.z=this.parameters.cameraZ,this.orthographicCamera.lookAt(t),this.stereoCamera=new Ju,this.stereoCamera.aspect=.5,this.stereoCamera.eyeSep=this.parameters.cameraEyeSep;var r=this.parameters.cameraType;if("orthographic"===r)this.camera=this.orthographicCamera;else{if("perspective"!==r&&"stereo"!==r)throw new Error("Unknown cameraType '"+r+"'");this.camera=this.perspectiveCamera}this.camera.updateProjectionMatrix()},yf.prototype._initStats=function(){this.stats=new Ed},yf.prototype._initScene=function(){this.scene||(this.scene=new Ea,this.scene.name="scene"),this.rotationGroup=new ya,this.rotationGroup.name="rotationGroup",this.scene.add(this.rotationGroup),this.translationGroup=new ya,this.translationGroup.name="translationGroup",this.rotationGroup.add(this.translationGroup),this.modelGroup=new ya,this.modelGroup.name="modelGroup",this.translationGroup.add(this.modelGroup),this.pickingGroup=new ya,this.pickingGroup.name="pickingGroup",this.translationGroup.add(this.pickingGroup),this.backgroundGroup=new ya,this.backgroundGroup.name="backgroundGroup",this.translationGroup.add(this.backgroundGroup),this.helperGroup=new ya,this.helperGroup.name="helperGroup",this.translationGroup.add(this.helperGroup),this.scene.fog=new Ma(this.parameters.fogColor.getHex()),this.spotLight=new qc(this.parameters.lightColor.getHex(),this.parameters.lightIntensity),this.scene.add(this.spotLight),this.ambientLight=new Jc(this.parameters.ambientColor.getHex(),this.parameters.ambientIntensity),this.scene.add(this.ambientLight)},yf.prototype._initRenderer=function(){var t=window.devicePixelRatio,e=this.width,i=this.height;try{this.renderer=new Sa({preserveDrawingBuffer:!0,alpha:!0,antialias:!0})}catch(t){return!(this.wrapper.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100%;"><p style="padding:15px;text-align:center;">Your browser/graphics card does not seem to support <a target="_blank" href="https://en.wikipedia.org/wiki/WebGL">WebGL</a>.<br/><br/>Find out how to get it <a target="_blank" href="http://get.webgl.org/">here</a>.</p></div>')}this.renderer.setPixelRatio(t),this.renderer.setSize(e,i),this.renderer.autoClear=!1,this.renderer.sortObjects=!0;var r,n,o=this.renderer.getContext();r=this.renderer.extensions.get("EXT_frag_depth"),Xp=r,this.renderer.extensions.get("OES_element_index_uint"),n=this.renderer.extensions.get("OES_texture_float")&&this.renderer.extensions.get("WEBGL_color_buffer_float")||this.renderer.extensions.get("OES_texture_float")&&pf(o.FLOAT),Wp=n,this.wrapper.appendChild(this.renderer.domElement);var a=e*t,s=i*t;this.renderer.extensions.get("OES_texture_float"),this.supportsHalfFloat=this.renderer.extensions.get("OES_texture_half_float")&&pf(36193),this.renderer.extensions.get("WEBGL_color_buffer_float"),de.Debug&&console.log(JSON.stringify({Browser:Gp,OES_texture_float:!!this.renderer.extensions.get("OES_texture_float"),OES_texture_half_float:!!this.renderer.extensions.get("OES_texture_half_float"),WEBGL_color_buffer_float:!!this.renderer.extensions.get("WEBGL_color_buffer_float"),"testTextureSupport Float":pf(o.FLOAT),"testTextureSupport HalfFloat":pf(36193),"this.supportsHalfFloat":this.supportsHalfFloat,SupportsReadPixelsFloat:Wp},null,2)),this.pickingTarget=new Ai(a,s,{minFilter:Vt,magFilter:Vt,stencilBuffer:!1,format:ue,type:Wp?ee:Yt}),this.pickingTarget.texture.generateMipmaps=!1,this.renderer.clearTarget(this.pickingTarget,!0,!0,!0),this.renderer.setRenderTarget(null),this.sampleTarget=new Ai(a,s,{minFilter:Wt,magFilter:Wt,format:ue}),this.holdTarget=new Ai(a,s,{minFilter:Vt,magFilter:Vt,format:ue,type:Yt}),this.compositeUniforms={tForeground:new Wh(this.sampleTarget.texture),scale:new Wh(1)},this.compositeMaterial=new An({uniforms:this.compositeUniforms,vertexShader:Cd("Quad.vert"),fragmentShader:Cd("Quad.frag"),premultipliedAlpha:!0,transparent:!0,blending:Z,depthTest:!1,depthWrite:!1}),this.compositeCamera=new lr(-1,1,1,-1,0,1),this.compositeScene=new Ea,this.compositeScene.name="compositeScene",this.compositeScene.add(new Pn(new qr(2,2),this.compositeMaterial))},yf.prototype._initHelper=function(){var t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),e=new Float32Array(24),i=new $r;i.setIndex(new wr(t,1)),i.addAttribute("position",new wr(e,3));var r=new An({uniforms:{uColor:{value:new ki("skyblue")}},vertexShader:Cd("BasicLine.vert"),fragmentShader:Cd("BasicLine.frag")});this.boundingBoxMesh=new Na(i,r),this.helperGroup.add(this.boundingBoxMesh)},yf.prototype.updateHelper=function(){var t=this.boundingBoxMesh.geometry.attributes.position,e=t.array,i=this.boundingBox,r=i.min,n=i.max;e[0]=n.x,e[1]=n.y,e[2]=n.z,e[3]=r.x,e[4]=n.y,e[5]=n.z,e[6]=r.x,e[7]=r.y,e[8]=n.z,e[9]=n.x,e[10]=r.y,e[11]=n.z,e[12]=n.x,e[13]=n.y,e[14]=r.z,e[15]=r.x,e[16]=n.y,e[17]=r.z,e[18]=r.x,e[19]=r.y,e[20]=r.z,e[21]=n.x,e[22]=r.y,e[23]=r.z,t.needsUpdate=!0,this.boundingBox.isEmpty()||this.boundingBoxMesh.geometry.computeBoundingSphere()},yf.prototype.add=function(e,t){var i=this;t?t.forEach(function(t){return i.addBuffer(e,t)}):this.addBuffer(e),e.parameters.background?(this.backgroundGroup.add(e.group),this.backgroundGroup.add(e.wireframeGroup)):(this.modelGroup.add(e.group),this.modelGroup.add(e.wireframeGroup)),e.pickable&&this.pickingGroup.add(e.pickingGroup),de.Debug&&this.updateHelper()},yf.prototype.addBuffer=function(e,i){function r(t){t instanceof ya?t.children.forEach(r):(t.userData.buffer=e,t.userData.instance=i,t.onBeforeRender=vf)}var t=e.getMesh();i&&t.applyMatrix(i.matrix),r(t),e.group.add(t);var n=e.getWireframeMesh();if(i&&(n.matrix.copy(t.matrix),n.position.copy(t.position),n.quaternion.copy(t.quaternion),n.scale.copy(t.scale)),r(n),e.wireframeGroup.add(n),e.pickable){var o=e.getPickingMesh();i&&(o.matrix.copy(t.matrix),o.position.copy(t.position),o.quaternion.copy(t.quaternion),o.scale.copy(t.scale)),r(o),e.pickingGroup.add(o)}i?this._updateBoundingBox(e.geometry,e.matrix,i.matrix):this._updateBoundingBox(e.geometry,e.matrix)},yf.prototype.remove=function(e){this.translationGroup.children.forEach(function(t){t.remove(e.group),t.remove(e.wireframeGroup)}),e.pickable&&this.pickingGroup.remove(e.pickingGroup),this.updateBoundingBox(),de.Debug&&this.updateHelper()},yf.prototype._updateBoundingBox=function(t,e,i){var n=this.boundingBox;function r(t,e,i){t.boundingBox||t.computeBoundingBox();var r=t.boundingBox.clone();e&&r.applyMatrix4(e),i&&r.applyMatrix4(i),r.min.equals(r.max)&&r.expandByScalar(5),n.union(r)}function o(t){var e,i;void 0!==t.geometry&&(t.userData.buffer&&(e=t.userData.buffer.matrix),t.userData.instance&&(i=t.userData.instance.matrix),r(t.geometry,e,i))}t?r(t,e,i):(n.makeEmpty(),this.modelGroup.traverse(o),this.backgroundGroup.traverse(o)),n.getSize(this.boundingBoxSize),this.boundingBoxLength=this.boundingBoxSize.length()},yf.prototype.updateBoundingBox=function(){this._updateBoundingBox(),de.Debug&&this.updateHelper()},yf.prototype.getPickingPixels=function(){var t=this.width,e=this.height,i=t*e*4,r=Wp?new Float32Array(i):new Uint8Array(i);return this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,0,0,t,e,r),r},yf.prototype.getImage=function(l){var p=this;return new Promise(function(t){if(l){var e=p,i=e.width,r=e.height,n=i*r*4,o=p.getPickingPixels();if(Wp){for(var a=new Uint8Array(n),s=0;s<n;++s)a[s]=Math.round(255*o[s]);o=a}var c=document.createElement("canvas");c.width=i,c.height=r;var u=c.getContext("2d"),h=u.getImageData(0,0,i,r);h.data.set(o),u.putImageData(h,0,0),c.toBlob(t,"image/png")}else p.renderer.domElement.toBlob(t,"image/png")})},yf.prototype.makeImage=function(t){return void 0===t&&(t={}),tf(this,t)},yf.prototype.setLight=function(t,e,i,r){var n=this.parameters;void 0!==t&&n.lightColor.set(t),void 0!==e&&(n.lightIntensity=e),void 0!==i&&n.ambientColor.set(i),void 0!==r&&(n.ambientIntensity=r),this.requestRender()},yf.prototype.setFog=function(t,e,i,r,n){var o=this.parameters;void 0!==t&&o.fogColor.set(t),void 0!==e&&(o.fogNear=e),void 0!==i&&(o.fogFar=i),void 0!==r&&(o.fogMode=r),void 0!==n&&(o.fogScale=n),this.requestRender()},yf.prototype.setBackground=function(t){var e=this.parameters;t&&e.backgroundColor.set(t),this.setFog(e.backgroundColor),this.renderer.setClearColor(e.backgroundColor,0),this.renderer.domElement.style.backgroundColor=e.backgroundColor.getStyle(),this.requestRender()},yf.prototype.setSampling=function(t){void 0!==t&&(this.parameters.sampleLevel=t,this.sampleLevel=t),this.requestRender()},yf.prototype.setCamera=function(t,e,i){var r=this.parameters;if(t&&(r.cameraType=t),e&&(r.cameraFov=e),i&&(r.cameraEyeSep=i),"orthographic"===r.cameraType)this.camera!==this.orthographicCamera&&(this.camera=this.orthographicCamera,this.camera.position.copy(this.perspectiveCamera.position),this.camera.up.copy(this.perspectiveCamera.up),this.updateZoom());else{if("perspective"!==r.cameraType&&"stereo"!==r.cameraType)throw new Error("Unknown cameraType '"+r.cameraType+"'");this.camera!==this.perspectiveCamera&&(this.camera=this.perspectiveCamera,this.camera.position.copy(this.orthographicCamera.position),this.camera.up.copy(this.orthographicCamera.up))}this.perspectiveCamera.fov=r.cameraFov,this.stereoCamera.eyeSep=r.cameraEyeSep,this.camera.updateProjectionMatrix(),this.requestRender()},yf.prototype.setClip=function(t,e,i,r,n){var o=this.parameters;void 0!==t&&(o.clipNear=t),void 0!==e&&(o.clipFar=e),void 0!==i&&(o.clipDist=i),void 0!==r&&(o.clipMode=r),void 0!==n&&(o.clipScale=n),this.requestRender()},yf.prototype.setSize=function(t,e){this.width=t||1,this.height=e||1,this.perspectiveCamera.aspect=this.width/this.height,this.orthographicCamera.left=-this.width/2,this.orthographicCamera.right=this.width/2,this.orthographicCamera.top=this.height/2,this.orthographicCamera.bottom=-this.height/2,this.camera.updateProjectionMatrix();var i=window.devicePixelRatio;this.renderer.setPixelRatio(i),this.renderer.setSize(t,e);var r=this.width*i,n=this.height*i;this.pickingTarget.setSize(r,n),this.sampleTarget.setSize(r,n),this.holdTarget.setSize(r,n),this.requestRender()},yf.prototype.handleResize=function(){if(this.container===document.body)this.setSize(window.innerWidth,window.innerHeight);else{var t=this.container.getBoundingClientRect();this.setSize(t.width,t.height)}},yf.prototype.updateInfo=function(t){var e=this.info,i=e.memory,r=e.render;if(t)i.programs=0,i.geometries=0,i.textures=0,r.calls=0,r.vertices=0,r.points=0;else{var n=this.renderer.info,o=n.memory,a=n.render;i.geometries=o.geometries,i.textures=o.textures,r.calls+=a.calls,r.faces+=a.triangles,r.points+=a.points}},yf.prototype.animate=function(){if(this.signals.ticked.dispatch(this.stats),500<window.performance.now()-this.stats.startTime&&!this.isStill&&this.sampleLevel<3&&-1!==this.sampleLevel){var t=this.sampleLevel;this.sampleLevel=3,this.renderPending=!0,this.render(),this.isStill=!0,this.sampleLevel=t,de.Debug&&Yp.log("rendered still frame")}window.requestAnimationFrame(this.animate)},yf.prototype.pick=function(t,e){if("stereo"===this.parameters.cameraType)return{pid:0,instance:void 0,picker:void 0};t*=window.devicePixelRatio,e*=window.devicePixelRatio,t=Math.max(t-2,0),e=Math.max(e-2,0);var i,r,n=0,o=Wp?df:ff;this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,t,e,5,5,o);for(var a=0;a<mf.length;a++){var s=4*mf[a],c=Math.round(o[s+3]),u=this.pickingGroup.getObjectById(c);u&&(i=u.userData.instance,r=u.userData.buffer.picking,n=Wp?Math.round(255*o[s])<<16&16711680|Math.round(255*o[s+1])<<8&65280|255&Math.round(255*o[s+2]):o[s]<<16|o[s+1]<<8|o[s+2])}return{pid:n,instance:i,picker:r}},yf.prototype.requestRender=function(){var t=this;this.renderPending||(22<window.performance.now()-this.stats.startTime&&(this.stats.begin(),this.isStill=!1),this.renderPending=!0,window.requestAnimationFrame(function(){t.render(),t.stats.update()}))},yf.prototype.updateZoom=function(){var t=Gl(this.perspectiveCamera.fov),e=2*Math.tan(t/2)*-this.camera.position.z;this.orthographicCamera.zoom=this.height/e},yf.prototype.__updateClipping=function(){var t=this.parameters;if(this.cDist=this.distVector.copy(this.camera.position).length(),this.cDist||(this.camera.position.set(0,0,t.cameraZ),this.cDist=Math.abs(t.cameraZ)),"absolute"===t.clipScale&&"absolute"===t.fogScale||(this.bRadius=Math.max(10,.5*this.boundingBoxLength),this.bRadius+=this.boundingBox.getCenter(this.distVector).length(),(this.bRadius===1/0||this.bRadius===-1/0||isNaN(this.bRadius))&&(this.bRadius=50)),"camera"==t.clipMode)this.camera.near=t.clipNear,this.camera.far=t.clipFar;else if("absolute"==t.clipScale)this.camera.near=this.cDist-t.clipNear,this.camera.far=this.cDist+t.clipFar;else{var e=(50-t.clipNear)/50,i=-(50-t.clipFar)/50;this.camera.near=this.cDist-this.bRadius*e,this.camera.far=this.cDist+this.bRadius*i}var r=this.scene.fog;if(r.color.set(t.fogColor),"camera"==t.fogMode)r.near=t.fogNear,r.far=t.fogFar;else if("absolute"==t.fogScale)r.near=this.cDist+t.fogNear,r.far=this.cDist+t.fogFar;else{var n=(50-t.fogNear)/50,o=-(50-t.fogFar)/50;r.near=this.cDist-this.bRadius*n,r.far=this.cDist+this.bRadius*o}"PerspectiveCamera"===this.camera.type?(this.camera.near=Math.max(.1,t.clipDist,this.camera.near),this.camera.far=Math.max(1,this.camera.far),r.near=Math.max(.1,r.near),r.far=Math.max(1,r.far)):"OrthographicCamera"===this.camera.type&&0<t.clipDist&&(this.camera.near=Math.max(t.clipDist,this.camera.near))},yf.prototype.__updateCamera=function(){var t,e,i,o,a,r,n,s,c,u,h,l,v,p=this.camera;p.updateMatrix(),p.updateMatrixWorld(!0),p.updateProjectionMatrix(),t=this.scene,e=p,i=this.renderer,o=this.cDist,a=this.bRadius,r=i.getSize(),n=r.width,s=r.height,c=s,u=i.getPixelRatio(),h="OrthographicCamera"===e.type,of.set(n,s),af.getInverse(e.projectionMatrix),sf.copy(e.projectionMatrix).transpose(),t.traverse(function(t){var e=t.material;if(e){var i=e.uniforms;if(i){if(e.clipNear){var r=(50-e.clipNear)/50,n=o-a*r;i.clipNear.value=n}i.canvasHeight&&(i.canvasHeight.value=c),i.resolution&&i.resolution.value.copy(of),i.pixelRatio&&(i.pixelRatio.value=u),i.projectionMatrixInverse&&i.projectionMatrixInverse.value.copy(af),i.projectionMatrixTranspose&&i.projectionMatrixTranspose.value.copy(sf),i.ortho&&(i.ortho.value=h)}}}),l=this.scene,v=p,l.traverseVisible(function(t){if(t instanceof Ua&&t.userData.buffer.parameters.sortParticles){var e=t.geometry.attributes,i=e.position.count;if(0!==i){var r,n,o,a,s,c,u;rf.multiplyMatrices(v.matrixWorldInverse,t.matrixWorld),nf.multiplyMatrices(v.projectionMatrix,rf),t.userData.sortData?(r=t.userData.sortData,o=r.__zArray,n=r.__sortArray,a=r.__cmpFn):(o=new Float32Array(i),n=new Uint32Array(i),r={__zArray:o,__sortArray:n,__cmpFn:a=function(t,e){var i=o[t],r=o[e];return r<i?1:i<r?-1:0}},t.userData.sortData=r);for(var h=0;h<i;++h)ef.fromArray(e.position.array,3*h),ef.applyMatrix4(nf),o[h]=-ef.z,n[h]=h;for(var l in function(r,t,e,i){void 0===e&&(e=0),t=t||function(t,e){return e<t?1:t<e?-1:0};var n,o,a,s=[],c=-1,u=e,h=i=(i||r.length)-1;function l(t,e){var i=r[t];r[t]=r[e],r[e]=i}for(;;)if(h-u<=25){for(var p=u+1;p<=h;++p){for(n=r[p],o=p-1;u<=o&&0<t(r[o],n);)r[o+1]=r[o],--o;r[o+1]=n}if(-1===c)break;h=s[c--],u=s[c--]}else{for(l(u+(a=h)>>1,o=u+1),0<t(r[u],r[h])&&l(u,h),0<t(r[o],r[h])&&l(o,h),0<t(r[u],r[o])&&l(u,o),n=r[o];;){for(;t(r[++o],n)<0;);for(;0<t(r[--a],n););if(a<o)break;l(o,a)}r[u+1]=r[a],r[a]=n,a-u<=h-o+1?(s[++c]=o,s[++c]=h,h=a-1):(s[++c]=u,s[++c]=a-1,u=o)}}(n,a),e){var p=e[l],d=p.array,f=p.itemSize;r[l]||(r[l]=new Float32Array(f*i)),u=r[l],r[l]=d;for(var m=0;m<i;++m){s=n[m];for(var g=0;g<f;++g)c=s*f+g,u[m*f+g]=d[c]}e[l].array=u,e[l].needsUpdate=!0}}}})},yf.prototype.__setVisibility=function(t,e,i,r){this.modelGroup.visible=t,this.pickingGroup.visible=e,this.backgroundGroup.visible=i,this.helperGroup.visible=r},yf.prototype.__updateLights=function(){this.spotLight.color.set(this.parameters.lightColor),this.spotLight.intensity=this.parameters.lightIntensity,this.distVector.copy(this.camera.position).setLength(100*this.boundingBoxLength),this.spotLight.position.copy(this.camera.position).add(this.distVector),this.ambientLight.color.set(this.parameters.ambientColor),this.ambientLight.intensity=this.parameters.ambientIntensity},yf.prototype.__renderPickingGroup=function(t){this.renderer.clearTarget(this.pickingTarget,!0,!0,!0),this.__setVisibility(!1,!0,!1,!1),this.renderer.render(this.scene,t,this.pickingTarget),this.updateInfo(),this.renderer.setRenderTarget(null)},yf.prototype.__renderModelGroup=function(t,e){e?this.renderer.clearTarget(e,!0,!0,!0):this.renderer.clear(),this.__setVisibility(!1,!1,!0,!1),this.renderer.render(this.scene,t,e),e?this.renderer.clearTarget(e,!1,!0,!1):this.renderer.clearDepth(),this.updateInfo(),this.__setVisibility(!0,!1,!1,de.Debug),this.renderer.render(this.scene,t,e),this.updateInfo()},yf.prototype.__renderSuperSample=function(t){var e=kd[Math.max(0,Math.min(this.sampleLevel,5))],i=1/e.length;this.compositeUniforms.tForeground.value=this.sampleTarget.texture;var r=this.sampleTarget.width,n=this.sampleTarget.height;"stereo"===this.parameters.cameraType&&(r/=2);for(var o=0;o<e.length;++o){var a=e[o];t.setViewOffset(r,n,a[0],a[1],r,n),t.updateProjectionMatrix(),cf(this.scene,t);var s=i;s+=1/32*((o+.5)/e.length-.5),this.compositeUniforms.scale.value=s,this.__renderModelGroup(t,this.sampleTarget),this.renderer.render(this.compositeScene,this.compositeCamera,this.holdTarget,0===o)}this.compositeUniforms.scale.value=1,this.compositeUniforms.tForeground.value=this.holdTarget.texture,t.clearViewOffset(),this.renderer.render(this.compositeScene,this.compositeCamera,null,!0)},yf.prototype.__renderStereo=function(t){void 0===t&&(t=!1);var e=this.stereoCamera;e.update(this.perspectiveCamera);var i=this.renderer,r=i.getSize();i.setScissorTest(!0),i.setScissor(0,0,r.width/2,r.height),i.setViewport(0,0,r.width/2,r.height),cf(this.scene,e.cameraL),this.__render(t,e.cameraL),i.setScissor(r.width/2,0,r.width/2,r.height),i.setViewport(r.width/2,0,r.width/2,r.height),cf(this.scene,e.cameraR),this.__render(t,e.cameraR),i.setScissorTest(!1),i.setViewport(0,0,r.width,r.height)},yf.prototype.__render=function(t,e){void 0===t&&(t=!1),t?this.lastRenderedPicking||this.__renderPickingGroup(e):0<this.sampleLevel&&"stereo"!==this.parameters.cameraType?this.__renderSuperSample(e):this.__renderModelGroup(e)},yf.prototype.render=function(t){void 0===t&&(t=!1),this.rendering?Yp.warn("'tried to call 'render' from within 'render'"):(this.rendering=!0,this.__updateClipping(),this.__updateCamera(),this.__updateLights(),this.updateInfo(!0),"stereo"===this.parameters.cameraType?this.__renderStereo(t):this.__render(t,this.camera),this.lastRenderedPicking=t,this.rendering=!1,this.renderPending=!1,this.signals.rendered.dispatch())},yf.prototype.clear=function(){Yp.log("scene cleared"),this.scene.remove(this.rotationGroup),this._initScene(),this.renderer.clear()},yf.prototype.dispose=function(){this.renderer.dispose()};function bf(t){var e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY;return Math.sqrt(e*e+i*i)}var xf=function(t,e){void 0===e&&(e={}),this.domElement=t,this.signals={moved:new op,scrolled:new op,dragged:new op,dropped:new op,clicked:new op,hovered:new op,doubleClicked:new op},this.position=new ti,this.prevPosition=new ti,this.down=new ti,this.canvasPosition=new ti,this.prevClickCP=new ti,this.moving=!1,this.hovering=!0,this.scrolled=!1,this.lastMoved=1/0,this.which=0,this.buttons=0,this.pressed=!1,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.domElement.style.touchAction="none",this.hoverTimeout=bl(e.hoverTimeout,50),this.handleScroll=bl(e.handleScroll,!0),this.doubleClickSpeed=bl(e.doubleClickSpeed,500),this._listen=this._listen.bind(this),this._onMousewheel=this._onMousewheel.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMousedown=this._onMousedown.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onContextmenu=this._onContextmenu.bind(this),this._onTouchstart=this._onTouchstart.bind(this),this._onTouchend=this._onTouchend.bind(this),this._onTouchmove=this._onTouchmove.bind(this),this._listen();var i={passive:!1};document.addEventListener("mousewheel",this._onMousewheel,i),document.addEventListener("wheel",this._onMousewheel,i),document.addEventListener("MozMousePixelScroll",this._onMousewheel,i),document.addEventListener("mousemove",this._onMousemove,i),document.addEventListener("mousedown",this._onMousedown,i),document.addEventListener("mouseup",this._onMouseup,i),document.addEventListener("contextmenu",this._onContextmenu,i),document.addEventListener("touchstart",this._onTouchstart,i),document.addEventListener("touchend",this._onTouchend,i),document.addEventListener("touchmove",this._onTouchmove,i)},_f={key:{configurable:!0}};_f.key.get=function(){var t=0;return this.altKey&&(t+=1),this.ctrlKey&&(t+=2),this.metaKey&&(t+=4),this.shiftKey&&(t+=8),t},xf.prototype.setParameters=function(t){void 0===t&&(t={}),this.hoverTimeout=bl(t.hoverTimeout,this.hoverTimeout)},xf.prototype._listen=function(){var t=window.performance.now(),e=this.canvasPosition;this.doubleClickPending&&t-this.lastClicked>this.doubleClickSpeed&&(this.doubleClickPending=!1),t-this.lastMoved>this.hoverTimeout&&(this.moving=!1),(this.scrolled||!this.moving&&!this.hovering)&&(this.scrolled=!1,-1!==this.hoverTimeout&&this.overElement&&(this.hovering=!0,this.signals.hovered.dispatch(e.x,e.y))),window.requestAnimationFrame(this._listen)},xf.prototype._onMousewheel=function(t){var e=this;if(t.target===this.domElement&&this.handleScroll){t.preventDefault(),this._setKeys(t);var i=0;i=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail/3:-t.deltaY/(t.deltaMode?.33:30),this.signals.scrolled.dispatch(i),setTimeout(function(){e.scrolled=!0},this.hoverTimeout)}},xf.prototype._onMousemove=function(t){t.target===this.domElement?(t.preventDefault(),this.overElement=!0):this.overElement=!1,this._setKeys(t),this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(t.clientX,t.clientY),this._setCanvasPosition(t);var e=this.prevPosition.x-this.position.x,i=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(e,i),this.pressed&&this.signals.dragged.dispatch(e,i)},xf.prototype._onMousedown=function(t){t.target===this.domElement&&(t.preventDefault(),this._setKeys(t),this.moving=!1,this.hovering=!1,this.down.set(t.clientX,t.clientY),this.position.set(t.clientX,t.clientY),this.which=t.which,this.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){var e=t.which;if(2===e)return 4;if(3===e)return 2;if(0<e)return 1<<e-1}else if("button"in t){var i=t.button;if(1===i)return 4;if(2===i)return 2;if(0<=i)return 1<<i}}return 0}(t),this.pressed=!0,this._setCanvasPosition(t))},xf.prototype._onMouseup=function(t){t.target===this.domElement&&t.preventDefault(),this._setKeys(t);var e=this.canvasPosition;this._distance()<4&&(this.lastClicked=window.performance.now(),this.doubleClickPending&&this.prevClickCP.distanceTo(e)<4&&(this.signals.doubleClicked.dispatch(e.x,e.y),this.doubleClickPending=!1),this.signals.clicked.dispatch(e.x,e.y),this.doubleClickPending=!0,this.prevClickCP.copy(e)),this.which=void 0,this.buttons=void 0,this.pressed=void 0},xf.prototype._onContextmenu=function(t){t.target===this.domElement&&t.preventDefault()},xf.prototype._onTouchstart=function(t){if(t.target===this.domElement)switch(t.preventDefault(),this.pressed=!0,t.touches.length){case 1:this.moving=!1,this.hovering=!1,this.down.set(t.touches[0].pageX,t.touches[0].pageY),this.position.set(t.touches[0].pageX,t.touches[0].pageY),this._setCanvasPosition(t.touches[0]);break;case 2:this.down.set((t.touches[0].pageX+t.touches[1].pageX)/2,(t.touches[0].pageY+t.touches[1].pageY)/2),this.position.set((t.touches[0].pageX+t.touches[1].pageX)/2,(t.touches[0].pageY+t.touches[1].pageY)/2),this.lastTouchDistance=bf(t)}},xf.prototype._onTouchend=function(t){t.target===this.domElement&&t.preventDefault(),this.which=void 0,this.buttons=void 0,this.pressed=void 0},xf.prototype._onTouchmove=function(t){switch(t.target===this.domElement?(t.preventDefault(),this.overElement=!0):this.overElement=!1,t.touches.length){case 1:this._setKeys(t),this.which=1,this.buttons=1,this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(t.touches[0].pageX,t.touches[0].pageY),this._setCanvasPosition(t.touches[0]);var e=this.prevPosition.x-this.position.x,i=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(e,i),this.pressed&&this.signals.dragged.dispatch(e,i);break;case 2:var r=bf(t),n=r-this.lastTouchDistance;if(this.lastTouchDistance=r,this.prevPosition.copy(this.position),this.position.set((t.touches[0].pageX+t.touches[1].pageX)/2,(t.touches[0].pageY+t.touches[1].pageY)/2),2<Math.abs(n)&&this.handleScroll&&this.position.distanceTo(this.prevPosition)<2)this.which=0,this.buttons=0,this.signals.scrolled.dispatch(n/2);else{this.which=3,this.buttons=2;var o=this.prevPosition.x-this.position.x,a=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(o,a),this.pressed&&this.signals.dragged.dispatch(o,a)}}},xf.prototype._distance=function(){return this.position.distanceTo(this.down)},xf.prototype._setCanvasPosition=function(t){var e,i,r=this.domElement.getBoundingClientRect();"offsetX"in t&&"offsetY"in t?(e=t.offsetX,i=t.offsetY):(e=t.clientX-r.left,i=t.clientY-r.top),this.canvasPosition.set(e,r.height-i)},xf.prototype._setKeys=function(t){this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.metaKey=t.metaKey,this.shiftKey=t.shiftKey},xf.prototype.dispose=function(){document.removeEventListener("mousewheel",this._onMousewheel),document.removeEventListener("wheel",this._onMousewheel),document.removeEventListener("MozMousePixelScroll",this._onMousewheel),document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mousedown",this._onMousedown),document.removeEventListener("mouseup",this._onMouseup),document.removeEventListener("contextmenu",this._onContextmenu),document.removeEventListener("touchstart",this._onTouchstart),document.removeEventListener("touchend",this._onTouchend),document.removeEventListener("touchmove",this._onTouchmove)},Object.defineProperties(xf.prototype,_f);var wf=new ei,Sf=new ei,Af=new ei,Mf=new ei,Ef=new ri,Pf=new ii,Tf=new ei,Cf=new ri,If=new ri,Of=function(t,e){void 0===e&&(e={}),this.stage=t,this.rotateSpeed=bl(e.rotateSpeed,2),this.zoomSpeed=bl(e.zoomSpeed,1.2),this.panSpeed=bl(e.panSpeed,1),this.viewer=t.viewer,this.mouse=t.mouseObserver,this.controls=t.viewerControls},Lf={component:{configurable:!0},atom:{configurable:!0}};Lf.component.get=function(){return this.stage.transformComponent},Lf.atom.get=function(){return this.stage.transformAtom},Of.prototype._setPanVector=function(t,e,i){void 0===i&&(i=0);var r=this.controls.getCanvasScaleFactor(i);Cf.set(t,e,0),Cf.multiplyScalar(this.panSpeed*r)},Of.prototype._getRotateXY=function(t,e){return[this.rotateSpeed*-t*.01,this.rotateSpeed*e*.01]},Of.prototype._transformPanVector=function(){this.component&&(Tf.extractRotation(this.component.transform),Tf.premultiply(this.viewer.rotationGroup.matrix),Tf.getInverse(Tf),Cf.applyMatrix4(Tf))},Of.prototype.zoom=function(t){this.controls.zoom(this.zoomSpeed*t*.02)},Of.prototype.pan=function(t,e){this._setPanVector(t,e),Tf.getInverse(this.viewer.rotationGroup.matrix),Cf.applyMatrix4(Tf),this.controls.translate(Cf)},Of.prototype.panComponent=function(t,e){this.component&&(this._setPanVector(t,e),this._transformPanVector(),this.component.position.add(Cf),this.component.updateMatrix())},Of.prototype.panAtom=function(t,e){this.atom&&this.component&&(this.atom.positionToVector3(If),If.add(this.viewer.translationGroup.position),If.applyMatrix4(this.viewer.rotationGroup.matrix),this._setPanVector(t,e,If.z),this._transformPanVector(),this.atom.positionAdd(Cf),this.component.updateRepresentations({position:!0}))},Of.prototype.rotate=function(t,e){var i=this._getRotateXY(t,e),r=i[0],n=i[1];wf.makeRotationX(n),Sf.makeRotationY(r),wf.multiply(Sf),this.controls.applyMatrix(wf)},Of.prototype.zRotate=function(t,e){var i=this.rotateSpeed*((-t+e)/-2)*.01;Af.makeRotationZ(i),this.controls.applyMatrix(Af)},Of.prototype.rotateComponent=function(t,e){if(this.component){var i=this._getRotateXY(t,e),r=i[0],n=i[1];Mf.extractRotation(this.component.transform),Mf.premultiply(this.viewer.rotationGroup.matrix),Mf.getInverse(Mf),Ef.set(1,0,0),Ef.applyMatrix4(Mf),wf.makeRotationAxis(Ef,n),Ef.set(0,1,0),Ef.applyMatrix4(Mf),Sf.makeRotationAxis(Ef,r),wf.multiply(Sf),Pf.setFromRotationMatrix(wf),this.component.quaternion.premultiply(Pf),this.component.updateMatrix()}},Object.defineProperties(Of.prototype,Lf);var Rf=new ri;var Df=function(t,e){this.stage=e,this.pid=t.pid,this.picker=t.picker,this.instance=t.instance,this.stage=e,this.controls=e.viewerControls,this.mouse=e.mouseObserver},kf={type:{configurable:!0},altKey:{configurable:!0},ctrlKey:{configurable:!0},metaKey:{configurable:!0},shiftKey:{configurable:!0},canvasPosition:{configurable:!0},component:{configurable:!0},object:{configurable:!0},position:{configurable:!0},closestBondAtom:{configurable:!0},closeAtom:{configurable:!0},arrow:{configurable:!0},atom:{configurable:!0},axes:{configurable:!0},bond:{configurable:!0},box:{configurable:!0},cone:{configurable:!0},clash:{configurable:!0},contact:{configurable:!0},cylinder:{configurable:!0},distance:{configurable:!0},ellipsoid:{configurable:!0},octahedron:{configurable:!0},point:{configurable:!0},mesh:{configurable:!0},slice:{configurable:!0},sphere:{configurable:!0},tetrahedron:{configurable:!0},torus:{configurable:!0},surface:{configurable:!0},unitcell:{configurable:!0},unknown:{configurable:!0},volume:{configurable:!0},wideline:{configurable:!0}};kf.type.get=function(){return this.picker.type},kf.altKey.get=function(){return this.mouse.altKey},kf.ctrlKey.get=function(){return this.mouse.ctrlKey},kf.metaKey.get=function(){return this.mouse.metaKey},kf.shiftKey.get=function(){return this.mouse.shiftKey},kf.canvasPosition.get=function(){return this.mouse.canvasPosition},kf.component.get=function(){return this.stage.getComponentsByObject(this.picker.data).list[0]},kf.object.get=function(){return this.picker.getObject(this.pid)},kf.position.get=function(){return this.picker.getPosition(this.pid,this.instance,this.component)},kf.closestBondAtom.get=function(){if("bond"===this.type&&this.bond){var t,e,i,r=this.bond,n=this.controls,o=this.canvasPosition,a=n.getPositionOnCanvas(r.atom1),s=n.getPositionOnCanvas(r.atom2);return e=a,i=s,(t=o).distanceTo(e)<t.distanceTo(i)?r.atom1:r.atom2}},kf.closeAtom.get=function(){var t=this.canvasPosition,e=this.closestBondAtom;if(e){var i=this.controls.getPositionOnCanvas(e);e.positionToVector3(Rf),this.instance&&Rf.applyMatrix4(this.instance.matrix),Rf.applyMatrix4(this.component.matrix);var r=this.controls.viewer;Rf.add(r.translationGroup.position),Rf.applyMatrix4(r.rotationGroup.matrix);var n=this.controls.getCanvasScaleFactor(Rf.z),o=this.component.getMaxRepresentationRadius(e.index);return t.distanceTo(i)<=o/n?e:void 0}},kf.arrow.get=function(){return this._objectIfType("arrow")},kf.atom.get=function(){return this._objectIfType("atom")},kf.axes.get=function(){return this._objectIfType("axes")},kf.bond.get=function(){return this._objectIfType("bond")},kf.box.get=function(){return this._objectIfType("box")},kf.cone.get=function(){return this._objectIfType("cone")},kf.clash.get=function(){return this._objectIfType("clash")},kf.contact.get=function(){return this._objectIfType("contact")},kf.cylinder.get=function(){return this._objectIfType("cylinder")},kf.distance.get=function(){return this._objectIfType("distance")},kf.ellipsoid.get=function(){return this._objectIfType("ellipsoid")},kf.octahedron.get=function(){return this._objectIfType("octahedron")},kf.point.get=function(){return this._objectIfType("point")},kf.mesh.get=function(){return this._objectIfType("mesh")},kf.slice.get=function(){return this._objectIfType("slice")},kf.sphere.get=function(){return this._objectIfType("sphere")},kf.tetrahedron.get=function(){return this._objectIfType("tetrahedron")},kf.torus.get=function(){return this._objectIfType("torus")},kf.surface.get=function(){return this._objectIfType("surface")},kf.unitcell.get=function(){return this._objectIfType("unitcell")},kf.unknown.get=function(){return this._objectIfType("unknown")},kf.volume.get=function(){return this._objectIfType("volume")},kf.wideline.get=function(){return this._objectIfType("wideline")},Df.prototype._objectIfType=function(t){return this.type===t?this.object:void 0},Df.prototype.getLabel=function(){var t=this.atom||this.closeAtom,e="nothing";return this.arrow?e=this.arrow.name:t?e="atom: "+t.qualifiedName()+" ("+t.structure.name+")":this.axes?e="axes":this.bond?e="bond: "+this.bond.atom1.qualifiedName()+" - "+this.bond.atom2.qualifiedName()+" ("+this.bond.structure.name+")":this.box?e=this.box.name:this.cone?e=this.cone.name:this.clash?e="clash: "+this.clash.clash.sele1+" - "+this.clash.clash.sele2:this.contact?e=this.contact.type+": "+this.contact.atom1.qualifiedName()+" - "+this.contact.atom2.qualifiedName()+" ("+this.contact.atom1.structure.name+")":this.cylinder?e=this.cylinder.name:this.distance?e="distance: "+this.distance.atom1.qualifiedName()+" - "+this.distance.atom2.qualifiedName()+" ("+this.distance.structure.name+")":this.ellipsoid?e=this.ellipsoid.name:this.octahedron?e=this.octahedron.name:this.point?e=this.point.name:this.mesh?e="mesh: "+(this.mesh.name||this.mesh.serial)+" ("+this.mesh.shape.name+")":this.slice?e="slice: "+this.slice.value.toPrecision(3)+" ("+this.slice.volume.name+")":this.sphere?e=this.sphere.name:this.surface?e="surface: "+this.surface.surface.name:this.tetrahedron?e=this.tetrahedron.name:this.torus?e=this.torus.name:this.unitcell?e="unitcell: "+this.unitcell.unitcell.spacegroup+" ("+this.unitcell.structure.name+")":this.unknown?e="unknown":this.volume?e="volume: "+this.volume.value.toPrecision(3)+" ("+this.volume.volume.name+")":this.wideline&&(e=this.wideline.name),e},Object.defineProperties(Df.prototype,kf);var Bf=function(t){this.stage=t,this.viewer=t.viewer};Bf.prototype.pick=function(t,e){var i=this.viewer.pick(t,e);if(i.picker&&"ignore"!==i.picker.type&&void 0!==i.pid){var r=i.picker.array;if(!(r&&i.pid>=r.length))return new Df(i,this.stage);console.error("pid >= picker.array.length")}};var Nf=new ii,Ff=new ri,zf=new ri,Uf=new ri,jf=new ri,Gf=new ei,Vf=new ri,Hf=new ei,$f=function(t){this.stage=t,this.signals={changed:new op},this.viewer=t.viewer},Wf={position:{configurable:!0},rotation:{configurable:!0}};Wf.position.get=function(){return this.viewer.translationGroup.position},Wf.rotation.get=function(){return this.viewer.rotationGroup.quaternion},$f.prototype.changed=function(){this.viewer.requestRender(),this.signals.changed.dispatch()},$f.prototype.getPositionOnCanvas=function(t,e){var i=Dl(e,ti),r=this.viewer;return Uf.copy(t).add(r.translationGroup.position).applyMatrix4(r.rotationGroup.matrix).project(r.camera),i.set((Uf.x+1)*r.width/2,(Uf.y+1)*r.height/2)},$f.prototype.getCanvasScaleFactor=function(t){void 0===t&&(t=0);var e=this.viewer.camera;if(e instanceof lr)return 1/e.zoom;t=-t,t+=e.position.z;var i=Gl(e.fov);return-2*t*Math.tan(i/2)/this.viewer.height},$f.prototype.getOrientation=function(t){var e=Bl(t);e.copy(this.viewer.rotationGroup.matrix);var i=-this.viewer.camera.position.z;return e.scale(jf.set(i,i,i)),e.setPosition(this.viewer.translationGroup.position),e},$f.prototype.orient=function(t){Bl(t).decompose(Ff,Nf,zf);var e=this.viewer;e.rotationGroup.setRotationFromQuaternion(Nf),e.translationGroup.position.copy(Ff),e.camera.position.z=-zf.z,e.updateZoom(),this.changed()},$f.prototype.translate=function(t){this.viewer.translationGroup.position.add(kl(t)),this.changed()},$f.prototype.center=function(t){this.viewer.translationGroup.position.copy(kl(t)).negate(),this.changed()},$f.prototype.zoom=function(t){this.distance(this.viewer.camera.position.z*(1-t))},$f.prototype.distance=function(t){this.viewer.camera.position.z=Math.min(-1,t),this.viewer.updateZoom(),this.changed()},$f.prototype.spin=function(t,e){Gf.getInverse(this.viewer.rotationGroup.matrix),Vf.copy(kl(t)).applyMatrix4(Gf),this.viewer.rotationGroup.rotateOnAxis(Vf,e),this.changed()},$f.prototype.rotate=function(t){this.viewer.rotationGroup.setRotationFromQuaternion(Nl(t)),this.changed()},$f.prototype.align=function(t){Hf.getInverse(Bl(t)),this.viewer.rotationGroup.setRotationFromMatrix(Hf),this.changed()},$f.prototype.applyMatrix=function(t){this.viewer.rotationGroup.applyMatrix(Bl(t)),this.changed()},Object.defineProperties($f.prototype,Wf);var Xf=function(t,e){for(var i,r=[],n=arguments.length-2;0<n--;)r[n]=arguments[n+2];this.pausedTime=-1,this.elapsedDuration=0,this.pausedDuration=0,this.ignoreGlobalToggle=!1,this._paused=!1,this._resolveList=[],this.duration=bl(t,1e3),this.controls=e,this.startTime=window.performance.now(),(i=this)._init.apply(i,r)},qf={done:{configurable:!0},paused:{configurable:!0}};qf.done.get=function(){return 1===this.alpha},qf.paused.get=function(){return this._paused},Xf.prototype.tick=function(t){if(!this._paused)return this.elapsedDuration=t.currentTime-this.startTime-this.pausedDuration,0===this.duration?this.alpha=1:this.alpha=Zl(0,1,this.elapsedDuration/this.duration),this._tick(t),this.done&&this._resolveList.forEach(function(t){return t()}),this.done},Xf.prototype.pause=function(t){t&&(this._hold=!0),-1===this.pausedTime&&(this.pausedTime=window.performance.now()),this._paused=!0},Xf.prototype.resume=function(t){!t&&this._hold||(this.pausedDuration+=window.performance.now()-this.pausedTime,this._paused=!1,this._hold=!1,this.pausedTime=-1)},Xf.prototype.toggle=function(){this._paused?this.resume():this.pause()},Xf.prototype.then=function(t){var e=this;return(this.done?Promise.resolve():new Promise(function(t){return e._resolveList.push(t)})).then(t)},Object.defineProperties(Xf.prototype,qf);var Yf=function(n){function t(t,e){for(var i=[],r=arguments.length-2;0<r--;)i[r]=arguments[r+2];n.apply(this,[bl(t,1/0),e].concat(i))}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype._init=function(t,e){Array.isArray(t)?this.axis=(new ri).fromArray(t):this.axis=bl(t,new ri(0,1,0)),this.angle=bl(e,.01)},t.prototype._tick=function(t){this.axis&&this.angle&&this.controls.spin(this.axis,this.angle*t.lastDuration/16)},t}(Xf),Zf=function(n){function t(t,e){for(var i=[],r=arguments.length-2;0<r--;)i[r]=arguments[r+2];n.apply(this,[bl(t,1/0),e].concat(i)),this.angleSum=0,this.direction=1}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype._init=function(t,e,i){Array.isArray(t)?this.axis=(new ri).fromArray(t):this.axis=bl(t,new ri(0,1,0)),this.angleStep=bl(e,.01),this.angleEnd=bl(i,.2)},t.prototype._tick=function(t){if(this.axis&&this.angleStep&&this.angleEnd){var e=Zl(0,1,Math.abs(this.angleSum)/this.angleEnd),i=this.angleStep*this.direction*(1.1-e);this.controls.spin(this.axis,i*t.lastDuration/16),this.angleSum+=this.angleStep,this.angleSum>=this.angleEnd&&(this.direction*=-1,this.angleSum=-this.angleEnd)}},t}(Xf),Kf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._init=function(t,e){this.moveFrom=kl(bl(t,new ri)),this.moveTo=kl(bl(e,new ri))},e.prototype._tick=function(){this.controls.position.lerpVectors(this.moveFrom,this.moveTo,this.alpha).negate(),this.controls.changed()},e}(Xf),Jf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._init=function(t,e){this.zoomFrom=t,this.zoomTo=e},e.prototype._tick=function(){this.controls.distance(ql(this.zoomFrom,this.zoomTo,this.alpha))},e}(Xf),Qf=function(t){function e(){t.apply(this,arguments),this._currentRotation=new ii}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._init=function(t,e){this.rotateFrom=Nl(t),this.rotateTo=Nl(e),this._currentRotation=new ii},e.prototype._tick=function(){this._currentRotation.copy(this.rotateFrom).slerp(this.rotateTo,this.alpha),this.controls.rotate(this._currentRotation)},e}(Xf),tm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._init=function(t,e,i){this.valueFrom=t,this.valueTo=e,this.callback=i},e.prototype._tick=function(){this.callback(ql(this.valueFrom,this.valueTo,this.alpha))},e}(Xf),em=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._init=function(t){this.callback=t},e.prototype._tick=function(){1===this.alpha&&this.callback()},e}(Xf),im=function(t){void 0===t&&(t=[]),this._resolveList=[],this._list=t},rm={done:{configurable:!0}};rm.done.get=function(){return this._list.every(function(t){return t.done})},im.prototype.then=function(t){var e=this;return(this.done?Promise.resolve():new Promise(function(t){e._resolveList.push(t),e._list.forEach(function(t){t.then(function(){e._resolveList.forEach(function(t){t()}),e._resolveList.length=0})})})).then(t)},Object.defineProperties(im.prototype,rm);var nm=function(t){this.stage=t,this.animationList=[],this.finishedList=[],this.viewer=t.viewer,this.controls=t.viewerControls},om={paused:{configurable:!0}};om.paused.get=function(){return this.animationList.every(function(t){return t.paused})},nm.prototype.add=function(t){return 0===t.duration?t.tick(this.viewer.stats):this.animationList.push(t),t},nm.prototype.remove=function(t){var e=this.animationList,i=e.indexOf(t);-1<i&&e.splice(i,1)},nm.prototype.run=function(t){for(var e=this.finishedList,i=this.animationList,r=i.length,n=0;n<r;++n){var o=i[n];o.tick(t)&&e.push(o)}var a=e.length;if(a){for(var s=0;s<a;++s)this.remove(e[s]);e.length=0}},nm.prototype.spin=function(t,e,i){return this.add(new Yf(i,this.controls,t,e))},nm.prototype.rock=function(t,e,i,r){return this.add(new Zf(r,this.controls,t,e,i))},nm.prototype.rotate=function(t,e){var i=this.viewer.rotationGroup.quaternion.clone();return this.add(new Qf(e,this.controls,i,t))},nm.prototype.move=function(t,e){var i=this.controls.position.clone().negate();return this.add(new Kf(e,this.controls,i,t))},nm.prototype.zoom=function(t,e){var i=this.viewer.camera.position.z;return this.add(new Jf(e,this.controls,i,t))},nm.prototype.zoomMove=function(t,e,i){return new im([this.move(t,i),this.zoom(e,i)])},nm.prototype.orient=function(t,e){var i=new ri,r=new ii,n=new ri;return Bl(t).decompose(i,r,n),new im([this.move(i.negate(),e),this.rotate(r,e),this.zoom(-n.x,e)])},nm.prototype.value=function(t,e,i,r){return this.add(new tm(r,this.controls,t,e,i))},nm.prototype.timeout=function(t,e){return this.add(new em(e,this.controls,t))},nm.prototype.spinComponent=function(t,e,i,r){return this.add(new Yf(r,t.controls,e,i))},nm.prototype.rockComponent=function(t,e,i,r,n){return this.add(new Zf(n,t.controls,e,i,r))},nm.prototype.moveComponent=function(t,e,i){var r=t.controls.position.clone().negate();return this.add(new Kf(i,t.controls,r,e))},nm.prototype.pause=function(){this.animationList.forEach(function(t){return t.pause()})},nm.prototype.resume=function(){this.animationList.forEach(function(t){return t.resume()})},nm.prototype.toggle=function(){this.paused?this.resume():this.pause()},nm.prototype.clear=function(){this.animationList.length=0},nm.prototype.dispose=function(){this.clear()},Object.defineProperties(nm.prototype,om);var am=function(t,e){if(this.fn=t,this.queue=[],this.pending=!1,this.next=this.next.bind(this),e){for(var i=0,r=e.length;i<r;++i)this.queue.push(e[i]);this.next()}};am.prototype.run=function(t){this.fn(t,this.next)},am.prototype.next=function(){var t=this,e=this.queue.shift();void 0!==e?(this.pending=!0,setTimeout(function(){return t.run(e)})):this.pending=!1},am.prototype.push=function(t){this.queue.push(t),this.pending||this.next()},am.prototype.kill=function(){this.queue.length=0},am.prototype.length=function(){return this.queue.length};var sm=function(t,e,i){this.type="",this.parameters={lazy:{type:"boolean"},clipNear:{type:"range",step:1,max:100,min:0,buffer:!0},clipRadius:{type:"number",precision:1,max:1e3,min:0,buffer:!0},clipCenter:{type:"vector3",precision:1,buffer:!0},flatShaded:{type:"boolean",buffer:!0},opacity:{type:"range",step:.01,max:1,min:0,buffer:!0},depthWrite:{type:"boolean",buffer:!0},side:{type:"select",buffer:!0,options:{front:"front",back:"back",double:"double"}},wireframe:{type:"boolean",buffer:!0},colorScheme:{type:"select",update:"color",options:{}},colorScale:{type:"select",update:"color",options:Qp.getScales()},colorReverse:{type:"boolean",update:"color"},colorValue:{type:"color",update:"color"},colorDomain:{type:"hidden",update:"color"},colorMode:{type:"select",update:"color",options:Qp.getModes()},roughness:{type:"range",step:.01,max:1,min:0,buffer:!0},metalness:{type:"range",step:.01,max:1,min:0,buffer:!0},diffuse:{type:"color",buffer:!0},diffuseInterior:{type:"boolean",buffer:!0},useInteriorColor:{type:"boolean",buffer:!0},interiorColor:{type:"color",buffer:!0},interiorDarkening:{type:"range",step:.01,max:1,min:0,buffer:!0},matrix:{type:"hidden",buffer:!0},disablePicking:{type:"boolean",rebuild:!0}},this.viewer=e,this.tasks=new Md,this.queue=new am(this.make.bind(this)),this.bufferList=[],this.parameters.colorScheme&&(this.parameters.colorScheme.options=Qp.getSchemes()),this.toBePrepared=!1};sm.prototype.init=function(t){var e=t||{};this.clipNear=bl(e.clipNear,0),this.clipRadius=bl(e.clipRadius,0),this.clipCenter=bl(e.clipCenter,new ri),this.flatShaded=bl(e.flatShaded,!1),this.side=bl(e.side,"double"),this.opacity=bl(e.opacity,1),this.depthWrite=bl(e.depthWrite,!0),this.wireframe=bl(e.wireframe,!1),this.setColor(e.color,e),this.colorScheme=bl(e.colorScheme,"uniform"),this.colorScale=bl(e.colorScale,""),this.colorReverse=bl(e.colorReverse,!1),this.colorValue=bl(e.colorValue,9474192),this.colorDomain=bl(e.colorDomain,void 0),this.colorMode=bl(e.colorMode,"hcl"),this.visible=bl(e.visible,!0),this.quality=bl(e.quality,void 0),this.roughness=bl(e.roughness,.4),this.metalness=bl(e.metalness,0),this.diffuse=bl(e.diffuse,16777215),this.diffuseInterior=bl(e.diffuseInterior,!1),this.useInteriorColor=bl(e.useInteriorColor,!1),this.interiorColor=bl(e.interiorColor,2236962),this.interiorDarkening=bl(e.interiorDarkening,0),this.lazy=bl(e.lazy,!1),this.lazyProps={build:!1,bufferParams:{},what:{}},this.matrix=bl(e.matrix,new ei),this.disablePicking=bl(e.disablePicking,!1);var i=this.parameters;!0===i.sphereDetail&&(i.sphereDetail={type:"integer",max:3,min:0,rebuild:"impostor"}),!0===i.radialSegments&&(i.radialSegments={type:"integer",max:25,min:5,rebuild:"impostor"}),!0===i.openEnded&&(i.openEnded={type:"boolean",rebuild:"impostor",buffer:!0}),!0===i.disableImpostor&&(i.disableImpostor={type:"boolean",rebuild:!0}),"low"===e.quality?(i.sphereDetail&&(this.sphereDetail=0),i.radialSegments&&(this.radialSegments=5)):"medium"===e.quality?(i.sphereDetail&&(this.sphereDetail=1),i.radialSegments&&(this.radialSegments=10)):"high"===e.quality?(i.sphereDetail&&(this.sphereDetail=2),i.radialSegments&&(this.radialSegments=20)):(i.sphereDetail&&(this.sphereDetail=bl(e.sphereDetail,1)),i.radialSegments&&(this.radialSegments=bl(e.radialSegments,10))),i.openEnded&&(this.openEnded=bl(e.openEnded,!0)),i.disableImpostor&&(this.disableImpostor=bl(e.disableImpostor,!1))},sm.prototype.getColorParams=function(t){return Object.assign({scheme:this.colorScheme,scale:this.colorScale,reverse:this.colorReverse,value:this.colorValue,domain:this.colorDomain,mode:this.colorMode},t)},sm.prototype.getBufferParams=function(t){return void 0===t&&(t={}),Object.assign({clipNear:this.clipNear,clipRadius:this.clipRadius,clipCenter:this.clipCenter,flatShaded:this.flatShaded,opacity:this.opacity,depthWrite:this.depthWrite,side:this.side,wireframe:this.wireframe,roughness:this.roughness,metalness:this.metalness,diffuse:this.diffuse,diffuseInterior:this.diffuseInterior,useInteriorColor:this.useInteriorColor,interiorColor:this.interiorColor,interiorDarkening:this.interiorDarkening,matrix:this.matrix,disablePicking:this.disablePicking},t)},sm.prototype.setColor=function(t,e){var i=Object.keys(Qp.getSchemes());if("string"==typeof t&&i.includes(t.toLowerCase()))e?e.colorScheme=t:this.setParameters({colorScheme:t});else if(void 0!==t){var r=new ki(t).getHex();e?(e.colorScheme="uniform",e.colorValue=r):this.setParameters({colorScheme:"uniform",colorValue:r})}return this},sm.prototype.prepare=function(t){},sm.prototype.create=function(){},sm.prototype.update=function(t){this.build()},sm.prototype.build=function(t){if(!this.lazy||this.visible&&this.opacity){if(!this.toBePrepared)return this.tasks.increment(),void this.make();0<this.queue.length()?(this.tasks.change(1-this.queue.length()),this.queue.kill()):this.tasks.increment(),this.queue.push(t||!1)}else this.lazyProps.build=!0},sm.prototype.make=function(t,e){var i=this;de.Debug&&Yp.time("Representation.make "+this.type);var r=function(){t?(i.update(t),i.viewer.requestRender(),i.tasks.decrement(),e&&e()):(i.clear(),i.create(),i.manualAttach||i.disposed||(de.Debug&&Yp.time("Representation.attach "+i.type),i.attach(function(){de.Debug&&Yp.timeEnd("Representation.attach "+i.type),i.tasks.decrement(),e&&e()}))),de.Debug&&Yp.timeEnd("Representation.make "+i.type)};this.toBePrepared?this.prepare(r):r()},sm.prototype.attach=function(t){this.setVisibility(this.visible),t()},sm.prototype.setVisibility=function(e,t){if(this.visible=e,this.visible&&this.opacity){var i=this.lazyProps,r=i.bufferParams,n=i.what;if(i.build)return i.build=!1,this.build(),this;(Object.keys(r).length||Object.keys(n).length)&&(i.bufferParams={},i.what={},this.updateParameters(r,n))}return this.bufferList.forEach(function(t){t.setVisibility(e)}),t||this.viewer.requestRender(),this},sm.prototype.setParameters=function(t,e,i){var r=this;void 0===e&&(e={}),void 0===i&&(i=!1);var n=t||{},o=this.parameters,a={};for(var s in this.opacity||void 0===n.opacity||(this.lazyProps.build?i=!(this.lazyProps.build=!1):(Object.assign(a,this.lazyProps.bufferParams),Object.assign(e,this.lazyProps.what),this.lazyProps.bufferParams={},this.lazyProps.what={})),this.setColor(n.color,n),n)if(void 0!==n[s]&&void 0!==o[s]&&(o[s].int&&(n[s]=parseInt(n[s])),o[s].float&&(n[s]=parseFloat(n[s])),n[s]!==r[s]||n[s].equals&&!n[s].equals(r[s]))){if(r[s]&&r[s].copy&&n[s].copy?r[s].copy(n[s]):r[s]&&r[s].set?r[s].set(n[s]):r[s]=n[s],o[s].buffer)if(!0===o[s].buffer)a[s]=n[s];else a[o[s].buffer]=n[s];o[s].update&&(e[o[s].update]=!0),!o[s].rebuild||"impostor"===o[s].rebuild&&Xp&&!r.disableImpostor||(i=!0)}return i?this.build():this.updateParameters(a,e),this},sm.prototype.updateParameters=function(e,t){if(void 0===e&&(e={}),this.lazy&&(!this.visible||!this.opacity)&&!1===e.hasOwnProperty("opacity"))return Object.assign(this.lazyProps.bufferParams,e),void Object.assign(this.lazyProps.what,t);this.bufferList.forEach(function(t){t.setParameters(e)}),Object.keys(t).length&&this.update(t),this.viewer.requestRender()},sm.prototype.getParameters=function(){var e=this,i={lazy:this.lazy,visible:this.visible,quality:this.quality};return Object.keys(this.parameters).forEach(function(t){null!==e.parameters[t]&&(i[t]=e[t])}),i},sm.prototype.clear=function(){var e=this;this.bufferList.forEach(function(t){e.viewer.remove(t),t.dispose()}),this.bufferList.length=0,this.viewer.requestRender()},sm.prototype.dispose=function(){this.disposed=!0,this.queue.kill(),this.tasks.dispose(),this.clear()};var cm=function(r){var n=this;this.pending=0,this.postCount=0,this.onmessageDict={},this.onerrorDict={},this.name=r,this.blobUrl=window.URL.createObjectURL(Jp.get(r)),this.worker=new Worker(this.blobUrl),Jp.activeWorkerCount+=1,this.worker.onmessage=function(t){n.pending-=1;var e=t.data.__postId;de.Debug&&Yp.timeEnd("Worker.postMessage "+r+" #"+e);var i=n.onmessageDict[e];i&&i.call(n.worker,t),delete n.onmessageDict[e],delete n.onerrorDict[e]},this.worker.onerror=function(t){if(n.pending-=1,t.data){var e=t.data.__postId,i=n.onerrorDict[e];i?i.call(n.worker,t):Yp.error("Worker.onerror",e,r,t),delete n.onmessageDict[e],delete n.onerrorDict[e]}else Yp.error("Worker.onerror",r,t)}};cm.prototype.post=function(e,t,i,r){void 0===e&&(e={}),this.onmessageDict[this.postCount]=i,this.onerrorDict[this.postCount]=r,e.__name=this.name,e.__postId=this.postCount,e.__debug=de.Debug,de.Debug&&Yp.time("Worker.postMessage "+this.name+" #"+this.postCount);try{this.worker.postMessage(e,t)}catch(t){Yp.error("worker.post:",t),this.worker.postMessage(e)}return this.pending+=1,this.postCount+=1,this},cm.prototype.terminate=function(){this.worker?(this.worker.terminate(),window.URL.revokeObjectURL(this.blobUrl),Jp.activeWorkerCount-=1):Yp.log("no worker to terminate")};var um=function(t,e){void 0===e&&(e=2),this.pool=[],this.count=0,this.maxCount=Math.min(8,e),this.name=t};function hm(t){for(var e=t.length,i=e/3,r=0,n=0,o=0,a=0;a<e;a+=3)r+=t[a+0],n+=t[a+1],o+=t[a+2];return new ri(r/i,n/i,o/i)}function lm(t,e,i){return i?t.sub(i).projectOnVector(e).add(i):t.projectOnVector(e),t}function pm(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var u=t[s],h=t[s+1],l=t[s+2];u<e&&(e=u),h<i&&(i=h),l<r&&(r=l),n<u&&(n=u),o<h&&(o=h),a<l&&(a=l)}return[gm([e,i,r]),gm([n,o,a])]}function dm(t,e){for(var i=0,r=e.length;i<r;i+=3){var n=e[i],o=e[i+1],a=e[i+2];e[i]=t[0]*n+t[4]*o+t[8]*a+t[12],e[i+1]=t[1]*n+t[5]*o+t[9]*a+t[13],e[i+2]=t[2]*n+t[6]*o+t[10]*a+t[14]}}function fm(t,e){for(var i=0,r=e.length;i<r;i+=3){var n=e[i],o=e[i+1],a=e[i+2];e[i]=t[0]*n+t[3]*o+t[6]*a,e[i+1]=t[1]*n+t[4]*o+t[7]*a,e[i+2]=t[2]*n+t[5]*o+t[8]*a}}function mm(t){for(var e=0,i=t.length;e<i;e+=3){var r=t[e],n=t[e+1],o=t[e+2],a=1/Math.sqrt(r*r+n*n+o*o);t[e]=r*a,t[e+1]=n*a,t[e+2]=o*a}}function gm(t){return new Float32Array(t||3)}function vm(t,e,i){var r=e[0],n=e[1],o=e[2],a=i[0],s=i[1],c=i[2];t[0]=n*c-o*s,t[1]=o*a-r*c,t[2]=r*s-n*a}function ym(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function bm(t,e,i){t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2]}function xm(t,e,i){t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2]}function _m(t,e,i){void 0===i&&(i=0),t[0]=e[i],t[1]=e[i+1],t[2]=e[i+2]}function wm(t,e,i){void 0===i&&(i=0),e[i]=t[0],e[i+1]=t[1],e[i+2]=t[2]}function Sm(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function Am(t,e,i){Mm(t,e,1/i)}function Mm(t,e,i){t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i}function Em(t,e){Mm(t,e,1/Sm(e))}function Pm(t,e,i){t[0]=e[0]-i,t[1]=e[1]-i,t[2]=e[2]-i}function Tm(t,e,i){t[0]=e[0]+i,t[1]=e[1]+i,t[2]=e[2]+i}function Cm(t,e){t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2])}function Im(t,e){t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2])}function Om(t,e){t[0]=-e[0],t[1]=-e[1],t[2]=-e[2]}function Lm(t,e){void 0===e&&(e=9);for(var i=Math.floor(e/2),r=t.position1.length/3,n=3*(i*r),o=1/e,a=jd(t.position1,t.position2),s=new Float32Array(n),c=new Float32Array(n),u=new ri,h=0;h<r;++h){var l=3*h;u.set(a[l],a[l+1],a[l+2]);for(var p=t.position1[l],d=t.position1[l+1],f=t.position1[l+2],m=0;m<i;++m){var g=i*l+3*m,v=o*(2*m+1),y=o*(2*m+2);s[g]=p+u.x*v,s[g+1]=d+u.y*v,s[g+2]=f+u.z*v,c[g]=p+u.x*y,c[g+1]=d+u.y*y,c[g+2]=f+u.z*y}}var b=Ud(s,c),x=function(t,e){for(var i=t.length/3,r=new Float32Array(i*e*3),n=0;n<i;++n)for(var o=3*n,a=n*e*3,s=t[o+0],c=t[o+1],u=t[o+2],h=0;h<e;++h){var l=a+3*h;r[l+0]=s,r[l+1]=c,r[l+2]=u}return r}(t.color,i),_={position:b,position1:s,position2:c,color:x,color2:x};return t.radius&&(_.radius=Wd(t.radius,i)),t.picking&&t.picking.array&&(t.picking.array=Wd(t.picking.array,i),_.picking=t.picking),t.primitiveId&&(_.primitiveId=Wd(t.primitiveId,i)),_}function Rm(t,e){void 0===e&&(e=.1);for(var i=jd(t.position1,t.position2),r=[],n=[],o=[],a=t.radius?[]:void 0,s=t.picking?[]:void 0,c=t.primitiveId?[]:void 0,u=new ri,h=t.position1.length/3,l=0,p=0;p<h;++p){var d=3*p;u.set(i[d],i[d+1],i[d+2]);for(var f=u.length()/e,m=Math.floor(f/2),g=1/f,v=t.position1[d],y=t.position1[d+1],b=t.position1[d+2],x=0;x<m;++x){var _=3*l+3*x,w=g*(2*x+1),S=g*(2*x+2);r[_]=v+u.x*w,r[_+1]=y+u.y*w,r[_+2]=b+u.z*w,n[_]=v+u.x*S,n[_+1]=y+u.y*S,n[_+2]=b+u.z*S,t.color&&(o[_]=t.color[d],o[_+1]=t.color[d+1],o[_+2]=t.color[d+2]),a&&(a[l+x]=t.radius[p]),s&&(t.picking.array?s[l+x]=t.picking.array[p]:s[l+x]=p),c&&(c[l+x]=t.primitiveId[p])}l+=m}var A=new Float32Array(r),M=new Float32Array(n),E=Ud(A,M),P=new Float32Array(o),T={position:E,position1:A,position2:M,color:P,color2:P};return a&&(T.radius=new Float32Array(a)),s&&t.picking&&(t.picking.array=new Float32Array(s),T.picking=t.picking),c&&(T.primitiveId=new Float32Array(c)),T}function Dm(t,e){void 0===e&&(e=.1);for(var i=jd(t.position1,t.position2),r=[],n=[],o=[],a=t.radius?[]:void 0,s=t.picking?[]:void 0,c=t.primitiveId?[]:void 0,u=new ri,h=t.position1.length/3,l=e,p=!0,d=0,f=0,m=0,g=0;g<h;++g){var v=3*g,y=t.position1[v],b=t.position1[v+1],x=t.position1[v+2];u.set(i[v],i[v+1],i[v+2]);var _=u.length();p&&(r[f]=y,r[f+1]=b,r[f+2]=x);for(var w=l,S=1/_;w<_;){var A=p?n:r;A[f]=y+u.x*w*S,A[f+1]=b+u.y*w*S,A[f+2]=x+u.z*w*S,p&&(f=3*++d),p=!p,w+=l=e}p&&(n[f]=t.position2[v],n[f+1]=t.position2[v+1],n[f+2]=t.position2[v+2],f=3*++d),l=w-_;for(var M=m;M<d;M++){if(t.color){var E=3*M;o[E]=t.color[v],o[E+1]=t.color[v+1],o[E+2]=t.color[v+2]}a&&(a[M]=t.radius[g]),s&&(t.picking.array?s[M]=t.picking.array[g]:s[M]=g),c&&(c[M]=t.primitiveId[g])}m=d}if(!p&&0<h){var P=3*d;n[P]=t.position2[3*h-3],n[P+1]=t.position2[3*h-2],n[P+1]=t.position2[3*h-1]}var T=new Float32Array(r),C=new Float32Array(n),I=Ud(T,C),O=new Float32Array(o),L={position:I,position1:T,position2:C,color:O,color2:O};return a&&(L.radius=new Float32Array(a)),s&&t.picking&&(t.picking.array=new Float32Array(s),L.picking=t.picking),c&&(L.primitiveId=new Float32Array(c)),L}um.prototype.post=function(t,e,i,r){void 0===t&&(t={});var n=this.getNextWorker();return n?n.post(t,e,i,r):console.error("unable to get worker from pool"),this},um.prototype.terminate=function(){this.pool.forEach(function(t){t.terminate()})},um.prototype.getNextWorker=function(){for(var t,e=1/0,i=0;i<this.maxCount;++i){if(i>=this.count){t=new cm(this.name),this.pool.push(t),this.count+=1;break}var r=this.pool[i];if(0===r.pending){t=r;break}r.pending<e&&(e=r.pending,t=r)}return t},um.prototype.constructor=um,pm.__deps=[gm],Am.__deps=[Mm],Em.__deps=[Mm,Sm];var km=new ri,Bm=function(){},Nm={Picker:{configurable:!0},Buffer:{configurable:!0}};Nm.Picker.get=function(){return sd.get(this.type)},Nm.Buffer.get=function(){return ad.get(this.type)},Bm.getShapeKey=function(t){return this.type+t[0].toUpperCase()+t.substr(1)},Bm.expandBoundingBox=function(t,e){},Bm.valueToShape=function(t,e,i){var r,n,o=t._primitiveData[this.getShapeKey(e)];switch(this.fields[e]){case"v3":case"c":n=o,void 0!==(r=i).toArray?r=r.toArray():void 0!==r.x?r=[r.x,r.y,r.z]:void 0!==r.r&&(r=[r.r,r.g,r.b]),n.push.apply(n,r);break;default:o.push(i)}},Bm.objectToShape=function(e,i){var r=this;Object.keys(this.fields).forEach(function(t){r.valueToShape(e,t,i[t])}),this.valueToShape(e,"name",i.name),this.expandBoundingBox(e.boundingBox,i)},Bm.valueFromShape=function(t,e,i){var r=t._primitiveData[this.getShapeKey(i)];switch(this.fields[i]){case"v3":return(new ri).fromArray(r,3*e);case"c":return(new ki).fromArray(r,3*e);default:return r[e]}},Bm.objectFromShape=function(e,i){var r=this,t=this.valueFromShape(e,i,"name");void 0===t&&(t=this.type+": "+i+" ("+e.name+")");var n={shape:e,name:t};return Object.keys(this.fields).forEach(function(t){n[t]=r.valueFromShape(e,i,t)}),n},Bm.arrayFromShape=function(t,e){var i=t._primitiveData[this.getShapeKey(e)];switch(this.fields[e]){case"s":return i;default:return new Float32Array(i)}},Bm.dataFromShape=function(e){var i=this,r={};return this.Picker&&(r.picking=new this.Picker(e)),Object.keys(this.fields).forEach(function(t){r[t]=i.arrayFromShape(e,t)}),r},Bm.bufferFromShape=function(t,e){return new this.Buffer(this.dataFromShape(t),e)},Object.defineProperties(Bm,Nm),Bm.type="",Bm.fields={};var Fm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).positionFromShape=function(t,e){return this.valueFromShape(t,e,"position")},e.expandBoundingBox=function(t,e){t.expandByPoint(km.fromArray(e.position))},e}(Bm);Fm.type="sphere",Fm.fields={position:"v3",color:"c",radius:"f"};var zm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).positionFromShape=function(t,e){return this.valueFromShape(t,e,"position")},e.expandBoundingBox=function(t,e){t.expandByPoint(km.fromArray(e.position))},e}(Bm);zm.type="box",zm.fields={position:"v3",color:"c",size:"f",heightAxis:"v3",depthAxis:"v3"};var Um=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(zm);Um.type="octahedron";var jm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(zm);jm.type="tetrahedron";var Gm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).positionFromShape=function(t,e){var i=this.valueFromShape(t,e,"position1"),r=this.valueFromShape(t,e,"position2");return i.add(r).multiplyScalar(.5)},e.expandBoundingBox=function(t,e){t.expandByPoint(km.fromArray(e.position1)),t.expandByPoint(km.fromArray(e.position2))},e.bufferFromShape=function(t,e){void 0===e&&(e={});var i=this.dataFromShape(t);return"cylinder"===this.type&&e.dashedCylinder&&(i=Rm(i)),new this.Buffer(i,e)},e}(Bm);Gm.type="cylinder",Gm.fields={position1:"v3",position2:"v3",color:"c",radius:"f"};var Vm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(Gm);Vm.type="arrow";var Hm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(Gm);Hm.type="cone";var $m=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(Fm);$m.type="ellipsoid",$m.fields={position:"v3",color:"c",radius:"f",majorAxis:"v3",minorAxis:"v3"};var Wm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}($m);Wm.type="torus";var Xm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).positionFromShape=function(t,e){return this.valueFromShape(t,e,"position")},e.expandBoundingBox=function(t,e){t.expandByPoint(km.fromArray(e.position))},e}(Bm);Xm.type="text",Xm.fields={position:"v3",color:"c",size:"f",text:"s"};var qm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).positionFromShape=function(t,e){return this.valueFromShape(t,e,"position")},e.expandBoundingBox=function(t,e){t.expandByPoint(km.fromArray(e.position))},e}(Bm);qm.type="point",qm.fields={position:"v3",color:"c"};var Ym=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).positionFromShape=function(t,e){var i=this.valueFromShape(t,e,"position1"),r=this.valueFromShape(t,e,"position2");return i.add(r).multiplyScalar(.5)},e.expandBoundingBox=function(t,e){t.expandByPoint(km.fromArray(e.position1)),t.expandByPoint(km.fromArray(e.position2))},e}(Bm);Ym.type="wideline",Ym.fields={position1:"v3",position2:"v3",color:"c"};var Zm=function(t,e){this.exp=3;var i=e||function(t){for(var e=t.x,i=t.y,r=t.z,n=new Pi,o=e.length,a=n.min,s=n.max,c=0;c<o;c++)a.x=Math.min(e[c],a.x),a.y=Math.min(i[c],a.y),a.z=Math.min(r[c],a.z),s.x=Math.max(e[c],s.x),s.y=Math.max(i[c],s.y),s.z=Math.max(r[c],s.z);return n}(t);this.minX=i.min.x,this.minY=i.min.y,this.minZ=i.min.z,this.boundX=1+(i.max.x-this.minX>>this.exp),this.boundY=1+(i.max.y-this.minY>>this.exp),this.boundZ=1+(i.max.z-this.minZ>>this.exp);for(var r=this.boundX*this.boundY*this.boundZ,n=void 0!==t.count?t.count:t.x.length,o=t.x,a=t.y,s=t.z,c=0,u=new Uint32Array(r),h=new Int32Array(n),l=0;l<n;++l){var p=o[l]-this.minX>>this.exp,d=a[l]-this.minY>>this.exp,f=s[l]-this.minZ>>this.exp,m=(p*this.boundY+d)*this.boundZ+f;1===(u[m]+=1)&&(c+=1),h[l]=m}for(var g=new Uint16Array(c),v=0,y=0;v<r;++v){var b=u[v];0<b&&(u[v]=y+1,g[y]=b,y+=1)}for(var x=new Uint32Array(c),_=1;_<c;++_)x[_]+=x[_-1]+g[_-1];for(var w=new Uint16Array(c),S=new Int32Array(n),A=0;A<n;++A){var M=u[h[A]];if(0<M){var E=M-1;S[x[E]+w[E]]=A,w[E]+=1}}this.grid=u,this.bucketCount=g,this.bucketOffset=x,this.bucketArray=S,this.xArray=o,this.yArray=a,this.zArray=s};Zm.prototype.within=function(t,e,i,r){var n=[];return this.eachWithin(t,e,i,r,function(t){return n.push(t)}),n},Zm.prototype.eachWithin=function(t,e,i,r,n){for(var o=r*r,a=Math.max(0,t-r-this.minX>>this.exp),s=Math.max(0,e-r-this.minY>>this.exp),c=Math.max(0,i-r-this.minZ>>this.exp),u=Math.min(this.boundX,1+(t+r-this.minX>>this.exp)),h=Math.min(this.boundY,1+(e+r-this.minY>>this.exp)),l=Math.min(this.boundZ,1+(i+r-this.minZ>>this.exp)),p=a;p<u;++p)for(var d=s;d<h;++d)for(var f=c;f<l;++f){var m=(p*this.boundY+d)*this.boundZ+f,g=this.grid[m];if(0<g)for(var v=g-1,y=this.bucketOffset[v],b=y+this.bucketCount[v],x=y;x<b;++x){var _=this.bucketArray[x],w=this.xArray[_]-t,S=this.yArray[_]-e,A=this.zArray[_]-i,M=w*w+S*S+A*A;M<=o&&n(_,M)}}};var Km=function(t){void 0===t&&(t=0),this._fields=this._defaultFields,this._init(0)};Km.prototype._init=function(t){this.length=t;for(var e=this.count=0,i=this._fields.length;e<i;++e){var r=this._fields[e],n=r[0],o=r[1],a=r[2];this._initField(n,o,a)}},Km.prototype._initField=function(t,e,i){this[t]=Ol(i,this.length*e)},Km.prototype.addField=function(t,e,i){this._fields.push([t,e,i]),this._initField(t,e,i)},Km.prototype.resize=function(t){this.length=Math.round(t||0),this.count=Math.min(this.count,this.length);for(var e=0,i=this._fields.length;e<i;++e){var r=this._fields[e][0],n=this._fields[e][1],o=this.length*n,a=new this[r].constructor(o);this[r].length>o?a.set(this[r].subarray(0,o)):a.set(this[r]),this[r]=a}},Km.prototype.growIfFull=function(){if(this.count>=this.length){var t=Math.round(1.5*this.length);this.resize(Math.max(256,t))}},Km.prototype.copyFrom=function(t,e,i,r){for(var n=0,o=this._fields.length;n<o;++n)for(var a=this._fields[n][0],s=this._fields[n][1],c=this[a],u=t[a],h=0;h<r;++h)for(var l=s*(e+h),p=s*(i+h),d=0;d<s;++d)c[l+d]=u[p+d]},Km.prototype.copyWithin=function(t,e,i){for(var r=0,n=this._fields.length;r<n;++r)for(var o=this._fields[r][0],a=this._fields[r][1],s=this[o],c=0;c<i;++c)for(var u=a*(t+c),h=a*(e+c),l=0;l<a;++l)s[u+l]=s[h+l]},Km.prototype.sort=function(c){Yp.time("Store.sort");var u=this,h=new this.constructor(1);!function t(e,i){if(e<i){var r=Math.floor((e+i)/2),n=e,o=i;do{for(;c(n,r)<0;)n+=1;for(;0<c(o,r);)o-=1;n<=o&&(n===r?r=o:o===r&&(r=n),(a=n)!==(s=o)&&(h.copyFrom(u,0,a,1),u.copyWithin(a,s,1),u.copyFrom(h,s,0,1)),n+=1,o-=1)}while(n<=o);t(e,o),t(n,i)}var a,s}(0,this.count-1),Yp.timeEnd("Store.sort")},Km.prototype.clear=function(){this.count=0},Km.prototype.dispose=function(){delete this.length,delete this.count;for(var t=0,e=this._fields.length;t<e;++t){delete this[this._fields[t][0]]}};var Jm=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["index1",1,"int32"],["index2",1,"int32"],["type",1,"int8"]]},e.prototype.addContact=function(t,e,i){this.growIfFull();var r=this.count;t<e?(this.index1[r]=t,this.index2[r]=e):(this.index2[r]=t,this.index1[r]=e),i&&(this.type[r]=i),this.count+=1},Object.defineProperties(e.prototype,i),e}(Km);function Qm(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24}var tg=function(t,e){this.length=t,this._words=new Uint32Array(t+32>>>5),!0===e&&this.setAll()};function eg(t){for(var e=t.edgeCount,i=t.nodeCount,r=t.nodeArray1,n=t.nodeArray2,o=new Uint8Array(i),a=new Int32Array(i),s=0;s<e;++s)o[r[s]]+=1,o[n[s]]+=1;for(var c=1;c<i;++c)a[c]+=a[c-1]+o[c-1];for(var u=2*e,h=new Int32Array(u),l=0;l<u;++l)h[l]=-1;for(var p=0;p<e;++p){for(var d=r[p],f=n[p],m=a[d];-1!==h[m]&&m<u;)m+=1;h[m]=p;for(var g=a[f];-1!==h[g]&&g<u;)g+=1;h[g]=p}return{countArray:o,offsetArray:a,indexArray:h}}function ig(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),{type:t,group:e,x:0,y:0,z:0,atomSet:[]}}function rg(t,e){t.x+=e.x,t.y+=e.y,t.z+=e.z,t.atomSet.push(e.index)}function ng(t,e){var i=e.atomSet.length;if(0<i){var r=t.types,n=t.groups,o=t.centers,a=t.atomSets;r.push(e.type),n.push(e.group),o.x.push(e.x/i),o.y.push(e.y/i),o.z.push(e.z/i),a.push(e.atomSet)}}tg.prototype.get=function(t){return 0!=(this._words[t>>>5]&1<<t)},tg.prototype.set=function(t){this._words[t>>>5]|=1<<t},tg.prototype.clear=function(t){this._words[t>>>5]&=~(1<<t)},tg.prototype.flip=function(t){this._words[t>>>5]^=1<<t},tg.prototype._assignRange=function(t,e,i){if(!(e<t)){for(var r=this._words,n=!0===i?4294967295:0,o=t>>>5,a=e>>>5,s=o;s<a;++s)r[s]=n;var c=o<<5,u=a<<5;if(!0===i)if(e-t<32)for(var h=t,l=e+1;h<l;++h)r[h>>>5]|=1<<h;else{for(var p=t,d=c;p<d;++p)r[p>>>5]|=1<<p;for(var f=u,m=e+1;f<m;++f)r[f>>>5]|=1<<f}else if(e-t<32)for(var g=t,v=e+1;g<v;++g)r[g>>>5]&=~(1<<g);else{for(var y=t,b=c;y<b;++y)r[y>>>5]&=~(1<<y);for(var x=u,_=e+1;x<_;++x)r[x>>>5]&=~(1<<x)}return this}},tg.prototype.setRange=function(t,e){return this._assignRange(t,e,!0)},tg.prototype.clearRange=function(t,e){return this._assignRange(t,e,!1)},tg.prototype.setBits=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this._words,r=t.length,n=0;n<r;++n){var o=t[n];i[o>>>5]|=1<<o}return this},tg.prototype.clearBits=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this._words,r=t.length,n=0;n<r;++n){var o=t[n];i[o>>>5]&=~(1<<o)}return this},tg.prototype.setAll=function(){return this._assignRange(0,this.length-1,!0)},tg.prototype.clearAll=function(){return this._assignRange(0,this.length-1,!1)},tg.prototype.flipAll=function(){for(var t=this._words.length,e=this._words,i=32-this.length%32,r=0;r<t-1;++r)e[r]=~e[r];return e[t-1]=~(e[t-1]<<i)>>>i,this},tg.prototype._isRangeValue=function(t,e,i){if(!(e<t)){for(var r=this._words,n=!0===i?4294967295:0,o=t>>>5,a=e>>>5,s=o;s<a;++s)if(r[s]!==n)return!1;if(e-t<32){for(var c=t,u=e+1;c<u;++c)if(!!(r[c>>>5]&1<<c)!==i)return!1}else{for(var h=a<<5,l=t,p=o<<5<<5;l<p;++l)if(!!(r[l>>>5]&1<<l)!==i)return!1;for(var d=h,f=e+1;d<f;++d)if(!!(r[d>>>5]&1<<d)!==i)return!1}return!0}},tg.prototype.isRangeSet=function(t,e){return this._isRangeValue(t,e,!0)},tg.prototype.isRangeClear=function(t,e){return this._isRangeValue(t,e,!1)},tg.prototype.isAllSet=function(){return this._isRangeValue(0,this.length-1,!0)},tg.prototype.isAllClear=function(){return this._isRangeValue(0,this.length-1,!1)},tg.prototype.isSet=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this._words,r=t.length,n=0;n<r;++n){var o=t[n];if(0==(i[o>>>5]&1<<o))return!1}return!0},tg.prototype.isClear=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this._words,r=t.length,n=0;n<r;++n){var o=t[n];if(0!=(i[o>>>5]&1<<o))return!1}return!0},tg.prototype.isEqualTo=function(t){for(var e=this._words,i=t._words,r=Math.min(e.length,i.length),n=0;n<r;++n)if(e[n]!==i[n])return!1;return!0},tg.prototype.getSize=function(){for(var t=this._words.length,e=this._words,i=0,r=0;r<t;++r)i+=Qm(e[r]);return i},tg.prototype.difference=function(t){for(var e=this._words,i=t._words,r=Math.min(e.length,i.length),n=0;n<r;++n)e[n]=e[n]&~i[n];for(var o=e.length;o<r;++o)e[o]=0;return this},tg.prototype.union=function(t){for(var e=this._words,i=t._words,r=Math.min(e.length,i.length),n=0;n<r;++n)e[n]|=i[n];for(var o=e.length;o<r;++o)e[o]=0;return this},tg.prototype.intersection=function(t){for(var e=this._words,i=t._words,r=Math.min(e.length,i.length),n=0;n<r;++n)e[n]&=i[n];for(var o=e.length;o<r;++o)e[o]=0;return this},tg.prototype.intersects=function(t){for(var e=this._words,i=t._words,r=Math.min(e.length,i.length),n=0;n<r;++n)if(0!=(e[n]&i[n]))return!0;return!1},tg.prototype.getIntersectionSize=function(t){for(var e=this._words,i=t._words,r=Math.min(e.length,i.length),n=0,o=0;o<r;++o)n+=Qm(e[o]&i[o]);return n},tg.prototype.makeIntersection=function(t){var e=this._words,i=t._words,r=Math.min(e.length,i.length),n=new Uint32Array(r),o=Object.create(tg.prototype);o._words=n,o.length=Math.min(this.length,t.length);for(var a=0;a<r;++a)n[a]=e[a]&i[a];return o},tg.prototype.forEach=function(t){for(var e=this._words.length,i=this._words,r=0,n=0;n<e;++n)for(var o=i[n];0!==o;){var a=o&-o;t((n<<5)+Qm(a-1),r),o^=a,++r}},tg.prototype.toArray=function(){for(var t=this._words,e=new Array(this.getSize()),i=this._words.length,r=0,n=0;n<i;++n)for(var o=t[n];0!==o;){var a=o&-o;e[r++]=(n<<5)+Qm(a-1),o^=a}return e},tg.prototype.toString=function(){return"{"+this.toArray().join(",")+"}"},tg.prototype.toSeleString=function(){var t=this.toArray().join(",");return t?"@"+t:"NONE"},tg.prototype.clone=function(){var t=Object.create(tg.prototype);return t.length=this.length,t._words=new Uint32Array(this._words),t};var og=0,ag=["D-BETA-PEPTIDE, C-GAMMA LINKING","D-GAMMA-PEPTIDE, C-DELTA LINKING","D-PEPTIDE COOH CARBOXY TERMINUS","D-PEPTIDE NH3 AMINO TERMINUS","D-PEPTIDE LINKING","L-BETA-PEPTIDE, C-GAMMA LINKING","L-GAMMA-PEPTIDE, C-DELTA LINKING","L-PEPTIDE COOH CARBOXY TERMINUS","L-PEPTIDE NH3 AMINO TERMINUS","L-PEPTIDE LINKING","PEPTIDE LINKING","PEPTIDE-LIKE"],sg=["RNA OH 3 PRIME TERMINUS","RNA OH 5 PRIME TERMINUS","RNA LINKING"],cg=["DNA OH 3 PRIME TERMINUS","DNA OH 5 PRIME TERMINUS","DNA LINKING","L-DNA LINKING","L-RNA LINKING"],ug=["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","SACCHARIDE"],hg=["NON-POLYMER"].concat(["OTHER"],ug),lg=["h","g","i"],pg=["e","b"],dg=["s","t","l",""],fg={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109,DS:110,RG:111,CN:112,NH:113,FL:114,MC:115,LV:116,TS:117,OG:118},mg={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:2,114:2,115:2,116:2,117:2,118:2},gg={1:.31,2:.28,3:1.28,4:.96,5:.84,6:.76,7:.71,8:.66,9:.57,10:.58,11:1.66,12:1.41,13:1.21,14:1.11,15:1.07,16:1.05,17:1.02,18:1.06,19:2.03,20:1.76,21:1.7,22:1.6,23:1.53,24:1.39,25:1.39,26:1.32,27:1.26,28:1.24,29:1.32,30:1.22,31:1.22,32:1.2,33:1.19,34:1.2,35:1.2,36:1.16,37:2.2,38:1.95,39:1.9,40:1.75,41:1.64,42:1.54,43:1.47,44:1.46,45:1.42,46:1.39,47:1.45,48:1.44,49:1.42,50:1.39,51:1.39,52:1.38,53:1.39,54:1.4,55:2.44,56:2.15,57:2.07,58:2.04,59:2.03,60:2.01,61:1.99,62:1.98,63:1.98,64:1.96,65:1.94,66:1.92,67:1.92,68:1.89,69:1.9,70:1.87,71:1.87,72:1.75,73:1.7,74:1.62,75:1.51,76:1.44,77:1.41,78:1.36,79:1.36,80:1.32,81:1.45,82:1.46,83:1.48,84:1.4,85:1.5,86:1.5,87:2.6,88:2.21,89:2.15,90:2.06,91:2,92:1.96,93:1.9,94:1.87,95:1.8,96:1.69,97:1.6,98:1.6,99:1.6,100:1.6,101:1.6,102:1.6,103:1.6,104:1.6,105:1.6,106:1.6,107:1.6,108:1.6,109:1.6,110:1.6,111:1.6,112:1.6,113:1.6,114:1.6,115:1.6,116:1.6,117:1.6,118:1.6},vg={1:[1],2:[0],3:[1],4:[2],5:[3],6:[4],7:[3],8:[2],9:[1],10:[0],11:[1],12:[2],13:[6],14:[6],15:[3,5,7],16:[2,4,6],17:[1],18:[0],19:[1],20:[2],31:[3],32:[4],33:[3,5],34:[2,4,6],35:[1],36:[0],37:[1],38:[2],49:[3],50:[4],51:[3,5],52:[2],53:[1,2,5],54:[0,2],55:[1],56:[2],81:[3],82:[4],83:[3],84:[2],85:[1],86:[0],87:[1],88:[2]},yg={1:1,2:2,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:1,20:2,21:3,22:4,23:5,24:6,25:7,26:8,27:9,28:10,29:11,30:2,31:3,32:4,33:5,34:6,35:7,36:8,37:1,38:2,39:3,40:4,41:5,42:6,43:7,44:8,45:9,46:10,47:11,48:2,49:3,50:4,51:5,52:6,53:7,54:8,55:1,56:2,57:3,58:4,59:3,60:4,61:5,62:6,63:7,64:8,65:9,66:10,67:11,68:12,69:13,70:14,71:15,72:4,73:5,74:6,75:7,76:8,77:9,78:10,79:11,80:2,81:3,82:4,83:5,84:6,85:7,86:8,87:1,88:2,89:3,90:4,91:3,92:4,93:5,94:6,95:7,96:8,97:9,98:10,99:11,100:12,101:13,102:14,103:15,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:3,114:4,115:5,116:6,117:7,118:8},bg={ALA:[.17,.5,.33],ARG:[.81,1.81,1],ASN:[.42,.85,.43],ASP:[1.23,3.64,2.41],ASH:[-.07,.43,.5],CYS:[-.24,-.02,.22],GLN:[.58,.77,.19],GLU:[2.02,3.63,1.61],GLH:[-.01,.11,.12],GLY:[.01,1.15,1.14],HIS:[.17,.11,-.06],ILE:[-.31,-1.12,-.81],LEU:[-.56,-1.25,-.69],LYS:[.99,2.8,1.81],MET:[-.23,-.67,-.44],PHE:[-1.13,-1.71,-.58],PRO:[.45,.14,-.31],SER:[.13,.46,.33],THR:[.14,.25,.11],TRP:[-1.85,-2.09,-.24],TYR:[-.94,-.71,.23],VAL:[.07,-.46,-.53]},xg=[0,0,0],_g={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O"},wg=Object.keys(_g),Sg=["A","C","T","G","U","I"],Ag=["DA","DC","DT","DG","DU","DI"],Mg=["A","G","I","DA","DG","DI"],Eg=Sg.concat(Ag),Pg=["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP3","TIP4","SPC"],Tg=["118","119","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","543","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MLT","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","NCO","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","OHX"],Cg=["045","0AT","0BD","0MK","0NZ","0TS","0V4","0XY","0YT","10M","147","149","14T","15L","16G","18T","18Y","1AR","1BW","1GL","1GN","1JB","1LL","1NA","1S3","26M","26Q","26R","26V","26W","26Y","27C","289","291","293","2DG","2F8","2FG","2FL","2FP","2GL","2M4","2M5","32O","34V","3CM","3DO","3DY","3FM","3LR","3MF","3MG","3SA","3ZW","46D","46M","46Z","48Z","4CQ","4GC","4NN","50A","5DI","5GF","5MM","5RP","5SA","5SP","64K","6PG","6SA","7JZ","7SA","A1Q","A2G","AAB","AAL","AAO","ABC","ABD","ABE","ABF","ABL","ACG","ACI","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AHR","AIG","ALL","ALX","AMU","AOG","AOS","ARA","ARB","ARE","ARI","ASG","ASO","AXP","AXR","B0D","B16","B2G","B4G","B6D","B8D","B9D","BBK","BCD","BDG","BDP","BDR","BEM","BFP","BGC","BGL","BGP","BGS","BHG","BMA","BMX","BNG","BNX","BOG","BRI","BXF","BXP","BXX","BXY","C3X","C4X","C5X","CAP","CBI","CBK","CBS","CDR","CEG","CGF","CHO","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D6G","DAF","DAG","DDA","DDB","DDL","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGS","DIG","DLF","DLG","DMU","DNO","DOM","DP5","DQQ","DQR","DR2","DR3","DR4","DRI","DSR","DT6","DVC","E4P","E5G","EAG","EBG","EBQ","EGA","EJT","EPG","ERE","ERI","F1P","F1X","F6P","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FIX","FMO","FRU","FSI","FU4","FUB","FUC","FUD","FUL","FXP","G16","G1P","G2F","G3I","G4D","G4S","G6D","G6P","G6S","GAC","GAD","GAL","GC1","GC4","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GCX","GE1","GFG","GFP","GIV","GL0","GL2","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GMH","GN1","GNX","GP1","GP4","GPH","GPM","GQ1","GQ2","GQ4","GS1","GS4","GSA","GSD","GTE","GTH","GTK","GTR","GTZ","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUP","GUZ","GYP","GYV","H2P","HDL","HMS","HS2","HSD","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","IAB","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IMK","IN1","IPT","ISL","KBG","KD2","KDA","KDM","KDO","KFN","KO1","KO2","KTU","L6S","LAG","LAI","LAK","LAO","LAT","LB2","LBT","LCN","LDY","LGC","LGU","LM2","LMT","LMU","LOG","LOX","LPK","LSM","LTM","LVZ","LXB","LXZ","M1F","M3M","M6P","M8C","MA1","MA2","MA3","MAB","MAG","MAL","MAN","MAT","MAV","MAW","MBG","MCU","MDA","MDM","MDP","MFA","MFB","MFU","MG5","MGA","MGL","MLB","MMA","MMN","MN0","MRP","MTT","MUG","MVP","MXY","N1L","N9S","NAA","NAG","NBG","NDG","NED","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGL","NGS","NGY","NHF","NM6","NM9","NTF","NTO","NTP","NXD","NYT","OPG","OPM","ORP","OX2","P3M","P53","P6P","PA5","PNA","PNG","PNW","PRP","PSJ","PSV","PTQ","QDK","QPS","QV4","R1P","R1X","R2B","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RIB","RIP","RNS","RNT","ROB","ROR","RPA","RST","RUB","RUU","RZM","S6P","S7P","SA0","SCR","SDD","SF6","SF9","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHG","SI3","SIO","SOE","SOL","SSG","SUC","SUP","SUS","T6P","T6T","TAG","TCB","TDG","TGK","TGY","TH1","TIA","TM5","TM6","TM9","TMR","TMX","TOA","TOC","TRE","TYV","UCD","UDC","VG1","X0X","X1X","X2F","X4S","X5S","X6X","XBP","XDN","XDP","XIF","XIM","XLF","XLS","XMM","XUL","XXR","XYP","XYS","YO5","Z3Q","Z6J","Z9M","ZDC","ZDM"],Ig=["CA","C","N","O","O1","O2","OC1","OC2","OX1","OXT","H","H1","H2","H3","HA","HN","BB"],Og=["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"],Lg={};function Rg(t){switch(t){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:return 8}}Lg[1]={trace:"CA",direction1:"C",direction2:["O","OC1","O1","OX1","OXT"],backboneStart:"N",backboneEnd:"C"},Lg[2]={trace:["C4'","C4*"],direction1:["C1'","C1*"],direction2:["C3'","C3*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},Lg[3]={trace:["C3'","C3*"],direction1:["C2'","C2*"],direction2:["O4'","O4*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},Lg[4]={trace:["CA","BB"],backboneStart:["CA","BB"],backboneEnd:["CA","BB"]},Lg[5]={trace:["C4'","C4*","P"],backboneStart:["C4'","C4*","P"],backboneEnd:["C4'","C4*","P"]},Lg[6]={trace:["C3'","C3*","C2'","P"],backboneStart:["C3'","C3*","C2'","P"],backboneEnd:["C3'","C3*","C2'","P"]},Lg[og]={};var Dg=new Map([[2,Gl(180)],[3,Gl(120)],[4,Gl(109.4721)],[6,Gl(90)]]);function kg(e,t){var i=[],r=new ri,n=new ri;return r.subVectors(t,e),e.eachBondedAtom(function(t){1!==t.number&&(n.subVectors(t,e),i.push(r.angleTo(n)))}),i}function Bg(e,t){var i=e.clone(),r=new ri;r.subVectors(t,e);var n=[new ri,new ri],o=0;if(e.eachBondedAtom(function(t){1<o||1!==t.number&&(i.index=t.index,n[o++].subVectors(t,e))}),1===o&&i.eachBondedAtom(function(t){1<o||1!==t.number&&t.index!==e.index&&n[o++].subVectors(t,e)}),2===o){var a=n[0].cross(n[1]);return Math.abs(Math.PI/2-a.angleTo(r))}}function Ng(t,s){var e=t.structure,i=e.atomCount,c=new Int8Array(i),u=new Int8Array(i),h=new Int8Array(i),l=new Int8Array(i);return e.eachAtom(function(t){var e=t.index,i=function(r,t){var e,i=r.bondToElementCount(1),n=r.formalCharge||0,o="always"===t.assignCharge||"auto"===t.assignCharge&&0===n,a="always"===t.assignH||"auto"===t.assignH&&0===i,s=r.bondCount,c=(e=0,r.eachBond(function(t){return e+=t.bondOrder}),e),u=function(e){var r=e.structure.getBondProxy(),t=e.number,n=8===t||7===t;if(n&&4===e.bondCount)return!1;var o=!1;return e.eachBond(function(t){if(1<t.bondOrder)o=!0;else if(n){var i=t.getOtherAtom(e);i.eachBond(function(t){if(1<t.bondOrder){var e=i.number;if((15===e||16===e)&&8===t.getOtherAtom(i).number)return;o=!0}},r)}}),o}(r),h=0<c-s,l=0,p=8;switch(r.number){case 1:o&&(0===s?(n=1,p=0):1===s&&(n=0,p=1));break;case 6:o&&(n=0),a&&(l=Math.max(0,4-c-Math.abs(n))),p=Rg(s+l+Math.max(0,-n));break;case 7:if(o)if(a)if(u&&c<4)n=s-i==1&&c-i==2?1:0;else{var d=!1;r.eachBondedAtom(function(t){(16===t.number||t.isMetal())&&(d=!0)}),n=d?0:1}else n=c-3;a&&(l=Math.max(0,3-c+n)),p=Rg(u&&!h?s+l-n:s+l+1-n);break;case 8:o&&(a||(n=c-2),1===c&&r.eachBondedAtom(function(i){i.eachBond(function(t){var e=t.getOtherAtom(i);e.index!==r.index&&8===e.number&&2===t.bondOrder&&(n=-1)})})),a&&(l=Math.max(0,2-c+n)),p=Rg(u&&!h?s+l-n+1:s+l-n+2);break;case 16:o&&(a||(n=c<=3&&!r.bondToElementCount(8)?c-2:0)),a&&c<2&&(l=Math.max(0,2-c+n)),c<=3&&(p=Rg(s+l-n+2));break;case 9:case 17:case 35:case 53:case 85:o&&(n=c-1);break;case 3:case 11:case 19:case 37:case 55:case 87:o&&(n=1-c);break;case 4:case 12:case 20:case 38:case 56:case 88:o&&(n=2-c);break;default:console.warn("Requested charge, protonation for an unhandled element",r.element)}return[n,l,l+i,p]}(t,s),r=i[0],n=i[1],o=i[2],a=i[3];c[e]=r,u[e]=n,h[e]=o,l[e]=a}),{charge:c,implicitH:u,totalH:h,idealGeometry:l}}function Fg(t){if(t["@valenceModel"])return t["@valenceModel"];var e=Ng(t,{assignCharge:"auto",assignH:"auto"});return t["@valenceModel"]=e}function zg(t){return 15===t.number&&t.bondToElementCount(8)===t.bondCount}var Ug=["ARG","HIS","LYS"],jg=["GLU","ASP"];function Gg(t,e,i){void 0===i&&(i={});for(var f=bl(i.maxIonicDist,Kg.maxIonicDist),r=bl(i.maxPiStackingDist,Kg.maxPiStackingDist),m=bl(i.maxPiStackingOffset,Kg.maxPiStackingOffset),g=bl(i.maxPiStackingAngle,Kg.maxPiStackingAngle),n=bl(i.maxCationPiDist,Kg.maxCationPiDist),v=bl(i.maxCationPiOffset,Kg.maxCationPiOffset),y=bl(i.masterModelIndex,Kg.masterModelIndex),o=Math.max(f+2,r,n),b=r*r,x=n*n,a=e.features,s=e.spatialHash,c=e.contactStore,u=e.featureSet,_=a.types,h=a.centers,w=a.atomSets,l=h.x,p=h.y,S=h.z,d=_.length,A=t.atomStore.x,M=t.atomStore.y,E=t.atomStore.z,P=t.getAtomProxy(),T=t.getAtomProxy(),C=new ri,I=new ri,O=new ri,L=new ri,R=new ri,D=new ri,k=new ri,B=function(t,e){C.set(A[t[0]],M[t[0]],E[t[0]]),I.set(A[t[1]],M[t[1]],E[t[1]]),O.set(A[t[2]],M[t[2]],E[t[2]]),L.subVectors(C,I),R.subVectors(C,O),e.crossVectors(L,R)},N=function(t,e,i){return C.set(l[t],p[t],S[t]),I.set(l[e],p[e],S[e]),C.sub(I).projectOnPlane(i).add(I).distanceTo(I)},F=function(t,e,i){u.setBits(t,e),c.addContact(t,e,i)},z=function(d){s.eachWithin(l[d],p[d],S[d],o,function(t,e){if(!(t<=d||(P.index=w[d][0],T.index=w[t][0],Qg(P,T,y)))){var i,r,n,o,a,s=_[d],c=_[t];if(a=c,2===(o=s)&&1===a||1===o&&2===a)(function(t,e,i){for(var r=t.length,n=e.length,o=0;o<r;++o){P.index=t[o];for(var a=0;a<n;++a)if(T.index=e[a],P.distanceTo(T)<=i)return!0}return!1})(w[d],w[t],f)&&F(d,t,1);else if(n=c,3===s&&3===n){if(e<=b){B(w[d],D),B(w[t],k);var u=57.29578*D.angleTo(k);Math.min(N(d,t,k),N(t,d,D))<=m&&(u<=g||180-g<=u?F(d,t,3):u<=g+90&&90-g<=u&&F(d,t,3))}}else if(r=c,(3===(i=s)&&1===r||1===i&&3===r)&&e<=x){var h=3===s?[d,t]:[t,d],l=h[0],p=h[1];B(w[l],D),N(p,l,D)<=v&&F(l,p,2)}}})},U=0;U<d;++U)z(U)}function Vg(t){return"HIS"===t.resname&&7==t.number&&t.isRing()}var Hg=[3,11,19,37,55,12,20,38,56,13,31,49,81,21,50,82,83,51,80];var $g=[17,35,53,85];var Wg=[7,8,16],Xg=[6,7,15,16];var qg=Gl(180),Yg=Gl(120);function Zg(t,e,i){return!Jg(t,e,i)&&(t.modelIndex!==e.modelIndex||t.altloc&&e.altloc&&t.altloc!==e.altloc)}var Kg={maxHydrophobicDist:4,maxHbondDist:3.5,maxHbondSulfurDist:4.1,maxHbondAccAngle:45,maxHbondDonAngle:45,maxHbondAccPlaneAngle:90,maxHbondDonPlaneAngle:30,maxPiStackingDist:5.5,maxPiStackingOffset:2,maxPiStackingAngle:30,maxCationPiDist:6,maxCationPiOffset:2,maxIonicDist:5,maxHalogenBondDist:4,maxHalogenBondAngle:30,maxMetalDist:3,refineSaltBridges:!0,masterModelIndex:-1,lineOfSightDistFactor:1};function Jg(t,e,i){return t.modelIndex===i&&e.modelIndex!==i||e.modelIndex===i&&t.modelIndex!==i}function Qg(t,e,i){return!Jg(t,e,i)&&(t.modelIndex!==e.modelIndex||t.residueIndex===e.residueIndex||t.altloc&&e.altloc&&t.altloc!==e.altloc)}function tv(t){var e,s,i,c,r,u,n,h,o,a,l,p,d,f,m,g,v,y,b,x,_,w,S,A,M,E,P,T,C={types:[],groups:[],centers:{x:[],y:[],z:[]},atomSets:[]};return de.Debug&&Yp.time("calculateFeatures"),s=C,i=Fg((e=t).data).charge,c={},e.eachResidue(function(t){if(Ug.includes(t.resname)){var e=ig(1);t.eachAtom(function(t){7===t.number&&t.isSidechain()&&rg(e,t)}),ng(s,e)}else wg.includes(t.resname)||t.isNucleic()||(t.eachAtom(function(t){var e,i,r,n,o=!1,a=ig(1);n=0,6===(r=t).number&&3===r.bondCount&&3===r.bondToElementCount(7)&&r.eachBondedAtom(function(t){t.bondCount-t.bondToElementCount(1)==1&&++n}),2===n?(a.group=8,o=!0):(i=0,6===(e=t).number&&3===e.bondCount&&2===e.bondToElementCount(7)&&1===e.bondToElementCount(6)&&e.eachBondedAtom(function(t){t.bondCount-t.bondToElementCount(1)==1&&++i}),2===i&&(a.group=9,o=!0)),o&&(t.eachBondedAtom(function(t){7===t.number&&(c[t.index]=!0,rg(a,t))}),ng(s,a))}),t.eachAtom(function(t){var e=ig(1);0<i[t.index]&&(c[t.index]||(rg(e,t),ng(s,e)))}))}),u=C,n=Fg((r=t).data).charge,h={},r.eachResidue(function(t){if(jg.includes(t.resname)){var e=ig(2);t.eachAtom(function(t){8===t.number&&t.isSidechain()&&rg(e,t)}),ng(u,e)}else if(Eg.includes(t.resname)){var i=ig(2);t.eachAtom(function(t){zg(t)&&(i.group=6,t.eachBondedAtom(function(t){8===t.number&&rg(i,t)}),ng(u,i))})}else wg.includes(t.resname)||Eg.includes(t.resname)||(t.eachAtom(function(t){var e,i,r,n,o=!1,a=ig(2);16===(n=t).number&&3===n.bondToElementCount(8)?(a.group=4,o=!0):zg(t)?(a.group=6,o=!0):16===(r=t).number&&4===r.bondToElementCount(8)?(a.group=5,o=!0):(i=0,6===(e=t).number&&2===e.bondToElementCount(8)&&1===e.bondToElementCount(6)&&e.eachBondedAtom(function(t){8===t.number&&t.bondCount-t.bondToElementCount(1)==1&&++i}),2===i&&(a.group=10,o=!0)),o&&(t.eachBondedAtom(function(t){8===t.number&&(h[t.index]=!0,rg(a,t))}),ng(u,a))}),t.eachAtom(function(t){var e=ig(2);n[t.index]<0&&(h[t.index]||(rg(e,t),ng(u,e)))}))}),a=C,l=(o=t).getAtomProxy(),o.eachResidue(function(t){var e=t.getAromaticRings();if(e){var i=t.atomOffset;e.forEach(function(t){var e=ig(3);t.forEach(function(t){l.index=t+i,rg(e,l)}),ng(a,e)})}}),d=C,f=Fg((p=t).data),m=f.charge,g=f.implicitH,v=f.idealGeometry,p.eachAtom(function(t){var e=ig(5),i=t.number;if(8===i)rg(e,t),ng(d,e);else if(7===i){if(Vg(t))rg(e,t),ng(d,e);else if(m[t.index]<1){var r=t.bondCount+g[t.index],n=v[t.index];(4===n&&r<4||3===n&&r<3||2===n&&r<2)&&(rg(e,t),ng(d,e))}}else 16===i&&("CYS"!==t.resname&&"MET"!==t.resname&&-1!==t.formalCharge||(rg(e,t),ng(d,e)))}),b=C,x=Fg((y=t).data).totalH,y.eachAtom(function(t){var e=ig(4),i=t.number;Vg(t)?(rg(e,t),ng(b,e)):0<x[t.index]&&(7===i||8===i||16===i)&&(rg(e,t),ng(b,e))}),w=C,S=Fg((_=t).data).totalH,_.eachAtom(function(t){if(6===t.number&&0<S[t.index]&&(0<t.bondToElementCount(7)||0<t.bondToElementCount(8)||function(r){if(!r.isAromatic())return!1;var t=r.residueType.getRings();if(!t)return!1;var e=!1;return t.rings.forEach(function(t){e||t.some(function(t){return r.index-r.residueAtomOffset===t})&&(e=t.some(function(t){var e=r.residueType.atomTypeIdList[t],i=r.atomMap.get(e).number;return 7===i||8===i}))}),e}(t))){var e=ig(9);rg(e,t),ng(w,e)}}),A=C,t.eachAtom(function(t){var e=!1,i=!1,r=wg.includes(t.resname),n=Eg.includes(t.resname);if(r||n?r?8===t.number?["ASP","GLU","SER","THR","TYR","ASN","GLN"].includes(t.resname)&&t.isSidechain()?i=e=!0:t.isBackbone()&&(i=e=!0):16===t.number&&"CYS"===t.resname?i=e=!0:7===t.number&&"HIS"===t.resname&&t.isSidechain()&&(e=!0):n&&(8===t.number&&t.isBackbone()?i=e=!0:["N3","N4","N7"].includes(t.atomname)?e=!0:["O2","O4","O6"].includes(t.atomname)&&(i=e=!0)):t.isHalogen()||8===t.number||16===t.number?i=e=!0:7===t.number&&(e=!0),e){var o=ig(11);rg(o,t),ng(A,o)}if(i){var a=ig(10);rg(a,t),ng(A,a)}}),M=C,t.eachAtom(function(t){if(t.isTransitionMetal()||30===t.number||48===t.number){var e=ig(12);rg(e,t),ng(M,e)}else if(Hg.includes(t.number)){var i=ig(13);rg(i,t),ng(M,i)}}),E=C,t.eachAtom(function(t){var e=ig(8),i=!1;6===t.number?(i=!0,t.eachBondedAtom(function(t){var e=t.number;6!==e&&1!==e&&(i=!1)})):9===t.number&&(i=!0),i&&(rg(e,t),ng(E,e))}),P=C,t.eachAtom(function(t){if(Wg.includes(t.number)){var e=!1;if(t.eachBondedAtom(function(t){Xg.includes(t.number)&&(e=!0)}),e){var i=ig(7);rg(i,t),ng(P,i)}}}),T=C,t.eachAtom(function(t){if($g.includes(t.number)&&1===t.bondToElementCount(6)){var e=ig(6);rg(e,t),ng(T,e)}}),de.Debug&&Yp.timeEnd("calculateFeatures"),C}function ev(t,e){void 0===e&&(e=Kg);var i,r,n,o=tv(t),a=(r=(i=o).types,n=i.centers,{features:i,spatialHash:new Zm(n),contactStore:new Jm,featureSet:new tg(r.length,!1)});de.Debug&&Yp.time("calculateContacts"),Gg(t,a,e),function(t,e,i){void 0===i&&(i={});for(var r=bl(i.maxHbondDist,Kg.maxHbondDist),n=bl(i.maxHbondSulfurDist,Kg.maxHbondSulfurDist),A=Gl(bl(i.maxHbondAccAngle,Kg.maxHbondAccAngle)),M=Gl(bl(i.maxHbondDonAngle,Kg.maxHbondDonAngle)),E=Gl(bl(i.maxHbondAccPlaneAngle,Kg.maxHbondAccPlaneAngle)),P=Gl(bl(i.maxHbondDonPlaneAngle,Kg.maxHbondDonPlaneAngle)),T=bl(i.masterModelIndex,Kg.masterModelIndex),o=Math.max(r,n),C=r*r,a=e.features,s=e.spatialHash,I=e.contactStore,O=e.featureSet,L=a.types,c=a.centers,R=a.atomSets,u=c.x,h=c.y,l=c.z,p=L.length,D=Fg(t.data).idealGeometry,k=t.getAtomProxy(),B=t.getAtomProxy(),d=function(S){s.eachWithin(u[S],h[S],l[S],o,function(t,e){if(!(t<=S)){var i,r,n=L[S],o=L[t],a=(r=o,9===(i=n)&&5===r||5===i&&9===r);if(a||(c=o,5===(s=n)&&4===c||4===s&&5===c)){var s,c,u=5===o?[S,t]:[t,S],h=u[0],l=u[1];if(k.index=R[h][0],B.index=R[l][0],B.index!==k.index&&!Qg(k,B,T)&&!(16!==k.number&&16!==B.number&&C<e||k.connectedTo(B))){var p=kg(k,B),d=Dg.get(D[k.index])||Gl(120);if(!p.some(function(t){return Math.abs(d-t)>M})){if(3===D[k.index]){var f=Bg(k,B);if(void 0!==f&&P<f)return}var m=kg(B,k),g=Dg.get(D[B.index])||Gl(120);if(!m.some(function(t){return A<g-t})){if(3===D[B.index]){var v=Bg(B,k);if(void 0!==v&&E<v)return}O.setBits(h,l);var y,b,x,_,w=a?8:(_=b=B,(y=k).isWater()&&_.isWater()?9:(x=b,y.isBackbone()&&x.isBackbone()?10:4));I.addContact(h,l,w)}}}}}})},f=0;f<p;++f)d(f)}(t,a,e),function(t,e,i){void 0===i&&(i={});for(var r=bl(i.maxMetalDist,Kg.maxMetalDist),c=bl(i.masterModelIndex,Kg.masterModelIndex),n=e.features,o=e.spatialHash,u=e.contactStore,h=e.featureSet,l=n.types,a=n.centers,p=n.atomSets,d=a.x,f=a.y,m=a.z,s=l.length,g=t.getAtomProxy(),v=t.getAtomProxy(),y=function(s){o.eachWithin(d[s],f[s],m[s],r,function(t,e){if(!(t<=s||(g.index=p[s][0],v.index=p[t][0],Qg(g,v,c)))){var i=g.isMetal(),r=v.isMetal();if(i||r){var n,o,a=i?[l[s],l[t]]:[l[t],l[s]];o=a[1],(12===(n=a[0])?11===o||12===o:13===n?10===o:void 0)&&(h.setBits(s,t),u.addContact(s,t,7))}}})},b=0;b<s;++b)y(b)}(t,a,e),function(t,e,i){void 0===i&&(i={});for(var r=bl(i.maxHydrophobicDist,Kg.maxHydrophobicDist),o=bl(i.masterModelIndex,Kg.masterModelIndex),n=e.features,a=e.spatialHash,s=e.contactStore,c=e.featureSet,u=n.types,h=n.centers,l=n.atomSets,p=h.x,d=h.y,f=h.z,m=u.length,g=t.getAtomProxy(),v=t.getAtomProxy(),y=function(n){a.eachWithin(p[n],d[n],f[n],r,function(t,e){var i,r;t<=n||(g.index=l[n][0],v.index=l[t][0],Qg(g,v,o)||9===g.number&&9===v.number||g.connectedTo(v)||(i=u[n],r=u[t],8===i&&8===r&&(c.setBits(n,t),s.addContact(n,t,6))))})},b=0;b<m;++b)y(b)}(t,a,e),function(t,e,i){void 0===i&&(i={});for(var r=bl(i.maxHalogenBondDist,Kg.maxHalogenBondDist),h=Gl(bl(i.maxHalogenBondAngle,Kg.maxHalogenBondAngle)),l=bl(i.masterModelIndex,Kg.masterModelIndex),n=e.features,o=e.spatialHash,p=e.contactStore,d=e.featureSet,f=n.types,a=n.centers,m=n.atomSets,s=a.x,c=a.y,g=a.z,u=f.length,v=t.getAtomProxy(),y=t.getAtomProxy(),b=function(u){o.eachWithin(s[u],c[u],g[u],r,function(t,e){if(!(t<=u)&&(v.index=m[u][0],y.index=m[t][0],!Qg(v,y,l)&&(i=f[u],r=f[t],7===i&&6===r||6===i&&7===r))){var i,r,n=6===f[u]?[v,y]:[y,v],o=n[0],a=n[1],s=kg(o,a);if(1===s.length&&!(qg-s[0]>h)){var c=kg(a,o);0!==c.length&&(c.some(function(t){return h<Yg-t})||(d.setBits(u,t),p.addContact(u,t,5)))}}})},x=0;x<u;++x)b(x)}(t,a,e);var s,c,u,h,l,p,d,f,m,g,v,y,b,x,_,w,S,A,M,E,P,T,C,I,O,L,R,D,k,B,N,F,z,U,j,G,V,H,$,W,X,q,Y,Z,K,J,Q,tt=(c=(s=a).contactStore,u=eg({nodeArray1:c.index1,nodeArray2:c.index2,edgeCount:c.count,nodeCount:s.featureSet.length}),h=new tg(s.contactStore.count,!0),Object.assign({adjacencyList:u,contactSet:h},s));return function(t,e,i){void 0===i&&(i={}),de.Debug&&Yp.time("refineLineOfSight");var r=bl(i.lineOfSightDistFactor,Kg.lineOfSightDistFactor),a=bl(i.masterModelIndex,Kg.masterModelIndex),s=t.spatialHash,c=e.contactSet,n=e.contactStore,o=e.features,u=n.index1,h=n.index2,l=o.centers,p=o.atomSets,d=l.x,f=l.y,m=l.z,g=t.getAtomProxy(),v=t.getAtomProxy(),y=t.getAtomProxy(),b=new ri,x=new ri,_=3*r,w=r*r;c.forEach(function(i){b.set(d[u[i]],f[u[i]],m[u[i]]),x.set(d[h[i]],f[h[i]],m[h[i]]);var t=(b.x+x.x)/2,e=(b.y+x.y)/2,r=(b.z+x.z)/2,n=p[u[i]],o=p[h[i]];g.index=n[0],v.index=o[0],s.eachWithin(t,e,r,_,function(t,e){y.index=t,1!==y.number&&y.vdw*y.vdw*w>e&&!Zg(g,y,a)&&!Zg(v,y,a)&&!n.includes(t)&&!o.includes(t)&&1<b.distanceToSquared(y)&&1<x.distanceToSquared(y)&&(c.clear(i),de.Debug&&Yp.log("removing",g.qualifiedName(),v.qualifiedName(),"because",y.qualifiedName()))})}),de.Debug&&Yp.timeEnd("refineLineOfSight")}(t,tt,e),l=t,d=(p=tt).contactSet,f=p.contactStore,m=p.features,g=f.type,v=f.index1,y=f.index2,b=m.atomSets,x=l.getAtomProxy(),_=l.getAtomProxy(),w={},S=function(t,e,i){var r=w[i]||[1/0,-1],n=r[0],o=r[1];t<n?(-1!==o&&d.clear(o),w[i]=[t,e]):d.clear(e)},d.forEach(function(t){if(6===g[t]){x.index=b[v[t]][0],_.index=b[y[t]][0];var e=x.distanceTo(_);S(e,t,x.index+"|"+_.residueIndex),S(e,t,_.index+"|"+x.residueIndex)}}),e.refineSaltBridges&&(M=(A=tt).contactSet,E=A.contactStore,P=A.features,T=E.type,C=E.index1,I=E.index2,O=P.atomSets,L={},R=function(t,e){L[t]||(L[t]=[]),L[t].push(e)},M.forEach(function(e){1===T[e]&&(O[C[e]].forEach(function(t){return R(t,e)}),O[I[e]].forEach(function(t){return R(t,e)}))}),M.forEach(function(t){if(4===(e=T[t])||9===e||10===e){var e,i=L[O[C[t]][0]],r=L[O[I[t]][0]];if(i&&r)for(var n=i.length,o=0;o<n;++o)if(r.includes(i[o]))return void M.clear(t)}})),k=(D=tt).contactSet,B=D.contactStore,N=D.features,F=B.type,z=B.index1,U=B.index2,j=N.atomSets,G={},V=function(t,e){G[t]||(G[t]=[]),G[t].push(e)},k.forEach(function(e){3===F[e]&&(j[z[e]].forEach(function(t){return V(t,e)}),j[U[e]].forEach(function(t){return V(t,e)}))}),k.forEach(function(t){if(6===F[t]||2===F[t]){var e=G[j[z[t]][0]],i=G[j[U[t]][0]];if(e&&i)for(var r=e.length,n=0;n<r;++n)if(i.includes(e[n]))return void k.clear(t)}}),$=(H=tt).contactSet,W=H.contactStore,X=H.features,q=W.type,Y=W.index1,Z=W.index2,K=X.atomSets,J={},Q=function(t,e){J[t]||(J[t]=[]),J[t].push(e)},$.forEach(function(e){1===q[e]&&(K[Y[e]].forEach(function(t){return Q(t,e)}),K[Z[e]].forEach(function(t){return Q(t,e)}))}),$.forEach(function(t){if(7===q[t]){var e=J[K[Y[t]][0]],i=J[K[Z[t]][0]];if(e&&i)for(var r=e.length,n=0;n<r;++n)if(i.includes(e[n]))return void $.clear(e[n])}}),de.Debug&&Yp.timeEnd("calculateContacts"),tt}var iv={hydrogenBond:!0,hydrophobic:!0,halogenBond:!0,ionicInteraction:!0,metalCoordination:!0,cationPi:!0,piStacking:!0,weakHydrogenBond:!0,waterHydrogenBond:!0,backboneHydrogenBond:!0,radius:1,filterSele:""},rv=new ki;function nv(t,e,i){var a=xl(i,iv),s=[];a.hydrogenBond&&s.push(4),a.hydrophobic&&s.push(6),a.halogenBond&&s.push(5),a.ionicInteraction&&s.push(1),a.metalCoordination&&s.push(7),a.cationPi&&s.push(2),a.piStacking&&s.push(3),a.weakHydrogenBond&&s.push(8),a.waterHydrogenBond&&s.push(9),a.backboneHydrogenBond&&s.push(10);var c,r=t.features,n=t.contactSet,o=t.contactStore,u=r.centers,h=r.atomSets,l=u.x,p=u.y,d=u.z,f=o.index1,m=o.index2,g=o.type,v=[],y=[],b=[],x=[],_=[];return a.filterSele&&(c=Array.isArray(a.filterSele)?a.filterSele.map(function(t){return e.getAtomSet(new Lp(t))}):e.getAtomSet(new Lp(a.filterSele))),n.forEach(function(t){var e=g[t];if(s.includes(e)){if(c){var i=h[f[t]][0],r=h[m[t]][0];if(Array.isArray(c)){if(!(c[0].isSet(i)&&c[1].isSet(r)||c[1].isSet(i)&&c[0].isSet(r)))return}else if(!c.isSet(i)&&!c.isSet(r))return}var n=f[t],o=m[t];v.push(l[n],p[n],d[n]),y.push(l[o],p[o],d[o]),b.push.apply(b,function(t){switch(t){case 4:case 9:case 10:return rv.setHex(2851770).toArray();case 6:return rv.setHex(8421504).toArray();case 5:return rv.setHex(4259775).toArray();case 1:return rv.setHex(15779860).toArray();case 7:return rv.setHex(9191577).toArray();case 2:return rv.setHex(16744448).toArray();case 3:return rv.setHex(9220966).toArray();case 8:return rv.setHex(12967404).toArray();default:return rv.setHex(13421772).toArray()}}(e)),x.push(a.radius),_.push(t)}}),{position1:new Float32Array(v),position2:new Float32Array(y),color:new Float32Array(b),color2:new Float32Array(b),radius:new Float32Array(x),picking:new dv(_,t,e)}}var ov=function(t){this.array=t},av={type:{configurable:!0},data:{configurable:!0}};av.type.get=function(){return""},av.data.get=function(){return{}},ov.prototype.getIndex=function(t){return this.array?this.array[t]:t},ov.prototype.getObject=function(t){return{}},ov.prototype._applyTransformations=function(t,e,i){return e&&t.applyMatrix4(e.matrix),i&&t.applyMatrix4(i.matrix),t},ov.prototype._getPosition=function(t){return new ri},ov.prototype.getPosition=function(t,e,i){return this._applyTransformations(this._getPosition(t),e,i)},Object.defineProperties(ov.prototype,av);var sv=function(e){function t(t){e.call(this),this.shape=t}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var i={primitive:{configurable:!0},data:{configurable:!0},type:{configurable:!0}};return i.primitive.get=function(){},i.data.get=function(){return this.shape},i.type.get=function(){return this.primitive.type},t.prototype.getObject=function(t){return this.primitive.objectFromShape(this.shape,this.getIndex(t))},t.prototype._getPosition=function(t){return this.primitive.positionFromShape(this.shape,this.getIndex(t))},Object.defineProperties(t.prototype,i),t}(ov),cv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Gm},Object.defineProperties(e.prototype,i),e}(sv),uv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Vm},Object.defineProperties(e.prototype,i),e}(sv),hv=function(i){function t(t,e){i.call(this,t),this.structure=e}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={type:{configurable:!0},data:{configurable:!0}};return e.type.get=function(){return"atom"},e.data.get=function(){return this.structure},t.prototype.getObject=function(t){return this.structure.getAtomProxy(this.getIndex(t))},t.prototype._getPosition=function(t){return(new ri).copy(this.getObject(t))},Object.defineProperties(t.prototype,e),t}(ov),lv=function(e){function t(t){e.call(this),this.axes=t}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"axes"},i.data.get=function(){return this.axes},t.prototype.getObject=function(){return{axes:this.axes}},t.prototype._getPosition=function(){return this.axes.center.clone()},Object.defineProperties(t.prototype,i),t}(ov),pv=function(r){function t(t,e,i){r.call(this,t),this.structure=e,this.bondStore=i||e.bondStore}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},data:{configurable:!0}};return e.type.get=function(){return"bond"},e.data.get=function(){return this.structure},t.prototype.getObject=function(t){var e=this.structure.getBondProxy(this.getIndex(t));return e.bondStore=this.bondStore,e},t.prototype._getPosition=function(t){var e=this.getObject(t);return(new ri).copy(e.atom1).add(e.atom2).multiplyScalar(.5)},Object.defineProperties(t.prototype,e),t}(ov),dv=function(r){function t(t,e,i){r.call(this,t),this.contacts=e,this.structure=i}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},data:{configurable:!0}};return e.type.get=function(){return"contact"},e.data.get=function(){return this.contacts},t.prototype.getObject=function(t){var e=this.getIndex(t),i=this.contacts,r=i.features,n=i.contactStore,o=r.centers,a=r.atomSets,s=o.x,c=o.y,u=o.z,h=n.index1,l=n.index2,p=n.type,d=h[e],f=l[e];return{center1:new ri(s[d],c[d],u[d]),center2:new ri(s[f],c[f],u[f]),atom1:this.structure.getAtomProxy(a[d][0]),atom2:this.structure.getAtomProxy(a[f][0]),type:function(t){switch(t){case 4:case 9:case 10:return"hydrogen bond";case 6:return"hydrophobic contact";case 5:return"halogen bond";case 1:return"ionic interaction";case 7:return"metal coordination";case 2:return"cation-pi interaction";case 3:return"pi-pi stacking";case 8:return"weak hydrogen bond";default:return"unknown contact"}}(p[e])}},t.prototype._getPosition=function(t){var e=this.getObject(t),i=e.center1,r=e.center2;return(new ri).addVectors(i,r).multiplyScalar(.5)},Object.defineProperties(t.prototype,e),t}(ov),fv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Hm},Object.defineProperties(e.prototype,i),e}(sv),mv=function(r){function t(t,e,i){r.call(this,t),this.validation=e,this.structure=i}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},data:{configurable:!0}};return e.type.get=function(){return"clash"},e.data.get=function(){return this.validation},t.prototype.getObject=function(t){var e=this.validation,i=this.getIndex(t);return{validation:e,index:i,clash:e.clashArray[i]}},t.prototype._getAtomProxyFromSele=function(t){var e=new Lp(t),i=this.structure.getAtomIndices(e)[0];return this.structure.getAtomProxy(i)},t.prototype._getPosition=function(t){var e=this.getObject(t).clash,i=this._getAtomProxyFromSele(e.sele1),r=this._getAtomProxyFromSele(e.sele2);return(new ri).copy(i).add(r).multiplyScalar(.5)},Object.defineProperties(t.prototype,e),t}(ov),gv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"distance"},Object.defineProperties(e.prototype,i),e}(pv),vv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return $m},Object.defineProperties(e.prototype,i),e}(sv),yv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Um},Object.defineProperties(e.prototype,i),e}(sv),bv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return zm},Object.defineProperties(e.prototype,i),e}(sv),xv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"ignore"},Object.defineProperties(e.prototype,i),e}(ov),_v=function(i){function t(t,e){i.call(this,t),this.mesh=e}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={type:{configurable:!0}};return e.type.get=function(){return"mesh"},t.prototype.getObject=function(){var t=this.mesh;return{shape:this.shape,name:t.name,serial:t.serial}},t.prototype._getPosition=function(){return this.__position||(this.__position=hm(this.mesh.position)),this.__position},Object.defineProperties(t.prototype,e),t}(sv),wv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Fm},Object.defineProperties(e.prototype,i),e}(sv),Sv=function(i){function t(t,e){i.call(this,t),this.surface=e}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={type:{configurable:!0},data:{configurable:!0}};return e.type.get=function(){return"surface"},e.data.get=function(){return this.surface},t.prototype.getObject=function(t){return{surface:this.surface,index:this.getIndex(t)}},t.prototype._getPosition=function(){return this.surface.center.clone()},Object.defineProperties(t.prototype,e),t}(ov),Av=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return jm},Object.defineProperties(e.prototype,i),e}(sv),Mv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Wm},Object.defineProperties(e.prototype,i),e}(sv),Ev=function(i){function t(t,e){i.call(this),this.unitcell=t,this.structure=e}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={type:{configurable:!0},data:{configurable:!0}};return e.type.get=function(){return"unitcell"},e.data.get=function(){return this.unitcell},t.prototype.getObject=function(){return{unitcell:this.unitcell,structure:this.structure}},t.prototype._getPosition=function(){return this.unitcell.getCenter(this.structure)},Object.defineProperties(t.prototype,e),t}(ov),Pv=(function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};i.type.get=function(){return"unknown"},Object.defineProperties(e.prototype,i)}(ov),function(i){function t(t,e){i.call(this,t),this.volume=e}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={type:{configurable:!0},data:{configurable:!0}};return e.type.get=function(){return"volume"},e.data.get=function(){return this.volume},t.prototype.getObject=function(t){var e=this.volume,i=this.getIndex(t);return{volume:e,index:i,value:e.data[i]}},t.prototype._getPosition=function(t){var e=this.volume.position,i=this.getIndex(t);return new ri(e[3*i],e[3*i+1],e[3*i+2])},Object.defineProperties(t.prototype,e),t}(ov)),Tv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"slice"},Object.defineProperties(e.prototype,i),e}(Pv),Cv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return qm},Object.defineProperties(e.prototype,i),e}(sv),Iv=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Ym},Object.defineProperties(e.prototype,i),e}(sv);function Ov(){return new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0])}function Lv(){return new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}function Rv(){return[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]]}function Dv(I,P,T,C,d){var f,O,m,L,c,u,h,R=0,D=!1,k=!1,B=!1,l=P*T*C,N=P,F=P*T,z=new Int32Array(12),g=[],v=[],U=[],y=[],j=Ov(),G=Lv(),V=[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]];function b(t,e,i){return t+(e-t)*i}function H(t,e,i){return F*(i=(i+h)%C)+N*(e=(e+u)%T)+(t=(t+c)%P)}function $(t,e,i,r,n,o,a){var s=3*t;if(O[s]<0){var c=(R-o)/(a-o),u=f,h=3*m;if(g[h+0]=i+c,g[h+1]=r,g[h+2]=n,!D){var l=3*t;v[h]=-b(u[l],u[l+3],c),v[h+1]=-b(u[l+1],u[l+4],c),v[h+2]=-b(u[l+2],u[l+5],c)}d&&(y[m]=d[t+Math.round(c)]),O[s]=m,z[e]=m,m+=1}else z[e]=O[s]}function W(t,e,i,r,n,o,a){var s=3*t+1;if(O[s]<0){var c=(R-o)/(a-o),u=f,h=3*m;if(g[h]=i,g[h+1]=r+c,g[h+2]=n,!D){var l=3*t,p=l+3*N;v[h]=-b(u[l],u[p],c),v[h+1]=-b(u[l+1],u[p+1],c),v[h+2]=-b(u[l+2],u[p+2],c)}d&&(y[m]=d[t+Math.round(c)*N]),O[s]=m,z[e]=m,m+=1}else z[e]=O[s]}function X(t,e,i,r,n,o,a){var s=3*t+2;if(O[s]<0){var c=(R-o)/(a-o),u=f,h=3*m;if(g[h]=i,g[h+1]=r,g[h+2]=n+c,!D){var l=3*t,p=l+3*F;v[h]=-b(u[l],u[p],c),v[h+1]=-b(u[l+1],u[p+1],c),v[h+2]=-b(u[l+2],u[p+2],c)}d&&(y[m]=d[t+Math.round(c)*F]),O[s]=m,z[e]=m,m+=1}else z[e]=O[s]}function q(t){var e=3*t;0===f[e]&&(f[e]=I[(t-1+l)%l]-I[(t+1)%l],f[e+1]=I[(t-N+l)%l]-I[(t+N)%l],f[e+2]=I[(t-F+l)%l]-I[(t+F)%l])}function Y(t,e,i,r,n){var o,a,s,c,u,h,l;B?(r=H(t,e,i),o=H(t+1,e,i),a=H(t,e+1,i),s=H(t,e,i+1),c=H(t+1,e+1,i),u=H(t+1,e,i+1),h=H(t,e+1,i+1),l=H(t+1,e+1,i+1)):(o=r+1,c=(a=r+N)+1,u=(s=r+F)+1,l=(h=a+F)+1);var p=0,d=I[r],f=I[o],m=I[a],g=I[c],v=I[s],y=I[u],b=I[h],x=I[l];d<R&&(p|=1),f<R&&(p|=2),m<R&&(p|=8),g<R&&(p|=4),v<R&&(p|=16),y<R&&(p|=32),b<R&&(p|=128),x<R&&(p|=64);var _=j[p];if(0===_)return 0;var w=t+1,S=e+1,A=i+1;1&_&&(D||(q(r),q(o)),$(r,0,t,e,i,d,f)),2&_&&(D||(q(o),q(c)),W(o,1,w,e,i,f,g)),4&_&&(D||(q(a),q(c)),$(a,2,t,S,i,m,g)),8&_&&(D||(q(r),q(a)),W(r,3,t,e,i,d,m)),16&_&&(D||(q(s),q(u)),$(s,4,t,e,A,v,y)),32&_&&(D||(q(u),q(l)),W(u,5,w,e,A,y,x)),64&_&&(D||(q(h),q(l)),$(h,6,t,S,A,b,x)),128&_&&(D||(q(s),q(h)),W(s,7,t,e,A,v,b)),256&_&&(D||(q(r),q(s)),X(r,8,t,e,i,d,v)),512&_&&(D||(q(o),q(u)),X(o,9,w,e,i,f,y)),1024&_&&(D||(q(c),q(l)),X(c,10,w,S,i,g,x)),2048&_&&(D||(q(a),q(h)),X(a,11,t,S,i,m,b));for(var M,E,P,T=p<<4,C=0;-1!==G[T+C];)M=G[T+C],E=G[T+C+1],P=G[T+C+2],k?(V[M][E]&n&&(U[L++]=z[M],U[L++]=z[E]),V[E][P]&n&&(U[L++]=z[E],U[L++]=z[P]),V[M][P]&n&&(U[L++]=z[M],U[L++]=z[P])):(U[L++]=z[E],U[L++]=z[M],U[L++]=z[P]),C+=3}function p(t,e,i,r,n,o){var a,s,c,u,h,l,p,d,f,m,g,v,y;if(t=void 0!==t?t:0,e=void 0!==e?e:0,i=void 0!==i?i:0,r=void 0!==r?r:P-1,n=void 0!==n?n:T-1,o=void 0!==o?o:C-1,B||(D?(t=Math.max(0,t),e=Math.max(0,e),i=Math.max(0,i),r=Math.min(P-1,r),n=Math.min(T-1,n),o=Math.min(C-1,o)):(t=Math.max(1,t),e=Math.max(1,e),i=Math.max(1,i),r=Math.min(P-2,r),n=Math.min(T-2,n),o=Math.min(C-2,o))),B)for(d=t-2,f=e-2,g=r+2,v=n+2,y=o+2,h=m=i-2;h<y;++h)for(u=f;u<v;++u)for(c=d;c<g;++c)s=3*H(c,u,h),O[s]=-1,O[s+1]=-1,O[s+2]=-1;else for(d=Math.max(0,t-2),f=Math.max(0,e-2),m=Math.max(0,i-2),g=Math.min(P,r+2),v=Math.min(T,n+2),y=Math.min(C,o+2),h=m;h<y;++h)for(p=F*h,u=f;u<v;++u)for(l=p+N*u,c=d;c<g;++c)O[a=3*(l+c)]=-1,O[a+1]=-1,O[a+2]=-1;if(!B){var b,x=t,_=e,w=i,S=r,A=n,M=o;for(b=!1,h=i;h<o;++h){for(u=e;u<n;++u){for(c=t;c<r;++c)if(I[a=P*T*h+P*u+c]>=R){w=h,b=!0;break}if(b)break}if(b)break}for(b=!1,u=e;u<n;++u){for(h=w;h<o;++h){for(c=t;c<r;++c)if(I[a=P*T*h+P*u+c]>=R){_=u,b=!0;break}if(b)break}if(b)break}for(b=!1,c=t;c<r;++c){for(u=_;u<n;++u){for(h=w;h<o;++h)if(I[a=P*T*h+P*u+c]>=R){x=c,b=!0;break}if(b)break}if(b)break}for(b=!1,h=o;i<=h;--h){for(u=n;e<=u;--u){for(c=r;t<=c;--c)if(I[a=P*T*h+P*u+c]>=R){M=h,b=!0;break}if(b)break}if(b)break}for(b=!1,u=n;e<=u;--u){for(h=M;i<=h;--h){for(c=r;t<=c;--c)if(I[a=P*T*h+P*u+c]>=R){A=u,b=!0;break}if(b)break}if(b)break}for(b=!1,c=r;t<=c;--c){for(u=A;e<=u;--u){for(h=M;i<=h;--h)if(I[a=P*T*h+P*u+c]>=R){S=c,b=!0;break}if(b)break}if(b)break}D?(t=Math.max(0,x-1),e=Math.max(0,_-1),i=Math.max(0,w-1),r=Math.min(P-1,S+1),n=Math.min(T-1,A+1),o=Math.min(C-1,M+1)):(t=Math.max(1,x-1),e=Math.max(1,_-1),i=Math.max(1,w-1),r=Math.min(P-2,S+1),n=Math.min(T-2,A+1),o=Math.min(C-2,M+1))}var E=15;for(h=i;h<o;++h,E&=-5)for(p=F*h,E|=2,u=e;u<n;++u,E&=-3)for(l=p+N*u,E|=1,c=t;c<r;++c,E&=-2)Y(c,u,h,a=l+c,E)}this.triangulate=function(t,e,i,r,n){R=t,k=r,B=n,(D=e||k)||f||(f=new Float32Array(3*l));var o=3*l;if(O&&O.length===o||(O=new Int32Array(o)),void(L=m=0)!==i){var a=i[0].map(Math.round),s=i[1].map(Math.round);c=P*Math.ceil(Math.abs(a[0])/P),u=T*Math.ceil(Math.abs(a[1])/T),h=C*Math.ceil(Math.abs(a[2])/C),p(a[0],a[1],a[2],s[0],s[1],s[2])}else c=u=h=0,p();return g.length=3*m,D||(v.length=3*m),U.length=L,d&&(y.length=m),{position:new Float32Array(g),normal:D?void 0:new Float32Array(v),index:Ll(U,g.length/3),atomindex:d?new Int32Array(y):void 0,contour:k}}}sd.add("arrow",uv),sd.add("box",bv),sd.add("cone",fv),sd.add("cylinder",cv),sd.add("ellipsoid",vv),sd.add("octahedron",yv),sd.add("sphere",wv),sd.add("tetrahedron",Av),sd.add("torus",Mv),sd.add("point",Cv),sd.add("wideline",Iv),Object.assign(Dv,{__deps:[Ov,Lv,Rv,Ll]});var kv=function(t,e){this.cols=t,this.rows=e,this.size=this.cols*this.rows,this.data=new Float32Array(this.size)};function Bv(t,e){for(var i=0,r=0,n=e.rows,o=e.cols,a=0,s=0,c=0,u=e.data,h=t.data;i<n;s+=1,a+=o,i++)for(c=s,r=0;r<o;c+=n,r++)h[c]=u[a+r]}function Nv(t,e,i){for(var r=0,n=0,o=0,a=0,s=0,c=0,u=0,h=e.cols,l=e.rows,p=i.rows,d=e.data,f=i.data,m=t.data,g=0;r<l;a+=h,r++)for(n=c=0;n<p;u++,n++){for(s=a,o=g=0;o<h;s++,c++,o++)g+=d[s]*f[c];m[u]=g}}function Fv(t,e,i){var r=t.data,n=e.data,o=i.data,a=n[0],s=n[1],c=n[2],u=n[3],h=n[4],l=n[5],p=n[6],d=n[7],f=n[8],m=o[0],g=o[1],v=o[2],y=o[3],b=o[4],x=o[5],_=o[6],w=o[7],S=o[8];r[0]=a*m+s*y+c*_,r[1]=a*g+s*b+c*w,r[2]=a*v+s*x+c*S,r[3]=u*m+h*y+l*_,r[4]=u*g+h*b+l*w,r[5]=u*v+h*x+l*S,r[6]=p*m+d*y+f*_,r[7]=p*g+d*b+f*w,r[8]=p*v+d*x+f*S}function zv(t){for(var e=t.rows,i=t.cols,r=t.data,n=new Array(i),o=0;o<i;++o)n[o]=0;for(var a=0,s=0;a<e;++a)for(var c=0;c<i;++c,++s)n[c]+=r[s];for(var u=0;u<i;++u)n[u]/=e;return n}function Uv(t,e){for(var i=t.rows,r=t.cols,n=t.data,o=0,a=0;o<i;++o)for(var s=0;s<r;++s,++a)n[a]-=e[s]}function jv(t,e,i,r){r=t[e],t[e]=t[i],t[i]=r}kv.prototype.copyTo=function(t){t.data.set(this.data)};var Gv=1.192092896e-7,Vv=1e-37;function Hv(t,e,i,r){var n=0,o=0,a=t.rows,s=t.cols,c=a,u=s;c<u&&(n=1,o=c,c=u,u=o);var h=new kv(c,c),l=new kv(1,u),p=new kv(u,u);if(0===n)Bv(h,t);else{for(o=0;o<s*a;o++)h.data[o]=t.data[o];for(;o<u*c;o++)h.data[o]=0}if(function(t,e,i,r,n,o,a,s){for(var c,u,h=2*Gv,l=Vv,p=0,d=0,f=0,m=0,g=Math.max(o,30),v=0,y=0,b=0,x=0,_=0,w=0,S=0,A=0,M=0,E=0,P=0,T=0,C=0,I=0,O=0,L=0,R=0,D=4660,k=0,B=0,N=0,F=new Float64Array(a<<3);p<a;p++){for(P=f=0;f<o;f++)P+=(A=t[p*e+f])*A;if(F[p]=P,r){for(f=0;f<a;f++)r[p*n+f]=0;r[p*n+p]=1}}for(;m<g;m++){for(p=_=0;p<a-1;p++)for(d=p+1;d<a;d++){for(v=p*e|0,y=d*e|0,O=F[p],L=0,R=F[d],f=2,L+=t[v]*t[y],L+=t[v+1]*t[y+1];f<o;f++)L+=t[v+f]*t[y+f];if(!(Math.abs(L)<=h*Math.sqrt(O*R))){for(c=L*=2,u=T=O-R,c=Math.abs(c),C=(u=Math.abs(u))<c?(u/=c,c*Math.sqrt(1+u*u)):0<u?(c/=u,u*Math.sqrt(1+c*c)):0,T<0?(I=.5*(C-T),w=L/(C*(S=Math.sqrt(I/C))*2)):S=L/(C*(w=Math.sqrt((C+T)/(2*C)))*2),R=O=0,f=2,M=w*t[v]+S*t[y],E=-S*t[v]+w*t[y],O+=(t[v]=M)*M,R+=(t[y]=E)*E,M=w*t[v+1]+S*t[y+1],E=-S*t[v+1]+w*t[y+1],O+=(t[v+1]=M)*M,R+=(t[y+1]=E)*E;f<o;f++)M=w*t[v+f]+S*t[y+f],E=-S*t[v+f]+w*t[y+f],O+=(t[v+f]=M)*M,R+=(t[y+f]=E)*E;if(F[p]=O,F[d]=R,_=1,r)for(x=d*n|0,f=2,M=w*r[b=p*n|0]+S*r[x],E=-S*r[b]+w*r[x],r[b]=M,r[x]=E,M=w*r[b+1]+S*r[x+1],E=-S*r[b+1]+w*r[x+1],r[b+1]=M,r[x+1]=E;f<a;f++)M=w*r[b+f]+S*r[x+f],E=-S*r[b+f]+w*r[x+f],r[b+f]=M,r[x+f]=E}}if(0===_)break}for(p=0;p<a;p++){for(P=f=0;f<o;f++)P+=(A=t[p*e+f])*A;F[p]=Math.sqrt(P)}for(p=0;p<a-1;p++){for(f=(d=p)+1;f<a;f++)F[d]<F[f]&&(d=f);if(p!==d&&(jv(F,p,d,P),r)){for(f=0;f<o;f++)jv(t,p*e+f,d*e+f,A);for(f=0;f<a;f++)jv(r,p*n+f,d*n+f,A)}}for(p=0;p<a;p++)i[p]=F[p];if(r)for(p=0;p<s;p++){for(P=p<a?F[p]:0;P<=l;){for(B=1/o,f=0;f<o;f++)k=0!=(256&(D=214013*D+2531011)>>16)?B:-B,t[p*e+f]=k;for(m=0;m<2;m++)for(d=0;d<p;d++){for(f=P=0;f<o;f++)P+=t[p*e+f]*t[d*e+f];for(f=N=0;f<o;f++)A=t[p*e+f]-P*t[d*e+f],t[p*e+f]=A,N+=Math.abs(A);for(N=N?1/N:0,f=0;f<o;f++)t[p*e+f]*=N}for(f=P=0;f<o;f++)P+=(A=t[p*e+f])*A;P=Math.sqrt(P)}for(S=1/P,f=0;f<o;f++)t[p*e+f]*=S}}(h.data,c,l.data,p.data,u,c,u,c),e){for(o=0;o<u;o++)e.data[o]=l.data[o];for(;o<s;o++)e.data[o]=0}0===n?(i&&Bv(i,h),r&&Bv(r,p)):(i&&Bv(i,p),r&&Bv(r,h))}function $v(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function Wv(t,e,i,r,n,o,a,s,c,u,h,l,p,d,f,m,g){t[0]=e,t[4]=i,t[8]=r,t[12]=n,t[1]=o,t[5]=a,t[9]=s,t[13]=c,t[2]=u,t[6]=h,t[10]=l,t[14]=p,t[3]=d,t[7]=f,t[11]=m,t[15]=g}function Xv(t,e,i){var r=e[0],n=e[4],o=e[8],a=e[12],s=e[1],c=e[5],u=e[9],h=e[13],l=e[2],p=e[6],d=e[10],f=e[14],m=e[3],g=e[7],v=e[11],y=e[15],b=i[0],x=i[4],_=i[8],w=i[12],S=i[1],A=i[5],M=i[9],E=i[13],P=i[2],T=i[6],C=i[10],I=i[14],O=i[3],L=i[7],R=i[11],D=i[15];t[0]=r*b+n*S+o*P+a*O,t[4]=r*x+n*A+o*T+a*L,t[8]=r*_+n*M+o*C+a*R,t[12]=r*w+n*E+o*I+a*D,t[1]=s*b+c*S+u*P+h*O,t[5]=s*x+c*A+u*T+h*L,t[9]=s*_+c*M+u*C+h*R,t[13]=s*w+c*E+u*I+h*D,t[2]=l*b+p*S+d*P+f*O,t[6]=l*x+p*A+d*T+f*L,t[10]=l*_+p*M+d*C+f*R,t[14]=l*w+p*E+d*I+f*D,t[3]=m*b+g*S+v*P+y*O,t[7]=m*x+g*A+v*T+y*L,t[11]=m*_+g*M+v*C+y*R,t[15]=m*w+g*E+v*I+y*D}function qv(t,e,i,r){Wv(t,e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1)}function Yv(t,e,i,r){Wv(t,1,0,0,e,0,1,0,i,0,0,1,r,0,0,0,1)}function Zv(t,e){var i=Math.cos(e),r=Math.sin(e);Wv(t,i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1)}function Kv(){return new Float32Array([1,0,0,0,1,0,0,0,1])}function Jv(t,e){var i=gm([e[0],e[1],e[2]]),r=gm([e[4],e[5],e[6]]),n=gm([e[8],e[9],e[10]]),o=gm();vm(o,r,n),t[0]=o[0],t[1]=o[1],t[2]=o[2],vm(o,n,i),t[3]=o[0],t[4]=o[1],t[5]=o[2],vm(o,i,r),t[6]=o[0],t[7]=o[1],t[8]=o[2]}function Qv(t,e,i,r){i=i||1,r=r||!0;var n,o=t.length/3,a=e.length/3;r&&(n=new Float32Array(3*o));var s,c,u,h,l=new Float32Array(3*o),p=new Array(20);for(s=0;s<20;++s)p[s]=new Uint32Array(o);for(s=0;s<o;++s)p[0][s]=0;for(s=0;s<a;++s){var d=3*s,f=3*s+1,m=3*s+2;for(h=!0,u=p[c=0][e[d]];c<u;++c)if(e[f]===p[c+1][e[d]]){h=!1;break}for(h&&(p[0][e[d]]++,p[p[0][e[d]]][e[d]]=e[f]),h=!0,u=p[c=0][e[d]];c<u;++c)if(e[m]===p[c+1][e[d]]){h=!1;break}for(h&&(p[0][e[d]]++,p[p[0][e[d]]][e[d]]=e[m]),h=!0,u=p[c=0][e[f]];c<u;++c)if(e[d]===p[c+1][e[f]]){h=!1;break}for(h&&(p[0][e[f]]++,p[p[0][e[f]]][e[f]]=e[d]),h=!0,u=p[c=0][e[f]];c<u;++c)if(e[m]===p[c+1][e[f]]){h=!1;break}for(h&&(p[0][e[f]]++,p[p[0][e[f]]][e[f]]=e[m]),h=!0,c=0;c<p[0][e[m]];++c)if(e[d]===p[c+1][e[m]]){h=!1;break}for(h&&(p[0][e[m]]++,p[p[0][e[m]]][e[m]]=e[d]),h=!0,u=p[c=0][e[m]];c<u;++c)if(e[f]===p[c+1][e[m]]){h=!1;break}h&&(p[0][e[m]]++,p[p[0][e[m]]][e[m]]=e[f])}for(var g,v,y,b,x,_=0;_<i;++_){for(s=0;s<o;++s)if(g=3*s,(y=p[0][s])<3)l[g]=t[g],l[g+1]=t[g+1],l[g+2]=t[g+2];else if(3===y||4===y){for(l[g]=0,l[g+1]=0,c=l[g+2]=0;c<y;++c)v=3*p[c+1][s],l[g]+=t[v],l[g+1]+=t[v+1],l[g+2]+=t[v+2];l[g]+=.5*t[g],l[g+1]+=.5*t[g+1],l[g+2]+=.5*t[g+2],x=.5+y,l[g]/=x,l[g+1]/=x,l[g+2]/=x}else{for(l[g]=0,l[g+1]=0,c=l[g+2]=0;c<y;++c)v=3*p[c+1][s],l[g]+=t[v],l[g+1]+=t[v+1],l[g+2]+=t[v+2];l[g]+=1*t[g],l[g+1]+=1*t[g+1],l[g+2]+=1*t[g+2],b=1+y,l[g]/=b,l[g+1]/=b,l[g+2]/=b}if(t.set(l),r){ty(t,e,n);var w=3*o;for(g=0;g<w;g+=3)t[g]+=.75/4.5*-1*n[g],t[g+1]+=.75/4.5*-1*n[g+1],t[g+2]+=.75/4.5*-1*n[g+2]}}}function ty(t,e,i){var r,n;if(void 0===i)i=new Float32Array(t.length);else for(r=0,n=i.length;r<n;r++)i[r]=0;var o=new Float32Array(3),a=new Float32Array(3),s=new Float32Array(3),c=new Float32Array(3),u=new Float32Array(3);if(e)for(r=0,n=e.length;r<n;r+=3){var h=3*e[r],l=3*e[r+1],p=3*e[r+2];_m(o,t,h),_m(a,t,l),_m(s,t,p),bm(c,s,a),bm(u,o,a),vm(c,c,u),i[h]+=c[0],i[h+1]+=c[1],i[h+2]+=c[2],i[l]+=c[0],i[l+1]+=c[1],i[l+2]+=c[2],i[p]+=c[0],i[p+1]+=c[1],i[p+2]+=c[2]}else for(r=0,n=t.length;r<n;r+=9)_m(o,t,r),_m(a,t,r+3),_m(s,t,r+6),bm(c,s,a),bm(u,o,a),vm(c,c,u),i[r]=c[0],i[r+1]=c[1],i[r+2]=c[2],i[r+3]=c[0],i[r+4]=c[1],i[r+5]=c[2],i[r+6]=c[0],i[r+7]=c[1],i[r+8]=c[2];return mm(i),i}function ey(t){for(var e={},i=0,r=t.length;i<r;++i)e[t[i]]=!0;return e}function iy(t,e,i,r,n){var o=1/r*3;Pm(t,t,n+(o+=i)),Tm(e,e,n+o),Mm(t,t,r),Cm(t,t),Am(t,t,r),Mm(e,e,r),Im(e,e),Am(e,e,r);var a=new Float32Array(3);bm(a,e,t),Mm(a,a,r),Im(a,a),Tm(a,a,1);var s=256*Math.pow(10,6),c=a[0]*a[1]*a[2]*3;s<=c&&(Mm(t,t,r*=Math.pow(s/c,1/3)),Cm(t,t),Am(t,t,r),Mm(e,e,r),Im(e,e),Am(e,e,r),bm(a,e,t),Mm(a,a,r),Im(a,a),Tm(a,a,1));var u=new Float32Array(t);Om(u,u);var h=$v(),l=$v();Zv(l,Gl(90)),Xv(h,h,l);var p=$v();qv(p,-1/r,1/r,1/r),Xv(h,h,p);var d=$v();return Yv(d,-r*u[2],-r*u[1],-r*u[0]),Xv(h,h,d),{dim:a,tran:u,matrix:h,scaleFactor:r}}qv.__deps=[Wv],Yv.__deps=[Wv],Zv.__deps=[Wv],Jv.__deps=[gm,vm],Object.assign(Qv,{__deps:[ty]}),Object.assign(ty,{__deps:[bm,vm,_m,mm]}),Object.assign(iy,{__deps:[Gl,Pm,Tm,Am,Mm,Cm,Im,bm,Om,$v,Xv,Yv,qv,Zv]});var ry=function(t,e,i){this.name=t||"",this.path=e||"",this.info={},this.center=new ri,this.boundingBox=new Pi,i instanceof _r||i instanceof $r||i instanceof ya?this.fromGeometry(i):i&&(this.set(i.position,i.index,i.normal,i.color,i.atomindex,i.contour),this.boundingBox.setFromArray(i.position),this.boundingBox.getCenter(this.center))},ny={type:{configurable:!0}};function oy(t,e,i,r,n){var c=new Dv(t,e,i,r,n);this.getSurface=function(t,e,i,r,n,o){void 0===o&&(o=!1);var a=c.triangulate(t,e,i,n,o);if(e&&!n&&(Qv(a.position,a.index,e,!0),a.normal=ty(a.position,a.index)),r&&(dm(r,a.position),a.normal)){var s=Kv();Jv(s,r),fm(s,a.normal)}return a}}ny.type.get=function(){return"Surface"},ry.prototype.set=function(t,e,i,r,n,o){void 0===o&&(o=!1),this.position=t,this.index=e,this.normal=i,this.color=r,this.atomindex=n,this.size=t.length/3,this.contour=o},ry.prototype.fromGeometry=function(t){var e,i,r,n;if(de.Debug&&Yp.time("GeometrySurface.fromGeometry"),t instanceof _r?(t.computeVertexNormals(!0),e=(new $r).fromGeometry(t)):e=t instanceof $r?t:t[0],e.boundingBox||e.computeBoundingBox(),this.boundingBox.copy(e.boundingBox),this.boundingBox.getCenter(this.center),e instanceof $r){var o=e.attributes,a=!!o.normal&&o.normal.array;(!a||0===a[0]&&0===a[1]&&0===a[2])&&e.computeVertexNormals(),i=o.position.array,r=o.index?o.index.array:null,n=o.normal.array}this.set(i,r,n,void 0,void 0),de.Debug&&Yp.timeEnd("GeometrySurface.setGeometry")},ry.prototype.getPosition=function(){return this.position},ry.prototype.getColor=function(t){var e=t||{},i=(e.surface=this).size,r=new Float32Array(3*i),n=Qp.getScheme(e);if(n.volumeColor||"random"===e.scheme)for(var o=0;o<i;++o)n.volumeColorToArray(o,r,3*o);else if(n.positionColor)for(var a=new ri,s=this.position,c=0;c<i;++c){var u=3*c;a.set(s[u],s[u+1],s[u+2]),n.positionColorToArray(a,r,u)}else if(n.atomColor&&this.atomindex)for(var h=e.structure.getAtomProxy(),l=this.atomindex,p=0;p<i;++p)h.index=l[p],n.atomColorToArray(h,r,3*p);else{var d=new ki(e.value);Vd(i,d.r,d.g,d.b,r)}return r},ry.prototype.getPicking=function(t){return this.atomindex&&t?new hv(this.atomindex,t):new Sv(Hd(this.size),this)},ry.prototype.getNormal=function(){return this.normal},ry.prototype.getSize=function(t,e){return Gd(this.size,t*e)},ry.prototype.getIndex=function(){return this.index},ry.prototype.getFilteredIndex=function(t,e){if(t&&this.atomindex){for(var i=new Lp(t),r=e.getAtomSet(i),n=[],o=this.atomindex,a=this.index,s=a.length,c=this.contour?2:3,u=0,h=0;h<s;h+=c){for(var l=!0,p=0;p<c;p++){var d=o[a[h+p]];if(!r.get(d)){l=!1;break}}if(l)for(var f=0;f<c;f++,u++)n[u]=a[h+f]}return Ll(n,this.position.length/3)}return this.index},ry.prototype.getAtomindex=function(){return this.atomindex},ry.prototype.dispose=function(){},Object.defineProperties(ry.prototype,ny),Object.assign(oy,{__deps:[Qv,ty,Dv,dm,fm,Kv,Jv]}),Jp.add("surf",function(t,e){var i=t.data.args,r=t.data.params;if(i&&(self.volsurf=new oy(i[0],i[1],i[2],i[3],i[4])),r){var n=self.volsurf.getSurface(r.isolevel,r.smooth,r.box,r.matrix,r.contour,r.wrap),o=[n.position.buffer,n.index.buffer];n.normal&&o.push(n.normal.buffer),n.atomindex&&o.push(n.atomindex.buffer),e({sd:n,p:r},o)}},[oy]);var ay=function(t,e,i,r,n,o,a){this.name=t,this.path=e,this.matrix=new ei,this.normalMatrix=new ni,this.inverseMatrix=new ei,this.center=new ri,this.boundingBox=new Pi,this.setData(i,r,n,o,a)},sy={type:{configurable:!0},position:{configurable:!0},min:{configurable:!0},max:{configurable:!0},sum:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};function cy(t){return"front"===t?G:"back"===t?wt:et}sy.type.get=function(){return"Volume"},ay.prototype.setData=function(t,e,i,r,n){this.nx=e||1,this.ny=i||1,this.nz=r||1,this.data=t||new Float32Array(1),this.setAtomindex(n),delete this._position,delete this._min,delete this._max,delete this._mean,delete this._rms,this.worker&&this.worker.terminate()},ay.prototype.setStats=function(t,e,i,r){this._min=t,this._max=e,this._mean=i,this._rms=r},ay.prototype.setMatrix=function(t){this.matrix.copy(t);var e=this.boundingBox,i=this.center,r=this.nx-1,n=this.ny-1,o=this.nz-1;e.makeEmpty(),e.expandByPoint(i.set(r,n,o)),e.expandByPoint(i.set(r,n,0)),e.expandByPoint(i.set(r,0,o)),e.expandByPoint(i.set(r,0,0)),e.expandByPoint(i.set(0,n,o)),e.expandByPoint(i.set(0,0,o)),e.expandByPoint(i.set(0,n,0)),e.expandByPoint(i.set(0,0,0)),e.applyMatrix4(this.matrix),e.getCenter(this.center);var a=this.matrix.elements,s=new ri(a[0],a[1],a[2]),c=new ri(a[4],a[5],a[6]),u=new ri(a[8],a[9],a[10]),h=new ri,l=this.normalMatrix.elements;h.crossVectors(c,u),l[0]=h.x,l[1]=h.y,l[2]=h.z,h.crossVectors(u,s),l[3]=h.x,l[4]=h.y,l[5]=h.z,h.crossVectors(s,c),l[6]=h.x,l[7]=h.y,l[8]=h.z,this.inverseMatrix.getInverse(this.matrix)},ay.prototype.setAtomindex=function(t){this.atomindex=t},ay.prototype.getBox=function(t,e,i){return i||(i=new Pi),i.set(t,t),i.expandByScalar(e),i.applyMatrix4(this.inverseMatrix),i.min.round(),i.max.round(),i},ay.prototype._getBox=function(t,e){if(t&&e){this.__box||(this.__box=new Pi);var i=this.getBox(t,e,this.__box);return[i.min.toArray(),i.max.toArray()]}},ay.prototype._makeSurface=function(t,e,i){var r=this.name+"@"+e.toPrecision(2),n=new ry(r,"",t);return n.info.isolevel=e,n.info.smooth=i,n.info.volume=this,n},ay.prototype.getSurface=function(t,e,i,r,n,o){void 0===o&&(o=!1),t=isNaN(t)?this.getValueForSigma(2):t,e=bl(e,0),void 0===this.volsurf&&(this.volsurf=new oy(this.data,this.nx,this.ny,this.nz,this.atomindex));var a=this._getBox(i,r),s=this.volsurf.getSurface(t,e,a,this.matrix.elements,n,o);return this._makeSurface(s,t,e)},ay.prototype.getSurfaceWorker=function(i,r,n,o,a,s,c){var u=this;if(i=isNaN(i)?this.getValueForSigma(2):i,r=r||0,window.hasOwnProperty("Worker")){void 0===this.workerPool&&(this.workerPool=new um("surf",2));var t={},e=this.workerPool.getNextWorker();0===e.postCount&&Object.assign(t,{args:[this.data,this.nx,this.ny,this.nz,this.atomindex]}),Object.assign(t,{params:{isolevel:i,smooth:r,box:this._getBox(n,o),matrix:this.matrix.elements,contour:a,wrap:s}}),e.post(t,void 0,function(t){var e=t.data.sd,i=t.data.p;c(u._makeSurface(e,i.isolevel,i.smooth))},function(t){console.warn("Volume.getSurfaceWorker error - trying without worker",t);var e=u.getSurface(i,r,n,o,a,s);c(e)})}else{var h=this.getSurface(i,r,n,o,a,s);c(h)}},ay.prototype.getValueForSigma=function(t){return this.mean+bl(t,2)*this.rms},ay.prototype.getSigmaForValue=function(t){return(bl(t,0)-this.mean)/this.rms},sy.position.get=function(){if(!this._position){for(var t=this.nz,e=this.ny,i=this.nx,r=new Float32Array(i*e*t*3),n=0,o=0;o<t;++o)for(var a=0;a<e;++a)for(var s=0;s<i;++s)r[n+0]=s,r[n+1]=a,r[n+2]=o,n+=3;dm(this.matrix.elements,r),this._position=r}return this._position},ay.prototype.getDataAtomindex=function(){return this.atomindex},ay.prototype.getDataPosition=function(){return this.position},ay.prototype.getDataColor=function(t){var e=t||{};e.volume=this,e.scale=e.scale||"Spectral",e.domain=e.domain||[this.min,this.max];for(var i=Qp.getScheme(e),r=this.position.length/3,n=new Float32Array(3*r),o=0;o<r;++o)i.volumeColorToArray(o,n,3*o);return n},ay.prototype.getDataPicking=function(){var t=Hd(this.position.length/3);return new Pv(t,this)},ay.prototype.getDataSize=function(t,e){var i,r=this.data,n=this.position.length/3;switch(t){case"value":i=new Float32Array(r);break;case"abs-value":i=new Float32Array(r);for(var o=0;o<n;++o)i[o]=Math.abs(i[o]);break;case"value-min":i=new Float32Array(r);for(var a=this.min,s=0;s<n;++s)i[s]-=a;break;case"deviation":i=new Float32Array(r);break;default:i=Gd(n,t)}if(1!==e)for(var c=0;c<n;++c)i[c]*=e;return i},sy.min.get=function(){return void 0===this._min&&(this._min=Zd(this.data)),this._min},sy.max.get=function(){return void 0===this._max&&(this._max=Yd(this.data)),this._max},sy.sum.get=function(){return void 0===this._sum&&(this._sum=Kd(this.data)),this._sum},sy.mean.get=function(){return void 0===this._mean&&(this._mean=Jd(this.data)),this._mean},sy.rms.get=function(){return void 0===this._rms&&(this._rms=function(t){for(var e=t.length,i=0,r=0;r<e;++r){var n=t[r];i+=n*n}return Math.sqrt(i/e)}(this.data)),this._rms},ay.prototype.clone=function(){var t=new ay(this.name,this.path,this.data,this.nx,this.ny,this.nz,this.atomindex);return t.matrix.copy(this.matrix),t.header=Object.assign({},this.header),t},ay.prototype.dispose=function(){this.workerPool&&this.workerPool.terminate()},Object.defineProperties(ay.prototype,sy),rd.add("shader/Mesh.vert","#define STANDARD\nuniform float clipNear;\nuniform vec3 clipCenter;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#elif defined( NOLIGHT )\nvarying vec3 vColor;\n#else\n#include color_pars_vertex\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#endif\n#include common\nvoid main(){\n#if defined( PICKING )\nvPickingColor = unpackColor( primitiveId );\n#elif defined( NOLIGHT )\nvColor = color;\n#else\n#include color_vertex\n#include beginnormal_vertex\n#include defaultnormal_vertex\n#ifndef FLAT_SHADED\nvNormal = normalize( transformedNormal );\n#endif\n#endif\n#include begin_vertex\n#include project_vertex\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvViewPosition = -mvPosition.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n}"),rd.add("shader/Mesh.frag","#define STANDARD\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 interiorColor;\nuniform float interiorDarkening;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float clipNear;\nuniform float clipRadius;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\nuniform float objectId;\nvarying vec3 vPickingColor;\n#elif defined( NOLIGHT )\nvarying vec3 vColor;\n#else\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\n#include bsdfs\n#include lights_pars_begin\n#include lights_physical_pars_fragment\n#endif\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\n#if defined( PICKING )\nif( opacity < 0.3 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#elif defined( NOLIGHT )\ngl_FragColor = vec4( vColor, opacity );\n#else\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveLight = emissive;\n#include color_fragment\n#include roughnessmap_fragment\n#include metalnessmap_fragment\n#include normal_fragment_begin\n#include lights_physical_fragment\n#include lights_fragment_begin\n#include lights_fragment_end\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;\n#include interior_fragment\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#include opaque_back_fragment\n#endif\n}");var uy={f:1,v2:2,v3:3,c:3};function hy(t,e){t.matrix.copy(e),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0}var ly={opaqueBack:!1,side:"double",opacity:1,depthWrite:!0,clipNear:0,clipRadius:0,clipCenter:new ri,flatShaded:!1,wireframe:!1,roughness:.4,metalness:0,diffuse:16777215,diffuseInterior:!1,useInteriorColor:!1,interiorColor:14540253,interiorDarkening:0,forceTransparent:!1,matrix:new ei,disablePicking:!1,sortParticles:!1,background:!1},py={opaqueBack:{updateShader:!0},side:{updateShader:!0,property:!0},opacity:{uniform:!0},depthWrite:{property:!0},clipNear:{updateShader:!0,property:!0},clipRadius:{updateShader:!0,uniform:!0},clipCenter:{uniform:!0},flatShaded:{updateShader:!0},background:{updateShader:!0},wireframe:{updateVisibility:!0},roughness:{uniform:!0},metalness:{uniform:!0},diffuse:{uniform:!0},diffuseInterior:{updateShader:!0},useInteriorColor:{updateShader:!0},interiorColor:{uniform:!0},interiorDarkening:{uniform:!0},matrix:{}},dy=function(t,e){void 0===e&&(e={}),this.parameterTypes=py,this.geometry=new $r,this.indexVersion=0,this.wireframeIndexVersion=-1,this.group=new ya,this.wireframeGroup=new ya,this.pickingGroup=new ya,this.vertexShader="",this.fragmentShader="",this.isImpostor=!1,this.isText=!1,this.isSurface=!1,this.isPoint=!1,this.isLine=!1,this.dynamic=!0,this.visible=!0,this.wireframeIndexCount=0,this.parameters=xl(e,this.defaultParameters),this.uniforms=Ri.merge([Fi.common,{fogColor:{value:null},fogNear:{value:0},fogFar:{value:0},opacity:{value:this.parameters.opacity},clipNear:{value:0},clipRadius:{value:this.parameters.clipRadius},clipCenter:{value:this.parameters.clipCenter}},{emissive:{value:new ki(0)},roughness:{value:this.parameters.roughness},metalness:{value:this.parameters.metalness},interiorColor:{value:new ki(this.parameters.interiorColor)},interiorDarkening:{value:this.parameters.interiorDarkening}},Fi.lights]),this.uniforms.diffuse.value.set(this.parameters.diffuse),this.pickingUniforms={clipNear:{value:0},objectId:{value:0},opacity:{value:this.parameters.opacity}};var i=t.position||t.position1;this._positionDataSize=i?i.length/3:0,t.primitiveId||(t.primitiveId=Hd(this._positionDataSize)),this.addAttributes({position:{type:"v3",value:t.position},color:{type:"c",value:t.color},primitiveId:{type:"f",value:t.primitiveId}}),e.matrix&&(this.matrix=e.matrix),t.index&&this.initIndex(t.index),this.picking=t.picking,this.makeWireframeGeometry()},fy={defaultParameters:{configurable:!0},matrix:{configurable:!0},transparent:{configurable:!0},size:{configurable:!0},attributeSize:{configurable:!0},pickable:{configurable:!0}};fy.defaultParameters.get=function(){return ly},fy.matrix.set=function(t){this.setMatrix(t)},fy.matrix.get=function(){return this.group.matrix.clone()},fy.transparent.get=function(){return this.parameters.opacity<1||this.parameters.forceTransparent},fy.size.get=function(){return this._positionDataSize},fy.attributeSize.get=function(){return this.size},fy.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},dy.prototype.setMatrix=function(t){hy(this.group,t),hy(this.wireframeGroup,t),hy(this.pickingGroup,t)},dy.prototype.initIndex=function(t){this.geometry.setIndex(new wr(t,1)),this.geometry.getIndex().setDynamic(this.dynamic)},dy.prototype.makeMaterial=function(){var t=cy(this.parameters.side),e=new An({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!0,fog:!0,side:t});e.vertexColors=2,e.extensions.derivatives=this.parameters.flatShaded,e.extensions.fragDepth=this.isImpostor;var i=new An({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!1,fog:!0,side:t});i.vertexColors=2;var r=new An({uniforms:this.pickingUniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:!1,depthWrite:this.parameters.depthWrite,lights:!1,fog:!1,side:t,blending:q});r.vertexColors=2,r.extensions.fragDepth=this.isImpostor,e.clipNear=this.parameters.clipNear,i.clipNear=this.parameters.clipNear,r.clipNear=this.parameters.clipNear,this.material=e,this.wireframeMaterial=i,this.pickingMaterial=r,this.updateShader()},dy.prototype.makeWireframeGeometry=function(){this.makeWireframeIndex();var t=this.geometry,e=this.wireframeIndex,i=new $r;i.attributes=t.attributes,e&&(i.setIndex(new wr(e,1).setDynamic(this.dynamic)),i.setDrawRange(0,this.wireframeIndexCount)),this.wireframeGeometry=i},dy.prototype.makeWireframeIndex=function(){var n=[];function t(t,e){if(e<t){var i=t;t=e,e=i}var r=n[t];return void 0===r?(n[t]=[e],!0):!r.includes(e)&&(r.push(e),!0)}var e=this.geometry,i=e.index;if(this.parameters.wireframe)if(i){var r,o=i.array,a=o.length;if(e.drawRange.count!==1/0&&(a=e.drawRange.count),this.wireframeIndex&&this.wireframeIndex.length>2*a)r=this.wireframeIndex;else r=Ll(2*a,e.attributes.position.count);for(var s=0,c=n.length=0;c<a;c+=3){var u=o[c+0],h=o[c+1],l=o[c+2];t(u,h)&&(r[s+0]=u,r[s+1]=h,s+=2),t(h,l)&&(r[s+0]=h,r[s+1]=l,s+=2),t(l,u)&&(r[s+0]=l,r[s+1]=u,s+=2)}this.wireframeIndex=r,this.wireframeIndexCount=s,this.wireframeIndexVersion=this.indexVersion}else{var p,d=e.attributes.position.count;p=this.wireframeIndex&&this.wireframeIndex.length>2*d?this.wireframeIndex:Ll(2*d,d);for(var f=0,m=0;f<d;f+=3)p[m+0]=f,p[m+1]=f+1,p[m+2]=f+1,p[m+3]=f+2,p[m+4]=f+2,p[m+5]=f,m+=6;this.wireframeIndex=p,this.wireframeIndexCount=2*d,this.wireframeIndexVersion=this.indexVersion}else this.wireframeIndex=new Uint16Array(0),this.wireframeIndexCount=0},dy.prototype.updateWireframeIndex=function(){if(this.wireframeGeometry&&this.wireframeIndex){if(this.wireframeGeometry.setDrawRange(0,1/0),this.wireframeIndexVersion<this.indexVersion&&this.makeWireframeIndex(),this.wireframeIndex.length>this.wireframeGeometry.index.array.length)this.wireframeGeometry.setIndex(new wr(this.wireframeIndex,1).setDynamic(this.dynamic));else{var t=this.wireframeGeometry.getIndex();t.set(this.wireframeIndex),t.needsUpdate=0<this.wireframeIndexCount,t.updateRange.count=this.wireframeIndexCount}this.wireframeGeometry.setDrawRange(0,this.wireframeIndexCount)}},dy.prototype.getRenderOrder=function(){var t=0;return this.isText?t=1:this.transparent&&(t=this.isSurface?3:2),t},dy.prototype._getMesh=function(t){this.material||this.makeMaterial();var e,i=this.geometry,r=this[t];return(e=this.isLine?new Na(i,r):this.isPoint?new Ua(i,r):new Pn(i,r)).frustumCulled=!1,e.renderOrder=this.getRenderOrder(),e},dy.prototype.getMesh=function(){return this._getMesh("material")},dy.prototype.getWireframeMesh=function(){var t;return this.material||this.makeMaterial(),this.wireframeGeometry||this.makeWireframeGeometry(),(t=new Na(this.wireframeGeometry,this.wireframeMaterial)).frustumCulled=!1,t.renderOrder=this.getRenderOrder(),t},dy.prototype.getPickingMesh=function(){return this._getMesh("pickingMaterial")},dy.prototype.getShader=function(t,e){return Cd(t,this.getDefines(e))},dy.prototype.getVertexShader=function(t){return this.getShader(this.vertexShader,t)},dy.prototype.getFragmentShader=function(t){return this.getShader(this.fragmentShader,t)},dy.prototype.getDefines=function(t){var e={};return this.parameters.clipNear&&(e.NEAR_CLIP=1),this.parameters.clipRadius&&(e.RADIUS_CLIP=1),"picking"===t?e.PICKING=1:(("background"===t||this.parameters.background)&&(e.NOLIGHT=1),this.parameters.flatShaded&&(e.FLAT_SHADED=1),this.parameters.opaqueBack&&(e.OPAQUE_BACK=1),this.parameters.diffuseInterior&&(e.DIFFUSE_INTERIOR=1),this.parameters.useInteriorColor&&(e.USE_INTERIOR_COLOR=1)),e},dy.prototype.getParameters=function(){return this.parameters},dy.prototype.addUniforms=function(t){this.uniforms=Ri.merge([this.uniforms,t]),this.pickingUniforms=Ri.merge([this.pickingUniforms,t])},dy.prototype.addAttributes=function(t){for(var e in t){var i=void 0,r=t[e],n=this.attributeSize*uy[r.type];r.value?(n!==r.value.length&&Yp.error("attribute value has wrong length",e),i=r.value):i=Ol("float32",n),this.geometry.addAttribute(e,new wr(i,uy[r.type]).setDynamic(this.dynamic))}},dy.prototype.updateRenderOrder=function(){var e=this.getRenderOrder();function t(t){t.renderOrder=e}this.group.children.forEach(t),this.pickingGroup&&this.pickingGroup.children.forEach(t)},dy.prototype.updateShader=function(){var t=this.material,e=this.wireframeMaterial,i=this.pickingMaterial;t.vertexShader=this.getVertexShader(),t.fragmentShader=this.getFragmentShader(),t.needsUpdate=!0,e.vertexShader=this.getShader("Line.vert"),e.fragmentShader=this.getShader("Line.frag"),e.needsUpdate=!0,i.vertexShader=this.getVertexShader("picking"),i.fragmentShader=this.getFragmentShader("picking"),i.needsUpdate=!0},dy.prototype.setParameters=function(t){var e=t,i=this.parameterTypes,r=this.parameters,n={},o={},a=!1,s=!1;for(var c in e){var u=e[c];void 0!==u&&(r[c]=u,void 0!==i[c]&&(i[c].property&&(!0!==i[c].property?n[i[c].property]=u:n[c]=u),i[c].uniform&&(!0!==i[c].uniform?o[i[c].uniform]=u:o[c]=u),i[c].updateShader&&(a=!0),i[c].updateVisibility&&(s=!0),this.dynamic&&"wireframe"===c&&!0===u&&this.updateWireframeIndex(),"flatShaded"===c&&(this.material.extensions.derivatives=this.parameters.flatShaded||this.isText),"forceTransparent"===c&&(n.transparent=this.transparent),"matrix"===c&&(this.matrix=u)))}this.setProperties(n),this.setUniforms(o),a&&this.updateShader(),s&&this.setVisibility(this.visible)},dy.prototype.setAttributes=function(t){var e=this.geometry,i=e.attributes;for(var r in t)if("picking"!==r){var n=t[r],o=n.length;if("index"===r){var a=e.getIndex();e.setDrawRange(0,1/0),o>a.array.length?e.setIndex(new wr(n,1).setDynamic(this.dynamic)):(a.set(n),a.needsUpdate=0<o,a.updateRange.count=o,e.setDrawRange(0,o)),this.indexVersion++,this.parameters.wireframe&&this.updateWireframeIndex()}else{var s=i[r];o>s.array.length?e.addAttribute(r,new wr(n,s.itemSize).setDynamic(this.dynamic)):(i[r].set(n),i[r].needsUpdate=0<o,i[r].updateRange.count=o)}}},dy.prototype.setUniforms=function(t){if(t){var e=this.material.uniforms,i=this.wireframeMaterial.uniforms,r=this.pickingMaterial.uniforms;for(var n in t)"opacity"===n&&this.setProperties({transparent:this.transparent}),void 0!==e[n]&&(e[n].value.isVector3?e[n].value.copy(t[n]):e[n].value.set?e[n].value.set(t[n]):e[n].value=t[n]),void 0!==i[n]&&(i[n].value.isVector3?i[n].value.copy(t[n]):i[n].value.set?i[n].value.set(t[n]):i[n].value=t[n]),void 0!==r[n]&&(r[n].value.isVector3?r[n].value.copy(t[n]):r[n].value.set?r[n].value.set(t[n]):r[n].value=t[n])}},dy.prototype.setProperties=function(t){if(t){var e=this.material,i=this.wireframeMaterial,r=this.pickingMaterial;for(var n in t){var o=n,a=t[o];"transparent"===o?this.updateRenderOrder():"side"===o&&(a=cy(a)),e[o]=a,i[o]=a,r[o]=a}e.needsUpdate=!0,i.needsUpdate=!0,r.needsUpdate=!0}},dy.prototype.setVisibility=function(t){this.visible=t,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=t,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=t,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=t))},dy.prototype.dispose=function(){this.material&&this.material.dispose(),this.wireframeMaterial&&this.wireframeMaterial.dispose(),this.pickingMaterial&&this.pickingMaterial.dispose(),this.geometry.dispose(),this.wireframeGeometry&&this.wireframeGeometry.dispose()},dy.prototype.toJSON=function(){var t={};for(var e in this)"group"!==e&&"wireframeGroup"!==e&&"pickingGroup"!=e&&"picking"!==e&&(t[e]=this[e]);return t},Object.defineProperties(dy.prototype,fy);var my=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e),this.vertexShader="Mesh.vert",this.fragmentShader="Mesh.frag",this.addAttributes({normal:{type:"v3",value:t.normal}}),void 0===t.normal&&this.geometry.computeVertexNormals()}return i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t}(dy),gy=function(t){function e(){t.apply(this,arguments),this.isSurface=!0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(my);function vy(t){t.visible=!0}function yy(t){t.visible=!1}var by=function(t){this.group=new ya,this.wireframeGroup=new ya,this.pickingGroup=new ya,this.frontMeshes=[],this.backMeshes=[],this.size=t.size,this.side=t.parameters.side,this.visible=t.visible,this.geometry=t.geometry,this.picking=t.picking,this.group=new ya,this.wireframeGroup=new ya,this.pickingGroup=new ya,this.matrix=t.matrix;var e=t,i=new t.constructor({position:new Float32Array(0)});e.makeMaterial(),i.makeMaterial(),i.picking=t.picking,i.geometry=t.geometry,i.wireframeGeometry=t.wireframeGeometry,i.setParameters(t.getParameters()),i.updateShader(),e.setParameters({side:"front"}),i.setParameters({side:"back",opacity:i.parameters.opacity}),this.buffer=t,this.frontBuffer=e,this.backBuffer=i},xy={matrix:{configurable:!0},pickable:{configurable:!0},parameters:{configurable:!0}};xy.matrix.set=function(t){dy.prototype.setMatrix.call(this,t)},xy.matrix.get=function(){return this.group.matrix.clone()},xy.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},xy.parameters.get=function(){return this.buffer.parameters},by.prototype.getParameters=function(){var t=Object.assign({},this.buffer.parameters);return t.side=this.side,t},by.prototype.getMesh=function(t){var e,i;return t?(i=this.backBuffer.getPickingMesh(),e=this.frontBuffer.getPickingMesh()):(i=this.backBuffer.getMesh(),e=this.frontBuffer.getMesh()),this.frontMeshes.push(e),this.backMeshes.push(i),this.setParameters({side:this.side}),(new ya).add(i,e)},by.prototype.getWireframeMesh=function(){return this.buffer.getWireframeMesh()},by.prototype.getPickingMesh=function(){return this.getMesh(!0)},by.prototype.setAttributes=function(t){this.buffer.setAttributes(t)},by.prototype.setParameters=function(t){"front"===(t=Object.assign({},t)).side?(this.frontMeshes.forEach(vy),this.backMeshes.forEach(yy)):"back"===t.side?(this.frontMeshes.forEach(yy),this.backMeshes.forEach(vy)):"double"===t.side&&(this.frontMeshes.forEach(vy),this.backMeshes.forEach(vy)),void 0!==t.side&&(this.side=t.side),delete t.side,void 0!==t.matrix&&(this.matrix=t.matrix),delete t.matrix,this.frontBuffer.setParameters(t),void 0!==t.wireframe&&(this.wireframe=t.wireframe,this.setVisibility(this.visible)),delete t.wireframe,this.backBuffer.setParameters(t)},by.prototype.setVisibility=function(t){this.visible=t,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=t,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=t,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=t))},by.prototype.dispose=function(){this.frontBuffer.dispose(),this.backBuffer.dispose()},by.prototype.toJSON=function(){var t={};for(var e in this)["side","size","visible","matrix","parameters"].includes(e)&&(t[e]=this[e]);return t},Object.defineProperties(by.prototype,xy),rd.add("shader/Line.vert","uniform float clipNear;\nuniform vec3 clipCenter;\nvarying vec3 vViewPosition;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#include color_pars_vertex\nvoid main(){\n#include color_vertex\n#include begin_vertex\n#include project_vertex\nvViewPosition = -mvPosition.xyz;\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n}"),rd.add("shader/Line.frag","uniform float opacity;\nuniform float clipNear;\nuniform float clipRadius;\nvarying vec3 vViewPosition;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\ngl_FragColor = vec4( vColor, opacity );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n}");var _y=function(t){function e(){t.apply(this,arguments),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(dy),wy=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="surface",this.parameters=Object.assign({isolevelType:{type:"select",options:{value:"value",sigma:"sigma"}},isolevel:{type:"number",precision:2,max:1e3,min:-1e3},negateIsolevel:{type:"boolean"},isolevelScroll:{type:"boolean"},smooth:{type:"integer",precision:1,max:10,min:0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},boxSize:{type:"integer",precision:1,max:100,min:0},colorVolume:{type:"hidden"},contour:{type:"boolean",rebuild:!0},useWorker:{type:"boolean",rebuild:!0},wrap:{type:"boolean",rebuild:!0}},this.parameters),t instanceof ay?(this.surface=void 0,this.volume=t):(this.surface=t,this.volume=void 0),this.boxCenter=new ri,this.__boxCenter=new ri,this.box=new Pi,this.__box=new Pi,this._position=new ri,this.setBox=function(){this._position.copy(e.translationGroup.position).negate(),this._position.equals(this.boxCenter)||this.setParameters({boxCenter:this._position})},this.toBePrepared=!0,this.viewer.signals.ticked.add(this.setBox,this),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorScheme=bl(e.colorScheme,"uniform"),e.colorValue=bl(e.colorValue,14540253),this.isolevelType=bl(e.isolevelType,"sigma"),this.isolevel=bl(e.isolevel,2),this.negateIsolevel=bl(e.negateIsolevel,!1),this.isolevelScroll=bl(e.isolevelScroll,!1),this.smooth=bl(e.smooth,0),this.background=bl(e.background,!1),this.opaqueBack=bl(e.opaqueBack,!0),this.boxSize=bl(e.boxSize,0),this.colorVolume=bl(e.colorVolume,void 0),this.contour=bl(e.contour,!1),this.useWorker=bl(e.useWorker,!0),this.wrap=bl(e.wrap,!1),r.prototype.init.call(this,e),this.build()},t.prototype.attach=function(t){var e=this;this.bufferList.forEach(function(t){e.viewer.add(t)}),this.setVisibility(this.visible),t()},t.prototype.prepare=function(e){var t,i=this;if(this.volume)if(t="sigma"===this.isolevelType?this.volume.getValueForSigma(this.isolevel):this.isolevel,this.negateIsolevel&&(t*=-1),!this.surface||this.__isolevel!==t||this.__smooth!==this.smooth||this.__contour!==this.contour||this.__wrap!==this.wrap||this.__boxSize!==this.boxSize||0<this.boxSize&&!this.__boxCenter.equals(this.boxCenter)){this.__isolevel=t,this.__smooth=this.smooth,this.__contour=this.contour,this.__wrap=this.wrap,this.__boxSize=this.boxSize,this.__boxCenter.copy(this.boxCenter),this.__box.copy(this.box);var r=function(t){i.surface=t,e()};this.useWorker?this.volume.getSurfaceWorker(t,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap,r):r(this.volume.getSurface(t,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap))}else e();else e()},t.prototype.create=function(){var t,e={position:this.surface.getPosition(),color:this.surface.getColor(this.getColorParams()),index:this.surface.getIndex()};if(this.contour)t=new _y(e,this.getBufferParams({wireframe:!1}));else{Object.assign(e,{normal:this.surface.getNormal(),picking:this.surface.getPicking()});var i=new gy(e,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));t=new by(i)}this.bufferList.push(t)},t.prototype.update=function(t){if(0!==this.bufferList.length){var e={};(t=t||{}).position&&(e.position=this.surface.getPosition()),t.color&&(e.color=this.surface.getColor(this.getColorParams())),t.index&&(e.index=this.surface.getIndex()),t.normal&&(e.normal=this.surface.getNormal()),this.bufferList.forEach(function(t){t.setAttributes(e)})}},t.prototype.setParameters=function(t,e,i){return t&&void 0!==t.isolevelType&&this.volume&&("value"===this.isolevelType&&"sigma"===t.isolevelType?this.isolevel=this.volume.getSigmaForValue(this.isolevel):"sigma"===this.isolevelType&&"value"===t.isolevelType&&(this.isolevel=this.volume.getValueForSigma(this.isolevel)),this.isolevelType=t.isolevelType),t&&t.boxCenter&&(this.boxCenter.copy(t.boxCenter),delete t.boxCenter),t&&t.wireframe&&(t.contour||void 0===t.contour&&this.contour)&&(t.wireframe=!1),r.prototype.setParameters.call(this,t,e,i),this.volume&&this.volume.getBox(this.boxCenter,this.boxSize,this.box),t&&void 0!==t.colorVolume&&e&&(e.color=!0),this.surface&&(void 0!==t.isolevel||void 0!==t.negateIsolevel||void 0!==t.smooth||void 0!==t.wrap||void 0!==t.boxSize||0<this.boxSize&&!this.__box.equals(this.box))&&this.build({position:!0,color:!0,index:!0,normal:!this.contour}),this},t.prototype.getColorParams=function(){var t=r.prototype.getColorParams.call(this);return t.volume=this.colorVolume,t},t.prototype.dispose=function(){this.viewer.signals.ticked.remove(this.setBox,this),r.prototype.dispose.call(this)},t}(sm),Sy=function(){};Sy.zoomScroll=function(t,e){t.trackballControls.zoom(e)},Sy.clipNearScroll=function(t,e){var i=t.getParameters();t.setParameters({clipNear:i.clipNear+e/10})},Sy.focusScroll=function(t,e){var i=2*t.getParameters().clipNear,r=Math.sign(e)*function(t,e,i){if(e<t)return t;var r=t/e;return((2*i-e)*r+(2*e-3*i))*r*r+i}((100-i)/10,5,.2);t.setFocus(i+r)},Sy.zoomFocusScroll=function(t,e){t.trackballControls.zoom(e);var i=t.viewer.camera.position.z;t.setFocus(100-Math.abs(i/8))},Sy.isolevelScroll=function(t,e){var r=Math.sign(e)/10;t.eachRepresentation(function(t,e){if(t.repr instanceof wy){var i=t.getParameters();i.isolevelScroll&&t.setParameters({isolevel:i.isolevel+r})}})},Sy.panDrag=function(t,e,i){t.trackballControls.pan(e,i)},Sy.rotateDrag=function(t,e,i){t.trackballControls.rotate(e,i)},Sy.zRotateDrag=function(t,e,i){t.trackballControls.zRotate(e,i)},Sy.zoomDrag=function(t,e,i){t.trackballControls.zoom((e+i)/-2)},Sy.zoomFocusDrag=function(t,e,i){t.trackballControls.zoom((e+i)/-2);var r=t.viewer.camera.position.z;t.setFocus(100-Math.abs(r/8))},Sy.panComponentDrag=function(t,e,i){t.trackballControls.panComponent(e,i)},Sy.panAtomDrag=function(t,e,i){t.trackballControls.panAtom(e,i)},Sy.rotateComponentDrag=function(t,e,i){t.trackballControls.rotateComponent(e,i)},Sy.movePick=function(t,e){e&&t.animationControls.move(e.position.clone())},Sy.tooltipPick=function(t,e){var i=t.tooltip;if(t.getParameters().tooltip&&e){var r=e.mouse.position;i.innerText=e.getLabel(),i.style.bottom=window.innerHeight-r.y+3+"px",i.style.left=r.x+3+"px",i.style.display="block"}else i.style.display="none"};var Ay={default:[["scroll",Sy.zoomScroll],["scroll-shift",Sy.focusScroll],["scroll-ctrl",Sy.isolevelScroll],["scroll-shift-ctrl",Sy.zoomFocusScroll],["drag-left",Sy.rotateDrag],["drag-right",Sy.panDrag],["drag-ctrl-left",Sy.panDrag],["drag-ctrl-right",Sy.zRotateDrag],["drag-shift-left",Sy.zoomDrag],["drag-middle",Sy.zoomFocusDrag],["drag-ctrl-shift-right",Sy.panComponentDrag],["drag-ctrl-shift-left",Sy.rotateComponentDrag],["clickPick-right",Sy.measurePick=function(t,e){if(e&&(e.atom||e.bond)){var i=e.atom||e.closestBondAtom;e.component.measurePick(i)}else t.measureClear()}],["clickPick-ctrl-left",Sy.measurePick],["clickPick-middle",Sy.movePick],["clickPick-left",Sy.movePick],["hoverPick",Sy.tooltipPick]],pymol:[["drag-left",Sy.rotateDrag],["drag-middle",Sy.panDrag],["drag-right",Sy.zoomDrag],["drag-shift-right",Sy.focusScroll],["clickPick-ctrl+shift-middle",Sy.movePick],["hoverPick",Sy.tooltipPick]],coot:[["scroll",Sy.isolevelScroll],["drag-left",Sy.rotateDrag],["drag-middle",Sy.panDrag],["drag-ctrl-left",Sy.panDrag],["drag-right",Sy.zoomFocusDrag],["drag-ctrl-right",Sy.focusScroll],["clickPick-middle",Sy.movePick],["hoverPick",Sy.tooltipPick]],astexviewer:[["drag-left",Sy.rotateDrag],["drag-ctrl-left",Sy.panDrag],["drag-shift-left",Sy.zoomDrag],["scroll",Sy.focusScroll],["clickPick-middle",Sy.movePick],["hoverPick",Sy.tooltipPick]]};function My(t){var e=t.split(/[-+]/),i="";e.includes("scroll")&&(i="scroll"),e.includes("drag")&&(i="drag"),e.includes("click")&&(i="click"),e.includes("doubleClick")&&(i="doubleClick"),e.includes("hover")&&(i="hover"),e.includes("clickPick")&&(i="clickPick"),e.includes("hoverPick")&&(i="hoverPick");var r=0;e.includes("alt")&&(r+=1),e.includes("ctrl")&&(r+=2),e.includes("meta")&&(r+=4),e.includes("shift")&&(r+=8);var n=0;return e.includes("left")&&(n+=1),e.includes("right")&&(n+=2),e.includes("middle")&&(n+=4),[i,r,n]}var Ey=function(t,e){void 0===e&&(e={}),this.stage=t,this.actionList=[],this.mouse=t.mouseObserver,this.disabled=e.disabled||!1,this.preset(e.preset||"default")};Ey.prototype.run=function(e){for(var i=this,r=[],t=arguments.length-1;0<t--;)r[t]=arguments[t+1];if(!this.disabled){var n=this.mouse.key||0,o=this.mouse.buttons||0;this.actionList.forEach(function(t){t.type===e&&t.key===n&&t.button===o&&t.callback.apply(t,[i.stage].concat(r))})}},Ey.prototype.add=function(t,e){var i=My(t),r=i[0],n=i[1],o=i[2];this.actionList.push({type:r,key:n,button:o,callback:e})},Ey.prototype.remove=function(t,e){var i=t.includes("*"),r=My(t),n=r[0],o=r[1],a=r[2],s=this.actionList.filter(function(t){return!((t.type===n||i&&""===n)&&(t.key===o||i&&0===o)&&(t.button===a||i&&0===a)&&(t.callback===e||void 0===e))});this.actionList=s},Ey.prototype.preset=function(t){var e=this;this.clear(),(Ay[t]||[]).forEach(function(t){return e.add(t[0],t[1])})},Ey.prototype.clear=function(){this.actionList.length=0};var Py=function(){};Py.autoView=function(t){t.autoView(1e3)},Py.toggleAnimations=function(t){t.animationControls.toggle()},Py.toggleRock=function(t){t.toggleRock()};var Ty={default:[["i",Py.toggleSpin=function(t){t.toggleSpin()}],["k",Py.toggleRock],["p",Py.toggleAnimations],["a",Py.toggleAntialiasing=function(t){var e=t.getParameters();t.setParameters({sampleLevel:-1===e.sampleLevel?0:-1})}],["r",Py.autoView]]},Cy=function(t,e){void 0===e&&(e={}),this.stage=t,this.actionList=[],this.disabled=e.disabled||!1,this.preset(e.preset||"default")};Cy.prototype.run=function(e){var i=this;this.disabled||this.actionList.forEach(function(t){t.key===e&&t.callback(i.stage)})},Cy.prototype.add=function(t,e){this.actionList.push({key:t,callback:e})},Cy.prototype.remove=function(e,i){var t=this.actionList.filter(function(t){return!(t.key===e&&(t.callback===i||void 0===i))});this.actionList=t},Cy.prototype.preset=function(t){var e=this;this.clear(),(Ty[t]||[]).forEach(function(t){return e.add(t[0],t[1])})},Cy.prototype.clear=function(){this.actionList.length=0};var Iy=function(t){this.stage=t,this.stage=t,this.mouse=t.mouseObserver,this.controls=t.mouseControls,this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this)};Iy.prototype._onClick=function(t,e){var i=this.stage.pickingControls.pick(t,e);this.stage.signals.clicked.dispatch(i),this.controls.run("clickPick",i)},Iy.prototype._onHover=function(t,e){var i=this.stage.pickingControls.pick(t,e);i&&this.mouse.down.equals(this.mouse.position)&&(this.stage.transformComponent=i.component,this.stage.transformAtom=i.atom),this.stage.signals.hovered.dispatch(i),this.controls.run("hoverPick",i)},Iy.prototype.dispose=function(){this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var Oy=function(t){this.stage=t,this.stage=t,this.mouse=t.mouseObserver,this.controls=t.mouseControls,this.mouse.signals.moved.add(this._onMove,this),this.mouse.signals.scrolled.add(this._onScroll,this),this.mouse.signals.dragged.add(this._onDrag,this),this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this),this.mouse.signals.doubleClicked.add(this._onDblclick,this)};Oy.prototype._onMove=function(){this.stage.tooltip.style.display="none"},Oy.prototype._onScroll=function(t){this.controls.run("scroll",t)},Oy.prototype._onDrag=function(t,e){this.controls.run("drag",t,e)},Oy.prototype._onClick=function(t,e){this.controls.run("click",t,e)},Oy.prototype._onDblclick=function(t,e){this.controls.run("doubleClick",t,e)},Oy.prototype._onHover=function(t,e){this.controls.run("hover",t,e)},Oy.prototype.dispose=function(){this.mouse.signals.moved.remove(this._onMove,this),this.mouse.signals.scrolled.remove(this._onScroll,this),this.mouse.signals.dragged.remove(this._onDrag,this),this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var Ly=function(t){this.stage=t,this.viewer=t.viewer,this.animationControls=t.animationControls,this.viewer.signals.ticked.add(this._onTick,this)};Ly.prototype._onTick=function(t){this.animationControls.run(t)},Ly.prototype.dispose=function(){this.viewer.signals.ticked.remove(this._onTick,this)};var Ry=!!Vp&&{passive:!0},Dy=function(t){this.stage=t,this.stage=t,this.controls=t.keyControls,this.domElement=t.viewer.renderer.domElement,this.domElement.setAttribute("tabIndex","-1"),this.domElement.style.outline="none",this._focusDomElement=this._focusDomElement.bind(this),this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this),this._onKeypress=this._onKeypress.bind(this),this.domElement.addEventListener("mousedown",this._focusDomElement),this.domElement.addEventListener("touchstart",this._focusDomElement,Ry),this.domElement.addEventListener("keydown",this._onKeydown),this.domElement.addEventListener("keyup",this._onKeyup),this.domElement.addEventListener("keypress",this._onKeypress)};Dy.prototype._onKeydown=function(){},Dy.prototype._onKeyup=function(){},Dy.prototype._onKeypress=function(t){var e;e="key"in KeyboardEvent.prototype?t.key:String.fromCharCode(t.which||t.keyCode),this.controls.run(e)},Dy.prototype._focusDomElement=function(){this.domElement.focus()},Dy.prototype.dispose=function(){this.domElement.removeEventListener("mousedown",this._focusDomElement),this.domElement.removeEventListener("touchstart",this._focusDomElement,Ry),this.domElement.removeEventListener("keydown",this._onKeypress),this.domElement.removeEventListener("keyup",this._onKeypress),this.domElement.removeEventListener("keypress",this._onKeypress)};var ky=function(t,e,i,r){void 0===r&&(r={}),this.component=t,this.position=e,this.offsetX=bl(r.offsetX,0),this.offsetY=bl(r.offsetY,0),this.visible=bl(r.visible,!0),this.stage=t.stage,this.viewer=t.stage.viewer,this._viewerPosition=new ri,this._updateViewerPosition(),this._canvasPosition=new ti,this._cameraPosition=new ri,this.element=document.createElement("div"),Object.assign(this.element.style,{display:"block",position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",left:"-10000px"}),this.viewer.wrapper.appendChild(this.element),this.setContent(i),this.updateVisibility(),this.viewer.signals.rendered.add(this._update,this),this.component.signals.matrixChanged.add(this._updateViewerPosition,this)};ky.prototype.setContent=function(t){var e=this.element.style.display;if("none"===e&&(this.element.style.left="-10000px",this.element.style.display="block"),t instanceof HTMLElement)this.element.appendChild(t);else{var i=document.createElement("div");i.innerText=t,Object.assign(i.style,{backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.element.appendChild(i)}this._clientRect=this.element.getBoundingClientRect(),"none"===e&&(this.element.style.display=e)},ky.prototype.setVisibility=function(t){this.visible=t,this.updateVisibility()},ky.prototype.getVisibility=function(){return this.visible&&this.component.parameters.visible},ky.prototype.updateVisibility=function(){this.element.style.display=this.getVisibility()?"block":"none"},ky.prototype._updateViewerPosition=function(){this._viewerPosition.copy(this.position).applyMatrix4(this.component.matrix)},ky.prototype._update=function(){if(this.getVisibility()){var t=this.element.style,e=this._canvasPosition,i=this._viewerPosition,r=this._clientRect;if(this._cameraPosition.copy(i).add(this.viewer.translationGroup.position).applyMatrix4(this.viewer.rotationGroup.matrix).sub(this.viewer.camera.position),this._cameraPosition.z<0)t.display="none";else{t.display="block";var n=this._cameraPosition.length(),o=this.viewer.scene.fog;t.opacity=(1-Zl(o.near,o.far,n)).toString(),t.zIndex=Math.round(100*(o.far-n)).toString(),this.stage.viewerControls.getPositionOnCanvas(i,e),t.bottom=this.offsetX+e.y+r.height/2+"px",t.left=this.offsetY+e.x-r.width/2+"px"}}},ky.prototype.dispose=function(){this.viewer.wrapper.removeChild(this.element),this.viewer.signals.ticked.remove(this._update,this),this.component.signals.matrixChanged.remove(this._updateViewerPosition,this)};var By=new ei,Ny=new ri,Fy=new ii,zy=function(t){this.component=t,this.signals={changed:new op},this.stage=t.stage,this.viewer=t.stage.viewer},Uy={position:{configurable:!0},rotation:{configurable:!0}};Uy.position.get=function(){return this.component.position},Uy.rotation.get=function(){return this.component.quaternion},zy.prototype.changed=function(){this.component.updateMatrix(),this.viewer.requestRender(),this.signals.changed.dispatch()},zy.prototype.spin=function(t,e){By.getInverse(this.viewer.rotationGroup.matrix),Ny.copy(kl(t)).applyMatrix4(By),By.extractRotation(this.component.transform),By.premultiply(this.viewer.rotationGroup.matrix),By.getInverse(By),Ny.copy(kl(t)),Ny.applyMatrix4(By),By.makeRotationAxis(Ny,e),Fy.setFromRotationMatrix(By),this.component.quaternion.premultiply(Fy),this.changed()},Object.defineProperties(zy.prototype,Uy);var jy={"":"",vdw:"by vdW radius",covalent:"by covalent radius",sstruc:"by secondary structure",bfactor:"by bfactor",size:"size",data:"data",explicit:"explicit"},Gy=function(t){void 0===t&&(t={}),this.max=10,this.type=bl(t.type,"size"),this.scale=bl(t.scale,1),this.size=bl(t.size,1),this.data=bl(t.data,{})};Gy.prototype.atomRadius=function(t){var e;switch(this.type){case"vdw":e=t.vdw;break;case"covalent":e=t.covalent;break;case"bfactor":e=t.bfactor||1;break;case"sstruc":var i=t.sstruc;e="h"===i?.25:"g"===i?.25:"i"===i?.25:"e"===i?.25:"b"===i?.25:Og.includes(t.atomname)?.4:.1;break;case"data":e=bl(this.data[t.index],1);break;case"explicit":null===(e=t.radius)&&(e=this.size);break;default:e=this.size}return Math.min(e*this.scale,this.max)},Gy.types=jy;var Vy=new ri(-1,-1,-1),Hy=new ei,$y=function(t){var e=t.rows,i=e/3,r=new kv(e,3),n=new kv(3,3),o=new kv(1,3),a=new kv(3,3),s=new kv(3,3),c=zv(t);Uv(t,c),Bv(r,t),Nv(n,r,r),Hv(n,o,a,s);var u=new ri(c[0],c[1],c[2]),h=new ri(a.data[0],a.data[3],a.data[6]),l=new ri(a.data[1],a.data[4],a.data[7]),p=new ri(a.data[2],a.data[5],a.data[8]),d=h.clone().multiplyScalar(Math.sqrt(o.data[0]/i)),f=l.clone().multiplyScalar(Math.sqrt(o.data[1]/i)),m=p.clone().multiplyScalar(Math.sqrt(o.data[2]/i));this.begA=u.clone().sub(d),this.endA=u.clone().add(d),this.begB=u.clone().sub(f),this.endB=u.clone().add(f),this.begC=u.clone().sub(m),this.endC=u.clone().add(m),this.center=u,this.vecA=d,this.vecB=f,this.vecC=m,this.normVecA=h,this.normVecB=l,this.normVecC=p};$y.prototype.getBasisMatrix=function(t){void 0===t&&(t=new ei);var e=t;return e.makeBasis(this.normVecB,this.normVecA,this.normVecC),e.determinant()<0&&e.scale(Vy),e},$y.prototype.getRotationQuaternion=function(t){void 0===t&&(t=new ii);var e=t;return e.setFromRotationMatrix(this.getBasisMatrix(Hy)),e.inverse()},$y.prototype.getProjectedScaleForAtoms=function(t){var s=-1/0,c=-1/0,u=-1/0,h=-1/0,l=-1/0,p=-1/0,d=new ri,f=new ri,m=this.center,g=this.normVecA,v=this.normVecB,y=this.normVecC;return t.eachAtom(function(t){lm(d.copy(t),g,m);var e=f.subVectors(d,m).normalize().dot(g),i=d.distanceTo(m);0<e?s<i&&(s=i):c<i&&(c=i),lm(d.copy(t),v,m);var r=f.subVectors(d,m).normalize().dot(v),n=d.distanceTo(m);0<r?u<n&&(u=n):h<n&&(h=n),lm(d.copy(t),y,m);var o=f.subVectors(d,m).normalize().dot(y),a=d.distanceTo(m);0<o?l<a&&(l=a):p<a&&(p=a)}),{d1a:s,d2a:u,d3a:l,d1b:-c,d2b:-h,d3b:-p}};var Wy=function(t,e,i,r){this.volume=t,this.setFilter(e,i,r)},Xy={header:{configurable:!0},matrix:{configurable:!0},normalMatrix:{configurable:!0},inverseMatrix:{configurable:!0},center:{configurable:!0},boundingBox:{configurable:!0},min:{configurable:!0},max:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};Xy.header.get=function(){return this.volume.header},Xy.matrix.get=function(){return this.volume.matrix},Xy.normalMatrix.get=function(){return this.volume.normalMatrix},Xy.inverseMatrix.get=function(){return this.volume.inverseMatrix},Xy.center.get=function(){return this.volume.center},Xy.boundingBox.get=function(){return this.volume.boundingBox},Xy.min.get=function(){return this.volume.min},Xy.max.get=function(){return this.volume.max},Xy.mean.get=function(){return this.volume.mean},Xy.rms.get=function(){return this.volume.rms},Wy.prototype._getFilterHash=function(t,e,i){return JSON.stringify([t,e,i])},Wy.prototype.setFilter=function(t,e,i){isNaN(t)&&this.header&&(t=this.header.DMEAN+2*this.header.ARMS),t=void 0===t||isNaN(t)?-1/0:t,e=bl(e,1/0),i=bl(i,!1);var r=this.volume.data,n=this.volume.position,o=this.volume.atomindex,a=this._getFilterHash(t,e,i);if(a!==this._filterHash){if(t===-1/0&&e===1/0)this.data=r,this.position=n,this.atomindex=o;else{var s=r.length;this._dataBuffer||(this._dataBuffer=new ArrayBuffer(4*s),this._positionBuffer=new ArrayBuffer(3*s*4),o&&(this._atomindexBuffer=new ArrayBuffer(4*s)));var c,u=new Float32Array(this._dataBuffer),h=new Float32Array(this._positionBuffer);o&&(c=new Uint32Array(this._atomindexBuffer));for(var l=0,p=0;p<s;++p){var d=3*p,f=r[p];if(!i&&t<=f&&f<=e||i&&(f<t||e<f)){var m=3*l;u[l]=f,h[m+0]=n[d+0],h[m+1]=n[d+1],h[m+2]=n[d+2],o&&c&&(c[l]=o[p]),l+=1}}this.data=new Float32Array(this._dataBuffer,0,l),this.position=new Float32Array(this._positionBuffer,0,3*l),o&&(this.atomindex=new Int32Array(this._atomindexBuffer,0,l))}this._filterHash=a}},Object.defineProperties(Wy.prototype,Xy),Wy.prototype.getValueForSigma=ay.prototype.getValueForSigma,Wy.prototype.getSigmaForValue=ay.prototype.getSigmaForValue,Wy.prototype.getDataAtomindex=ay.prototype.getDataAtomindex,Wy.prototype.getDataPosition=ay.prototype.getDataPosition,Wy.prototype.getDataColor=ay.prototype.getDataColor,Wy.prototype.getDataPicking=ay.prototype.getDataPicking,Wy.prototype.getDataSize=ay.prototype.getDataSize;var qy=function(t,e){var i=eg({nodeArray1:t.atomIndex1,nodeArray2:t.atomIndex2,edgeCount:t.count,nodeCount:e});this.countArray=i.countArray,this.offsetArray=i.offsetArray,this.indexArray=i.indexArray},Yy=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["atomIndex1",1,"int32"],["atomIndex2",1,"int32"],["bondOrder",1,"int8"]]},e.prototype.addBond=function(t,e,i){this.growIfFull();var r=this.count,n=t.index,o=e.index;n<o?(this.atomIndex1[r]=n,this.atomIndex2[r]=o):(this.atomIndex2[r]=n,this.atomIndex1[r]=o),i&&(this.bondOrder[r]=i),this.count+=1},e.prototype.addBondIfConnected=function(t,e,i){return!!t.connectedTo(e)&&(this.addBond(t,e,i),!0)},Object.defineProperties(e.prototype,i),e}(Km),Zy=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["residueIndex",1,"uint32"],["atomTypeId",1,"uint16"],["x",1,"float32"],["y",1,"float32"],["z",1,"float32"],["serial",1,"int32"],["bfactor",1,"float32"],["altloc",1,"uint8"],["occupancy",1,"float32"]]},e.prototype.setAltloc=function(t,e){this.altloc[t]=e.charCodeAt(0)},e.prototype.getAltloc=function(t){var e=this.altloc[t];return e?String.fromCharCode(e):""},Object.defineProperties(e.prototype,i),e}(Km),Ky=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["chainIndex",1,"uint32"],["atomOffset",1,"uint32"],["atomCount",1,"uint16"],["residueTypeId",1,"uint16"],["resno",1,"int32"],["sstruc",1,"uint8"],["inscode",1,"uint8"]]},e.prototype.setSstruc=function(t,e){this.sstruc[t]=e.charCodeAt(0)},e.prototype.getSstruc=function(t){var e=this.sstruc[t];return e?String.fromCharCode(e):""},e.prototype.setInscode=function(t,e){this.inscode[t]=e.charCodeAt(0)},e.prototype.getInscode=function(t){var e=this.inscode[t];return e?String.fromCharCode(e):""},Object.defineProperties(e.prototype,i),e}(Km),Jy=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["entityIndex",1,"uint16"],["modelIndex",1,"uint16"],["residueOffset",1,"uint32"],["residueCount",1,"uint32"],["chainname",4,"uint8"],["chainid",4,"uint8"]]},e.prototype.setChainname=function(t,e){var i=4*t;this.chainname[i]=e.charCodeAt(0),this.chainname[i+1]=e.charCodeAt(1),this.chainname[i+2]=e.charCodeAt(2),this.chainname[i+3]=e.charCodeAt(3)},e.prototype.getChainname=function(t){for(var e="",i=0;i<4;++i){var r=this.chainname[4*t+i];if(!r)break;e+=String.fromCharCode(r)}return e},e.prototype.setChainid=function(t,e){var i=4*t;this.chainid[i]=e.charCodeAt(0),this.chainid[i+1]=e.charCodeAt(1),this.chainid[i+2]=e.charCodeAt(2),this.chainid[i+3]=e.charCodeAt(3)},e.prototype.getChainid=function(t){for(var e="",i=0;i<4;++i){var r=this.chainid[4*t+i];if(!r)break;e+=String.fromCharCode(r)}return e},Object.defineProperties(e.prototype,i),e}(Km),Qy=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["chainOffset",1,"uint32"],["chainCount",1,"uint32"]]},Object.defineProperties(e.prototype,i),e}(Km),tb=function(t){this.polymer=t,this.size=t.residueCount};tb.prototype.getCenterIterator=function(s){void 0===s&&(s=0);var c=this.getPosition().center,u=c.length/3,h=0,e=-1,l=[new ri,new ri,new ri,new ri];return{size:u,next:function(){var t=this.get(e);return e+=1,t},get:function(t){t=Math.min(u-1,Math.max(0,t));var e=l[h%4],i=3*t;if(e.fromArray(c,i),s){for(var r=Math.min(s,t,u-t-1),n=1;n<=r;++n){var o=3*n,a=(r+1-n)/(r+1);e.x+=a*c[i-o+0]+a*c[i+o+0],e.y+=a*c[i-o+1]+a*c[i+o+1],e.z+=a*c[i-o+2]+a*c[i+o+2]}e.x/=r+1,e.y/=r+1,e.z/=r+1}return h+=1,e},reset:function(){h=0,e=-1}}},tb.prototype.getColor=function(t){var e=this.polymer,i=e.structure,r=e.residueCount,n=e.residueIndexStart,o=new Float32Array(3*r),a=t||{};a.structure=i;for(var s=Qp.getScheme(a),c=i.getResidueProxy(),u=i.getAtomProxy(),h=0;h<r;++h)c.index=n+h,u.index=c.traceAtomIndex,s.atomColorToArray(u,o,3*h);return{color:o}},tb.prototype.getPicking=function(){for(var t=this.polymer,e=t.structure,i=t.residueCount,r=t.residueIndexStart,n=new Float32Array(i),o=e.getResidueProxy(),a=0;a<i;++a)o.index=r+a,n[a]=o.traceAtomIndex;return{picking:new hv(n,e)}},tb.prototype.getSize=function(t){for(var e=this.polymer,i=e.structure,r=e.residueCount,n=e.residueIndexStart,o=new Float32Array(r),a=new Gy(t),s=i.getResidueProxy(),c=i.getAtomProxy(),u=0;u<r;++u)s.index=n+u,c.index=s.traceAtomIndex,o[u]=a.atomRadius(c);return{size:o}},tb.prototype.getPosition=function(){for(var t=this.polymer,e=t.structure,i=t.residueCount,r=i-3,n=new Float32Array(3*i),o=new Float32Array(3*i),a=new Float32Array(i),s=new Float32Array(i),c=new Float32Array(i),u=new Float32Array(i),h=new Float32Array(3*i),l=new ri,p=new ri,d=new ri,f=new ri,m=new ri,g=new ri,v=new ri,y=new ri,b=new ri,x=new ri,_=new ri,w=new ri(0,0,0),S="trace",A=e.getAtomProxy(),M=e.getAtomProxy(t.getAtomIndexByType(0,S)),E=e.getAtomProxy(t.getAtomIndexByType(1,S)),P=e.getAtomProxy(t.getAtomIndexByType(2,S)),T=0;T<r;++T){A.index=M.index,M.index=E.index,E.index=P.index,P.index=t.getAtomIndexByType(T+3,S);var C=3*T;l.subVectors(M,A),p.subVectors(E,M),d.subVectors(P,E),f.subVectors(l,p),m.subVectors(p,d),b.crossVectors(f,m).normalize(),b.toArray(o,C),0<T&&(a[T]=b.angleTo(x));var I=Math.cos(f.angleTo(m));u[T]=180/Math.PI*Math.acos(I);var O=f.length(),L=m.length();s[T]=Math.sqrt(L*O)/Math.max(2,2*(1-I)),c[T]=Math.abs(p.dot(b)),g.copy(f).multiplyScalar(s[T]/O),v.copy(m).multiplyScalar(s[T]/L),g.subVectors(M,g),v.subVectors(E,v),g.toArray(n,C+3),v.toArray(n,C+6),_.subVectors(A,w),_.toArray(h,C),x.copy(b),w.copy(g)}g.fromArray(n,3),v.fromArray(n,6),b.subVectors(g,v).normalize(),A.index=t.getAtomIndexByType(0,S),w.copy(A),y.copy(A),lm(y,b,g),y.toArray(n,0),_.subVectors(w,g),_.toArray(h,0),g.fromArray(n,3*i-6),v.fromArray(n,3*i-9),b.subVectors(g,v).normalize(),A.index=t.getAtomIndexByType(i-1,S),w.copy(A),y.copy(A),lm(y,b,g),y.toArray(n,3*i-3);for(var R=i-3;R<i;++R)g.fromArray(n,3*R),A.index=t.getAtomIndexByType(R,S),w.copy(A),_.subVectors(w,g),_.toArray(h,3*R);var D=new Float32Array(i),k=new Float32Array(i),B=new Float32Array(i),N=new Float32Array(i);D[1]=s[0],k[1]=u[0],B[1]=s[0];for(var F=2;F<i-2;++F)D[F]=.5*(s[F-2]+s[F-1]),k[F]=.5*(u[F-2]+u[F-1]),B[F]=.5*(c[F-2]+c[F-1]),g.fromArray(o,3*(F-2)),v.fromArray(o,3*(F-1)),N[F]=180/Math.PI*Math.acos(Math.cos(g.angleTo(v)));D[i-2]=s[i-4],k[i-2]=u[i-4],B[i-2]=c[i-4];var z=new Float32Array(3*i);Xd(o,z,0,0,3),Xd(o,z,0,3,3);for(var U=2;U<i-2;++U)g.fromArray(o,3*(U-2)),v.fromArray(o,3*(U-1)),b.addVectors(v,g).multiplyScalar(.5).normalize(),b.toArray(z,3*U);return Xd(o,z,3*i-12,3*i-6,3),Xd(o,z,3*i-12,3*i-3,3),{center:n,axis:z,bending:N,radius:D,rise:B,twist:k,resdir:h}};var eb=function(t){this.polymer=t,this.helixorient=new tb(t),this.position=this.helixorient.getPosition()};eb.prototype.getAxis=function(t,e,i,r,n){t=t||30,e=e||2.5,i=void 0!==i&&i;var o=this.polymer,a=o.structure,s=o.residueCount,c=o.residueIndexStart,u=this.position,h=r||{};h.structure=a;for(var l,p,d=Qp.getScheme(h),f=new Gy(n),m=0,g=0,v=[],y=[],b=[],x=[],_=[],w=[],S=[],A=[],M=[],E=new Float32Array(3*s),P=new Float32Array(3*s),T=new ri,C=new ri,I=a.getResidueProxy(),O=a.getResidueProxy(),L=a.getAtomProxy(),R=new ri,D=new ri,k=!1,B=0;B<s;++B)if(I.index=c+B,R.fromArray(u.center,3*B),B===s-1?k=!0:(O.index=c+B+1,D.fromArray(u.center,3*B+3),i&&I.sstruc!==O.sstruc?k=!0:R.distanceTo(D)>e?k=!0:u.bending[B]>t&&(k=!0)),k){if(B-m<4){m=B,k=!1;continue}L.index=I.traceAtomIndex,E=u.axis.subarray(3*m+3,3*B),P=u.center.subarray(3*m,3*B+3),l=hm(E).normalize(),p=hm(P),T.fromArray(P),lm(T,l,p),C.fromArray(P,P.length-3),lm(C,l,p),l.subVectors(C,T),l.toArray(v,g),p.toArray(y,g),T.toArray(b,g),C.toArray(x,g),d.atomColorToArray(L,_,g),w.push(L.index),S.push(f.atomRadius(L)),A.push(c+m),M.push(c+B+1-m),g+=3,m=B,k=!1}var N=new Float32Array(w);return{axis:new Float32Array(v),center:new Float32Array(y),begin:new Float32Array(b),end:new Float32Array(x),color:new Float32Array(_),picking:new hv(N,a),size:new Float32Array(S),residueOffset:A,residueCount:M}};var ib=function(t){this.scoreFunction=t,this.content=[],this.scoreFunction=t};ib.prototype.push=function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},ib.prototype.pop=function(){var t=this.content[0],e=this.content.pop();return e&&0<this.content.length&&(this.content[0]=e,this.sinkDown(0)),t},ib.prototype.peek=function(){return this.content[0]},ib.prototype.remove=function(t){for(var e=this.content.length,i=0;i<e;i++)if(this.content[i]===t){var r=this.content.pop();return void(r&&i!==e-1&&(this.content[i]=r,this.scoreFunction(r)<this.scoreFunction(t)?this.bubbleUp(i):this.sinkDown(i)))}throw new Error("Node not found.")},ib.prototype.size=function(){return this.content.length},ib.prototype.bubbleUp=function(t){for(var e=this.content[t];0<t;){var i=Math.floor((t+1)/2)-1,r=this.content[i];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[i]=e,this.content[t]=r,t=i}},ib.prototype.sinkDown=function(t){for(var e=this.content.length,i=this.content[t],r=this.scoreFunction(i),n=0;;){var o=2*(t+1),a=o-1,s=null;if(a<e){var c=this.content[a];(n=this.scoreFunction(c))<r&&(s=a)}if(o<e){var u=this.content[o];this.scoreFunction(u)<(null===s?r:n)&&(s=o)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=i,t=s}};var rb=function(t,e){this.points=t,this.metric=e,this.maxDepth=0,this.currentNode=0;for(var i=t.length/3,r=new Uint32Array(i),n=0;n<i;++n)r[n]=n;this.indices=r,this.nodes=new Int32Array(4*i),this.rootIndex=this.buildTree(0,-1,0,i)};rb.prototype.buildTree=function(t,e,i,r){t>this.maxDepth&&(this.maxDepth=t);var n=r-i;if(0===n)return-1;var o=4*this.currentNode,a=this.nodes;if(this.currentNode+=1,1===n)return a[o]=i,a[o+1]=-1,a[o+2]=-1,a[o+3]=e,o;for(var s,c,u,h,l,p=this.indices,d=this.points,f=i+Math.floor(n/2),m=t%3,g=i,v=r-1;g<v;){for(h=d[3*p[u=g+v>>1]+m],c=p[u],p[u]=p[v],p[v]=c,s=l=g;s<v;++s)d[3*p[s]+m]<h&&(c=p[l],p[l]=p[s],p[s]=c,++l);if(c=p[v],p[v]=p[l],p[l]=c,f===(u=l))break;f<u?v=u-1:g=u+1}return a[o]=f,a[o+1]=this.buildTree(t+1,o,i,f),a[o+2]=this.buildTree(t+1,o,f+1,r),a[o+3]=e,o},rb.prototype.getNodeDepth=function(t){var e=this.nodes[t+3];return-1===e?0:this.getNodeDepth(e)+1},rb.prototype.nearest=function(d,f,m){var g=this,v=new ib(function(t){return-t[1]}),y=this.nodes,b=this.points,x=this.indices,_=function(t){var e,i,r=g.getNodeDepth(t)%3,n=3*x[y[t]],o=[b[n+0],b[n+1],b[n+2]],a=g.metric(d,o);function s(t,e){v.push([t,e]),v.size()>f&&v.pop()}var c=y[t+1],u=y[t+2];if(-1!==u||-1!==c){e=-1===u?c:-1===c?u:d[r]<=b[n+r]?c:u,_(e),(v.size()<f||a<v.peek()[1])&&a<=m&&s(t,a);for(var h=[],l=0;l<3;l+=1)h[l]=l===r?d[l]:b[n+l];var p=g.metric(h,o);(v.size()<f||Math.abs(p)<v.peek()[1])&&Math.abs(p)<=m&&-1!==(i=e===c?u:c)&&_(i)}else(v.size()<f||a<v.peek()[1])&&a<=m&&s(t,a)};_(this.rootIndex);for(var t=[],e=0,i=Math.min(v.size(),f);e<i;e+=1)t.push(v.content[e]);return t},rb.prototype.verify=function(t,e){void 0===e&&(e=0);var i=1;if(void 0===t&&(t=this.rootIndex),-1===t)throw new Error("node is null");var r=e%3,n=this.nodes,o=this.points,a=this.indices,s=n[t+1],c=n[t+2];if(-1!==s){if(o[3*a[n[s]]+r]>o[3*a[n[t]]+r])throw new Error("left child is > parent!");i+=this.verify(s,e+1)}if(-1!==c){if(o[3*a[n[c]]+r]<o[3*a[n[t]]+r])throw new Error("right child is < parent!");i+=this.verify(c,e+1)}return i};var nb=function(t,e){void 0===e&&(e=0),this.structure=t,this.index=e,this.chainStore=t.chainStore,this.residueStore=t.residueStore,this.atomStore=t.atomStore,this.residueMap=t.residueMap,this.atomMap=t.atomMap},ob={bondHash:{configurable:!0},entity:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},chainIndex:{configurable:!0},residue:{configurable:!0},residueIndex:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},resno:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},residueType:{configurable:!0},atomType:{configurable:!0},residueAtomOffset:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},atomname:{configurable:!0},number:{configurable:!0},element:{configurable:!0},vdw:{configurable:!0},covalent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},serial:{configurable:!0},bfactor:{configurable:!0},occupancy:{configurable:!0},altloc:{configurable:!0},partialCharge:{configurable:!0},radius:{configurable:!0},formalCharge:{configurable:!0},aromatic:{configurable:!0},bondCount:{configurable:!0}};function ab(t,e){var i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}function sb(t,e){return Math.sqrt(ab(t,e))}ob.bondHash.get=function(){return this.structure.bondHash},ob.entity.get=function(){return this.structure.entityList[this.entityIndex]},ob.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},ob.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},ob.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndex]},ob.residue.get=function(){return console.warn("residue - might be expensive"),this.structure.getResidueProxy(this.residueIndex)},ob.residueIndex.get=function(){return this.atomStore.residueIndex[this.index]},ob.residueIndex.set=function(t){this.atomStore.residueIndex[this.index]=t},ob.sstruc.get=function(){return this.residueStore.getSstruc(this.residueIndex)},ob.inscode.get=function(){return this.residueStore.getInscode(this.residueIndex)},ob.resno.get=function(){return this.residueStore.resno[this.residueIndex]},ob.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},ob.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},ob.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.residueIndex])},ob.atomType.get=function(){return this.atomMap.get(this.atomStore.atomTypeId[this.index])},ob.residueAtomOffset.get=function(){return this.residueStore.atomOffset[this.residueIndex]},ob.resname.get=function(){return this.residueType.resname},ob.hetero.get=function(){return this.residueType.hetero},ob.atomname.get=function(){return this.atomType.atomname},ob.number.get=function(){return this.atomType.number},ob.element.get=function(){return this.atomType.element},ob.vdw.get=function(){return this.atomType.vdw},ob.covalent.get=function(){return this.atomType.covalent},ob.x.get=function(){return this.atomStore.x[this.index]},ob.x.set=function(t){this.atomStore.x[this.index]=t},ob.y.get=function(){return this.atomStore.y[this.index]},ob.y.set=function(t){this.atomStore.y[this.index]=t},ob.z.get=function(){return this.atomStore.z[this.index]},ob.z.set=function(t){this.atomStore.z[this.index]=t},ob.serial.get=function(){return this.atomStore.serial[this.index]},ob.serial.set=function(t){this.atomStore.serial[this.index]=t},ob.bfactor.get=function(){return this.atomStore.bfactor[this.index]},ob.bfactor.set=function(t){this.atomStore.bfactor[this.index]=t},ob.occupancy.get=function(){return this.atomStore.occupancy[this.index]},ob.occupancy.set=function(t){this.atomStore.occupancy[this.index]=t},ob.altloc.get=function(){return this.atomStore.getAltloc(this.index)},ob.altloc.set=function(t){this.atomStore.setAltloc(this.index,t)},ob.partialCharge.get=function(){return this.atomStore.partialCharge?this.atomStore.partialCharge[this.index]:null},ob.partialCharge.set=function(t){this.atomStore.partialCharge&&(this.atomStore.partialCharge[this.index]=t)},ob.radius.get=function(){return this.atomStore.radius?this.atomStore.radius[this.index]:null},ob.radius.set=function(t){this.atomStore.radius&&(this.atomStore.radius[this.index]=t)},ob.formalCharge.get=function(){return this.atomStore.formalCharge?this.atomStore.formalCharge[this.index]:null},ob.formalCharge.set=function(t){this.atomStore.formalCharge&&(this.atomStore.formalCharge[this.index]=t)},ob.aromatic.get=function(){return this.atomStore.aromatic?this.atomStore.aromatic[this.index]:this.residueType.isAromatic(this)?1:0},ob.aromatic.set=function(t){this.atomStore.aromatic&&(this.atomStore.aromatic[this.index]=t)},ob.bondCount.get=function(){return this.bondHash.countArray[this.index]},nb.prototype.eachBond=function(t,e){e=e||this.structure._bp;for(var i=this.index,r=this.bondHash,n=r.indexArray,o=r.countArray[i],a=r.offsetArray[i],s=0;s<o;++s)e.index=n[a+s],t(e)},nb.prototype.eachBondedAtom=function(e,t){var i=t||this.structure._ap,r=this.index;this.eachBond(function(t){i.index=r!==t.atomIndex1?t.atomIndex1:t.atomIndex2,e(i)}),this.index=r},nb.prototype.hasBondTo=function(e){var i=!1;return this.eachBondedAtom(function(t){e.index===t.index&&(i=!0)}),i},nb.prototype.bondToElementCount=function(e){var i=0,t=this.index;return this.eachBondedAtom(function(t){t.number===e&&(i+=1)}),this.index=t,i},nb.prototype.hasBondToElement=function(t){return 0<this.bondToElementCount(t)},nb.prototype.isBackbone=function(){var t=this.residueType.backboneIndexList;return 0<t.length&&t.includes(this.index-this.residueAtomOffset)},nb.prototype.isPolymer=function(){if(0<this.structure.entityList.length)return this.entity.isPolymer();var t=this.residueType.moleculeType;return 3===t||4===t||5===t},nb.prototype.isSidechain=function(){return this.isPolymer()&&!this.isBackbone()},nb.prototype.isCg=function(){var t=this.residueType.backboneType;return 4===t||5===t||6===t},nb.prototype.isTrace=function(){return this.index===this.residueType.traceAtomIndex+this.residueAtomOffset},nb.prototype.isHetero=function(){return 1===this.residueType.hetero},nb.prototype.isProtein=function(){return 3===this.residueType.moleculeType},nb.prototype.isNucleic=function(){var t=this.residueType.moleculeType;return 4===t||5===t},nb.prototype.isRna=function(){return 4===this.residueType.moleculeType},nb.prototype.isDna=function(){return 5===this.residueType.moleculeType},nb.prototype.isWater=function(){return 1===this.residueType.moleculeType},nb.prototype.isIon=function(){return 2===this.residueType.moleculeType},nb.prototype.isSaccharide=function(){return 6===this.residueType.moleculeType},nb.prototype.isHelix=function(){return lg.includes(this.sstruc)},nb.prototype.isSheet=function(){return pg.includes(this.sstruc)},nb.prototype.isTurn=function(){return dg.includes(this.sstruc)&&this.isProtein()},nb.prototype.isBonded=function(){return 0!==this.bondHash.countArray[this.index]},nb.prototype.isRing=function(){return void 0!==this.residueType.getRings().atomRings[this.index-this.residueAtomOffset]},nb.prototype.isAromatic=function(){return 1===this.aromatic},nb.prototype.isMetal=function(){return this.atomType.isMetal()},nb.prototype.isNonmetal=function(){return this.atomType.isNonmetal()},nb.prototype.isMetalloid=function(){return this.atomType.isMetalloid()},nb.prototype.isHalogen=function(){return this.atomType.isHalogen()},nb.prototype.isDiatomicNonmetal=function(){return this.atomType.isDiatomicNonmetal()},nb.prototype.isPolyatomicNonmetal=function(){return this.atomType.isPolyatomicNonmetal()},nb.prototype.isAlkaliMetal=function(){return this.atomType.isAlkaliMetal()},nb.prototype.isAlkalineEarthMetal=function(){return this.atomType.isAlkalineEarthMetal()},nb.prototype.isNobleGas=function(){return this.atomType.isNobleGas()},nb.prototype.isTransitionMetal=function(){return this.atomType.isTransitionMetal()},nb.prototype.isPostTransitionMetal=function(){return this.atomType.isPostTransitionMetal()},nb.prototype.isLanthanide=function(){return this.atomType.isLanthanide()},nb.prototype.isActinide=function(){return this.atomType.isActinide()},nb.prototype.getDefaultValence=function(){return this.atomType.getDefaultValence()},nb.prototype.getValenceList=function(){return this.atomType.getValenceList()},nb.prototype.getOuterShellElectronCount=function(){return this.atomType.getOuterShellElectronCount()},nb.prototype.distanceTo=function(t){var e=this.atomStore,i=t.atomStore,r=this.index,n=t.index,o=e.x[r]-i.x[n],a=e.y[r]-i.y[n],s=e.z[r]-i.z[n],c=o*o+a*a+s*s;return Math.sqrt(c)},nb.prototype.connectedTo=function(t){var e=this.atomStore,i=t.atomStore,r=this.index,n=t.index;if(e.altloc&&i.altloc){var o=e.altloc[r],a=i.altloc[n];if(0!==o&&0!==a&&32!==o&&32!==a&&o!==a)return!1}var s=e.x[r]-i.x[n],c=e.y[r]-i.y[n],u=e.z[r]-i.z[n],h=s*s+c*c+u*u;if(h<48&&this.isCg())return!0;if(isNaN(h))return!1;var l=this.covalent+t.covalent,p=l+.3,d=l-.5;return h<p*p&&d*d<h},nb.prototype.positionFromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e+0],this.y=t[e+1],this.z=t[e+2],this},nb.prototype.positionToArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.index,r=this.atomStore;return t[e+0]=r.x[i],t[e+1]=r.y[i],t[e+2]=r.z[i],t},nb.prototype.positionToVector3=function(t){return void 0===t&&(t=new ri),t.x=this.x,t.y=this.y,t.z=this.z,t},nb.prototype.positionFromVector3=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},nb.prototype.positionAdd=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},nb.prototype.positionSub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},nb.prototype.getResidueBonds=function(t){void 0===t&&(t=!1);var e,i,r,n,o=this.residueAtomOffset,a=this.index-this.residueAtomOffset,s=this.residueType.getBonds(),c=s.atomIndices1,u=s.atomIndices2;for(t||(n=[]),e=c.indexOf(a);-1!==e;){if(r=u[e]+o,!n)return r;n.push(r),e=c.indexOf(a,e+1)}for(i=u.indexOf(a);-1!==i;){if(r=c[i]+o,!n)return r;n.push(r),i=u.indexOf(a,i+1)}return n},nb.prototype.qualifiedName=function(t){void 0===t&&(t=!1);var e="";return this.resname&&!t&&(e+="["+this.resname+"]"),void 0!==this.resno&&(e+=this.resno),this.inscode&&(e+="^"+this.inscode),this.chainname&&(e+=":"+this.chainname),this.atomname&&(e+="."+this.atomname),this.altloc&&(e+="%"+this.altloc),1<this.structure.modelStore.count&&(e+="/"+this.modelIndex),e},nb.prototype.clone=function(){return new nb(this.structure,this.index)},nb.prototype.toObject=function(){return{index:this.index,residueIndex:this.residueIndex,resname:this.resname,x:this.x,y:this.y,z:this.z,element:this.element,chainname:this.chainname,resno:this.resno,serial:this.serial,vdw:this.vdw,covalent:this.covalent,hetero:this.hetero,bfactor:this.bfactor,altloc:this.altloc,atomname:this.atomname,modelIndex:this.modelIndex}},Object.defineProperties(nb.prototype,ob);var cb=new Float32Array(3),ub=function(t,e){void 0===e&&(e=!1),de.Debug&&Yp.time("Kdtree build");var i=e?ab:sb,r=new Float32Array(3*t.atomCount),n=new Uint32Array(t.atomCount),o=0;t.eachAtom(function(t){r[o+0]=t.x,r[o+1]=t.y,r[o+2]=t.z,n[o/3]=t.index,o+=3}),this.atomIndices=n,this.points=r,this.kdtree=new rb(r,i),de.Debug&&Yp.timeEnd("Kdtree build")};ub.prototype.nearest=function(t,e,i){t instanceof ri?t.toArray(cb):t instanceof nb&&t.positionToArray(cb);for(var r=this.kdtree.nearest(cb,e,i),n=this.kdtree.indices,o=this.kdtree.nodes,a=this.atomIndices,s=[],c=0,u=r.length;c<u;++c){var h=r[c],l=h[0],p=h[1];s.push({index:a[n[o[l]]],distance:p})}return s};var hb={" ":"X","!":"Y","#":"Z",$:"-X","%":"-Y","&":"-Z","'":"Y+1/2","(":"1/2+X",")":"1/2+Y","*":"1/2-X","+":"1/2+Z",",":"1/2-Y","-":"1/2-Z",".":"X+1/2","/":"Z+1/2",0:"-X+1/2",1:"-Y+1/2",2:"-Z+1/2",3:"1/4+X",4:"1/4-Y",5:"1/4+Z",6:"1/4-X",7:"1/4+Y",8:"3/4-Y",9:"3/4+Z",":":"3/4+Y",";":"3/4+X","<":"3/4-X","=":"1/4-Z",">":"3/4-Z","?":"X-Y","@":"Y-X",A:"Z+1/3",B:"Z+2/3",C:"X+2/3",D:"Y+1/3",E:"-Y+2/3",F:"X-Y+1/3",G:"Y-X+2/3",H:"-X+1/3",I:"X+1/3",J:"Y+2/3",K:"-Y+1/3",L:"X-Y+2/3",M:"Y-X+1/3",N:"-X+2/3",O:"2/3+X",P:"1/3+Y",Q:"1/3+Z",R:"2/3-Y",S:"1/3+X-Y",T:"2/3+Y-X",U:"1/3-X",V:"2/3-X",W:"1/3-Y",X:"1/3-Z",Y:"2/3+Y",Z:"1/3+Y-X","[":"2/3+X-Y","]":"1/3+X","^":"2/3+Z",_:"2/3-Z","`":"5/6+Z",a:"1/6+Z",b:"5/6-Z",c:"1/6-Z",d:"Z+5/6",e:"Z+1/6",f:"Z+1/4",g:"+Y"},lb={"P 1":" !#","P -1":" !#$%&","P 1 2 1":" !#$!&","P 1 21 1":" !#$'&","C 1 2 1":" !#$!&()#*)&","P 1 m 1":" !# %#","P 1 c 1":" !# %+","C 1 m 1":" !# %#()#(,#","C 1 c 1":" !# %+()#(,+","P 1 2/m 1":" !# %#$!&$%&","P 1 21/m 1":" !#$)&$%& ,#","C 1 2/m 1":" !# %#$!&$%&()#(,#*)&*,&","P 1 2/c 1":" !#$!-$%& %+","P 1 21/c 1":" !#$%&$)- ,+","C 1 2/c 1":" !#$!-$%& %+()#*)-*,&(,+","P 2 2 2":" !#$%#$!& %&","P 2 2 21":" !#$%+$!- %&","P 21 21 2":" !#$%#*)&(,&","P 21 21 21":" !#*%+$)-(,&","C 2 2 21":" !#$%+$!- %&()#*,+*)-(,&","C 2 2 2":" !#$%#$!& %&()#*,#*)&(,&","F 2 2 2":" !#$%#$!& %& )+$,+$)- ,-(!+*%+*!-(%-()#*,#*)&(,&","I 2 2 2":" !#$%# %&$!&.'/01/.120'2","I 21 21 21":" !#*%+$)-(,&()+$,#*!& %-","P m m 2":" !#$%# %#$!#","P m c 21":" !#$%+ %+$!#","P c c 2":" !#$%# %+$!+","P m a 2":" !#$%#(%#*!#","P c a 21":" !#$%+(%#*!+","P n c 2":" !#$%# ,+$)+","P m n 21":" !#*%+(%+$!#","P b a 2":" !#$%#(,#*)#","P n a 21":" !#$%+(,#*)+","P n n 2":" !#$%#(,+*)+","C m m 2":" !#$%# %#$!#()#*,#(,#*)#","C m c 21":" !#$%+ %+$!#()#*,+(,+*)#","C c c 2":" !#$%# %+$!+()#*,#(,+*)+","A m m 2":" !#$%# %#$!# )+$,+ ,+$)+","A b m 2":" !#$%# ,#$)# )+$,+ %+$!+","A m a 2":" !#$%#(%#*!# )+$,+(,+*)+","A b a 2":" !#$%#(,#*)# )+$,+(%+*!+","F m m 2":" !#$%# %#$!# )+$,+ ,+$)+(!+*%+(%+*!+()#*,#(,#*)#","F d d 2":" !#$%#345675 )+$,+3896:9(!+*%+;49<79()#*,#;85<:5","I m m 2":" !#$%# %#$!#()+*,+(,+*)+","I b a 2":" !#$%#(,#*)#()+*,+ %+$!+","I m a 2":" !#$%#(%#*!#()+*,+ ,+$)+","P 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#","P 2/n 2/n 2/n":" !#$%#$!& %&*,-()-(,+*)+","P 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+","P 2/b 2/a 2/n":" !#$%#$!& %&*,&()&(,#*)#","P 21/m 2/m 2/a":" !#*%#$!&(%&$%&(!& %#*!#","P 2/n 21/n 2/a":" !#*%#*)- ,-$%&(!&(,+$)+","P 2/m 2/n 21/a":" !#*%+*!- %&$%&(!-(%+$!#","P 21/c 2/c 2/a":" !#*%#$!-(%-$%&(!& %+*!+","P 21/b 21/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#","P 21/c 21/c 2/n":" !#*,#$)-(%-$%&()& ,+*!+","P 2/b 21/c 21/m":" !#$%+$)- ,&$%& !- ,+$)#","P 21/n 21/n 2/m":" !#$%#*)-(,-$%& !&(,+*)+","P 21/m 21/m 2/n":" !#$%#*'&.,&*,&.'& %#$!#","P 21/b 2/c 21/n":" !#*,+$!-(,&$%&()- %+*)#","P 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#","P 21/n 21/m 21/a":" !#0%/$'&.12$%&.!2 1#0'/","C 2/m 2/c 21/m":" !#$%+$!- %&$%& !- %+$!#()#*,+*)-(,&*,&()-(,+*)#","C 2/m 2/c 21/a":" !#$,+$)- %&$%& )- ,+$!#()#*%+*!-(,&*,&(!-(%+*)#","C 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()#*,#*)&(,&*,&()&(,#*)#","C 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+()#*,#*)-(,-*,&()&(,+*)+","C 2/m 2/m 2/a":" !#$,#$)& %&$%& )& ,#$!#()#*%#*!&(,&*,&(!&(%#*)#","C 2/c 2/c 2/a":" !#*,#$!&(,&$,-(!- ,+*!+()#$%#*)& %&*%- )-(%+$)+","F 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!# )+$,+$)- ,-$,- )- ,+$)+(!+*%+*!-(%-*%-(!-(%+*!+()#*,#*)&(,&*,&()&(,#*)#","F 2/d 2/d 2/d":" !#$%#$!& %&64=37=345675 )+$,+$)- ,-68>3:>3896:9(!+*%+*!-(%-<4>;7>;49<79()#*,#*)&(,&<8=;:=;85<:5","I 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()+*,+*)-(,-*,-()-(,+*)+","I 2/b 2/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#()+*,+$!- %-*,-()- %+$!+","I 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#()+$,#*!& %-*,- )&(%#$!+","I 21/m 21/m 21/a":" !#$,#$)& %&$%& )& ,#$!#()+*%+*!-(,-*,-(!-(%+*)+","P 4":" !#$%#% #!$#","P 41":" !#$%+% 5!$9","P 42":" !#$%#% +!$+","P 43":" !#$%+% 9!$5","I 4":" !#$%#% #!$#()+*,+,(+)*+","I 41":" !#*,+%(5)$9()+$%#, 9!*5","P -4":" !#$%#!$&% &","I -4":" !#$%#!$&% &()+*,+)*-,(-","P 4/m":" !#$%#% #!$#$%& !&!$&% &","P 42/m":" !#$%#% +!$+$%& !&!$-% -","P 4/n":" !#$%#,(#)*#*,&()&!$&% &","P 42/n":" !#$%#,(+)*+*,-()-!$&% &","I 4/m":" !#$%#% #!$#$%& !&!$&% &()+*,+,(+)*+*,-()-)*-,(-","I 41/a":" !#*,+%(5)$9$,=(!>!$&,(-()+$%#, 9!*5*%> )=)*-% &","P 4 2 2":" !#$%#% #!$#$!& %&! &%$&","P 4 21 2":" !#$%#,(#)*#*)&(,&! &%$&","P 41 2 2":" !#$%+% 5!$9$!& %-! >%$=","P 41 21 2":" !#$%+,(5)*9*)=(,>! &%$-","P 42 2 2":" !#$%#% +!$+$!& %&! -%$-","P 42 21 2":" !#$%#,(+)*+*)-(,-! &%$&","P 43 2 2":" !#$%+% 9!$5$!& %-! =%$>","P 43 21 2":" !#$%+,(9)*5*)>(,=! &%$-","I 4 2 2":" !#$%#% #!$#$!& %&! &%$&()+*,+,(+)*+*)-(,-)(-,*-","I 41 2 2":" !#*,+%(5)$9*!> ,=)(-%$&()+$%#, 9!*5$)=(%>! &,*-","P 4 m m":" !#$%#% #!$# %#$!#%$#! #","P 4 b m":" !#$%#% #!$#(,#*)#,*#)(#","P 42 c m":" !#$%#% +!$+ %+$!+%$#! #","P 42 n m":" !#$%#,(+)*+(,+*)+%$#! #","P 4 c c":" !#$%#% #!$# %+$!+%$+! +","P 4 n c":" !#$%#% #!$#(,+*)+,*+)(+","P 42 m c":" !#$%#% +!$+ %#$!#%$+! +","P 42 b c":" !#$%#% +!$+(,#*)#,*+)(+","I 4 m m":" !#$%#% #!$# %#$!#%$#! #()+*,+,(+)*+(,+*)+,*+)(+","I 4 c m":" !#$%#% #!$# %+$!+%$+! +()+*,+,(+)*+(,#*)#,*#)(#","I 41 m d":" !#*,+%(5)$9 %#*)+%*5) 9()+$%#, 9!*5(,+$!#,$9!(5","I 41 c d":" !#*,+%(5)$9 %+*)#%*9) 5()+$%#, 9!*5(,#$!+,$5!(9","P -4 2 m":" !#$%#% &!$&$!& %&%$#! #","P -4 2 c":" !#$%#% &!$&$!- %-%$+! +","P -4 21 m":" !#$%#% &!$&*)&(,&,*#)(#","P -4 21 c":" !#$%#% &!$&*)-(,-,*+)(+","P -4 m 2":" !#$%#!$&% & %#$!#! &%$&","P -4 c 2":" !#$%#% &!$& %+$!+! -%$-","P -4 b 2":" !#$%#% &!$&(,#*)#)(&,*&","P -4 n 2":" !#$%#% &!$&(,+*)+)(-,*-","I -4 m 2":" !#$%#% &!$& %#$!#! &%$&()+*,+,(-)*-(,+*)+)(-,*-","I -4 c 2":" !#$%#% &!$& %+$!+! -%$-()+*,+,(-)*-(,#*)#)(&,*&","I -4 2 m":" !#$%#% &!$&$!& %&%$#! #()+*,+,(-)*-*)-(,-,*+)(+","I -4 2 d":" !#$%#% &!$&*!>(%>,$9) 9()+*,+,(-)*-$)= ,=%*5!(5","P 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #","P 4/m 2/c 2/c":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +","P 4/n 2/b 2/m":" !#$%#% #!$#$!& %&! &%$&*,&()&)*&,(&(,#*)#,*#)(#","P 4/n 2/n 2/c":" !#$%#% #!$#$!& %&! &%$&*,-()-)*-,(-(,+*)+,*+)(+","P 4/m 21/b 2/m":" !#$%#% #!$#*)&(,&)(&,*&$%& !&!$&% &(,#*)#,*#)(#","P 4/m 21/n 2/c":" !#$%#% #!$#*)-(,-)(-,*-$%& !&!$&% &(,+*)+,*+)(+","P 4/n 21/m 2/m":" !#$%#,(#)*#*)&(,&! &%$&*,&()&!$&% & %#$!#,*#)(#","P 4/n 2/c 2/c":" !#$%#,(#)*#*)-(,-! -%$-*,&()&!$&% & %+$!+,*+)(+","P 42/m 2/m 2/c":" !#$%#% +!$+$!& %&! -%$-$%& !&!$-% - %#$!#%$+! +","P 42/m 2/c 2/m":" !#$%#% +!$+$!- %-! &%$&$%& !&!$-% - %+$!+%$#! #","P 42/n 2/b 2/c":" !#$%#,(+)*+$!- %-)(&,*&*,-()-!$&% &(,#*)#%$+! +","P 42/n 2/n 2/m":" !#$%#,(+)*+$!& %&)(-,*-*,-()-!$&% &(,+*)+%$#! #","P 42/m 21/b 2/c":" !#$%#% +!$+*)&(,&)(-,*-$%& !&!$-% -(,#*)#,*+)(+","P 42/m 21/n 2/m":" !#$%#,./'*/*'-.,-! &%$&$%& !&'*-,.-.,/*'/%$#! #","P 42/n 21/m 2/c":" !#$%#,(+)*+*)-(,-! &%$&*,-()-!$&% & %#$!#,*+)(+","P 42/n 21/c 2/m":" !#$%#,(+)*+*)&(,&! -%$-*,-()-!$&% & %+$!+,*#)(#","I 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #()+*,+,(+)*+*)-(,-)(-,*-*,-()-)*-,(-(,+*)+,*+)(+","I 4/m 2/c 2/m":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +()+*,+,(+)*+*)&(,&)(&,*&*,-()-)*-,(-(,#*)#,*#)(#","I 41/a 2/m 2/d":" !#*,+%(5)$9*!> ,=)(-%$&$,=(!>!$&,(-(,+$!#,$9!(5()+$%#, 9!*5$)=(%>! &,*-*%> )=)*-% & %#*)+%*5) 9","I 41/a 2/c 2/d":" !#*,+%(5)$9*!= ,>)(&%$-$,=(!>!$&,(-(,#$!+,$5!(9()+$%#, 9!*5$)>(%=! -,*&*%> )=)*-% & %+*)#%*9) 5","P 3":" !#%?#@$#","P 31":" !#%?A@$B","P 32":" !#%?B@$A","H 3":" !#%?#@$#CDAEFAGHAIJBKLBMNB","R 3":" !## !!# ","P -3":" !#%?#@$#$%&!@&? &","H -3":" !#%?#@$#$%&!@&? &OPQRSQTUQVWXYZX[]X]Y^W[^ZV^UR_PT_SO_","R -3":" !## !!# $%&&$%%&$","P 3 1 2":" !#%?#@$#%$&@!& ?&","P 3 2 1":" !#%?#@$#! &?%&$@&","P 31 1 2":" !#%?Q@$^%$_@!X ?&","P 31 2 1":" !#%?A@$B! &?%_$@X","P 32 1 2":" !#%?^@$Q%$X@!_ ?&","P 32 2 1":" !#%?B@$A! &?%X$@_","H 3 2":" !#%?#@$#! &?%&$@&OPQRSQTUQY]X[WXVZX]Y^W[^ZV^PO_SR_UT_","R 3 2":" !## !!# %$&$&%&%$","P 3 m 1":" !#%?#@$#%$#@!# ?#","P 3 1 m":" !#%?#@$#! #?%#$@#","P 3 c 1":" !#%?#@$#%$+@!+ ?+","P 3 1 c":" !#%?#@$#! +?%+$@+","H 3 m":" !#%?#@$#%$#@!# ?#OPQRSQTUQRUQTPQOSQ]Y^W[^ZV^WV^ZY^][^","R 3 m":" !## !!# ! # #!#! ","H 3 c":" !#%?#@$#%$+@!+ ?+OPQRSQTUQRU`TP`OS`]Y^W[^ZV^WVaZYa][a","R 3 c":" !## !!# '././'/'.","P -3 1 2/m":" !#%?#@$#%$&@!& ?&$%&!@&? &! #?%#$@#","P -3 1 2/c":" !#%?#@$#%$-@!- ?-$%&!@&? &! +?%+$@+","P -3 2/m 1":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#","P -3 2/c 1":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+","H -3 2/m":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#OPQRSQTUQY]X[WXVZXVWXYZX[]XRUQTPQOSQ]Y^W[^ZV^PO_SR_UT_UR_PT_SO_WV^ZY^][^","R -3 2/m":" !## !!# %$&$&%&%$$%&&$%%&$! # #!#! ","H -3 2/c":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+OPQRSQTUQY]b[WbVZbVWXYZX[]XRU`TP`OS`]Y^W[^ZV^POcSRcUTcUR_PT_SO_WVaZYa][a","R -3 2/c":" !## !!# 102021210$%&&$%%&$'././'/'.","P 6":" !#%?#@$#$%#!@#? #","P 61":" !#%?A@$B$%/!@d? e","P 65":" !#%?B@$A$%/!@e? d","P 62":" !#%?^@$Q$%#!@^? Q","P 64":" !#%?Q@$^$%#!@Q? ^","P 63":" !#%?#@$#$%+!@+? +","P -6":" !#%?#@$# !&%?&@$&","P 6/m":" !#%?#@$#$%#!@#? #$%&!@&? & !&%?&@$&","P 63/m":" !#%?#@$#$%+!@+? +$%&!@&? & !-%?-@$-","P 6 2 2":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&","P 61 2 2":" !#%?Q@$^$%+!@`? a! X?%&$@_%$b@!- ?c","P 65 2 2":" !#%?^@$Q$%+!@a? `! _?%&$@X%$c@!- ?b","P 62 2 2":" !#%?^@$Q$%#!@^? Q! _?%&$@X%$_@!& ?X","P 64 2 2":" !#%?Q@$^$%#!@Q? ^! X?%&$@_%$X@!& ?_","P 63 2 2":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-","P 6 m m":" !#%?#@$#$%#!@#? #%$#@!# ?#! #?%#$@#","P 6 c c":" !#%?#@$#$%#!@#? #%$+@!+ ?+! +?%+$@+","P 63 c m":" !#%?#@$#$%+!@+? +%$+@!+ ?+! #?%#$@#","P 63 m c":" !#%?#@$#$%+!@+? +%$#@!# ?#! +?%+$@+","P -6 m 2":" !#%?#@$# !&%?&@$&%$#@!# ?#%$&@!& ?&","P -6 c 2":" !#%?#@$# !-%?-@$-%$+@!+ ?+%$&@!& ?&","P -6 2 m":" !#%?#@$# !&%?&@$&! &?%&$@&! #?%#$@#","P -6 2 c":" !#%?#@$# !-%?-@$-! &?%&$@&! +?%+$@+","P 6/m 2/m 2/m":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&$%&!@&? & !&@$&%?&%$#@!# ?#! #?%#$@#","P 6/m 2/c 2/c":" !#%?#@$#$%#!@#? #! -?%-$@-%$-@!- ?-$%&!@&? & !&@$&%?&%$+@!+ ?+! +?%+$@+","P 63/m 2/c 2/m":" !#%?#@$#$%+!@+? +! -?%-$@-%$&@!& ?&$%&!@&? & !-@$-%?-%$+@!+ ?+! #?%#$@#","P 63/m 2/m 2/c":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-$%&!@&? & !-@$-%?-%$#@!# ?#! +?%+$@+","P 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ","F 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%&  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ","I 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(","P 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(","I 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- ","P 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$","P 2/n -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& *,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","F 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-($,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- *,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$","F 2/d -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& 64=37=345675=64=375345674=67=3453756 )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(68>3:>3896:9=<8=;:5;85<:4><7>;49;79<(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(<4>;7>;49<79>68>3:93896:8=<:=;85;:5<()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- <8=;:=;8f<:f><4>;79;49<78>6:>3893:96","I 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","P 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*","I 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*()+$,#*g& %-+()#$,&*!- %)+(,#$!&*%- *,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$","P 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$","P 42 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","F 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$","F 41 3 2":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46 )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<(!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86","I 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","P 43 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7;>46=:<5839398<5:6=4;>75:<983>7;=46","P 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<","I 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46","P -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ","F -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&%  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(+%*+!*-%(- +)$+,$-) -,#)(#,*&)*&,((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() +,$+)$-, -(#)*#,*&)(&,+!(+%*-!*-%(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(#,*#)*&,(&(+!*+%*-!(-%+) +,$-)$-, ","I -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","P -4 3 n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","F -4 3 c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() #,$#)$&, &(#!*#%*&!(&%+! +%$-!$-% (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(#%*#!*&%(& +!$+%$-! -%#) #,$&)$&, ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! +%$+!$-% - #)$#,$&) &,#!(#%*&!*&%(","I -4 3 d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7354<9:6>8;=357<946>:;=857394<>:6=8;()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- :;98657<=43>;9:658<=73>49:;586=7<>43","P 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","P 4/n -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/m -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/n -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","F 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#!  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*%*+!(+%(-!*-$-) -, +)$+,&,(&)*#,*#)((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%**%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*,$+) +, -)$-*&)(&,(#)*#,-%(-!*+%*+!(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$*,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$,*#)(#,(&)*&*-!(-%(+!*+%-, -)$+,$+) ","F 4/m -3 2/c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() &,$&)$#, #(#%*#!*&%(&!+!$+% -! -%$$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*,$#) #, &)$&*&!(&%(#!*#%-% -!$+%$+! (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(&%*&!*#%(# +%$+!$-% -!#)$#, &) &,$*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*%*#!(#%(&!*&$-! -% +!$+%&, &)$#,$#) ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! -%$-!$+% + #,$#)$&, &)#!*#%(&!(&%**,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$%$+! +% -!$-$&) &, #)$#,&%(&!*#%*#!(","F 41/d -3 2/m":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=4664=3:>;85<79=64>3:5;89<74=6:>385;79<,$+! #%(-)*&*&)(-% #!$+,-%(&)*+,$#!  )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<68>37=;49<:5=<8>;753496:4><:=;893756,*#!(+% &)$-*-!(&, +)$#%-, &!$+%*#)((!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<<4>;:=389675>68=379;45<:8=<7>;453:96%$#) +,(&!*-$&! -,(#)*+%&% -)$#,*+!(()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86<8=;7>3456:9><4=;:9385678>67=349;:5<%*+)(#, -!$&$-) &%(+!*#,&,(-!*#%$+) ","F 41/d -3 2/c":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46<8>;7=3496:5><8=;793456:8><7=;493:56%*#)(+, &!$-$-! &,(+)*#%&, -!$#%*+)( )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<<4=;:>385679>64=3:9;85<78=67>345;:9<%$+) #,(-!*&$&) -%(#!*+,&%(-)*#,$+! (!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<68=37>;45<:9=<4>;:5389674>6:=389;75<,*+!(#% -)$&*-)(&% +!$#,-,(&!*+%$#) ()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>8664>3:=;89<75=68>375;49<:4=<:>;853796,$#! +%(&)*-*&!(-, #)$+%-% &)$+,*#!(","I 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","I 41/a -3 2/d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<$%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*4<97358;=:6>6>:;=8357<94=8;>:694<573()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46*,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$865:;943>7<=<=73>4;9:658>43=7<5869:;","P 1 1 2":" !#$%#","P 1 1 21":" !#$%+","B 1 1 2":" !#$%#(g+*%+","A 1 2 1":" !#$!& )+$)-","C 1 21 1":" !#$)&()#*!&","I 1 2 1":" !#$!&.'/0'2","I 1 21 1":" !#$)&.'/0!-","P 1 1 m":" !# !&","P 1 1 b":" !# )&","B 1 1 m":" !# !&(!+(!-","B 1 1 b":" !# )&(!+()-","P 1 1 2/m":" !# !&$%#$%&","P 1 1 21/m":" !#$%+$%& !-","B 1 1 2/m":" !# !&$%#$%&(!+(!-*%+*%-","P 1 1 2/b":" !#$,#$%& )&","P 1 1 21/b":" !#$%&$,+ )-","B 1 1 2/b":" !#$,#$%& )&(!+*,+*%-()-","P 21 2 2":" !#$!&(%&*%#","P 2 21 2":" !# ,&$)&$%#","P 21 21 2 (a)":" !#*,#.%&$'&","P 21 2 21":" !#$!&(%-*%+","P 2 21 21":" !# %&$)-$,+","C 2 2 21a)":" !#*%+(,&$)-()#$,+ %&*!-","C 2 2 2a":" !#*,#.%&$'&()#$%# ,&*!&","F 2 2 2a":" !#*,#.%&$'& '/*%/.12$!2.!/$,/ %20'2.'#$%# 1&0!&","I 2 2 2a":" !#*,#.%&$'&()+$%+*!- ,-","P 21/m 21/m 2/n a":" !#*,#$)&(%&$%&.'& ,#*!#","P 42 21 2a":" !#*,#%.+'$+$'&.%&! -,*-","I 2 3a":" !#*,#.%&$'&!# ,- '&$%/$# !-*!/$%&.%()+$%+ ,-*!-)+(%&(!-*,#*+()&$)#*,- ,"},pb=/^[1-9]$/;function db(t){var e="";return 0<t.length&&(e=":"+Cl(t).join(" OR :")),new Lp(e)}var fb=function(t){void 0===t&&(t=""),this.name=t,this.partList=[]},mb={type:{configurable:!0}};mb.type.get=function(){return"Assembly"},fb.prototype.addPart=function(t,e){var i=new gb(t,e);return this.partList.push(i),i},fb.prototype.getAtomCount=function(i){return this.partList.reduce(function(t,e){return t+e.getAtomCount(i)},0)},fb.prototype.getResidueCount=function(i){return this.partList.reduce(function(t,e){return t+e.getResidueCount(i)},0)},fb.prototype.getInstanceCount=function(){var e=0;return this.partList.forEach(function(t){e+=t.matrixList.length}),e},fb.prototype.isIdentity=function(t){if(1!==this.partList.length)return!1;var e=this.partList[0];if(1!==e.matrixList.length)return!1;if(!(new ei).equals(e.matrixList[0]))return!1;var i=[];return t.eachChain(function(t){i.push(t.chainname)}),i=Cl(i),e.chainList.length===i.length},fb.prototype.getBoundingBox=function(i){var r=new Pi;return this.partList.forEach(function(t){var e=t.getBoundingBox(i);r.expandByPoint(e.min),r.expandByPoint(e.max)}),r},fb.prototype.getCenter=function(t){return this.getBoundingBox(t).getCenter(new ri)},fb.prototype.getSelection=function(){var e=[];return this.partList.forEach(function(t){e=e.concat(t.chainList)}),db(e)},Object.defineProperties(fb.prototype,mb);var gb=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.matrixList=t,this.chainList=e},vb={type:{configurable:!0}};vb.type.get=function(){return"AssemblyPart"},gb.prototype._getCount=function(t,e){var i=this,r=0;return t.eachChain(function(t){(0===i.chainList.length||i.chainList.includes(t.chainname))&&(r+=t[e])}),this.matrixList.length*r},gb.prototype.getAtomCount=function(t){return this._getCount(t,"atomCount")},gb.prototype.getResidueCount=function(t){return this._getCount(t,"residueCount")},gb.prototype.getBoundingBox=function(t){var e=new Pi,i=new Pi,r=this.getSelection(),n=t.getBoundingBox(r);return this.matrixList.forEach(function(t){i.copy(n).applyMatrix4(t),e.expandByPoint(i.min),e.expandByPoint(i.max)}),e},gb.prototype.getSelection=function(){return db(this.chainList)},gb.prototype.getView=function(t){var e=this.getSelection();return e?t.getView(e):t},gb.prototype.getInstanceList=function(){for(var t=[],e=0,i=this.matrixList.length;e<i;++e)t.push({id:e+1,name:e,matrix:this.matrixList[e]});return t},Object.defineProperties(gb.prototype,vb);var yb=function(t){this.structure=t,this.currentModelindex=null,this.currentChainid=null,this.currentResname=null,this.currentResno=null,this.currentInscode=void 0,this.currentHetero=null,this.previousResname="",this.previousHetero=null,this.ai=-1,this.ri=-1,this.ci=-1,this.mi=-1};function bb(t,e){if(e){de.Debug&&Yp.time("assignSecondaryStructure");var i=[];t.eachModel(function(t){t.eachChain(function(t){i.push(t.chainname)})});var c=i.slice().sort(),u=[];c.forEach(function(t){u.push(i.indexOf(t))});var l=e.helices.filter(function(t){return 0<=Pl(c,t[0])});l.sort(function(t,e){var i=t[0],r=e[0],n=t[1],o=e[1];if(i===r)return n===o?0:n<o?-1:1;var a=Pl(c,i),s=Pl(c,r);return u[a]<u[s]?-1:1});var p=t.residueStore;t.eachModel(function(t){var a=0,s=l.length;if(0!==s){var c=l[a],u=!1,h=!1;t.eachChain(function(t){var e=!1;if(t.chainname===c[0])for(var i=t.residueCount,r=t.residueOffset,n=r+i,o=r;o<n;++o)if(p.resno[o]===c[1]&&p.getInscode(o)===c[2]&&(u=!0),u&&(p.sstruc[o]=c[6],p.resno[o]===c[4]&&p.getInscode(o)===c[5]&&(u=!1,(a+=1)<s?(o=r-1,c=l[a],e=t.chainname!==c[0]):h=!0)),e||h)return})}});var d=e.sheets.filter(function(t){return 0<=Pl(c,t[0])});d.sort(function(t,e){var i=t[0],r=e[0];if(i===r)return 0;var n=Pl(c,i),o=Pl(c,r);return u[n]<u[o]?-1:1});var f="e".charCodeAt(0);t.eachModel(function(t){var a=0,s=d.length;if(0!==s){var c=d[a],u=!1,h=!1;t.eachChain(function(t){var e=!1;if(t.chainname===c[0])for(var i=t.residueCount,r=t.residueOffset,n=r+i,o=r;o<n;++o)if(p.resno[o]===c[1]&&p.getInscode(o)===c[2]&&(u=!0),u&&(p.sstruc[o]=f,p.resno[o]===c[4]&&p.getInscode(o)===c[5]&&(u=!1,(a+=1)<s?(o=r-1,c=d[a],e=t.chainname!==c[0]):h=!0)),e||h)return})}}),de.Debug&&Yp.timeEnd("assignSecondaryStructure")}}yb.prototype.addResidueType=function(t){for(var e=this.structure.atomStore,i=this.structure.residueStore,r=this.structure.residueMap,n=i.atomCount[t],o=i.atomOffset[t],a=new Array(n),s=0;s<n;++s)a[s]=e.atomTypeId[o+s];i.residueTypeId[t]=r.add(this.previousResname,a,this.previousHetero)},yb.prototype.addAtom=function(t,e,i,r,n,o,a,s){var c=this.structure.atomStore,u=this.structure.residueStore,h=this.structure.chainStore,l=this.structure.modelStore,p=!1,d=!1,f=!1;this.currentModelindex!==t?(f=d=p=!0,this.mi+=1,this.ci+=1,this.ri+=1):this.currentChainid!==i?(f=d=!0,this.ci+=1,this.ri+=1):this.currentResno===n&&this.currentResname===r&&this.currentInscode===s||(f=!0,this.ri+=1),this.ai+=1,p&&(l.growIfFull(),l.chainOffset[this.mi]=this.ci,l.chainCount[this.mi]=0,l.count+=1,h.modelIndex[this.ci]=this.mi),d&&(h.growIfFull(),h.setChainname(this.ci,e),h.setChainid(this.ci,i),h.residueOffset[this.ci]=this.ri,h.residueCount[this.ci]=0,h.count+=1,h.modelIndex[this.ci]=this.mi,l.chainCount[this.mi]+=1,u.chainIndex[this.ri]=this.ci),f&&(this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,0<this.ri&&this.addResidueType(this.ri-1),u.growIfFull(),u.resno[this.ri]=n,void 0!==a&&(u.sstruc[this.ri]=a.charCodeAt(0)),void 0!==s&&(u.inscode[this.ri]=s.charCodeAt(0)),u.atomOffset[this.ri]=this.ai,u.atomCount[this.ri]=0,u.count+=1,u.chainIndex[this.ri]=this.ci,h.residueCount[this.ci]+=1),c.count+=1,c.residueIndex[this.ai]=this.ri,u.atomCount[this.ri]+=1,this.currentModelindex=t,this.currentChainid=i,this.currentResname=r,this.currentResno=n,this.currentInscode=s,this.currentHetero=o},yb.prototype.finalize=function(){this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,-1<this.ri&&this.addResidueType(this.ri)};var xb,_b=(xb=function(t,e,i,r){for(var n=t.structure,o=t.residueIndexStart,a=n.getResidueProxy(),s=n.getResidueProxy(),c=n.getAtomProxy(),u=n.getAtomProxy(),h=Math.max(0,e-2);h<=e;++h)for(var l=2;l<5;++l)if(!(h+l>=t.residueCount)){a.index=o+h,s.index=o+h+l,c.index=a.traceAtomIndex,u.index=s.traceAtomIndex;var p=c.distanceTo(u);if(Math.abs(p-i[l-2])>r)return!1}return!0},function(t){de.Debug&&Yp.time("calculateSecondaryStructure"),t.eachPolymer(function(t){if(!(t.residueCount<4)){if(t.isCg())!function(t){for(var e=t.residueStore,i=t.residueIndexStart,r=new eb(t).position,n=new ri,o=new ri,a=0,s=t.residueCount;a<s;++a){n.fromArray(r.center,3*a),o.fromArray(r.center,3*a+3);var c=n.distanceTo(o);c<2&&1<c&&r.bending[a]<20&&(e.sstruc[i+a]="h".charCodeAt(0),e.sstruc[i+a+1]="h".charCodeAt(0))}}(t);else{if(!t.isProtein())return;!function(t){for(var e=t.residueStore,i=t.residueIndexStart,r=0,n=t.residueCount;r<n;++r){var o="c";xb(t,r,[5.45,5.18,6.37],2.1)?o="h":xb(t,r,[6.1,10.4,13],1.42)&&(o="e"),e.sstruc[i+r]=o.charCodeAt(0)}}(t)}var e,i=0;t.eachResidue(function(t){t.sstruc===e?i+=1:(1===i&&(t.index-=1,t.sstruc="c"),i=1,e=t.sstruc)})}}),de.Debug&&Yp.timeEnd("calculateSecondaryStructure")}),wb="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function Sb(t){for(var e=wb.length,i=t,r=0,n=wb[i%e];e<=i;)i=Math.floor(i/e),n+=wb[i%e],r+=1;return 5<=r&&Yp.warn("chainname overflow"),n}function Ab(t,a){void 0===a&&(a=!1),de.Debug&&Yp.time("calculateChainnames");var e=!0;if(t.eachChain(function(t){t.chainname&&(e=!1)}),e){var s=t.modelStore,c=t.chainStore,u=t.residueStore,h=t.getAtomProxy(),l=t.getAtomProxy(),p=0,d=0,f=0,m=0,g=[];1===u.count?g.push({mIndex:0,chainname:"A",rStart:0,rCount:1}):t.eachResidueN(2,function(t,e){var i=!1,r=t.backboneType,n=e.backboneType,o=og;m=t.index,t.modelIndex!==e.modelIndex?i=!0:t.moleculeType!==e.moleculeType?i=!0:r!==o&&r===n&&(h.index=t.backboneEndAtomIndex,l.index=e.backboneStartAtomIndex,i=a?!h.hasBondTo(l):!h.connectedTo(l)),i||e.index!==u.count-1||(i=!0,m=e.index),i&&(g.push({mIndex:d,chainname:Sb(p),rStart:f,rCount:m-f+1}),p+=1,t.modelIndex!==e.modelIndex&&(p=0,d+=1),e.index===u.count-1&&m!==e.index&&g.push({mIndex:d,chainname:Sb(p),rStart:u.count-1,rCount:1}),f=e.index,m=e.index)}),c.count=0,g.forEach(function(t){!function(t,e,i,r){for(var n=c.count,o=0;o<r;++o)u.chainIndex[i+o]=n;c.growIfFull(),c.modelIndex[n]=t,c.setChainname(n,e),c.setChainid(n,e),c.residueOffset[n]=i,c.residueCount[n]=r,c.count+=1,s.chainCount[t]+=1}(t.mIndex,t.chainname,t.rStart,t.rCount)});var i=0;t.eachModel(function(t){s.chainOffset[t.index]=i,s.chainCount[t.index]-=1,i+=s.chainCount[t.index]})}de.Debug&&Yp.timeEnd("calculateChainnames")}function Mb(t){de.Debug&&Yp.time("calculateBonds"),Tb(t),Cb(t),de.Debug&&Yp.timeEnd("calculateBonds")}var Eb={"HIS|CD2|CG":2,"HIS|CE1|ND1":2,"ARG|CZ|NH2":2,"PHE|CE1|CZ":2,"PHE|CD2|CE2":2,"PHE|CD1|CG":2,"TRP|CD1|CG":2,"TRP|CD2|CE2":2,"TRP|CE3|CZ3":2,"TRP|CH2|CZ2":2,"ASN|CG|OD1":2,"GLN|CD|OE1":2,"TYR|CD1|CG":2,"TYR|CD2|CE2":2,"TYR|CE1|CZ":2,"ASP|CG|OD1":2,"GLU|CD|OE1":2,"G|C8|N7":2,"G|C4|C5":2,"G|C2|N3":2,"G|C6|O6":2,"C|C4|N3":2,"C|C5|C6":2,"C|C2|O2":2,"A|C2|N3":2,"A|C6|N1":2,"A|C4|C5":2,"A|C8|N7":2,"U|C5|C6":2,"U|C2|O2":2,"U|C4|O4":2,"DG|C8|N7":2,"DG|C4|C5":2,"DG|C2|N3":2,"DG|C6|O6":2,"DC|C4|N3":2,"DC|C5|C6":2,"DC|C2|O2":2,"DA|C2|N3":2,"DA|C6|N1":2,"DA|C4|C5":2,"DA|C8|N7":2,"DT|C5|C6":2,"DT|C2|O2":2,"DT|C4|O4":2};function Pb(t,e,i){var r;return e=(r=e<i?[e,i]:[i,e])[0],i=r[1],wg.includes(t)&&"C"===e&&"O"===i?2:Eg.includes(t)&&"OP1"===e&&"P"===i?2:Eb[t+"|"+e+"|"+i]||1}function Tb(t,g){void 0===g&&(g=!1),de.Debug&&Yp.time("calculateBondsWithin");var v=t.bondStore,y=t.rungBondStore,b=t.getAtomSet(!1),x=t.getAtomProxy(),_=t.getAtomProxy(),w=t.getBondProxy(),S=g?null:function(t){de.Debug&&Yp.time("calculateAtomBondMap");var r=[];return t.eachBond(function(t){var e=t.atomIndex1,i=t.atomIndex2;void 0===r[e]&&(r[e]=[]),r[e][i]=t.index}),de.Debug&&Yp.timeEnd("calculateAtomBondMap"),r}(t);t.eachResidue(function(t){if(!g&&S){var e=t.atomCount,i=t.atomOffset;if(500<e)return void Yp.warn("more than 500 atoms, skip residue for auto-bonding",t.qualifiedName());for(var r=t.getBonds(),n=r.atomIndices1,o=r.atomIndices2,a=r.bondOrders,s=n.length,c=0;c<s;++c){var u=n[c],h=o[c],l=u+i,p=h+i,d=S[l];if(void 0!==d&&void 0!==d[p])w.index=d[p],a[t.residueType.getBondIndex(u,h)]=w.bondOrder;else x.index=l,_.index=p,v.addBond(x,_,a[c])}}var f=t.residueType.traceAtomIndex,m=t.residueType.rungEndAtomIndex;-1!==f&&-1!==m&&(x.index=t.traceAtomIndex,_.index=t.rungEndAtomIndex,y.addBond(x,_),b.set(x.index),b.set(_.index))}),t.atomSetDict.rung=b,de.Debug&&Yp.timeEnd("calculateBondsWithin")}function Cb(t,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1),de.Debug&&Yp.time("calculateBondsBetween");var a=t.bondStore,s=t.backboneBondStore,c=t.getAtomSet(!1),u=t.getAtomProxy(),h=t.getAtomProxy();function e(t,e){var i=t.backboneType,r=e.backboneType;i!==og&&i===r&&(u.index=t.backboneEndAtomIndex,h.index=e.backboneStartAtomIndex,(o&&u.hasBondTo(h)||u.connectedTo(h))&&(n||a.addBond(u,h,1),u.index=t.traceAtomIndex,h.index=e.traceAtomIndex,s.addBond(u,h),c.set(u.index),c.set(h.index)))}0===s.count&&s.resize(t.residueStore.count),t.eachResidueN(2,e);var i=t.getResidueProxy(),r=t.getResidueProxy();if(t.eachChain(function(t){0!==t.residueCount&&(i.index=t.residueOffset,r.index=t.residueOffset+t.residueCount-1,e(r,i))}),t.atomSetDict.backbone=c,!n){de.Debug&&Yp.time("calculateBondsBetween inter");var l=t.spatialHash;t.eachResidue(function(t){t.backboneType!==og||t.isWater()||t.eachAtom(function(e){e.isMetal()||l.eachWithin(e.x,e.y,e.z,4,function(t){h.index=t,e.modelIndex!==h.modelIndex||e.residueIndex===h.residueIndex||h.isMetal()||a.addBondIfConnected(e,h,1)})})}),de.Debug&&Yp.timeEnd("calculateBondsBetween inter")}de.Debug&&Yp.timeEnd("calculateBondsBetween")}function Ib(t){if(t.unitcell){de.Debug&&Yp.time("buildUnitcellAssembly");var n=t.unitcell,o=t.center.clone().applyMatrix4(n.cartToFrac),a=o.clone().floor(),s=function(t){var e=lb[t],i={};if(void 0===e)return console.warn("spacegroup '"+t+"' not found in symop library"),i;for(var r=[],n=0,o=e.length;n<o;n+=3){for(var a=[],s=0;s<3;++s)a.push(hb[e[n+s]]);r.push(a)}return r.forEach(function(t){var s=0,e=(new ei).set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),c=e.elements;i[t.toString()]=e,t.forEach(function(t){for(var e=!1,i=!1,r=0,n=t.length;r<n;++r){var o=t[r];if("-"===o)e=!0;else if("+"===o)e=!1;else if("/"===o)i=!0;else if("X"===o)c[0+s]=e?-1:1;else if("Y"===o)c[4+s]=e?-1:1;else if("Z"===o)c[8+s]=e?-1:1;else if(pb.test(o)){var a=parseInt(o);i?c[12+s]/=a:c[12+s]=a}else Yp.warn("getSymmetryOperations: unknown token '"+o+"'")}s+=1})}),i}(n.spacegroup),c=new ri,u=new ri,e=new fb("UNITCELL"),i=m(),r=[];if(t.biomolDict.NCS){r.push.apply(r,[new ei].concat(t.biomolDict.NCS.partList[0].matrixList));var h=[];i.forEach(function(e){r.forEach(function(t){h.push(e.clone().multiply(t))})}),e.addPart(h)}else e.addPart(i);var l=new ri,p=new fb("SUPERCELL"),d=Array.prototype.concat.call(m(l.set(1,0,0)),m(l.set(0,1,0)),m(l.set(0,0,1)),m(l.set(-1,0,0)),m(l.set(0,-1,0)),m(l.set(0,0,-1)),m(l.set(1,1,0)),m(l.set(1,0,1)),m(l.set(0,1,1)),m(l.set(-1,-1,0)),m(l.set(-1,0,-1)),m(l.set(0,-1,-1)),m(l.set(1,-1,-1)),m(l.set(1,1,-1)),m(l.set(1,-1,1)),m(l.set(-1,1,1)),m(l.set(-1,-1,1)),m(l.set(-1,1,-1)),m(l.set(0,1,-1)),m(l.set(0,-1,1)),m(l.set(1,0,-1)),m(l.set(-1,0,1)),m(l.set(1,-1,0)),m(l.set(-1,1,0)),m(),m(l.set(1,1,1)),m(l.set(-1,-1,-1)));if(t.biomolDict.NCS){var f=[];d.forEach(function(e){r.forEach(function(t){f.push(e.clone().multiply(t))})}),p.addPart(f)}else p.addPart(d);t.biomolDict.UNITCELL=e,t.biomolDict.SUPERCELL=p,de.Debug&&Yp.timeEnd("buildUnitcellAssembly")}function m(i){var r=[];return Object.keys(s).forEach(function(t){var e=s[t].clone();c.copy(o).applyMatrix4(e).floor(),u.setFromMatrixPosition(e),u.sub(c),u.add(a),i&&u.add(i),e.setPosition(u),e.multiplyMatrices(n.fracToCart,e),e.multiply(n.cartToFrac),r.push(e)}),r}}var Ob=["H","C","O","N","S","P"],Lb=["NA","CL","FE"];function Rb(t){var e=t.trim().toUpperCase();parseInt(e.charAt(0))&&(e=e.substr(1)),parseInt(e.charAt(0))&&(e=e.substr(1));var i=e.length;if(0===i)return"";if(1===i)return e;if(2===i){if(-1!==Lb.indexOf(e))return e;if(-1!==Ob.indexOf(e[0]))return e[0]}return 3<=i&&-1!==Ob.indexOf(e[0])?e[0]:""}function Db(t){var e=t.bondHash,m=e.countArray,g=e.offsetArray,v=e.indexArray,y=t.getBondProxy();t.eachResidue(function(t){var e=t.residueType;if(void 0===e.bonds){var u=t.atomOffset,h=[],l=[],p=[],d={},f=u+t.atomCount;t.eachAtom(function(t){for(var e=t.index,i=g[e],r=0,n=m[e];r<n;++r){y.index=v[i+r];var o=y.atomIndex1;if(!(o<u||f<=o)){var a=y.atomIndex2;if(!(a<u||f<=a)){if(a<o){var s=a;a=o,o=s}var c=o+"|"+a;void 0===d[c]&&(d[c]=!0,h.push(o-u),l.push(a-u),p.push(y.bondOrder))}}}}),e.bonds={atomIndices1:h,atomIndices2:l,bondOrders:p}}})}var kb=[3,11,19,37,55,87],Bb=[4,12,20,38,56,88],Nb=[6,15,16,34],Fb=[1,7,8,9,17,35,53],zb=[2,10,18,36,54,86],Ub=[13,30,31,48,49,50,80,81,82,83,84,85,112],jb=[5,14,32,33,51,52,85],Gb=[9,17,35,53,85],Vb=function(t,e,i){this.structure=t,this.atomname=e,i=i||Rb(e),this.element=i,this.number=fg[i]||0,this.vdw=mg[this.number]||2,this.covalent=gg[this.number]||1.6};Vb.prototype.getDefaultValence=function(){var t=vg[this.number];return t?t[0]:-1},Vb.prototype.getValenceList=function(){return vg[this.number]||[]},Vb.prototype.getOuterShellElectronCount=function(){return yg[this.number]||2},Vb.prototype.isMetal=function(){return this.isAlkaliMetal()||this.isAlkalineEarthMetal()||this.isLanthanide()||this.isActinide()||this.isTransitionMetal()||this.isPostTransitionMetal()},Vb.prototype.isNonmetal=function(){return this.isDiatomicNonmetal()||this.isPolyatomicNonmetal()||this.isNobleGas()},Vb.prototype.isMetalloid=function(){return jb.includes(this.number)},Vb.prototype.isHalogen=function(){return Gb.includes(this.number)},Vb.prototype.isDiatomicNonmetal=function(){return Fb.includes(this.number)},Vb.prototype.isPolyatomicNonmetal=function(){return Nb.includes(this.number)},Vb.prototype.isAlkaliMetal=function(){return kb.includes(this.number)},Vb.prototype.isAlkalineEarthMetal=function(){return Bb.includes(this.number)},Vb.prototype.isNobleGas=function(){return zb.includes(this.number)},Vb.prototype.isTransitionMetal=function(){var t=this.number;return 21<=t&&t<=29||39<=t&&t<=47||72<=t&&t<=79||104<=t&&t<=108},Vb.prototype.isPostTransitionMetal=function(){return Ub.includes(this.number)},Vb.prototype.isLanthanide=function(){return 57<=this.number&&this.number<=71},Vb.prototype.isActinide=function(){return 89<=this.number&&this.number<=103};var Hb=function(t){this.structure=t,this.dict={},this.list=[],this.structure=t};Hb.prototype.add=function(t,e){t=t.toUpperCase(),e=e?e.toUpperCase():Rb(t);var i=t+"|"+e,r=this.dict[i];if(void 0===r){var n=new Vb(this.structure,t,e);r=this.list.length,this.dict[i]=r,this.list.push(n)}return r},Hb.prototype.get=function(t){return this.list[t]};var $b=function(t,e,i,r,n,o){this.structure=t,this.bondReferenceAtomIndices=[],this.resname=e,this.atomTypeIdList=i,this.hetero=r?1:0,this.chemCompType=n,this.bonds=o,this.atomCount=i.length,this.moleculeType=this.getMoleculeType(),this.backboneType=this.getBackboneType(0),this.backboneEndType=this.getBackboneType(-1),this.backboneStartType=this.getBackboneType(1),this.backboneIndexList=this.getBackboneIndexList();var a=Lg[this.backboneType],s=Lg[this.backboneStartType],c=Lg[this.backboneEndType],u=this.getAtomIndexByName(a.trace);this.traceAtomIndex=bl(u,-1);var h=this.getAtomIndexByName(a.direction1);this.direction1AtomIndex=bl(h,-1);var l=this.getAtomIndexByName(a.direction2);this.direction2AtomIndex=bl(l,-1);var p=this.getAtomIndexByName(s.backboneStart);this.backboneStartAtomIndex=bl(p,-1);var d,f=this.getAtomIndexByName(c.backboneEnd);this.backboneEndAtomIndex=bl(f,-1),d=Mg.includes(e)?this.getAtomIndexByName("N1"):this.getAtomIndexByName("N3"),this.rungEndAtomIndex=bl(d,-1)};$b.prototype.getBackboneIndexList=function(){var t,e=[];switch(this.moleculeType){case 3:t=Ig;break;case 4:case 5:t=Og;break;default:return e}for(var i=this.structure.atomMap,r=this.atomTypeIdList,n=0,o=this.atomCount;n<o;++n){var a=i.get(r[n]);t.includes(a.atomname)&&e.push(n)}return e},$b.prototype.getMoleculeType=function(){return this.isProtein()?3:this.isRna()?4:this.isDna()?5:this.isWater()?1:this.isIon()?2:this.isSaccharide()?6:0},$b.prototype.getBackboneType=function(t){return this.hasProteinBackbone(t)?1:this.hasRnaBackbone(t)?2:this.hasDnaBackbone(t)?3:this.hasCgProteinBackbone(t)?4:this.hasCgRnaBackbone(t)?5:this.hasCgDnaBackbone(t)?6:og},$b.prototype.isProtein=function(){return this.chemCompType?ag.includes(this.chemCompType):this.hasAtomWithName("CA","C","N")||wg.includes(this.resname)},$b.prototype.isCg=function(){var t=this.backboneType;return 4===t||5===t||6===t},$b.prototype.isNucleic=function(){return this.isRna()||this.isDna()},$b.prototype.isRna=function(){return this.chemCompType?sg.includes(this.chemCompType):1!==this.hetero&&(this.hasAtomWithName(["P","O3'","O3*"],["C4'","C4*"],["O2'","O2*","F2'","F2*"])||Sg.includes(this.resname)&&this.hasAtomWithName(["O2'","O2*","F2'","F2*"]))},$b.prototype.isDna=function(){return this.chemCompType?cg.includes(this.chemCompType):1!==this.hetero&&(this.hasAtomWithName(["P","O3'","O3*"],["C3'","C3*"])&&!this.hasAtomWithName(["O2'","O2*","F2'","F2*"])||Ag.includes(this.resname))},$b.prototype.isHetero=function(){return 1===this.hetero},$b.prototype.isIon=function(){return Tg.includes(this.resname)},$b.prototype.isWater=function(){return Pg.includes(this.resname)},$b.prototype.isSaccharide=function(){return this.chemCompType?ug.includes(this.chemCompType):Cg.includes(this.resname)},$b.prototype.isStandardAminoacid=function(){return wg.includes(this.resname)},$b.prototype.isStandardBase=function(){return Eg.includes(this.resname)},$b.prototype.hasBackboneAtoms=function(t,e){var i=Lg[e];return-1===t?this.hasAtomWithName(i.trace,i.backboneEnd,i.direction1,i.direction2):0===t?this.hasAtomWithName(i.trace,i.direction1,i.direction2):1===t?this.hasAtomWithName(i.trace,i.backboneStart,i.direction1,i.direction2):this.hasAtomWithName(i.trace,i.backboneStart,i.backboneEnd,i.direction1,i.direction2)},$b.prototype.hasProteinBackbone=function(t){return this.isProtein()&&this.hasBackboneAtoms(t,1)},$b.prototype.hasRnaBackbone=function(t){return this.isRna()&&this.hasBackboneAtoms(t,2)},$b.prototype.hasDnaBackbone=function(t){return this.isDna()&&this.hasBackboneAtoms(t,3)},$b.prototype.hasCgProteinBackbone=function(t){return this.atomCount<7&&this.isProtein()&&this.hasBackboneAtoms(t,4)},$b.prototype.hasCgRnaBackbone=function(t){return this.atomCount<11&&this.isRna()&&this.hasBackboneAtoms(t,5)},$b.prototype.hasCgDnaBackbone=function(t){return this.atomCount<11&&this.isDna()&&this.hasBackboneAtoms(t,6)},$b.prototype.hasBackbone=function(t){return this.hasProteinBackbone(t)||this.hasRnaBackbone(t)||this.hasDnaBackbone(t)||this.hasCgProteinBackbone(t)||this.hasCgRnaBackbone(t)||this.hasCgDnaBackbone(t)},$b.prototype.getAtomIndexByName=function(t){var e=this.atomCount,i=this.structure.atomMap,r=this.atomTypeIdList;if(Array.isArray(t))for(var n=0;n<e;++n){var o=r[n];if(t.includes(i.get(o).atomname))return n}else for(var a=0;a<e;++a){var s=r[a];if(t===i.get(s).atomname)return a}},$b.prototype.hasAtomWithName=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=t.length,r=0;r<i;++r)if(void 0!==t[r]&&void 0===this.getAtomIndexByName(t[r]))return!1;return!0},$b.prototype.getBonds=function(t){return void 0===this.bonds&&(this.bonds=function(t){var e=t.structure,i=e.getAtomProxy(),r=e.getAtomProxy(),n=t.atomCount,o=t.atomOffset,a=o+n-1,s=[],c=[],u=[];if(500<n)de.Debug&&Yp.warn("more than 500 atoms, skip residue for auto-bonding",t.qualifiedName());else if(50<n)for(var h=new ub(t,!0),l=t.isCg()?1.2:2.3,p=o;p<a;++p){i.index=p;for(var d=i.covalent+l+.3,f=h.nearest(i,1/0,d*d),m=f.length,g=0;g<m;++g)r.index=f[g].index,i.index<r.index&&i.connectedTo(r)&&(s.push(i.index-o),c.push(r.index-o),u.push(Pb(i.resname,i.atomname,r.atomname)))}else for(var v=o;v<a;++v)for(var y=(i.index=v)+1;y<=a;++y)r.index=y,i.connectedTo(r)&&(s.push(v-o),c.push(y-o),u.push(Pb(i.resname,i.atomname,r.atomname)));return{atomIndices1:s,atomIndices2:c,bondOrders:u}}(t)),this.bonds},$b.prototype.getRings=function(){return void 0===this.rings&&this.calculateRings(),this.rings},$b.prototype.getBondGraph=function(){return void 0===this.bondGraph&&this.calculateBondGraph(),this.bondGraph},$b.prototype.getAromatic=function(t){return void 0===this.aromaticAtoms&&this.calculateAromatic(this.structure.getResidueProxy(t.residueIndex)),this.aromaticAtoms},$b.prototype.getAromaticRings=function(t){return void 0===this.aromaticRings&&this.calculateAromatic(t),this.aromaticRings},$b.prototype.calculateBondGraph=function(){for(var t=this.bondGraph={},e=this.getBonds(),i=e.atomIndices1.length,r=e.atomIndices1,n=e.atomIndices2,o=0;o<i;++o){var a=r[o],s=n[o];(t[a]=t[a]||[]).push(s),(t[s]=t[s]||[]).push(a)}},$b.prototype.calculateRings=function(){for(var t=function(t,e){for(var i={count:e,visited:new Int32Array(e),queue:new Int32Array(e),pred:new Int32Array(e),left:new Int32Array(Zb),right:new Int32Array(Zb),color:new Int32Array(e),currentColor:0,rings:[],atomRings:[],bonds:t},r=0;r<e;r++)i.visited[r]=-1,i.pred[r]=-1;return i}(this.getBondGraph(),this.atomCount),e=0;e<t.count;e++)0<=t.visited[e]||Yb(t,e);this.rings={atomRings:t.atomRings,rings:t.rings}},$b.prototype.isAromatic=function(t){return this.aromaticAtoms=this.getAromatic(t),1===this.aromaticAtoms[t.index-t.residueAtomOffset]},$b.prototype.calculateAromatic=function(e){var i=this,r=this.aromaticAtoms=new Uint8Array(this.atomCount),t=this.getRings().rings,n=t.map(function(t){return function(t){if(t.some(function(t){return!Wb.includes(t.number)}))return!1;var e=0,i=new kv(3,t.length),r=i.data;return t.forEach(function(t){r[e+0]=t.x,r[e+1]=t.y,r[e+2]=t.z,e+=3}),new $y(i).vecC.length()<Xb}(t.map(function(t){return i.structure.getAtomProxy(t+e.atomOffset)}))}),o=this.aromaticRings=[];t.forEach(function(t,e){n[e]&&(o.push(t),t.forEach(function(t){return r[t]=1}))})},$b.prototype.assignBondReferenceAtomIndices=function(){for(var t=this.getBondGraph(),e=this.getRings(),i=e.atomRings,r=e.rings,n=this.bonds,o=n.atomIndices1,a=n.atomIndices2,s=n.bondOrders,c=this.bondReferenceAtomIndices,u=n.atomIndices1.length,h=c.length=0;h<u;++h)if(!(s[h]<=1)){var l=void 0,p=o[h],d=a[h],f=i[p],m=i[d];if(f&&m)for(var g=0;g<f.length;g++)if(-1!==m.indexOf(f[g])){l=r[f[g]];break}if(1<t[p].length)for(var v=0;v<t[p].length;++v){var y=t[p][v];if(y!==d&&(void 0===l||-1!==l.indexOf(y))){c[h]=y;break}}else if(1<t[d].length)for(var b=0;b<t[d].length;++b){var x=t[d][b];if(x!==p&&(void 0===l||-1!==l.indexOf(x))){c[h]=x;break}}}},$b.prototype.getBondIndex=function(t,e){for(var i=this.bonds,r=i.atomIndices1,n=i.atomIndices2,o=r.indexOf(t),a=n.indexOf(e),s=a;-1!==o;){for(;-1!==a;){if(o===a)return o;a=n.indexOf(e,a+1)}o=r.indexOf(t,o+1),a=s}},$b.prototype.getBondReferenceAtomIndex=function(t,e){var i=this.getBondIndex(t,e);if(void 0!==i)return 0===this.bondReferenceAtomIndices.length&&this.assignBondReferenceAtomIndices(),this.bondReferenceAtomIndices[i]};var Wb=[5,6,7,8,14,15,16,32,33,50,51,83],Xb=.05;function qb(t,e,i){if(!(i<e)){for(var r=t.pred,n=t.color,o=t.left,a=t.right,s=++t.currentColor,c=e,u=0;u<Zb&&(n[c]=s,!((c=r[c])<0));u++);var h=0,l=0,p=!1,d=0;c=i;for(var f=0;f<Zb;f++){if(n[c]===s){d=c,p=!0;break}if((c=r[a[l++]=c])<0)break}if(p){c=e;for(var m=0;m<Zb&&d!==(o[h++]=c)&&!((c=r[c])<0);m++);for(var g=h+l,v=new Array(g),y=0,b=0;b<h;b++)v[y++]=o[b];for(var x=l-1;0<=x;x--)v[y++]=a[x];for(var _=t.rings.length,w=0;w<g;++w){var S=v[w];t.atomRings[S]?t.atomRings[S].push(_):t.atomRings[S]=[_]}t.rings.push(v)}}}function Yb(t,e){var i=t.bonds,r=t.visited,n=t.queue,o=t.pred;r[e]=1,n[0]=e;for(var a=0,s=1;a<s;){var c=n[a++];if(void 0!==i[c])for(var u=i[c].length,h=0;h<u;h++){var l=i[c][h];0<r[l]?o[l]!==c&&o[c]!==l&&qb(t,c,l):(r[l]=1,o[n[s++]=l]=c)}}}var Zb=4;var Kb=function(t){this.structure=t,this.dict={},this.list=[]};Kb.prototype.add=function(t,e,i,r,n){void 0===r&&(r=""),t=t.toUpperCase();var o,a,s=(o=i,void 0===(a=r)&&(a=""),t+"|"+e.join(",")+"|"+(o?1:0)+"|"+a),c=this.dict[s];if(void 0===c){var u=new $b(this.structure,t,e,i,r,n);c=this.list.length,this.dict[s]=c,this.list.push(u)}return c},Kb.prototype.get=function(t){return this.list[t]};var Jb=function(t,e){void 0===e&&(e=0),this.structure=t,this.index=e,this.bondStore=t.bondStore,this._v12=new ri,this._v13=new ri,this._ap1=this.structure.getAtomProxy(),this._ap2=this.structure.getAtomProxy(),this._ap3=this.structure.getAtomProxy()},Qb={atom1:{configurable:!0},atom2:{configurable:!0},atomIndex1:{configurable:!0},atomIndex2:{configurable:!0},bondOrder:{configurable:!0}};Qb.atom1.get=function(){return this.structure.getAtomProxy(this.atomIndex1)},Qb.atom2.get=function(){return this.structure.getAtomProxy(this.atomIndex2)},Qb.atomIndex1.get=function(){return this.bondStore.atomIndex1[this.index]},Qb.atomIndex1.set=function(t){this.bondStore.atomIndex1[this.index]=t},Qb.atomIndex2.get=function(){return this.bondStore.atomIndex2[this.index]},Qb.atomIndex2.set=function(t){this.bondStore.atomIndex2[this.index]=t},Qb.bondOrder.get=function(){return this.bondStore.bondOrder[this.index]},Qb.bondOrder.set=function(t){this.bondStore.bondOrder[this.index]=t},Jb.prototype.getOtherAtomIndex=function(t){return t===this.atomIndex1?this.atomIndex2:this.atomIndex1},Jb.prototype.getOtherAtom=function(t){return this.structure.getAtomProxy(this.getOtherAtomIndex(t.index))},Jb.prototype.getReferenceAtomIndex=function(){var t=this._ap1,e=this._ap2;if(t.index=this.atomIndex1,e.index=this.atomIndex2,t.residueIndex===e.residueIndex){var i=t.index-t.residueAtomOffset,r=e.index-e.residueAtomOffset,n=t.residueType.getBondReferenceAtomIndex(i,r);if(void 0!==n)return n+t.residueAtomOffset;console.warn("No reference atom found",t.index,e.index)}},Jb.prototype.calculateShiftDir=function(t){void 0===t&&(t=new ri);var e=this._ap1,i=this._ap2,r=this._ap3,n=this._v12,o=this._v13;e.index=this.atomIndex1,i.index=this.atomIndex2;var a=this.getReferenceAtomIndex();n.subVectors(e,i).normalize(),void 0!==a?(r.index=a,o.subVectors(e,r)):o.copy(e),o.normalize();var s=n.dot(o);return 1-Math.abs(s)<1e-5&&(o.set(1,0,0),s=n.dot(o),1-Math.abs(s)<1e-5&&(o.set(0,1,0),s=n.dot(o))),t.copy(o.sub(n.multiplyScalar(s))).normalize()},Jb.prototype.qualifiedName=function(){return this.atomIndex1+"="+this.atomIndex2},Jb.prototype.clone=function(){return new Jb(this.structure,this.index)},Jb.prototype.toObject=function(){return{atomIndex1:this.atomIndex1,atomIndex2:this.atomIndex2,bondOrder:this.bondOrder}},Object.defineProperties(Jb.prototype,Qb);var tx=function(t,e){void 0===e&&(e=0),this.structure=t,this.index=e,this.chainStore=t.chainStore,this.residueStore=t.residueStore,this.atomStore=t.atomStore,this.residueMap=t.residueMap,this.atomMap=t.atomMap},ex={entity:{configurable:!0},entityIndex:{configurable:!0},chain:{configurable:!0},chainIndex:{configurable:!0},atomOffset:{configurable:!0},atomCount:{configurable:!0},atomEnd:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},resno:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},residueType:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},moleculeType:{configurable:!0},backboneType:{configurable:!0},backboneStartType:{configurable:!0},backboneEndType:{configurable:!0},traceAtomIndex:{configurable:!0},direction1AtomIndex:{configurable:!0},direction2AtomIndex:{configurable:!0},backboneStartAtomIndex:{configurable:!0},backboneEndAtomIndex:{configurable:!0},rungEndAtomIndex:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0}};ex.entity.get=function(){return this.structure.entityList[this.entityIndex]},ex.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},ex.chain.get=function(){return this.structure.getChainProxy(this.chainIndex)},ex.chainIndex.get=function(){return this.residueStore.chainIndex[this.index]},ex.chainIndex.set=function(t){this.residueStore.chainIndex[this.index]=t},ex.atomOffset.get=function(){return this.residueStore.atomOffset[this.index]},ex.atomOffset.set=function(t){this.residueStore.atomOffset[this.index]=t},ex.atomCount.get=function(){return this.residueStore.atomCount[this.index]},ex.atomCount.set=function(t){this.residueStore.atomCount[this.index]=t},ex.atomEnd.get=function(){return this.atomOffset+this.atomCount-1},ex.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},ex.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},ex.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},ex.resno.get=function(){return this.residueStore.resno[this.index]},ex.resno.set=function(t){this.residueStore.resno[this.index]=t},ex.sstruc.get=function(){return this.residueStore.getSstruc(this.index)},ex.sstruc.set=function(t){this.residueStore.setSstruc(this.index,t)},ex.inscode.get=function(){return this.residueStore.getInscode(this.index)},ex.inscode.set=function(t){this.residueStore.setInscode(this.index,t)},ex.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.index])},ex.resname.get=function(){return this.residueType.resname},ex.hetero.get=function(){return this.residueType.hetero},ex.moleculeType.get=function(){return this.residueType.moleculeType},ex.backboneType.get=function(){return this.residueType.backboneType},ex.backboneStartType.get=function(){return this.residueType.backboneStartType},ex.backboneEndType.get=function(){return this.residueType.backboneEndType},ex.traceAtomIndex.get=function(){return this.residueType.traceAtomIndex+this.atomOffset},ex.direction1AtomIndex.get=function(){return this.residueType.direction1AtomIndex+this.atomOffset},ex.direction2AtomIndex.get=function(){return this.residueType.direction2AtomIndex+this.atomOffset},ex.backboneStartAtomIndex.get=function(){return this.residueType.backboneStartAtomIndex+this.atomOffset},ex.backboneEndAtomIndex.get=function(){return this.residueType.backboneEndAtomIndex+this.atomOffset},ex.rungEndAtomIndex.get=function(){return this.residueType.rungEndAtomIndex+this.atomOffset},ex.x.get=function(){for(var t=0,e=this.atomOffset;e<=this.atomEnd;++e)t+=this.atomStore.x[e];return t/this.atomCount},ex.y.get=function(){for(var t=0,e=this.atomOffset;e<=this.atomEnd;++e)t+=this.atomStore.y[e];return t/this.atomCount},ex.z.get=function(){for(var t=0,e=this.atomOffset;e<=this.atomEnd;++e)t+=this.atomStore.z[e];return t/this.atomCount},tx.prototype.eachAtom=function(t,e){var i=this.atomCount,r=this.atomOffset,n=this.structure._ap,o=r+i;if(e&&e.atomOnlyTest)for(var a=e.atomOnlyTest,s=r;s<o;++s)n.index=s,a(n)&&t(n);else for(var c=r;c<o;++c)n.index=c,t(n)},tx.prototype.positionToArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e+0]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},tx.prototype.isProtein=function(){return 3===this.residueType.moleculeType},tx.prototype.isNucleic=function(){var t=this.residueType.moleculeType;return 4===t||5===t},tx.prototype.isRna=function(){return 4===this.residueType.moleculeType},tx.prototype.isDna=function(){return 5===this.residueType.moleculeType},tx.prototype.isCg=function(){var t=this.residueType.backboneType;return 4===t||5===t||6===t},tx.prototype.isPolymer=function(){if(0<this.structure.entityList.length)return this.entity.isPolymer();var t=this.residueType.moleculeType;return 3===t||4===t||5===t},tx.prototype.isHetero=function(){return 1===this.residueType.hetero},tx.prototype.isWater=function(){return 1===this.residueType.moleculeType},tx.prototype.isIon=function(){return 2===this.residueType.moleculeType},tx.prototype.isSaccharide=function(){return 6===this.residueType.moleculeType},tx.prototype.isStandardAminoacid=function(){return this.residueType.isStandardAminoacid()},tx.prototype.isStandardBase=function(){return this.residueType.isStandardBase()},tx.prototype.isHelix=function(){return lg.includes(this.sstruc)},tx.prototype.isSheet=function(){return pg.includes(this.sstruc)},tx.prototype.isTurn=function(){return dg.includes(this.sstruc)&&this.isProtein()},tx.prototype.getAtomType=function(t){return this.atomMap.get(this.atomStore.atomTypeId[t])},tx.prototype.getResname1=function(){return _g[this.resname.toUpperCase()]||"X"},tx.prototype.getBackboneType=function(t){switch(t){case-1:return this.residueType.backboneStartType;case 1:return this.residueType.backboneEndType;default:return this.residueType.backboneType}},tx.prototype.getAtomIndexByName=function(t){var e=this.residueType.getAtomIndexByName(t);return void 0!==e&&(e+=this.atomOffset),e},tx.prototype.hasAtomWithName=function(t){return this.residueType.hasAtomWithName(t)},tx.prototype.getAtomnameList=function(){console.warn("getAtomnameList - might be expensive");for(var t=this.atomCount,e=this.atomOffset,i=new Array(t),r=0;r<t;++r)i[r]=this.getAtomType(e+r).atomname;return i},tx.prototype.connectedTo=function(t){var e=this.structure.getAtomProxy(this.backboneEndAtomIndex),i=this.structure.getAtomProxy(t.backboneStartAtomIndex);return!(!e||!i)&&e.connectedTo(i)},tx.prototype.getNextConnectedResidue=function(){var t=this.chainStore.residueOffset[this.chainIndex],e=this.chainStore.residueCount[this.chainIndex],i=this.index+1;if(i<t+e){var r=this.structure.getResidueProxy(i);if(this.connectedTo(r))return r}else if(i===t+e){var n=this.structure.getResidueProxy(t);if(this.connectedTo(n))return n}},tx.prototype.getPreviousConnectedResidue=function(t){var e=this.chainStore.residueOffset[this.chainIndex],i=this.index-1;if(e<=i){var r=bl(t,this.structure.getResidueProxy());if(r.index=i,r.connectedTo(this))return r}else if(i===e-1){var n=this.chainStore.residueCount[this.chainIndex],o=bl(t,this.structure.getResidueProxy());if(o.index=e+n-1,o.connectedTo(this))return o}},tx.prototype.getBonds=function(){return this.residueType.getBonds(this)},tx.prototype.getRings=function(){return this.residueType.getRings()},tx.prototype.getAromaticRings=function(){return this.residueType.getAromaticRings(this)},tx.prototype.qualifiedName=function(t){void 0===t&&(t=!1);var e="";return this.resname&&!t&&(e+="["+this.resname+"]"),void 0!==this.resno&&(e+=this.resno),this.inscode&&(e+="^"+this.inscode),this.chain&&(e+=":"+this.chainname),e+="/"+this.modelIndex},tx.prototype.clone=function(){return new tx(this.structure,this.index)},tx.prototype.toObject=function(){return{index:this.index,chainIndex:this.chainIndex,atomOffset:this.atomOffset,atomCount:this.atomCount,resno:this.resno,resname:this.resname,sstruc:this.sstruc}},Object.defineProperties(tx.prototype,ex);var ix=function(t,e,i){this.structure=t,this.residueIndexStart=e,this.residueIndexEnd=i,this.chainStore=t.chainStore,this.residueStore=t.residueStore,this.atomStore=t.atomStore,this.residueCount=i-e+1;var r=this.structure.getResidueProxy(this.residueIndexStart),n=this.structure.getResidueProxy(this.residueIndexEnd);this.isPrevConnected=void 0!==r.getPreviousConnectedResidue();var o=n.getNextConnectedResidue();this.isNextConnected=void 0!==o,this.isNextNextConnected=void 0!==o&&void 0!==o.getNextConnectedResidue(),this.isCyclic=n.connectedTo(r),this.__residueProxy=this.structure.getResidueProxy()},rx={chainIndex:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0}};rx.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndexStart]},rx.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},rx.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},ix.prototype.isProtein=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isProtein()},ix.prototype.isCg=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isCg()},ix.prototype.isNucleic=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isNucleic()},ix.prototype.getMoleculeType=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.moleculeType},ix.prototype.getBackboneType=function(t){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.getBackboneType(t)},ix.prototype.getAtomIndexByType=function(t,e){this.isCyclic?-1===t?t=this.residueCount-1:t===this.residueCount&&(t=0):(-1!==t||this.isPrevConnected||(t+=1),t!==this.residueCount||this.isNextNextConnected||(t-=1));var i,r=this.__residueProxy;switch(r.index=this.residueIndexStart+t,e){case"trace":i=r.traceAtomIndex;break;case"direction1":i=r.direction1AtomIndex;break;case"direction2":i=r.direction2AtomIndex;break;default:i=r.getAtomIndexByName(e)}return i},ix.prototype.eachAtom=function(e,i){this.eachResidue(function(t){t.eachAtom(e,i)})},ix.prototype.eachAtomN=function(t,e,i){for(var r=this.residueCount,n=new Array(t),o=0;o<t;++o)n[o]=this.structure.getAtomProxy(this.getAtomIndexByType(o,i));e.apply(this,n);for(var a=t;a<r;++a){for(var s=1;s<t;++s)n[s-1].index=n[s].index;n[t-1].index=this.getAtomIndexByType(a,i),e.apply(this,n)}},ix.prototype.eachResidue=function(t){for(var e=this.structure.getResidueProxy(),i=this.residueCount,r=this.residueIndexStart,n=0;n<i;++n)e.index=r+n,t(e)},ix.prototype.qualifiedName=function(){var t=this.structure.getResidueProxy(this.residueIndexStart),e=this.structure.getResidueProxy(this.residueIndexEnd);return t.qualifiedName()+" - "+e.qualifiedName()},Object.defineProperties(ix.prototype,rx);var nx=function(t,e){void 0===e&&(e=0),this.structure=t,this.index=e,this.chainStore=t.chainStore,this.residueStore=t.residueStore},ox={entity:{configurable:!0},model:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},residueOffset:{configurable:!0},residueCount:{configurable:!0},residueEnd:{configurable:!0},atomOffset:{configurable:!0},atomEnd:{configurable:!0},atomCount:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0}};ox.entity.get=function(){return this.structure.entityList[this.entityIndex]},ox.model.get=function(){return this.structure.getModelProxy(this.modelIndex)},ox.entityIndex.get=function(){return this.chainStore.entityIndex[this.index]},ox.entityIndex.set=function(t){this.chainStore.entityIndex[this.index]=t},ox.modelIndex.get=function(){return this.chainStore.modelIndex[this.index]},ox.modelIndex.set=function(t){this.chainStore.modelIndex[this.index]=t},ox.residueOffset.get=function(){return this.chainStore.residueOffset[this.index]},ox.residueOffset.set=function(t){this.chainStore.residueOffset[this.index]=t},ox.residueCount.get=function(){return this.chainStore.residueCount[this.index]},ox.residueCount.set=function(t){this.chainStore.residueCount[this.index]=t},ox.residueEnd.get=function(){return this.residueOffset+this.residueCount-1},ox.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},ox.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},ox.atomCount.get=function(){return 0===this.residueCount?0:this.atomEnd-this.atomOffset+1},ox.chainname.get=function(){return this.chainStore.getChainname(this.index)},ox.chainname.set=function(t){this.chainStore.setChainname(this.index,t)},ox.chainid.get=function(){return this.chainStore.getChainid(this.index)},ox.chainid.set=function(t){this.chainStore.setChainid(this.index,t)},nx.prototype.eachAtom=function(e,i){this.eachResidue(function(t){t.eachAtom(e,i)},i)},nx.prototype.eachResidue=function(t,e){var i=this.residueCount,r=this.residueOffset,n=this.structure._rp,o=r+i;if(e&&e.test){var a=e.residueOnlyTest;if(a)for(var s=r;s<o;++s)n.index=s,a(n)&&t(n);else for(var c=r;c<o;++c)n.index=c,t(n)}else for(var u=r;u<o;++u)n.index=u,t(n)},nx.prototype.eachResidueN=function(t,e){var i=this.residueCount,r=this.residueOffset,n=r+i;if(!(i<t)){for(var o=new Array(t),a=0;a<t;++a)o[a]=this.structure.getResidueProxy(r+a);e.apply(this,o);for(var s=r+t;s<n;++s){for(var c=0;c<t;++c)o[c].index+=1;e.apply(this,o)}}},nx.prototype.eachPolymer=function(t,e){for(var i=0,r=0,n=e?e.residueOnlyTest:void 0,o=this.model.structure,a=this.residueCount,s=this.residueOffset,c=s+a,u=this.structure.getResidueProxy(),h=this.structure.getResidueProxy(s),l=this.structure.getAtomProxy(),p=this.structure.getAtomProxy(),d=!0,f=s+1;f<c;++f){u.index=h.index,h.index=f;var m=d?u.backboneEndType:u.backboneType,g=h.backboneType;d&&(i=u.index,d=!1),r=h.index,m!==og&&m===g?(l.index=u.backboneEndAtomIndex,p.index=h.backboneStartAtomIndex,l&&p&&l.connectedTo(p)&&(!n||n(u)&&n(h))||(1<u.index-i&&t(new ix(o,i,u.index)),i=r)):(m!==og&&1<u.index-i&&t(new ix(o,i,u.index)),i=r)}1<r-i&&this.structure.getResidueProxy(i).backboneEndType&&t(new ix(o,i,r))},nx.prototype.qualifiedName=function(){return":"+this.chainname+"/"+this.modelIndex},nx.prototype.clone=function(){return new nx(this.structure,this.index)},nx.prototype.toObject=function(){return{index:this.index,residueOffset:this.residueOffset,residueCount:this.residueCount,chainname:this.chainname}},Object.defineProperties(nx.prototype,ox);var ax=function(t,e){void 0===e&&(e=0),this.structure=t,this.index=e,this.modelStore=t.modelStore,this.chainStore=t.chainStore,this.residueStore=t.residueStore},sx={chainOffset:{configurable:!0},chainCount:{configurable:!0},residueOffset:{configurable:!0},atomOffset:{configurable:!0},chainEnd:{configurable:!0},residueEnd:{configurable:!0},atomEnd:{configurable:!0},residueCount:{configurable:!0},atomCount:{configurable:!0}};sx.chainOffset.get=function(){return this.modelStore.chainOffset[this.index]},sx.chainOffset.set=function(t){this.modelStore.chainOffset[this.index]=t},sx.chainCount.get=function(){return this.modelStore.chainCount[this.index]},sx.chainCount.set=function(t){this.modelStore.chainCount[this.index]=t},sx.residueOffset.get=function(){return this.chainStore.residueOffset[this.chainOffset]},sx.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},sx.chainEnd.get=function(){return this.chainOffset+this.chainCount-1},sx.residueEnd.get=function(){return this.chainStore.residueOffset[this.chainEnd]+this.chainStore.residueCount[this.chainEnd]-1},sx.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},sx.residueCount.get=function(){return 0===this.chainCount?0:this.residueEnd-this.residueOffset+1},sx.atomCount.get=function(){return 0===this.residueCount?0:this.atomEnd-this.atomOffset+1},ax.prototype.eachAtom=function(e,i){this.eachChain(function(t){t.eachAtom(e,i)},i)},ax.prototype.eachResidue=function(e,i){this.eachChain(function(t){t.eachResidue(e,i)},i)},ax.prototype.eachPolymer=function(e,i){if(i&&i.chainOnlyTest){var r=i.chainOnlyTest;this.eachChain(function(t){r(t)&&t.eachPolymer(e,i)})}else this.eachChain(function(t){t.eachPolymer(e,i)})},ax.prototype.eachChain=function(t,e){var i=this.chainCount,r=this.chainOffset,n=this.structure._cp,o=r+i;if(e&&e.test){var a=e.chainOnlyTest;if(a)for(var s=r;s<o;++s)n.index=s,a(n)&&t(n);else for(var c=r;c<o;++c)n.index=c,t(n)}else for(var u=r;u<o;++u)n.index=u,t(n)},ax.prototype.qualifiedName=function(){return"/"+this.index},ax.prototype.clone=function(){return new ax(this.structure,this.index)},ax.prototype.toObject=function(){return{index:this.index,chainOffset:this.chainOffset,chainCount:this.chainCount}},Object.defineProperties(ax.prototype,sx);var cx=function(t,e){void 0===t&&(t=""),void 0===e&&(e=""),this.signals={refreshed:new op},this.init(t,e)},ux={type:{configurable:!0}};cx.prototype.init=function(t,e){this.name=t,this.path=e,this.title="",this.id="",this.data={structure:this,"@spatialLookup":void 0,"@valenceModel":void 0},this.header={},this.extraData={},this.atomSetCache={},this.atomSetDict={},this.biomolDict={},this.entityList=[],this.unitcell=void 0,this.frames=[],this.boxes=[],this.validation=void 0,this.bondStore=new Yy(0),this.backboneBondStore=new Yy(0),this.rungBondStore=new Yy(0),this.atomStore=new Zy(0),this.residueStore=new Ky(0),this.chainStore=new Jy(0),this.modelStore=new Qy(0),this.atomMap=new Hb(this),this.residueMap=new Kb(this),this.bondHash=void 0,this.spatialHash=void 0,this.atomSet=void 0,this.bondSet=void 0,this.center=new ri,this.boundingBox=new Pi,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy()},ux.type.get=function(){return"Structure"},cx.prototype.finalizeAtoms=function(){this.atomSet=this.getAtomSet(),this.atomCount=this.atomStore.count,this.boundingBox=this.getBoundingBox(void 0,this.boundingBox),this.center=this.boundingBox.getCenter(new ri),this.spatialHash=new Zm(this.atomStore,this.boundingBox)},cx.prototype.finalizeBonds=function(){for(var t in this.bondSet=this.getBondSet(),this.bondCount=this.bondStore.count,this.bondHash=new qy(this.bondStore,this.atomStore.count),this.atomSetCache={},this.atomSetDict.rung||(this.atomSetDict.rung=this.getAtomSet(!1)),this.atomSetDict)this.atomSetCache["__"+t]=this.atomSetDict[t].clone()},cx.prototype.getBondProxy=function(t){return new Jb(this,t)},cx.prototype.getAtomProxy=function(t){return new nb(this,t)},cx.prototype.getResidueProxy=function(t){return new tx(this,t)},cx.prototype.getChainProxy=function(t){return new nx(this,t)},cx.prototype.getModelProxy=function(t){return new ax(this,t)},cx.prototype.getBondSet=function(){var t=this.bondStore.count,e=new tg(t),i=this.atomSet;if(i)if(i.isAllSet())e.setAll();else if(i.isAllClear())e.clearAll();else for(var r=this.getBondProxy(),n=0;n<t;++n)r.index=n,i.isSet(r.atomIndex1,r.atomIndex2)&&e.set(r.index);else e.setAll();return e},cx.prototype.getBackboneBondSet=function(){var t=this.backboneBondStore.count,e=new tg(t),i=this.atomSetCache.__backbone;if(i){var r=this.getBondProxy();r.bondStore=this.backboneBondStore;for(var n=0;n<t;++n)r.index=n,i.isSet(r.atomIndex1,r.atomIndex2)&&e.set(r.index)}else e.setAll();return e},cx.prototype.getRungBondSet=function(){var t=this.rungBondStore.count,e=new tg(t),i=this.atomSetCache.__rung;if(i){var r=this.getBondProxy();r.bondStore=this.rungBondStore;for(var n=0;n<t;++n)r.index=n,i.isSet(r.atomIndex1,r.atomIndex2)&&e.set(r.index)}else e.setAll();return e},cx.prototype.getAtomSet=function(t){var e=this.atomStore.count;if(void 0===t)return new tg(e,!0);if(t instanceof tg)return t;if(!0===t)return new tg(e,!0);if(t&&t.test){var i=t.string;if(i in this.atomSetCache)return this.atomSetCache[i];if(""===i)return new tg(e,!0);var r=new tg(e);return this.eachAtom(function(t){r.set(t.index)},t),this.atomSetCache[i]=r}return!1===t?new tg(e):new tg(e,!0)},cx.prototype.getAtomSetWithinSelection=function(t,e){var i=this.spatialHash,r=this.getAtomSet(!1),n=this.getAtomProxy();return i&&this.getAtomSet(t).forEach(function(t){n.index=t,i.within(n.x,n.y,n.z,e).forEach(function(t){r.set(t)})}),r},cx.prototype.getAtomSetWithinPoint=function(t,e){var i=t,r=this.getAtomSet(!1);return this.spatialHash&&this.spatialHash.within(i.x,i.y,i.z,e).forEach(function(t){r.set(t)}),r},cx.prototype.getAtomSetWithinVolume=function(t,e,i,r,n){var o=new Wy(t,i,r,n),a=o.getDataPosition(),s=a.length,c=o.matrix.getMaxScaleOnAxis(),u=this.getAtomSet(!1);if(!this.spatialHash)return u;for(var h=0;h<s;h+=3)this.spatialHash.within(a[h],a[h+1],a[h+2],c).forEach(function(t){u.set(t)});return u},cx.prototype.getAtomSetWithinGroup=function(t){var i=this.atomStore.residueIndex,r=this.getAtomSet(!1),n=this.getResidueProxy();return this.getAtomSet(t).forEach(function(t){n.index=i[t];for(var e=n.atomOffset;e<=n.atomEnd;++e)r.set(e)}),r},cx.prototype.getSelection=function(){return!1},cx.prototype.getStructure=function(){return this},cx.prototype.eachEntity=function(e,i){this.entityList.forEach(function(t){void 0!==i&&t.getEntityType()!==i||e(t)})},cx.prototype.eachBond=function(e,t){var i,r=this.getBondProxy();if(t&&t.test&&(i=this.getBondSet(),this.bondSet&&i.intersection(this.bondSet)),i)i.forEach(function(t){r.index=t,e(r)});else for(var n=this.bondStore.count,o=0;o<n;++o)r.index=o,e(r)},cx.prototype.eachAtom=function(e,i){if(i&&i.test)this.eachModel(function(t){t.eachAtom(e,i)},i);else for(var t=this.atomStore.count,r=this.getAtomProxy(),n=0;n<t;++n)r.index=n,e(r)},cx.prototype.eachResidue=function(t,e){if(e&&e.test){var i=this.modelStore.count,r=this.getModelProxy(),n=e.modelOnlyTest;if(n)for(var o=0;o<i;++o)r.index=o,n(r)&&r.eachResidue(t,e);else for(var a=0;a<i;++a)r.index=a,r.eachResidue(t,e)}else for(var s=this.residueStore.count,c=this.getResidueProxy(),u=0;u<s;++u)c.index=u,t(c)},cx.prototype.eachResidueN=function(t,e){var i=this.residueStore.count;if(!(i<t)){for(var r=new Array(t),n=0;n<t;++n)r[n]=this.getResidueProxy(n);e.apply(this,r);for(var o=t;o<i;++o){for(var a=0;a<t;++a)r[a].index+=1;e.apply(this,r)}}},cx.prototype.eachPolymer=function(e,i){if(i&&i.modelOnlyTest){var r=i.modelOnlyTest;this.eachModel(function(t){r(t)&&t.eachPolymer(e,i)})}else this.eachModel(function(t){t.eachPolymer(e,i)})},cx.prototype.eachChain=function(e,i){if(i&&i.test)this.eachModel(function(t){t.eachChain(e,i)});else for(var t=this.chainStore.count,r=this.getChainProxy(),n=0;n<t;++n)r.index=n,e(r)},cx.prototype.eachModel=function(t,e){var i=this.modelStore.count,r=this.getModelProxy();if(e&&e.test){var n=e.modelOnlyTest;if(n)for(var o=0;o<i;++o)r.index=o,n(r)&&t(r);else for(var a=0;a<i;++a)r.index=a,t(r)}else for(var s=0;s<i;++s)r.index=s,t(r)},cx.prototype.getAtomData=function(t){var e=Object.assign({},t);e.colorParams&&(e.colorParams.structure=this.getStructure());var r,n,i=e.what,o=bl(e.atomSet,this.atomSet),a={},s=this.getAtomProxy(),c=o.getSize();i&&!i.position||(a.position=new Float32Array(3*c)),i&&!i.color||!e.colorParams||(a.color=new Float32Array(3*c),n=Qp.getScheme(e.colorParams)),i&&!i.picking||(a.picking=new hv(new Float32Array(c),this.getStructure())),i&&!i.radius||(a.radius=new Float32Array(c),r=new Gy(e.radiusParams)),i&&!i.index||(a.index=new Uint32Array(c));var u=a.position,h=a.color,l=a.picking,p=a.radius,d=a.index;return o.forEach(function(t,e){var i=3*e;s.index=t,u&&s.positionToArray(u,i),h&&n.atomColorToArray(s,h,i),l&&(l.array[e]=t),p&&(p[e]=r.atomRadius(s)),d&&(d[e]=t)}),a},cx.prototype.getBondData=function(t){var e=Object.assign({},t);e.colorParams&&(e.colorParams.structure=this.getStructure());var i,r,n=e.what,o=bl(e.bondSet,this.bondSet),a=bl(e.multipleBond,"off"),s="off"!==a,c="offset"===a,u=bl(e.bondScale,.4),h=bl(e.bondSpacing,1),l={},p=this.getBondProxy();e.bondStore&&(p.bondStore=e.bondStore);var d,f=this.getAtomProxy(),m=this.getAtomProxy();if(s){var g=p.bondStore.bondOrder;d=0,o.forEach(function(t){d+=g[t]})}else d=o.getSize();n&&!n.position||(l.position1=new Float32Array(3*d),l.position2=new Float32Array(3*d)),n&&!n.color||!e.colorParams||(l.color=new Float32Array(3*d),l.color2=new Float32Array(3*d),r=Qp.getScheme(e.colorParams)),n&&!n.picking||(l.picking=new pv(new Float32Array(d),this.getStructure(),e.bondStore)),(!n||n.radius||s&&n.position)&&(i=new Gy(e.radiusParams)),n&&!n.radius||(l.radius=new Float32Array(d),e.radius2&&(l.radius2=new Float32Array(d)));var v,y,b,x,_,w,S=l.position1,A=l.position2,M=l.color,E=l.color2,P=l.picking,T=l.radius,C=l.radius2,I=0,O=new ri,L=new ri,R=new ri;return o.forEach(function(t){if(y=3*I,p.index=t,f.index=p.atomIndex1,m.index=p.atomIndex2,x=p.bondOrder,S)if(s&&1<x){var e=i.atomRadius(f);w=e*u/(.5*x),p.calculateShiftDir(R),c?(_=2*h*e,R.multiplyScalar(_),R.negate(),L.subVectors(m,f).multiplyScalar(Math.max(.1,_/1.88)),f.positionToArray(S,y),m.positionToArray(A,y),2<=x&&(O.addVectors(f,R).add(L).toArray(S,y+3),O.addVectors(m,R).sub(L).toArray(A,y+3),3<=x&&(O.subVectors(f,R).add(L).toArray(S,y+6),O.subVectors(m,R).sub(L).toArray(A,y+6)))):(_=(h-u)*e,R.multiplyScalar(_),2===x?(O.addVectors(f,R).toArray(S,y),O.subVectors(f,R).toArray(S,y+3),O.addVectors(m,R).toArray(A,y),O.subVectors(m,R).toArray(A,y+3)):3===x?(f.positionToArray(S,y),O.addVectors(f,R).toArray(S,y+3),O.subVectors(f,R).toArray(S,y+6),m.positionToArray(A,y),O.addVectors(m,R).toArray(A,y+3),O.subVectors(m,R).toArray(A,y+6)):(f.positionToArray(S,y),m.positionToArray(A,y)))}else f.positionToArray(S,y),m.positionToArray(A,y);if(M&&E&&(r.bondColorToArray(p,1,M,y),r.bondColorToArray(p,0,E,y),s&&1<x))for(v=1;v<x;++v)qd(M,y,b=3*v+y,3),qd(E,y,b,3);if(P&&P.array&&(P.array[I]=t,s&&1<x))for(v=1;v<x;++v)P.array[I+v]=t;if(T&&(T[I]=i.atomRadius(f),s&&1<x))for(w=T[I]*u/(c?1:.5*x),v=c?1:0;v<x;++v)T[I+v]=w;if(C&&(C[I]=i.atomRadius(m),s&&1<x))for(w=C[I]*u/(c?1:.5*x),v=c?1:0;v<x;++v)C[I+v]=w;I+=s?x:1}),l},cx.prototype.getBackboneAtomData=function(t){return t=Object.assign({atomSet:this.atomSetCache.__backbone},t),this.getAtomData(t)},cx.prototype.getBackboneBondData=function(t){return t=Object.assign({bondSet:this.getBackboneBondSet(),bondStore:this.backboneBondStore},t),this.getBondData(t)},cx.prototype.getRungAtomData=function(t){return t=Object.assign({atomSet:this.atomSetCache.__rung},t),this.getAtomData(t)},cx.prototype.getRungBondData=function(t){return t=Object.assign({bondSet:this.getRungBondSet(),bondStore:this.rungBondStore},t),this.getBondData(t)},cx.prototype.getBoundingBox=function(t,e){de.Debug&&Yp.time("getBoundingBox"),e=e||new Pi;var n=1/0,o=1/0,a=1/0,s=-1/0,c=-1/0,u=-1/0;return this.eachAtom(function(t){var e=t.x,i=t.y,r=t.z;e<n&&(n=e),i<o&&(o=i),r<a&&(a=r),s<e&&(s=e),c<i&&(c=i),u<r&&(u=r)},t),e.min.set(n,o,a),e.max.set(s,c,u),de.Debug&&Yp.timeEnd("getBoundingBox"),e},cx.prototype.getPrincipalAxes=function(t){de.Debug&&Yp.time("getPrincipalAxes");var e=0,i=new kv(3,this.atomCount),r=i.data;return this.eachAtom(function(t){r[e+0]=t.x,r[e+1]=t.y,r[e+2]=t.z,e+=3},t),de.Debug&&Yp.timeEnd("getPrincipalAxes"),new $y(i)},cx.prototype.atomCenter=function(t){return t?this.getBoundingBox(t).getCenter(new ri):this.center.clone()},cx.prototype.hasCoords=function(){if(void 0===this._hasCoords){var t=this.atomStore;this._hasCoords=0!==Zd(t.x)||0!==Yd(t.x)||0!==Zd(t.y)||0!==Yd(t.y)||0!==Zd(t.z)||0!==Yd(t.z)||t.count/this.modelStore.count==1}return this._hasCoords},cx.prototype.getSequence=function(t){var e=[],i=this.getResidueProxy();return this.eachAtom(function(t){i.index=t.residueIndex,t.index===i.traceAtomIndex&&e.push(i.getResname1())},t),e},cx.prototype.getAtomIndices=function(t){if(t&&t.string){var e=[];return this.eachAtom(function(t){e.push(t.index)},t),new Uint32Array(e)}return this.getAtomData({what:{index:!0}}).index},cx.prototype.getChainnameCount=function(t){var e=new Set;return this.eachChain(function(t){t.residueCount&&e.add(t.chainname)},t),e.size},cx.prototype.updatePosition=function(e){var i=0;this.eachAtom(function(t){t.positionFromArray(e,i),i+=3},void 0),this._hasCoords=void 0},cx.prototype.refreshPosition=function(){this.getBoundingBox(void 0,this.boundingBox),this.boundingBox.getCenter(this.center),this.spatialHash=new Zm(this.atomStore,this.boundingBox)},cx.prototype.dispose=function(){this.frames&&(this.frames.length=0),this.boxes&&(this.boxes.length=0),this.bondStore.dispose(),this.backboneBondStore.dispose(),this.rungBondStore.dispose(),this.atomStore.dispose(),this.residueStore.dispose(),this.chainStore.dispose(),this.modelStore.dispose(),delete this.bondStore,delete this.atomStore,delete this.residueStore,delete this.chainStore,delete this.modelStore,delete this.frames,delete this.boxes,delete this.bondSet,delete this.atomSet},Object.defineProperties(cx.prototype,ux);var hx=new Pi,lx=[Vm,zm,Hm,Gm,$m,Um,Fm,jm,Xm,Wm,qm,Ym],px={aspectRatio:1.5,sphereDetail:2,radialSegments:50,disableImpostor:!1,openEnded:!1,dashedCylinder:!1,labelParams:{},pointSize:2,sizeAttenuation:!1,useTexture:!0,lineWidth:2},dx=function(t,e){var i=this;void 0===t&&(t="shape"),void 0===e&&(e={}),this.boundingBox=new Pi,this.bufferList=[],this.meshCount=0,this._primitiveData={},this.name=t,this.parameters=xl(e,px),lx.forEach(function(e){Object.keys(e.fields).forEach(function(t){i._primitiveData[e.getShapeKey(t)]=[]}),i._primitiveData[e.getShapeKey("name")]=[]})},fx={center:{configurable:!0},type:{configurable:!0}};dx.prototype.addBuffer=function(t){this.bufferList.push(t);var e=t.geometry;return e.boundingBox||e.computeBoundingBox(),this.boundingBox.union(e.boundingBox),this},dx.prototype.addMesh=function(t,e,i,r,n){t=Fl(t),e=Fl(e),Array.isArray(i)&&(i=Ll(i,t.length)),r&&(r=Fl(r));var o={position:t,color:e,index:i,normal:r},a=new _v(this,Object.assign({serial:this.meshCount,name:n},o)),s=new my(Object.assign({picking:a},o));return this.bufferList.push(s),hx.setFromArray(t),this.boundingBox.union(hx),this.meshCount+=1,this},dx.prototype.addSphere=function(t,e,i,r){return Fm.objectToShape(this,{position:t,color:e,radius:i,name:r}),this},dx.prototype.addEllipsoid=function(t,e,i,r,n,o){return $m.objectToShape(this,{position:t,color:e,radius:i,majorAxis:r,minorAxis:n,name:o}),this},dx.prototype.addTorus=function(t,e,i,r,n,o){return Wm.objectToShape(this,{position:t,color:e,radius:i,majorAxis:r,minorAxis:n,name:o}),this},dx.prototype.addCylinder=function(t,e,i,r,n){return Gm.objectToShape(this,{position1:t,position2:e,color:i,radius:r,name:n}),this},dx.prototype.addCone=function(t,e,i,r,n){return Hm.objectToShape(this,{position1:t,position2:e,color:i,radius:r,name:n}),this},dx.prototype.addArrow=function(t,e,i,r,n){return Vm.objectToShape(this,{position1:t,position2:e,color:i,radius:r,name:n}),this},dx.prototype.addBox=function(t,e,i,r,n,o){return zm.objectToShape(this,{position:t,color:e,size:i,heightAxis:r,depthAxis:n,name:o}),this},dx.prototype.addOctahedron=function(t,e,i,r,n,o){return Um.objectToShape(this,{position:t,color:e,size:i,heightAxis:r,depthAxis:n,name:o}),this},dx.prototype.addTetrahedron=function(t,e,i,r,n,o){return jm.objectToShape(this,{position:t,color:e,size:i,heightAxis:r,depthAxis:n,name:o}),this},dx.prototype.addText=function(t,e,i,r){return Xm.objectToShape(this,{position:t,color:e,size:i,text:r}),this},dx.prototype.addPoint=function(t,e,i){return qm.objectToShape(this,{position:t,color:e,name:i}),this},dx.prototype.addWideline=function(t,e,i,r){return Ym.objectToShape(this,{position1:t,position2:e,color:i,name:r}),this},dx.prototype.addLabel=function(t,e,i,r){return console.warn("Shape.addLabel is deprecated, use .addText instead"),this.addText(t,e,i,r)},dx.prototype.getBufferList=function(){var e=this,i=[];return lx.forEach(function(t){e._primitiveData[t.getShapeKey("color")].length&&i.push(t.bufferFromShape(e,e.parameters))}),this.bufferList.concat(i)},dx.prototype.dispose=function(){var i=this;this.bufferList.forEach(function(t){t.dispose()}),this.bufferList.length=0,lx.forEach(function(e){Object.keys(e.fields).forEach(function(t){i._primitiveData[e.getShapeKey(t)].length=0}),i._primitiveData[e.getShapeKey("name")].length=0})},fx.center.get=function(){return this._center||(this._center=this.boundingBox.getCenter(new ri)),this._center},fx.type.get=function(){return"Shape"},Object.defineProperties(dx.prototype,fx);var mx=function(r){function t(t,e,i){Array.isArray(t)||(t=[t]),r.call(this,t,e,i),this.type="buffer",this.parameters=Object.assign({},this.parameters,{colorScheme:null,colorScale:null,colorValue:null,colorDomain:null,colorMode:null}),this.buffer=t,this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){r.prototype.init.call(this,t),this.build()},t.prototype.create=function(){this.bufferList.push.apply(this.bufferList,this.buffer)},t.prototype.attach=function(t){var e=this;this.bufferList.forEach(function(t){e.viewer.add(t),t.setParameters(e.getBufferParams())}),this.setVisibility(this.visible),t()},t}(sm),gx=new ei,vx=new ni;var yx=function(y){function t(t,e,i){var r,n,o,a,s,c,u,h,l,p,d;void 0===e&&(e={}),y.call(this,(r=t,a=(n=i).attributes.position.array,s=n.index?n.index.array:void 0,c=r.position.length/3,u=a.length/3,h=c*u,l=new Float32Array(3*h),p=new Float32Array(3*h),d=new Float32Array(3*h),s&&(o=Ll(c*s.length,h)),{position:l,color:d,index:o,normal:p,primitiveId:r.primitiveId||$d(c,u),picking:r.picking}),e),this.updateNormals=!1;var f=i.attributes.position.array,m=i.attributes.normal.array,g=i.index?i.index.array:void 0;this.geoPosition=f,this.geoNormal=m,this.geoIndex=g,this.positionCount=t.position.length/3,this.geoPositionCount=f.length/3,this.transformedGeoPosition=new Float32Array(3*this.geoPositionCount),this.transformedGeoNormal=new Float32Array(3*this.geoPositionCount);var v=this.geometry.attributes;this.meshPosition=v.position.array,this.meshColor=v.color.array,this.meshNormal=v.normal.array,this.setAttributes(t),g&&(this.meshIndex=this.geometry.getIndex().array,this.makeIndex())}return y&&(t.__proto__=y),((t.prototype=Object.create(y&&y.prototype)).constructor=t).prototype.setAttributes=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!1);var i,r,n,o,a,s,c,u,h,l=this.geometry.attributes,p=this.updateNormals;t.position&&(i=t.position,n=this.geoPosition,c=this.meshPosition,a=this.transformedGeoPosition,l.position.needsUpdate=!0,(p||e)&&(o=this.geoNormal,h=this.meshNormal,s=this.transformedGeoNormal,l.normal.needsUpdate=!0)),t.color&&(r=t.color,u=this.meshColor,l.color.needsUpdate=!0);for(var d=this.positionCount,f=this.geoPositionCount,m=0;m<d;++m){var g=void 0,v=void 0,y=m*f*3,b=3*m;if(i&&a&&c&&h&&n&&o&&(a.set(n),gx.makeTranslation(i[b],i[b+1],i[b+2]),this.applyPositionTransform(gx,m,b),dm(gx.elements,a),c.set(a,y),p&&s?(s.set(o),vx.getNormalMatrix(gx),fm(vx.elements,s),h.set(s,y)):e&&h.set(o,y)),r&&u)for(g=0;g<f;++g)u[v=y+3*g]=r[b],u[v+1]=r[b+1],u[v+2]=r[b+2]}},t.prototype.makeIndex=function(){var t=this.geoIndex,e=this.meshIndex;if(t)for(var i=this.positionCount,r=this.geoPositionCount,n=3*(t.length/3),o=0;o<i;++o){var a=o*n,s=a+n;e.set(t,a);for(var c=a;c<s;++c)e[c]+=o*r}},t}(my),bx=new ri,xx=Object.assign({sphereDetail:1},ly),_x=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e,new es(1,bl(e.sphereDetail,1))),this.setAttributes(t,!0)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return xx},t.prototype.applyPositionTransform=function(t,e){var i=this._radius[e];bx.set(i,i,i),t.scale(bx)},t.prototype.setAttributes=function(t,e){void 0===t&&(t={}),t.radius&&(this._radius=t.radius),i.prototype.setAttributes.call(this,t,e)},Object.defineProperties(t.prototype,e),t}(yx);rd.add("shader/SphereImpostor.vert","uniform mat4 projectionMatrixInverse;\nuniform float clipNear;\nvarying float vRadius;\nvarying float vRadiusSq;\nvarying vec3 vPoint;\nvarying vec3 vPointViewPosition;\nattribute vec2 mapping;\nattribute float radius;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\n#include color_pars_vertex\n#endif\n#include matrix_scale\nconst mat4 D = mat4(\n1.0, 0.0, 0.0, 0.0,\n0.0, 1.0, 0.0, 0.0,\n0.0, 0.0, 1.0, 0.0,\n0.0, 0.0, 0.0, -1.0\n);\nmat4 transpose( in mat4 inMatrix ) {\nvec4 i0 = inMatrix[0];\nvec4 i1 = inMatrix[1];\nvec4 i2 = inMatrix[2];\nvec4 i3 = inMatrix[3];\nmat4 outMatrix = mat4(\nvec4(i0.x, i1.x, i2.x, i3.x),\nvec4(i0.y, i1.y, i2.y, i3.y),\nvec4(i0.z, i1.z, i2.z, i3.z),\nvec4(i0.w, i1.w, i2.w, i3.w)\n);\nreturn outMatrix;\n}\nvoid ComputePointSizeAndPositionInClipCoordSphere(){\nvec2 xbc;\nvec2 ybc;\nmat4 T = mat4(\nradius, 0.0, 0.0, 0.0,\n0.0, radius, 0.0, 0.0,\n0.0, 0.0, radius, 0.0,\nposition.x, position.y, position.z, 1.0\n);\nmat4 R = transpose( projectionMatrix * modelViewMatrix * T );\nfloat A = dot( R[ 3 ], D * R[ 3 ] );\nfloat B = -2.0 * dot( R[ 0 ], D * R[ 3 ] );\nfloat C = dot( R[ 0 ], D * R[ 0 ] );\nxbc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );\nxbc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );\nfloat sx = abs( xbc[ 0 ] - xbc[ 1 ] ) * 0.5;\nA = dot( R[ 3 ], D * R[ 3 ] );\nB = -2.0 * dot( R[ 1 ], D * R[ 3 ] );\nC = dot( R[ 1 ], D * R[ 1 ] );\nybc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );\nybc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );\nfloat sy = abs( ybc[ 0 ] - ybc[ 1 ] ) * 0.5;\ngl_Position.xy = vec2( 0.5 * ( xbc.x + xbc.y ), 0.5 * ( ybc.x + ybc.y ) );\ngl_Position.xy -= mapping * vec2( sx, sy );\ngl_Position.xy *= gl_Position.w;\n}\nvoid main(void){\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\n#include color_vertex\n#endif\nvRadius = radius * matrixScale( modelViewMatrix );\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\nmvPosition.z -= vRadius;\ngl_Position = projectionMatrix * vec4( mvPosition.xyz, 1.0 );\nComputePointSizeAndPositionInClipCoordSphere();\nvRadiusSq = vRadius * vRadius;\nvec4 vPoint4 = projectionMatrixInverse * gl_Position;\nvPoint = vPoint4.xyz / vPoint4.w;\nvPointViewPosition = -mvPosition.xyz / mvPosition.w;\n}"),rd.add("shader/SphereImpostor.frag","#define STANDARD\n#define IMPOSTOR\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 interiorColor;\nuniform float interiorDarkening;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float clipNear;\nuniform mat4 projectionMatrix;\nuniform float ortho;\nvarying float vRadius;\nvarying float vRadiusSq;\nvarying vec3 vPoint;\nvarying vec3 vPointViewPosition;\n#ifdef PICKING\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\n#include bsdfs\n#include lights_pars_begin\n#include lights_physical_pars_fragment\n#endif\nbool flag2 = false;\nbool interior = false;\nvec3 cameraPos;\nvec3 cameraNormal;\nfloat calcDepth( in vec3 cameraPos ){\nvec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;\nreturn 0.5 + 0.5 * clipZW.x / clipZW.y;\n}\nfloat calcClip( vec3 cameraPos ){\nreturn dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );\n}\nbool Impostor( out vec3 cameraPos, out vec3 cameraNormal ){\nvec3 cameraSpherePos = -vPointViewPosition;\ncameraSpherePos.z += vRadius;\nvec3 rayOrigin = mix( vec3( 0.0, 0.0, 0.0 ), vPoint, ortho );\nvec3 rayDirection = mix( normalize( vPoint ), vec3( 0.0, 0.0, 1.0 ), ortho );\nvec3 cameraSphereDir = mix( cameraSpherePos, rayOrigin - cameraSpherePos, ortho );\nfloat B = dot( rayDirection, cameraSphereDir );\nfloat det = B * B + vRadiusSq - dot( cameraSphereDir, cameraSphereDir );\nif( det < 0.0 ){\ndiscard;\nreturn false;\n}\nfloat sqrtDet = sqrt( det );\nfloat posT = mix( B + sqrtDet, B + sqrtDet, ortho );\nfloat negT = mix( B - sqrtDet, sqrtDet - B, ortho );\ncameraPos = rayDirection * negT + rayOrigin;\n#ifdef NEAR_CLIP\nif( calcDepth( cameraPos ) <= 0.0 ){\ncameraPos = rayDirection * posT + rayOrigin;\ninterior = true;\n}else if( calcClip( cameraPos ) > 0.0 ){\ncameraPos = rayDirection * posT + rayOrigin;\ninterior = true;\nflag2 = true;\n}\n#else\nif( calcDepth( cameraPos ) <= 0.0 ){\ncameraPos = rayDirection * posT + rayOrigin;\ninterior = true;\n}\n#endif\ncameraNormal = normalize( cameraPos - cameraSpherePos );\ncameraNormal *= float(!interior) * 2.0 - 1.0;\nreturn !interior;\n}\nvoid main(void){\nbool flag = Impostor( cameraPos, cameraNormal );\n#ifdef NEAR_CLIP\nif( calcClip( cameraPos ) > 0.0 )\ndiscard;\n#endif\ngl_FragDepthEXT = calcDepth( cameraPos );\nif( !flag ){\n#ifdef NEAR_CLIP\nif( flag2 ){\ngl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );\n}else if( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );\n}\n#else\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );\n}\n#endif\n}\nif (gl_FragDepthEXT < 0.0)\ndiscard;\nif (gl_FragDepthEXT > 1.0)\ndiscard;\n#ifdef PICKING\nif( opacity < 0.3 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 vNormal = cameraNormal;\nvec3 vViewPosition = -cameraPos;\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveLight = emissive;\n#include color_fragment\n#include roughnessmap_fragment\n#include metalnessmap_fragment\n#include normal_fragment_begin\n#include lights_physical_fragment\n#include lights_fragment_begin\n#include lights_fragment_end\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;\nif( interior ){\n#ifdef USE_INTERIOR_COLOR\noutgoingLight.xyz = interiorColor;\n#else\n#ifdef DIFFUSE_INTERIOR\noutgoingLight.xyz = vColor;\n#endif\n#endif\noutgoingLight.xyz *= 1.0 - interiorDarkening;\n}\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var wx=function(n){function t(t,e,i){void 0===i&&(i={}),n.call(this,e,i),this.index=Ll(this.indexSize,this.attributeSize),this.makeIndex(),this.initIndex(this.index),this.addAttributes({mapping:{type:t,value:null}}),this.setAttributes({primitiveId:Hd(this.size)})}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={attributeSize:{configurable:!0},indexSize:{configurable:!0}};return e.attributeSize.get=function(){return this.size*this.mappingSize},e.indexSize.get=function(){return this.size*this.mappingIndicesSize},t.prototype.addAttributes=function(t){var e={};for(var i in t){var r=t[i];e[i]={type:r.type,value:null}}n.prototype.addAttributes.call(this,e)},t.prototype.getAttributeIndex=function(t){return 3*t*this.mappingSize},t.prototype.setAttributes=function(t){t&&!t.position&&t.position1&&t.position2&&(t.position=Ud(t.position1,t.position2));var e,i,r,n,o,a,s,c=this.size,u=this.mappingSize,h=this.geometry.attributes;for(var l in t)if("index"!==l&&"picking"!==l){i=t[l],r=(e=h[l]).itemSize,n=e.array;for(var p=0;p<c;++p){a=(o=p*r)*u;for(var d=0;d<u;++d){s=a+r*d;for(var f=0;f<r;++f)n[s+f]=i[o+f]}}e.needsUpdate=!0}},t.prototype.makeMapping=function(){for(var t=this.size,e=this.mapping,i=this.mappingSize,r=this.mappingItemSize,n=this.geometry.attributes.mapping.array,o=0;o<t;o++)n.set(e,o*r*i)},t.prototype.makeIndex=function(){for(var t=this.size,e=this.mappingSize,i=this.mappingIndices,r=this.mappingIndicesSize,n=this.index,o=0;o<t;o++){var a=o*r,s=o*e;n.set(i,a);for(var c=0;c<r;++c)n[a+c]+=s}},Object.defineProperties(t.prototype,e),t}(dy),Sx=new Float32Array([-1,1,-1,-1,1,1,1,-1]),Ax=new Uint16Array([0,1,2,1,3,2]),Mx=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,"v2",t,e)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return e.mapping.get=function(){return Sx},e.mappingIndices.get=function(){return Ax},e.mappingIndicesSize.get=function(){return 6},e.mappingSize.get=function(){return 4},e.mappingItemSize.get=function(){return 2},Object.defineProperties(t.prototype,e),t}(wx),Ex=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e),this.isImpostor=!0,this.vertexShader="SphereImpostor.vert",this.fragmentShader="SphereImpostor.frag",this.addUniforms({projectionMatrixInverse:{value:new ei},ortho:{value:0}}),this.addAttributes({radius:{type:"f",value:null}}),this.setAttributes(t),this.makeMapping()}return i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t}(Mx),Px=(Object.assign({disableImpostor:!1},xx),function(t,e){return!Xp||e&&e.disableImpostor?new _x(t,e):new Ex(t,e)});ad.add("sphere",Px),rd.add("shader/Point.vert","uniform float clipNear;\nuniform float clipRadius;\nuniform vec3 clipCenter;\nuniform float size;\nuniform float canvasHeight;\nuniform float pixelRatio;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\n#include color_pars_vertex\nvarying vec3 vViewPosition;\n#endif\n#include common\nvoid main(){\n#if defined( PICKING )\nvPickingColor = unpackColor( primitiveId );\n#else\n#include color_vertex\n#endif\n#include begin_vertex\n#include project_vertex\n#ifdef USE_SIZEATTENUATION\ngl_PointSize = size * pixelRatio * ( ( canvasHeight / 2.0 ) / -mvPosition.z );\n#else\ngl_PointSize = size * pixelRatio;\n#endif\n#ifndef PICKING\nvViewPosition = -mvPosition.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n#include radiusclip_vertex\n}"),rd.add("shader/Point.frag","uniform vec3 diffuse;\nuniform float opacity;\nuniform float clipNear;\nuniform float clipRadius;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#ifdef USE_MAP\nuniform sampler2D map;\n#endif\n#if defined( PICKING )\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\nvarying vec3 vViewPosition;\n#endif\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\n#if defined( PICKING )\n#ifdef USE_MAP\nif( texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) ).a < 0.5 )\ndiscard;\n#endif\nif( opacity < 0.3 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 outgoingLight = vec3( 0.0 );\nvec4 diffuseColor = vec4( diffuse, 1.0 );\n#ifdef USE_MAP\ndiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n#endif\n#include color_fragment\n#include alphatest_fragment\noutgoingLight = diffuseColor.rgb;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var Tx=Object.assign({pointSize:1,sizeAttenuation:!0,sortParticles:!1,alphaTest:.5,useTexture:!1,forceTransparent:!1,edgeBleach:0},ly),Cx=Object.assign({pointSize:{uniform:"size"},sizeAttenuation:{updateShader:!0},sortParticles:{},alphaTest:{updateShader:!0},useTexture:{updateShader:!0},forceTransparent:{},edgeBleach:{uniform:!0}},py),Ix=function(r){function t(t,e){void 0===e&&(e={}),r.call(this,t,e),this.parameterTypes=Cx,this.vertexShader="Point.vert",this.fragmentShader="Point.frag",this.isPoint=!0,this.addUniforms({size:{value:this.parameters.pointSize},canvasHeight:{value:1},pixelRatio:{value:1},map:{value:null}})}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return Tx},t.prototype.makeMaterial=function(){r.prototype.makeMaterial.call(this),this.makeTexture();var t=this.material,e=this.wireframeMaterial,i=this.pickingMaterial;t.uniforms.map.value=this.tex,t.needsUpdate=!0,e.uniforms.map.value=this.tex,e.needsUpdate=!0,i.uniforms.map.value=this.tex,i.needsUpdate=!0},t.prototype.makeTexture=function(){this.tex&&this.tex.dispose(),this.tex=function(t){for(var e,i,r=t||{},n=bl(r.width,256),o=bl(r.height,256),a=[n/2,o/2],s=Math.min(n/2,o/2),c=bl(r.delta,1/(s+1))*s,u=0,h=0,l=new Uint8Array(n*o*4),p=0,d=l.length;p<d;p+=4){var f=1-Zl(s-c,s,(e=a[0]-u,i=a[1]-h,Math.sqrt(e*e+i*i)));l[p]=255*f,l[p+1]=255*f,l[p+2]=255*f,l[p+3]=255*f,++u===n&&(u=0,h++)}var m=new Ei(l,n,o);return m.needsUpdate=!0,m}({delta:this.parameters.edgeBleach})},t.prototype.getDefines=function(t){var e=r.prototype.getDefines.call(this,t);return this.parameters.sizeAttenuation&&(e.USE_SIZEATTENUATION=1),this.parameters.useTexture&&(e.USE_MAP=1),0<this.parameters.alphaTest&&this.parameters.alphaTest<=1&&(e.ALPHATEST=this.parameters.alphaTest.toPrecision(2)),e},t.prototype.setUniforms=function(t){t&&void 0!==t.edgeBleach&&(this.makeTexture(),t.map=this.tex),r.prototype.setUniforms.call(this,t)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.tex&&this.tex.dispose()},Object.defineProperties(t.prototype,e),t}(dy);ad.add("point",Ix);var Ox=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="dot",this.parameters=Object.assign({thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdOut:{type:"boolean",rebuild:!0},dotType:{type:"select",rebuild:!0,options:{"":"",sphere:"sphere",point:"point"}},radiusType:{type:"select",options:{"":"",value:"value","abs-value":"abs-value","value-min":"value-min",deviation:"deviation",size:"size"}},radius:{type:"number",precision:3,max:10,min:.001,property:"size"},scale:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,disableImpostor:!0,pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{colorScheme:{type:"select",update:"color",options:{"":"",value:"value",uniform:"uniform",random:"random"}}}),t instanceof ay?(this.surface=void 0,this.volume=new Wy(t)):(this.surface=t,this.volume=void 0),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorScheme=bl(e.colorScheme,"uniform"),e.colorValue=bl(e.colorValue,14540253),this.thresholdType=bl(e.thresholdType,"sigma"),this.thresholdMin=bl(e.thresholdMin,2),this.thresholdMax=bl(e.thresholdMax,1/0),this.thresholdOut=bl(e.thresholdOut,!1),this.dotType=bl(e.dotType,"point"),this.radius=bl(e.radius,.1),this.scale=bl(e.scale,1),this.pointSize=bl(e.pointSize,1),this.sizeAttenuation=bl(e.sizeAttenuation,!0),this.sortParticles=bl(e.sortParticles,!1),this.useTexture=bl(e.useTexture,!1),this.alphaTest=bl(e.alphaTest,.5),this.forceTransparent=bl(e.forceTransparent,!1),this.edgeBleach=bl(e.edgeBleach,0),r.prototype.init.call(this,e),this.build()},t.prototype.attach=function(t){var e=this;this.bufferList.forEach(function(t){e.viewer.add(t)}),this.setVisibility(this.visible),t()},t.prototype.create=function(){var t={};if(this.volume){var e,i,r=this.volume;"sigma"===this.thresholdType?(e=r.getValueForSigma(this.thresholdMin),i=r.getValueForSigma(this.thresholdMax)):(e=this.thresholdMin,i=this.thresholdMax),r.setFilter(e,i,this.thresholdOut),Object.assign(t,{position:r.getDataPosition(),color:r.getDataColor(this.getColorParams())}),"sphere"===this.dotType&&Object.assign(t,{radius:r.getDataSize(this.radius,this.scale),picking:r.getDataPicking()})}else{var n=this.surface;Object.assign(t,{position:n.getPosition(),color:n.getColor(this.getColorParams())}),"sphere"===this.dotType&&Object.assign(t,{radius:n.getSize(this.radius,this.scale),picking:n.getPicking()})}"sphere"===this.dotType?this.dotBuffer=new Px(t,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!1})):this.dotBuffer=new Ix(t,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach})),this.bufferList.push(this.dotBuffer)},t.prototype.update=function(t){if(void 0===t&&(t={}),0!==this.bufferList.length){var e={};t.color&&(this.volume?Object.assign(e,{color:this.volume.getDataColor(this.getColorParams())}):Object.assign(e,{color:this.surface.getColor(this.getColorParams())})),"sphere"===this.dotType&&(t.radius||t.scale)&&(this.volume?Object.assign(e,{radius:this.volume.getDataSize(this.radius,this.scale)}):Object.assign(e,{radius:this.surface.getSize(this.radius,this.scale)})),this.dotBuffer.setAttributes(e)}},t.prototype.setParameters=function(t,e,i){return void 0===e&&(e={}),t&&void 0!==t.thresholdType&&this.volume instanceof ay&&("value"===this.thresholdType&&"sigma"===t.thresholdType?(this.thresholdMin=this.volume.getSigmaForValue(this.thresholdMin),this.thresholdMax=this.volume.getSigmaForValue(this.thresholdMax)):"sigma"===this.thresholdType&&"value"===t.thresholdType&&(this.thresholdMin=this.volume.getValueForSigma(this.thresholdMin),this.thresholdMax=this.volume.getValueForSigma(this.thresholdMax)),this.thresholdType=t.thresholdType),t&&void 0!==t.radiusType&&("radius"===t.radiusType?this.radius=.1:this.radius=parseFloat(t.radiusType),e.radius=!0,"sphere"!==this.dotType||Xp&&!this.disableImpostor||(i=!0)),t&&void 0!==t.radius&&(e.radius=!0,"sphere"!==this.dotType||Xp&&!this.disableImpostor||(i=!0)),t&&void 0!==t.scale&&(e.scale=!0,"sphere"!==this.dotType||Xp&&!this.disableImpostor||(i=!0)),r.prototype.setParameters.call(this,t,e,i),this},t}(sm);rd.add("shader/Image.vert","uniform float clipRadius;\nuniform vec3 clipCenter;\nvarying vec2 vUv;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\nvoid main() {\n#include begin_vertex\n#include project_vertex\nvUv = uv;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvViewPosition = -mvPosition.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n}"),rd.add("shader/Image.frag","uniform sampler2D map;\nuniform float opacity;\nuniform vec2 mapSize;\nuniform float clipNear;\nuniform float clipRadius;\nvarying vec2 vUv;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\nuniform sampler2D pickingMap;\nuniform float objectId;\n#else\n#include fog_pars_fragment\n#endif\n#if defined( CUBIC_INTERPOLATION )\n#if defined( CATMULROM_FILTER ) || defined( MITCHELL_FILTER )\n#if defined( CATMULROM_FILTER )\nconst float B = 0.0;\nconst float C = 0.5;\n#elif defined( MITCHELL_FILTER )\nconst float B = 0.333;\nconst float C = 0.333;\n#endif\nfloat filter( float x ){\nfloat f = x;\nif( f < 0.0 ){\nf = -f;\n}\nif( f < 1.0 ){\nreturn ( ( 12.0 - 9.0 * B - 6.0 * C ) * ( f * f * f ) +\n( -18.0 + 12.0 * B + 6.0 *C ) * ( f * f ) +\n( 6.0 - 2.0 * B ) ) / 6.0;\n}else if( f >= 1.0 && f < 2.0 ){\nreturn ( ( -B - 6.0 * C ) * ( f * f * f )\n+ ( 6.0 * B + 30.0 * C ) * ( f *f ) +\n( - ( 12.0 * B ) - 48.0 * C ) * f +\n8.0 * B + 24.0 * C ) / 6.0;\n}else{\nreturn 0.0;\n}\n}\n#elif defined( BSPLINE_FILTER )\nfloat filter( float x ){\nfloat f = x;\nif( f < 0.0 ){\nf = -f;\n}\nif( f >= 0.0 && f <= 1.0 ){\nreturn ( 2.0 / 3.0 ) + ( 0.5 ) * ( f * f * f ) - ( f * f );\n}else if( f > 1.0 && f <= 2.0 ){\nreturn 1.0 / 6.0 * pow( ( 2.0 - f ), 3.0 );\n}\nreturn 1.0;\n}\n#else\nfloat filter( float x ){\nreturn 1.0;\n}\n#endif\nvec4 biCubic( sampler2D tex, vec2 texCoord ){\nvec2 texelSize = 1.0 / mapSize;\ntexCoord -= texelSize / 2.0;\nvec4 nSum = vec4( 0.0 );\nfloat nDenom = 0.0;\nvec2 cell = fract( texCoord * mapSize );\nfor( float m = -1.0; m <= 2.0; ++m ){\nfor( float n = -1.0; n <= 2.0; ++n ){\nvec4 vecData = texture2D(\ntex, texCoord + texelSize * vec2( m, n )\n);\nfloat c = filter( m - cell.x ) * filter( -n + cell.y );\nnSum += vecData * c;\nnDenom += c;\n}\n}\nreturn nSum / nDenom;\n}\n#endif\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\n#if defined( CUBIC_INTERPOLATION )\ngl_FragColor = biCubic( map, vUv );\n#else\ngl_FragColor = texture2D( map, vUv );\n#endif\n#if defined( PICKING )\nif( gl_FragColor.a < 0.3 )\ndiscard;\ngl_FragColor = vec4( texture2D( pickingMap, vUv ).xyz, objectId );\n#else\nif( gl_FragColor.a < 0.01 )\ndiscard;\ngl_FragColor.a *= opacity;\n#include fog_fragment\n#endif\n}");var Lx=new Uint16Array([0,1,2,1,3,2]),Rx=new Float32Array([0,1,0,0,1,1,1,0]),Dx=Object.assign({filter:"nearest",forceTransparent:!0},ly),kx=Object.assign({filter:{updateShader:!0,uniform:!0}},py),Bx=function(l){function t(t,e){l.call(this,{position:t.position,index:Lx,picking:t.picking},e),this.parameterTypes=kx,this.alwaysTransparent=!0,this.hasWireframe=!1,this.vertexShader="Image.vert",this.fragmentShader="Image.frag";var i=t.imageData,r=t.width,n=t.height,o=new Ei(i,r,n);o.flipY=!0,this.tex=o;for(var a=i.length,s=new Uint8Array(a),c=0;c<a;c+=4){var u=c/4;s[c]=u>>16&255,s[c+1]=u>>8&255,s[c+2]=255&u}var h=new Ei(s,r,n);h.flipY=!0,h.minFilter=Vt,h.magFilter=Vt,this.pickingTex=h,this.addUniforms({map:{value:o},pickingMap:{value:h},mapSize:{value:new ti(r,n)}}),this.geometry.addAttribute("uv",new wr(Rx,2))}l&&(t.__proto__=l),(t.prototype=Object.create(l&&l.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return Dx},t.prototype.getDefines=function(t){var e=l.prototype.getDefines.call(this,t),i=this.parameters.filter;return i.startsWith("cubic")&&(e.CUBIC_INTERPOLATION=1,i.endsWith("bspline")?e.BSPLINE_FILTER=1:i.endsWith("catmulrom")?e.CATMULROM_FILTER=1:i.endsWith("mitchell")&&(e.MITCHELL_FILTER=1)),e},t.prototype.updateTexture=function(){var t=this.tex,e=this.parameters.filter;e.startsWith("cubic")?(t.minFilter=Vt,t.magFilter=Vt):"linear"===e?(t.minFilter=Wt,t.magFilter=Wt):(t.minFilter=Vt,t.magFilter=Vt),t.needsUpdate=!0,this.pickingTex.needsUpdate=!0},t.prototype.makeMaterial=function(){l.prototype.makeMaterial.call(this),this.updateTexture();var t=this.material;t.uniforms.map.value=this.tex,t.blending=Y,t.needsUpdate=!0;var e=this.wireframeMaterial;e.uniforms.map.value=this.tex,e.blending=Y,e.needsUpdate=!0;var i=this.pickingMaterial;i.uniforms.map.value=this.tex,i.uniforms.pickingMap.value=this.pickingTex,i.blending=Y,i.needsUpdate=!0},t.prototype.setUniforms=function(t){t&&void 0!==t.filter&&(this.updateTexture(),t.map=this.tex),l.prototype.setUniforms.call(this,t)},Object.defineProperties(t.prototype,e),t}(dy),Nx=function(t,e){var i=e||{};this.dimension=bl(i.dimension,"x"),this.positionType=bl(i.positionType,"percent"),this.position=bl(i.position,30),this.thresholdType=bl(i.thresholdType,"sigma"),this.thresholdMin=bl(i.thresholdMin,-1/0),this.thresholdMax=bl(i.thresholdMax,1/0),this.normalize=bl(i.normalize,!1),this.volume=t};Nx.prototype.getPositionFromCoordinate=function(t){var e,i=this.dimension,r=this.volume,n=r.matrix,o=(new ri).setFromMatrixPosition(n)[i],a=(new ri).setFromMatrixScale(n)[i];return e="x"===i?r.nx:"y"===i?r.ny:r.nz,Math.round(((t-o)/(e/100)+1)/a)},Nx.prototype.getData=function(t){t=t||{};var e,n=this.volume,i=n.data,o=n.matrix;function r(t){return Math.round(t/100*(e-1))}function a(t,e,i,r){return 3*(i*n.ny*n.nx+e*n.nx+t)+r}e="coordinate"===this.positionType?this.getPositionFromCoordinate(this.position):this.position;var s,c,u,h,l,p=new Float32Array(12),d=new ri,f=0,m=0,g=0,v=n.nx,y=n.ny,b=n.nz;function x(t,e,i,r){d.set(t,e,i).applyMatrix4(o).toArray(p,r)}"x"===this.dimension?(u=r(n.nx),h=n.ny-1,l=n.nz-1,s=n.nz,c=n.ny,v=(f=u)+1,x(u,0,0,0),x(u,h,0,3),x(u,0,l,6),x(u,h,l,9)):"y"===this.dimension?(u=n.nx-1,h=r(n.ny),l=n.nz-1,s=n.nz,c=n.nx,y=(m=h)+1,x(0,h,0,0),x(u,h,0,3),x(0,h,l,6),x(u,h,l,9)):"z"===this.dimension&&(u=n.nx-1,h=n.ny-1,l=r(n.nz),s=n.nx,c=n.ny,b=(g=l)+1,x(0,0,l,0),x(0,h,l,3),x(u,0,l,6),x(u,h,l,9));var _,w,S=0,A=0,M=new Uint8Array(s*c*4),E=new Float32Array(s*c);"sigma"===this.thresholdType?(_=n.getValueForSigma(this.thresholdMin),w=n.getValueForSigma(this.thresholdMax)):(_=this.thresholdMin,w=this.thresholdMax);var P=Object.assign({},t.colorParams,{volume:n});this.normalize&&(P.domain=[0,1]);var T,C=Qp.getScheme(P),I=new Float32Array(3),O=C.getScale(),L=0,R=0;if(this.normalize){L=1/0,T=-1/0;for(var D=m;D<y;++D)for(var k=f;k<v;++k)for(var B=g;B<b;++B){var N=i[a(k,D,B,0)/3];N<L&&(L=N),T<N&&(T=N)}R=T-L}for(var F=m;F<y;++F)for(var z=f;z<v;++z)for(var U=g;U<b;++U){var j=a(z,F,U,0)/3,G=i[j];this.normalize&&(G=(G-L)/R),C.colorToArray(O(G),I),M[S]=Math.round(255*I[0]),M[S+1]=Math.round(255*I[1]),M[S+2]=Math.round(255*I[2]),M[S+3]=_<G&&G<w?255:0,E[A]=j,++A,S+=4}var V=new Tv(E,n);return{position:p,imageData:M,width:s,height:c,picking:V}};var Fx=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="slice",this.parameters=Object.assign({filter:{type:"select",buffer:!0,options:{nearest:"nearest",linear:"linear","cubic-bspline":"cubic-bspline","cubic-catmulrom":"cubic-catmulrom","cubic-mitchell":"cubic-mitchell"}},positionType:{type:"select",rebuild:!0,options:{percent:"percent",coordinate:"coordinate"}},position:{type:"range",step:.1,max:100,min:1,rebuild:!0},dimension:{type:"select",rebuild:!0,options:{x:"x",y:"y",z:"z"}},thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},normalize:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null,linewidth:null,colorScheme:null,roughness:null,metalness:null,diffuse:null}),this.volume=t,this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=this.volume,i=t||{};i.colorDomain=bl(i.colorDomain,[e.min,e.max]),i.colorScheme=bl(i.colorScheme,"value"),i.colorScale=bl(i.colorScale,"Spectral"),this.colorScheme="value",this.dimension=bl(i.dimension,"x"),this.filter=bl(i.filter,"cubic-bspline"),this.positionType=bl(i.positionType,"percent"),this.position=bl(i.position,30),this.thresholdType=bl(i.thresholdType,"sigma"),this.thresholdMin=bl(i.thresholdMin,-1/0),this.thresholdMax=bl(i.thresholdMax,1/0),this.normalize=bl(i.normalize,!1),r.prototype.init.call(this,i),this.build()},t.prototype.attach=function(t){var e=this;this.bufferList.forEach(function(t){e.viewer.add(t)}),this.setVisibility(this.visible),t()},t.prototype.create=function(){var t=new Nx(this.volume,{positionType:this.positionType,position:this.position,dimension:this.dimension,thresholdType:this.thresholdType,thresholdMin:this.thresholdMin,thresholdMax:this.thresholdMax,normalize:this.normalize}),e=new Bx(t.getData({colorParams:this.getColorParams()}),this.getBufferParams({filter:this.filter}));this.bufferList.push(e)},t}(sm);function zx(t){Yp.error("makeRepresentation: representation type "+t+" unknown")}var Ux={name:"some element",status:""},jx=function(t,e){void 0===e&&(e={}),this.stage=t,this.signals={statusChanged:new op,nameChanged:new op,disposed:new op},this.parameters=xl(e,this.defaultParameters),this.uuid=$l()},Gx={defaultParameters:{configurable:!0},name:{configurable:!0}};Gx.defaultParameters.get=function(){return Ux},Gx.name.get=function(){return this.parameters.name},jx.prototype.setStatus=function(t){return this.parameters.status=t,this.signals.statusChanged.dispatch(t),this},jx.prototype.setName=function(t){return this.parameters.name=t,this.signals.nameChanged.dispatch(t),this},jx.prototype.dispose=function(){this.signals.disposed.dispatch()},Object.defineProperties(jx.prototype,Gx);var Vx=Object.assign({visible:!0},Ux),Hx=function(n){function t(t,e,i,r){void 0===i&&(i={}),n.call(this,t,Object.assign({name:e.type},i)),this.parent=r,this.signals=Object.assign({visibilityChanged:new op,parametersChanged:new op},this.signals),this.setRepresentation(e)}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={defaultParameters:{configurable:!0},visible:{configurable:!0},type:{configurable:!0}};return e.defaultParameters.get=function(){return Vx},e.visible.get=function(){return this.parameters.visible},e.type.get=function(){return"representation"},t.prototype.getType=function(){return this.repr.type},t.prototype.setRepresentation=function(t){this._disposeRepresentation(),this.repr=t,this.stage.tasks.listen(this.repr.tasks),this.updateVisibility()},t.prototype._disposeRepresentation=function(){this.repr&&(this.stage.tasks.unlisten(this.repr.tasks),this.repr.dispose())},t.prototype.dispose=function(){this.parent&&this.parent.hasRepresentation(this)?this.parent.removeRepresentation(this):(this._disposeRepresentation(),this.signals.disposed.dispatch())},t.prototype.setVisibility=function(t){return this.parameters.visible=t,this.updateVisibility(),this.signals.visibilityChanged.dispatch(this.parameters.visible),this},t.prototype.getVisibility=function(){return this.parent?this.parent.parameters.visible&&this.parameters.visible:this.parameters.visible},t.prototype.toggleVisibility=function(){return this.setVisibility(!this.parameters.visible)},t.prototype.updateVisibility=function(){this.repr.setVisibility(this.getVisibility())},t.prototype.update=function(t){return this.repr.update(t),this},t.prototype.build=function(t){return this.repr.build(t),this},t.prototype.setSelection=function(t){var e=this.repr;return e.setSelection&&e.setSelection(t),this},t.prototype.setParameters=function(t){return this.repr.setParameters(t),this.signals.parametersChanged.dispatch(this.repr.getParameters()),this},t.prototype.getParameters=function(){return this.repr.getParameters()},t.prototype.setColor=function(t){return this.repr.setColor(t),this},Object.defineProperties(t.prototype,e),t}(jx),$x=new ei,Wx=new ri,Xx={name:"",status:"",visible:!0},qx=function(t,e,i){void 0===i&&(i={}),this.stage=t,this.object=e,this.signals={representationAdded:new op,representationRemoved:new op,visibilityChanged:new op,matrixChanged:new op,statusChanged:new op,nameChanged:new op,disposed:new op},this.reprList=[],this.annotationList=[],this.matrix=new ei,this.position=new ri,this.quaternion=new ii,this.scale=new ri(1,1,1),this.transform=new ei,this.parameters=xl(i,this.defaultParameters),this.uuid=$l(),this.viewer=t.viewer,this.controls=new zy(this)},Yx={defaultParameters:{configurable:!0},name:{configurable:!0},status:{configurable:!0},visible:{configurable:!0}};Yx.defaultParameters.get=function(){return Xx},Yx.name.get=function(){return this.parameters.name},Yx.status.get=function(){return this.parameters.status},Yx.visible.get=function(){return this.parameters.visible},qx.prototype.setPosition=function(t){return Array.isArray(t)?this.position.fromArray(t):this.position.copy(t),this.updateMatrix(),this},qx.prototype.setRotation=function(t){if(Array.isArray(t))if(3===t.length){var e=(new Gi).fromArray(t);this.quaternion.setFromEuler(e)}else this.quaternion.fromArray(t);else t instanceof Gi?this.quaternion.setFromEuler(t):this.quaternion.copy(t);return this.updateMatrix(),this},qx.prototype.setScale=function(t){return this.scale.set(t,t,t),this.updateMatrix(),this},qx.prototype.setTransform=function(t){return this.transform.copy(t),this.updateMatrix(),this},qx.prototype.updateMatrix=function(){var e=this,t=this.getCenterUntransformed(Wx);this.matrix.makeTranslation(-t.x,-t.y,-t.z),$x.makeRotationFromQuaternion(this.quaternion),this.matrix.premultiply($x),$x.makeScale(this.scale.x,this.scale.y,this.scale.z),this.matrix.premultiply($x);var i=this.position;$x.makeTranslation(i.x+t.x,i.y+t.y,i.z+t.z),this.matrix.premultiply($x),this.matrix.premultiply(this.transform),this.reprList.forEach(function(t){t.setParameters({matrix:e.matrix})}),this.stage.viewer.updateBoundingBox(),this.signals.matrixChanged.dispatch(this.matrix)},qx.prototype.addAnnotation=function(t,e,i){var r=new ky(this,t,e,i);return this.annotationList.push(r),r},qx.prototype.eachAnnotation=function(t){this.annotationList.slice().forEach(t)},qx.prototype.removeAnnotation=function(t){var e=this.annotationList.indexOf(t);-1!==e&&(this.annotationList.splice(e,1),t.dispose())},qx.prototype.removeAllAnnotations=function(){this.eachAnnotation(function(t){return t.dispose()}),this.annotationList.length=0},qx.prototype._addRepresentation=function(t,e,i,r){void 0===r&&(r=!1);var n=i||{},o=this.stage.getParameters();n.matrix=this.matrix.clone(),n.quality=n.quality||o.quality,n.disableImpostor=bl(n.disableImpostor,!o.impostor),n.useWorker=bl(n.useWorker,o.workerDefault),n.visible=bl(n.visible,!0);var a=Object.assign({},n,{visible:this.parameters.visible&&n.visible}),s=function(t,e,i,r){var n;if(de.Debug&&Yp.time("makeRepresentation "+t),e instanceof cx){if(!(n=ed.get(t)))return void zx(t)}else if(e instanceof ry)if("surface"===t)n=wy;else{if("dot"!==t)return void zx(t);n=Ox}else if(e instanceof ay)if("surface"===t)n=wy;else if("dot"===t)n=Ox;else{if("slice"!==t)return void zx(t);n=Fx}else if(e instanceof dx)n=mx,e=e.getBufferList();else{if("buffer"!==t)return void Yp.error("makeRepresentation: object "+e+" unknown");n=mx}var o=new n(e,i,r);return de.Debug&&Yp.timeEnd("makeRepresentation "+t),o}(t,e,this.viewer,a),c=new Hx(this.stage,s,n,this);return r||(this.reprList.push(c),this.signals.representationAdded.dispatch(c)),c},qx.prototype.addBufferRepresentation=function(t,e){return this._addRepresentation.call(this,"buffer",t,e)},qx.prototype.hasRepresentation=function(t){return-1!==this.reprList.indexOf(t)},qx.prototype.eachRepresentation=function(t){this.reprList.slice().forEach(t)},qx.prototype.removeRepresentation=function(t){var e=this.reprList.indexOf(t);-1!==e&&(this.reprList.splice(e,1),t.dispose(),this.signals.representationRemoved.dispatch(t))},qx.prototype.updateRepresentations=function(e){this.reprList.forEach(function(t){return t.update(e)}),this.stage.viewer.requestRender()},qx.prototype.removeAllRepresentations=function(){this.eachRepresentation(function(t){return t.dispose()})},qx.prototype.dispose=function(){this.removeAllAnnotations(),this.removeAllRepresentations(),delete this.annotationList,delete this.reprList,this.signals.disposed.dispatch()},qx.prototype.setVisibility=function(t){return this.parameters.visible=t,this.eachRepresentation(function(t){return t.updateVisibility()}),this.eachAnnotation(function(t){return t.updateVisibility()}),this.signals.visibilityChanged.dispatch(t),this},qx.prototype.setStatus=function(t){return this.parameters.status=t,this.signals.statusChanged.dispatch(t),this},qx.prototype.setName=function(t){return this.parameters.name=t,this.signals.nameChanged.dispatch(t),this},qx.prototype.getBox=function(){for(var t,e=[],i=arguments.length;i--;)e[i]=arguments[i];return(t=this).getBoxUntransformed.apply(t,e).clone().applyMatrix4(this.matrix)},qx.prototype.getCenter=function(){for(var t,e=[],i=arguments.length;i--;)e[i]=arguments[i];return(t=this).getCenterUntransformed.apply(t,e).clone().applyMatrix4(this.matrix)},qx.prototype.getZoom=function(){for(var t,e=[],i=arguments.length;i--;)e[i]=arguments[i];return this.stage.getZoomForBox((t=this).getBox.apply(t,e))},qx.prototype.getBoxUntransformed=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new Pi},qx.prototype.getCenterUntransformed=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.getBoxUntransformed().getCenter(new ri)},qx.prototype.autoView=function(t){this.stage.animationControls.zoomMove(this.getCenter(),this.getZoom(),bl(t,0))},Object.defineProperties(qx.prototype,Yx);var Zx=function(t){void 0===t&&(t=[]);for(var e=(this.list=t).length,i=0;i<e;++i){t[i].signals.disposed.add(this._remove,this)}},Kx={first:{configurable:!0}};Zx.prototype._remove=function(t){var e=this.list.indexOf(t);-1!==e&&this.list.splice(e,1)},Kx.first.get=function(){return 0<this.list.length?this.list[0]:void 0},Zx.prototype.forEach=function(t){return this.list.forEach(t),this},Zx.prototype.dispose=function(){return this.forEach(function(t){return t.dispose()})},Object.defineProperties(Zx.prototype,Kx);var Jx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.setParameters=function(e){return this.forEach(function(t){return t.setParameters(e)})},e.prototype.setVisibility=function(e){return this.forEach(function(t){return t.setVisibility(e)})},e.prototype.setSelection=function(e){return this.forEach(function(t){return t.setSelection(e)})},e.prototype.setColor=function(e){return this.forEach(function(t){return t.setColor(e)})},e.prototype.update=function(e){return this.forEach(function(t){return t.update(e)})},e.prototype.build=function(e){return this.forEach(function(t){return t.build(e)})},e.prototype.dispose=function(t){return this.forEach(function(t){return t.dispose()})},e}(Zx),Qx=Object.assign({defaultStep:1,defaultTimeout:50,defaultInterpolateType:"",defaultInterpolateStep:5,defaultMode:"loop",defaultDirection:"forward",initialFrame:0},Ux),t_=function(n){function t(t,e,i){var r=this;void 0===i&&(i={}),n.call(this,t,Object.assign({name:e.name},i)),this.trajectory=e,this.signals=Object.assign(this.signals,{frameChanged:new op,playerChanged:new op,countChanged:new op,parametersChanged:new op}),e.signals.frameChanged.add(function(t){r.signals.frameChanged.dispatch(t)}),e.signals.playerChanged.add(function(t){r.signals.playerChanged.dispatch(t)}),e.signals.countChanged.add(function(t){r.signals.countChanged.dispatch(t)}),void 0!==i.initialFrame&&this.setFrame(i.initialFrame)}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={defaultParameters:{configurable:!0},type:{configurable:!0}};return e.defaultParameters.get=function(){return Qx},e.type.get=function(){return"trajectory"},t.prototype.setFrame=function(t){this.trajectory.setFrame(t)},t.prototype.setParameters=function(t){void 0===t&&(t={}),this.trajectory.setParameters(t),this.signals.parametersChanged.dispatch(t)},t.prototype.dispose=function(){this.trajectory.dispose(),n.prototype.dispose.call(this)},Object.defineProperties(t.prototype,e),t}(jx),e_=function(t,e){this.name=t,this.path=e,this.coordinates=[],this.boxes=[],this.times=[],this.timeOffset=0,this.deltaTime=1},i_={type:{configurable:!0}};i_.type.get=function(){return"Frames"},Object.defineProperties(e_.prototype,i_);var r_=function(t,e){var i,r;if(this.A=new kv(3,3),this.W=new kv(1,3),this.U=new kv(3,3),this.V=new kv(3,3),this.VH=new kv(3,3),this.R=new kv(3,3),this.tmp=new kv(3,3),this.c=new kv(3,3),t instanceof cx)i=t.atomCount;else{if(!(t instanceof Float32Array))return;i=t.length/3}if(e instanceof cx)r=e.atomCount;else{if(!(e instanceof Float32Array))return;r=e.length/3}var n=Math.min(i,r),o=new kv(3,n),a=new kv(3,n);this.coords1t=new kv(n,3),this.coords2t=new kv(n,3),this.transformationMatrix=new ei,this.c.data.set([1,0,0,0,1,0,0,0,-1]),this.prepCoords(t,o,n,!1),this.prepCoords(e,a,n,!1),this._superpose(o,a)};r_.prototype._superpose=function(t,e){var i,r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b,x,_,w,S;this.mean1=zv(t),this.mean2=zv(e),Uv(t,this.mean1),Uv(e,this.mean2),Bv(this.coords1t,t),Bv(this.coords2t,e),Nv(this.A,this.coords2t,this.coords1t),Hv(this.A,this.W,this.U,this.V),i=this.V,r=this.VH,n=i.data,o=r.data,a=n[4],s=n[8],c=n[5],u=n[7],h=n[0],l=h*a,p=h*c,d=n[3],f=n[1],m=d*f,g=n[2],v=d*g,y=n[6],_=1/(l*s-p*u-m*s+v*u+(b=y*f)*c-(x=y*g)*a),o[0]=(a*s-c*u)*_,o[1]=-(f*s-g*u)*_,o[2]=-(-f*c+g*a)*_,o[3]=-(d*s-c*y)*_,o[4]=(h*s-x)*_,o[5]=-(p-v)*_,o[6]=-(-d*u+a*y)*_,o[7]=-(h*u-b)*_,o[8]=(l-m)*_,Fv(this.R,this.U,this.VH),w=this.R,(S=w.data)[0]*S[4]*S[8]-S[0]*S[5]*S[7]-S[3]*S[1]*S[8]+S[3]*S[2]*S[7]+S[6]*S[1]*S[5]-S[6]*S[2]*S[4]<0&&(de.Debug&&Yp.log("R not a right handed system"),Fv(this.tmp,this.c,this.VH),Fv(this.R,this.U,this.tmp));var A=new kv(4,4),M=new kv(4,4),E=new kv(4,4),P=new kv(4,4),T=new kv(4,4),C=new kv(4,4),I=this.R.data,O=this.mean1,L=this.mean2;P.data.set([1,0,0,-O[0],0,1,0,-O[1],0,0,1,-O[2],0,0,0,1]),T.data.set([I[0],I[1],I[2],0,I[3],I[4],I[5],0,I[6],I[7],I[8],0,0,0,0,1]),C.data.set([1,0,0,L[0],0,1,0,L[1],0,0,1,L[2],0,0,0,1]),Bv(M,P),Nv(A,T,M),Bv(E,A),Nv(M,C,E),Bv(A,M),this.transformationMatrix.elements=A.data},r_.prototype.prepCoords=function(t,e,i,r){var n=0,o=e.data,a=3,s=3*i;if(r&&(s=4*i,a=4),t instanceof cx)t.eachAtom(function(t){n<s&&(o[n+0]=t.x,o[n+1]=t.y,o[n+2]=t.z,r&&(o[n+3]=1),n+=a)});else if(t instanceof Float32Array)for(;n<s;n+=a)n<s&&(o[n]=t[n],o[n+1]=t[n+1],o[n+2]=t[n+2],r&&(o[n+3]=1));else Yp.warn("prepCoords: input type unknown")},r_.prototype.transform=function(t){var e;if(t instanceof cx)e=t.atomCount;else{if(!(t instanceof Float32Array))return;e=t.length/3}var i=new kv(4,e),r=new kv(e,4);this.prepCoords(t,i,e,!0);var n=this.transformationMatrix,o=n.determinant();if(!o)return o;var a=new kv(4,4);a.data=n.elements,function(t,e,i){for(var r=0,n=0,o=0,a=0,s=0,c=0,u=0,h=0,l=e.cols,p=e.rows,d=i.cols,f=e.data,m=i.data,g=t.data,v=0;r<p;a+=l,r++)for(n=u=0;n<d;h++,u++,n++){for(c=u,s=a,o=v=0;o<l;s++,c+=d,o++)v+=f[s]*m[c];g[h]=v}}(r,i,a);var s=0,c=r.data;if(t instanceof cx){t.eachAtom(function(t){t.x=c[s],t.y=c[s+1],t.z=c[s+2],s+=4});var u=new ei;u.getInverse(n);var h=t.biomolDict;for(var l in h){if(h.hasOwnProperty(l))h[l].partList.forEach(function(t){t.matrixList.forEach(function(t){t.premultiply(n),t.multiply(u)})})}}else if(t instanceof Float32Array)for(var p=4*e;s<p;s+=4)t[s]=c[s],t[s+1]=c[s+1],t[s+2]=c[s+2];else Yp.warn("transform: input type unknown");return this.transformationMatrix};var n_={step:1,timeout:50,start:0,end:0,interpolateType:"",interpolateStep:5,mode:"loop",direction:"forward"},o_=function(t,e){var i=this;void 0===e&&(e={}),this.signals={startedRunning:new op,haltedRunning:new op},this._run=!1,this._previousTime=0,this._currentTime=0,this._currentStep=1,t.signals.playerChanged.add(function(t){t!==i&&i.pause()},this);var r=bl(t.frameCount,1);this.traj=t,this.parameters=xl(e,n_),this.parameters.end=Math.min(bl(e.end,r-1),r-1),this.parameters.step=bl(e.step,Math.ceil((r+1)/100)),this._currentFrame=this.parameters.start,this._direction="bounce"===this.parameters.direction?"forward":this.parameters.direction,t.signals.countChanged.add(function(t){i.parameters.end=Math.min(bl(i.parameters.end,t-1),t-1)},this),this._animate=this._animate.bind(this)},a_={isRunning:{configurable:!0}};a_.isRunning.get=function(){return this._run},o_.prototype.setParameters=function(t){void 0===t&&(t={}),_l(this.parameters,t),void 0!==t.direction&&"bounce"!==this.parameters.direction&&(this._direction=this.parameters.direction)},o_.prototype._animate=function(){if(this._run){this._currentTime=window.performance.now();var t=this._currentTime-this._previousTime,e=this.parameters.interpolateType?this.parameters.interpolateStep:1,i=this.parameters.timeout/e,r=this.traj;if(r&&r.frameCount&&!r.inProgress&&i<=t)if(this.parameters.interpolateType)if(this._currentStep>this.parameters.interpolateStep&&(this._currentStep=1),1===this._currentStep&&(this._currentFrame=this._nextInterpolated()),r.hasFrame(this._currentFrame)){this._currentStep+=1;var n=this._currentStep/(this.parameters.interpolateStep+1),o=this._currentFrame,a=o[0],s=o[1],c=o[2],u=o[3];r.setFrameInterpolated(a,s,c,u,n,this.parameters.interpolateType),this._previousTime=this._currentTime}else r.loadFrame(this._currentFrame);else{var h=this._next();r.hasFrame(h)?(r.setFrame(h),this._previousTime=this._currentTime):r.loadFrame(h)}window.requestAnimationFrame(this._animate)}},o_.prototype._next=function(){var t,e=this.parameters;return((t="forward"===this._direction?this.traj.currentFrame+e.step:this.traj.currentFrame-e.step)>e.end||t<e.start)&&("bounce"===e.direction&&("forward"===this._direction?this._direction="backward":this._direction="forward"),"once"===e.mode?(this.pause(),t="forward"===e.direction?e.end:"backward"===e.direction?e.start:"forward"===this._direction?e.start:e.end):"forward"===this._direction?(t=e.start,e.interpolateType&&(t=Math.min(e.end,t+e.step))):(t=e.end,e.interpolateType&&(t=Math.max(e.start,t-e.step)))),t},o_.prototype._nextInterpolated=function(){var t,e,i,r=this.parameters,n=this._next();return"forward"===this._direction?(t=Math.max(r.start,n-r.step),e=Math.max(r.start,n-2*r.step),i=Math.max(r.start,n-3*r.step)):(t=Math.min(r.end,n+r.step),e=Math.min(r.end,n+2*r.step),i=Math.min(r.end,n+3*r.step)),[n,t,e,i]},o_.prototype.toggle=function(){this._run?this.pause():this.play()},o_.prototype.play=function(){if(!this._run){this.traj.player!==this&&this.traj.setPlayer(this),this._currentStep=1;var t=this.parameters,e=this.traj.currentFrame,i=Math.ceil(e/t.step)*t.step;"forward"===t.direction&&e>=t.end?i=t.start:"backward"===t.direction&&e<=t.start&&(i=t.end),this.traj.setFrame(i),this._run=!0,this._animate(),this.signals.startedRunning.dispatch()}},o_.prototype.pause=function(){this._run=!1,this.signals.haltedRunning.dispatch()},o_.prototype.stop=function(){this.pause(),this.traj.setFrame(this.parameters.start)},Object.defineProperties(o_.prototype,a_);var s_=function(t,e,i){var r=this;void 0===i&&(i={}),this.signals={countChanged:new op,frameChanged:new op,playerChanged:new op},this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this._frameCount=0,this._currentFrame=-1,this._disposed=!1,this.deltaTime=bl(i.deltaTime,0),this.timeOffset=bl(i.timeOffset,0),this.centerPbc=bl(i.centerPbc,!1),this.removePbc=bl(i.removePbc,!1),this.removePeriodicity=bl(i.removePeriodicity,!1),this.superpose=bl(i.superpose,!1),this.name=t.replace(/^.*[\\/]/,""),this.trajPath=t,this.selection=new Lp(bl(i.sele,"backbone and not hydrogen")),this.selection.signals.stringChanged.add(function(){r.selectionIndices=r.structure.getAtomIndices(r.selection),r._resetCache(),r._saveInitialCoords(),r.setFrame(r._currentFrame)})},c_={frameCount:{configurable:!0},currentFrame:{configurable:!0}};c_.frameCount.get=function(){return this._frameCount},c_.currentFrame.get=function(){return this._currentFrame},s_.prototype._init=function(t){this.setStructure(t),this._loadFrameCount(),this.setPlayer(new o_(this))},s_.prototype._loadFrameCount=function(){},s_.prototype.setStructure=function(t){this.structure=t,this.atomCount=t.atomCount,this.backboneIndices=this._getIndices(new Lp("backbone and not hydrogen")),this._makeAtomIndices(),this._saveStructureCoords(),this.selectionIndices=this._getIndices(this.selection),this._resetCache(),this._saveInitialCoords(),this.setFrame(this._currentFrame)},s_.prototype._saveInitialCoords=function(){var t=this;this.structure.hasCoords()?(this.initialCoords=new Float32Array(this.structureCoords),this._makeSuperposeCoords()):this.frameCache[0]?(this.initialCoords=new Float32Array(this.frameCache[0]),this._makeSuperposeCoords()):this.loadFrame(0,function(){return t._saveInitialCoords()})},s_.prototype._saveStructureCoords=function(){this.structureCoords=this.structure.getAtomData({what:{position:!0}}).position},s_.prototype.setSelection=function(t){return this.selection.setString(t),this},s_.prototype._getIndices=function(t){var e=0,i=t.test,r=[];return i&&this.structure.eachAtom(function(t){i(t)&&r.push(e),e+=1}),r},s_.prototype._makeSuperposeCoords=function(){var t=3*this.selectionIndices.length;this.coords1=new Float32Array(t),this.coords2=new Float32Array(t);for(var e=this.initialCoords,i=this.coords2,r=0;r<t;r+=3){var n=3*this.selectionIndices[r/3];i[r+0]=e[n+0],i[r+1]=e[n+1],i[r+2]=e[n+2]}},s_.prototype._makeAtomIndices=function(){Yp.error("Trajectory._makeAtomIndices not implemented")},s_.prototype._resetCache=function(){this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this.initialCoords=new Float32Array(0)},s_.prototype.setParameters=function(t){void 0===t&&(t={});var e=!1;void 0!==t.centerPbc&&t.centerPbc!==this.centerPbc&&(this.centerPbc=t.centerPbc,e=!0),void 0!==t.removePeriodicity&&t.removePeriodicity!==this.removePeriodicity&&(this.removePeriodicity=t.removePeriodicity,e=!0),void 0!==t.removePbc&&t.removePbc!==this.removePbc&&(this.removePbc=t.removePbc,e=!0),void 0!==t.superpose&&t.superpose!==this.superpose&&(this.superpose=t.superpose,e=!0),this.deltaTime=bl(t.deltaTime,this.deltaTime),this.timeOffset=bl(t.timeOffset,this.timeOffset),e&&(this._resetCache(),this.setFrame(this._currentFrame))},s_.prototype.hasFrame=function(t){var e=this;return Array.isArray(t)?t.every(function(t){return!!e.frameCache[t]}):!!this.frameCache[t]},s_.prototype.setFrame=function(t,e){var i=this;return void 0===t||(this.inProgress=!0,-1===t||this.frameCache[t]?(this._updateStructure(t),e&&e()):this.loadFrame(t,function(){i._updateStructure(t),e&&e()})),this},s_.prototype._interpolate=function(t,e,i,r,n,o){var a,s=this.frameCache;a="spline"===o?function(t,e,i,r,n){for(var o=t.length,a=new Float32Array(o),s=0;s<o;s+=3){var c=s+1,u=s+2;a[s]=Yl(r[s],i[s],e[s],t[s],n,1),a[c]=Yl(r[c],i[c],e[c],t[c],n,1),a[u]=Yl(r[u],i[u],e[u],t[u],n,1)}return a}(s[t],s[e],s[i],s[r],n):function(t,e,i){for(var r=t.length,n=new Float32Array(r),o=0;o<r;o+=3){var a=o+1,s=o+2;n[o]=ql(e[o],t[o],i),n[a]=ql(e[a],t[a],i),n[s]=ql(e[s],t[s],i)}return n}(s[t],s[e],n),this.structure.updatePosition(a),this._currentFrame=t,this.signals.frameChanged.dispatch(t)},s_.prototype.setFrameInterpolated=function(t,e,i,r,n,o,a){var s=this;if(void 0===t)return this;var c=this.frameCache,u=[];return c[r]||u.push(r),c[i]||u.push(i),c[e]||u.push(e),c[t]||u.push(t),u.length?this.loadFrame(u,function(){s._interpolate(t,e,i,r,n,o),a&&a()}):(this._interpolate(t,e,i,r,n,o),a&&a()),this},s_.prototype.loadFrame=function(t,e){var i=this;Array.isArray(t)?t.forEach(function(t){i.loadQueue[t]||i.frameCache[t]||(i.loadQueue[t]=!0,i._loadFrame(t,function(){delete i.loadQueue[t]}))}):this.loadQueue[t]||this.frameCache[t]||(this.loadQueue[t]=!0,this._loadFrame(t,function(){delete i.loadQueue[t],e&&e()}))},s_.prototype._loadFrame=function(t,e){Yp.error("Trajectory._loadFrame not implemented",t,e)},s_.prototype._updateStructure=function(t){this._disposed?console.error("updateStructure: traj disposed"):(-1===t?this.structureCoords&&this.structure.updatePosition(this.structureCoords):this.structure.updatePosition(this.frameCache[t]),this.structure.trajectory={name:this.trajPath,frame:t},this._currentFrame=t,this.inProgress=!1,this.signals.frameChanged.dispatch(t))},s_.prototype._doSuperpose=function(t){for(var e=3*this.selectionIndices.length,i=this.coords1,r=this.coords2,n=0;n<e;n+=3){var o=3*this.selectionIndices[n/3];i[n+0]=t[o+0],i[n+1]=t[o+1],i[n+2]=t[o+2]}new r_(i,r).transform(t)},s_.prototype._process=function(t,e,i,r){if(this._setFrameCount(r),e){if(0<this.backboneIndices.length&&this.centerPbc){var n=[e[0],e[4],e[8]];!function(t,e,i){if(0!==i[0]&&0!==i[8]&&0!==i[4])for(var r=t.length,n=i[0],o=i[1],a=i[2],s=-e[0]+n+n/2,c=-e[1]+o+o/2,u=-e[2]+a+a/2,h=0;h<r;h+=3)t[h+0]=(t[h+0]+s)%n,t[h+1]=(t[h+1]+c)%o,t[h+2]=(t[h+2]+u)%a}(i,(a=this.backboneIndices,[zd(s=i,(c=n)[0],3,0,a),zd(s,c[1],3,1,a),zd(s,c[2],3,2,a)]),n)}if(this.removePeriodicity)!function(t,e,i){if(0!==e[0]&&0!==e[8]&&0!==e[4]){for(var r=t.length,n=3;n<r;n+=3)for(var o=0;o<3;++o){var a=(t[n+o]-i[o])/e[3*o+o];.5<Math.abs(a)&&(t[n+o]-=e[3*o+o]*Math.round(a))}}}(i,e,[Jd(o=i,3,0),Jd(o,3,1),Jd(o,3,2)]);this.removePbc&&function(t,e){if(0!==e[0]&&0!==e[8]&&0!==e[4]){for(var i=t.length,r=3;r<i;r+=3)for(var n=0;n<3;++n){var o=t[r+n]-t[r-3+n];if(Math.abs(o)>.9*e[3*n+n])if(0<o)for(var a=0;a<3;++a)t[r+a]-=e[3*n+a];else for(var s=0;s<3;++s)t[r+s]+=e[3*n+s]}}}(i,e)}var o,a,s,c;0<this.selectionIndices.length&&this.coords1&&this.superpose&&this._doSuperpose(i),this.frameCache[t]=i,this.boxCache[t]=e,this.frameCacheSize+=1},s_.prototype._setFrameCount=function(t){t!==this._frameCount&&(this._frameCount=t,this.signals.countChanged.dispatch(t))},s_.prototype.dispose=function(){this._resetCache(),this._disposed=!0,this.player&&this.player.stop()},s_.prototype.setPlayer=function(t){this.player=t,this.signals.playerChanged.dispatch(t)},s_.prototype.getFrameTime=function(t){return this.timeOffset+t*this.deltaTime},Object.defineProperties(s_.prototype,c_);var u_=function(n){function t(t,e,i){var r=i||{};r.timeOffset=bl(r.timeOffset,t.timeOffset),r.deltaTime=bl(r.deltaTime,t.deltaTime),n.call(this,"",e,r),this.name=t.name,this.path=t.path,this.frames=t.coordinates,this.boxes=t.boxes,this._init(e)}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={type:{configurable:!0}};return e.type.get=function(){return"frames"},t.prototype._makeAtomIndices=function(){"StructureView"===this.structure.type?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(t,e){var i,r=this.frames[t];if(this.atomIndices){var n=this.atomIndices,o=n.length;i=new Float32Array(3*o);for(var a=0;a<o;++a){var s=3*a,c=3*n[a];i[s+0]=r[c+0],i[s+1]=r[c+1],i[s+2]=r[c+2]}}else i=new Float32Array(r);var u=this.boxes[t],h=this.frames.length;this._process(t,u,i,h),"function"==typeof e&&e()},t.prototype._loadFrameCount=function(){this.frames&&this._setFrameCount(this.frames.length)},Object.defineProperties(t.prototype,e),t}(s_),h_=function(r){function t(t,e,i){r.call(this,"",e,i),this._init(e)}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0}};return e.type.get=function(){return"structure"},t.prototype._makeAtomIndices=function(){this.structure.atomSet&&this.structure.atomSet.getSize()<this.structure.atomStore.count?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(t,e){var i,r=this.structure,n=r.frames[t];if(this.atomIndices){var o=this.atomIndices,a=o.length;i=new Float32Array(3*a);for(var s=0;s<a;++s){var c=3*s,u=3*o[s];i[c+0]=n[u+0],i[c+1]=n[u+1],i[c+2]=n[u+2]}}else i=new Float32Array(n);var h=r.boxes[t],l=r.frames.length;this._process(t,h,i,l),"function"==typeof e&&e()},t.prototype._loadFrameCount=function(){this._setFrameCount(this.structure.frames.length)},Object.defineProperties(t.prototype,e),t}(s_),l_=function(r){function t(t,e,i){r.call(this,t,e,i),this._init(e)}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0}};return e.type.get=function(){return"remote"},t.prototype._makeAtomIndices=function(){var t=[];if("StructureView"===this.structure.type){for(var e=this.structure.getAtomIndices(),i=e.length,r=e[0],n=e[0],o=1;o<i;++o){var a=e[o];n+1<a&&(t.push([r,n+1]),r=a),n=a}t.push([r,n+1])}else t.push([0,this.atomCount]);this.atomIndices=t},t.prototype._loadFrame=function(n,o){var a=this,s=new XMLHttpRequest,c=de.TrajectoryDatasource.getFrameUrl(this.trajPath,n),t=de.TrajectoryDatasource.getFrameParams(this.trajPath,this.atomIndices);s.open("POST",c,!0),s.responseType="arraybuffer",s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.addEventListener("load",function(){var t=s.response;if(t){var e=new Int32Array(t,0,1)[0],i=new Float32Array(t,8,9),r=new Float32Array(t,44);a._process(n,i,r,e),"function"==typeof o&&o()}else Yp.error("empty arrayBuffer for '"+c+"'")},!1),s.send(t)},t.prototype._loadFrameCount=function(){var t=this,e=new XMLHttpRequest,i=de.TrajectoryDatasource.getCountUrl(this.trajPath);e.open("GET",i,!0),e.addEventListener("load",function(){t._setFrameCount(parseInt(e.response))},!1),e.send()},Object.defineProperties(t.prototype,e),t}(s_);cx.prototype.getView=function(t){return new p_(this,t)};var p_=function(i){function t(t,e){i.call(this),this.structure=t,this.selection=e,this.center=new ri,this.boundingBox=new Pi,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy(),this.selection&&this.selection.signals.stringChanged.add(this.refresh,this),this.structure.signals.refreshed.add(this.refresh,this),this.refresh()}i&&(t.__proto__=i);var e={type:{configurable:!0},name:{configurable:!0},path:{configurable:!0},title:{configurable:!0},id:{configurable:!0},data:{configurable:!0},atomSetDict:{configurable:!0},biomolDict:{configurable:!0},entityList:{configurable:!0},unitcell:{configurable:!0},frames:{configurable:!0},boxes:{configurable:!0},validation:{configurable:!0},bondStore:{configurable:!0},backboneBondStore:{configurable:!0},rungBondStore:{configurable:!0},atomStore:{configurable:!0},residueStore:{configurable:!0},chainStore:{configurable:!0},modelStore:{configurable:!0},atomMap:{configurable:!0},residueMap:{configurable:!0},bondHash:{configurable:!0},spatialHash:{configurable:!0},_hasCoords:{configurable:!0}};return((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.init=function(){},e.type.get=function(){return"StructureView"},e.name.get=function(){return this.structure.name},e.path.get=function(){return this.structure.path},e.title.get=function(){return this.structure.title},e.id.get=function(){return this.structure.id},e.data.get=function(){return this.structure.data},e.atomSetDict.get=function(){return this.structure.atomSetDict},e.biomolDict.get=function(){return this.structure.biomolDict},e.entityList.get=function(){return this.structure.entityList},e.unitcell.get=function(){return this.structure.unitcell},e.frames.get=function(){return this.structure.frames},e.boxes.get=function(){return this.structure.boxes},e.validation.get=function(){return this.structure.validation},e.bondStore.get=function(){return this.structure.bondStore},e.backboneBondStore.get=function(){return this.structure.backboneBondStore},e.rungBondStore.get=function(){return this.structure.rungBondStore},e.atomStore.get=function(){return this.structure.atomStore},e.residueStore.get=function(){return this.structure.residueStore},e.chainStore.get=function(){return this.structure.chainStore},e.modelStore.get=function(){return this.structure.modelStore},e.atomMap.get=function(){return this.structure.atomMap},e.residueMap.get=function(){return this.structure.residueMap},e.bondHash.get=function(){return this.structure.bondHash},e.spatialHash.get=function(){return this.structure.spatialHash},e._hasCoords.get=function(){return this.structure._hasCoords},e._hasCoords.set=function(t){this.structure._hasCoords=t},t.prototype.refresh=function(){de.Debug&&Yp.time("StructureView.refresh"),this.atomSetCache={};var t=this.structure;if(this.selection.isAllSelection()&&t!==this&&t.atomSet&&t.bondSet){for(var e in this.atomSet=t.atomSet.clone(),this.bondSet=t.bondSet.clone(),this.atomSetDict){var i=this.atomSetDict[e];this.atomSetCache["__"+e]=i.clone()}this.atomCount=t.atomCount,this.bondCount=t.bondCount,this.boundingBox.copy(t.boundingBox),this.center.copy(t.center)}else if(this.selection.isNoneSelection()&&t!==this&&t.atomSet&&t.bondSet){for(var r in this.atomSet=new tg(t.atomCount),this.bondSet=new tg(t.bondCount),this.atomSetDict)this.atomSetCache["__"+r]=new tg(t.atomCount);this.atomCount=0,this.bondCount=0,this.boundingBox.makeEmpty(),this.center.set(0,0,0)}else{for(var n in this.atomSet=this.getAtomSet(this.selection,!0),t.atomSet&&(this.atomSet=this.atomSet.intersection(t.atomSet)),this.bondSet=this.getBondSet(),this.atomSetDict){var o=this.atomSetDict[n];this.atomSetCache["__"+n]=o.makeIntersection(this.atomSet)}this.atomCount=this.atomSet.getSize(),this.bondCount=this.bondSet.getSize(),this.boundingBox=this.getBoundingBox(),this.center=this.boundingBox.getCenter(new ri)}de.Debug&&Yp.timeEnd("StructureView.refresh"),this.signals.refreshed.dispatch()},t.prototype.setSelection=function(t){this.selection=t,this.refresh()},t.prototype.getSelection=function(t){var e=[];t&&t.string&&e.push(t.string);var i=this.structure.getSelection();i&&i.string&&e.push(i.string),this.selection&&this.selection.string&&e.push(this.selection.string);var r="";return 0<e.length&&(r="( "+e.join(" ) AND ( ")+" )"),new Lp(r)},t.prototype.getStructure=function(){return this.structure.getStructure()},t.prototype.eachBond=function(t,e){this.structure.eachBond(t,this.getSelection(e))},t.prototype.eachAtom=function(e,t){var i=this.getAtomProxy(),r=this.getAtomSet(t),n=this.atomStore.count;if(r.getSize()<n)r.forEach(function(t){i.index=t,e(i)});else for(var o=0;o<n;++o)i.index=o,e(i)},t.prototype.eachResidue=function(t,e){this.structure.eachResidue(t,this.getSelection(e))},t.prototype.eachResidueN=function(t,e){console.error("StructureView.eachResidueN() not implemented")},t.prototype.eachChain=function(t,e){this.structure.eachChain(t,this.getSelection(e))},t.prototype.eachModel=function(t,e){this.structure.eachModel(t,this.getSelection(e))},t.prototype.getAtomSet=function(t,e){void 0===e&&(e=!1);var i=this.structure.getAtomSet(t);return!e&&this.atomSet&&(i=i.makeIntersection(this.atomSet)),i},t.prototype.getAtomIndices=function(t){return this.structure.getAtomIndices(this.getSelection(t))},t.prototype.refreshPosition=function(){return this.structure.refreshPosition()},t.prototype.dispose=function(){this.selection&&this.selection.signals.stringChanged.remove(this.refresh,this),this.structure.signals.refreshed.remove(this.refresh,this),delete this.structure,delete this.atomSet,delete this.bondSet,delete this.atomCount,delete this.bondCount},Object.defineProperties(t.prototype,e),t}(cx),d_=[[4,0,-2,-1,-2,0,-2,-1,-1,-1,-1,-2,-1,-1,-1,1,0,0,-3,-2],[0,9,-3,-4,-2,-3,-3,-1,-3,-1,-1,-3,-3,-3,-3,-1,-1,-1,-2,-2],[-2,-3,6,2,-3,-1,-1,-3,-1,-4,-3,1,-1,0,-2,0,-1,-3,-4,-3],[-1,-4,2,5,-3,-2,0,-3,1,-3,-2,0,-1,2,0,0,-1,-2,-3,-2],[-2,-2,-3,-3,6,-3,-1,0,-3,0,0,-3,-4,-3,-3,-2,-2,-1,1,3],[0,-3,-1,-2,-3,6,-2,-4,-2,-4,-3,0,-2,-2,-2,0,-2,-3,-2,-3],[-2,-3,-1,0,-1,-2,8,-3,-1,-3,-2,1,-2,0,0,-1,-2,-3,-2,2],[-1,-1,-3,-3,0,-4,-3,4,-3,2,1,-3,-3,-3,-3,-2,-1,3,-3,-1],[-1,-3,-1,1,-3,-2,-1,-3,5,-2,-1,0,-1,1,2,0,-1,-2,-3,-2],[-1,-1,-4,-3,0,-4,-3,2,-2,4,2,-3,-3,-2,-2,-2,-1,1,-2,-1],[-1,-1,-3,-2,0,-3,-2,1,-1,2,5,-2,-2,0,-1,-1,-1,1,-1,-1],[-2,-3,1,0,-3,0,1,-3,0,-3,-2,6,-2,0,0,1,0,-3,-4,-2],[-1,-3,-1,-1,-4,-2,-2,-3,-1,-3,-2,-2,7,-1,-2,-1,-1,-2,-4,-3],[-1,-3,0,2,-3,-2,0,-3,1,-2,0,0,-1,5,1,0,-1,-2,-2,-1],[-1,-3,-2,0,-3,-2,0,-3,2,-2,-1,0,-2,1,5,-1,-1,-3,-3,-2],[1,-1,0,0,-2,0,-1,-2,0,-2,-1,1,-1,0,-1,4,1,-2,-3,-2],[0,-1,-1,-1,-2,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,1,5,0,-2,-2],[0,-1,-3,-2,-1,-3,-3,3,-2,1,1,-3,-2,-2,-3,-2,0,4,-3,-1],[-3,-2,-4,-3,1,-2,-2,-3,-3,-2,-1,-4,-4,-2,-3,-3,-2,-3,11,2],[-2,-2,-3,-2,3,-3,2,-1,-2,-1,-1,-2,-3,-1,-2,-2,-2,-1,2,7]];function f_(i,t){var r,n=0,o={};return t.forEach(function(t){r=0;var e={};t.forEach(function(t){e[i[r++]]=t}),o[i[n++]]=e}),o}var m_={blosum62:f_("ARNDCQEGHILKMFPSTWYVBZ?",[[4,-1,-2,-2,0,-1,-1,0,-2,-1,-1,-1,-1,-2,-1,1,0,-3,-2,0,-2,-1,0],[-1,5,0,-2,-3,1,0,-2,0,-3,-2,2,-1,-3,-2,-1,-1,-3,-2,-3,-1,0,-1],[-2,0,6,1,-3,0,0,0,1,-3,-3,0,-2,-3,-2,1,0,-4,-2,-3,3,0,-1],[-2,-2,1,6,-3,0,2,-1,-1,-3,-4,-1,-3,-3,-1,0,-1,-4,-3,-3,4,1,-1],[0,-3,-3,-3,9,-3,-4,-3,-3,-1,-1,-3,-1,-2,-3,-1,-1,-2,-2,-1,-3,-3,-2],[-1,1,0,0,-3,5,2,-2,0,-3,-2,1,0,-3,-1,0,-1,-2,-1,-2,0,3,-1],[-1,0,0,2,-4,2,5,-2,0,-3,-3,1,-2,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-2,0,-1,-3,-2,-2,6,-2,-4,-4,-2,-3,-3,-2,0,-2,-2,-3,-3,-1,-2,-1],[-2,0,1,-1,-3,0,0,-2,8,-3,-3,-1,-2,-1,-2,-1,-2,-2,2,-3,0,0,-1],[-1,-3,-3,-3,-1,-3,-3,-4,-3,4,2,-3,1,0,-3,-2,-1,-3,-1,3,-3,-3,-1],[-1,-2,-3,-4,-1,-2,-3,-4,-3,2,4,-2,2,0,-3,-2,-1,-2,-1,1,-4,-3,-1],[-1,2,0,-1,-3,1,1,-2,-1,-3,-2,5,-1,-3,-1,0,-1,-3,-2,-2,0,1,-1],[-1,-1,-2,-3,-1,0,-2,-3,-2,1,2,-1,5,0,-2,-1,-1,-1,-1,1,-3,-1,-1],[-2,-3,-3,-3,-2,-3,-3,-3,-1,0,0,-3,0,6,-4,-2,-2,1,3,-1,-3,-3,-1],[-1,-2,-2,-1,-3,-1,-1,-2,-2,-3,-3,-1,-2,-4,7,-1,-1,-4,-3,-2,-2,-1,-2],[1,-1,1,0,-1,0,0,0,-1,-2,-2,0,-1,-2,-1,4,1,-3,-2,-2,0,0,0],[0,-1,0,-1,-1,-1,-1,-2,-2,-1,-1,-1,-1,-2,-1,1,5,-2,-2,0,-1,-1,0],[-3,-3,-4,-4,-2,-2,-3,-2,-2,-3,-2,-3,-1,1,-4,-3,-2,11,2,-3,-4,-3,-2],[-2,-2,-2,-3,-2,-1,-2,-3,2,-1,-1,-2,-1,3,-3,-2,-2,2,7,-1,-3,-2,-1],[0,-3,-3,-3,-1,-2,-2,-3,-3,3,1,-2,1,-1,-2,-2,0,-3,-1,4,-3,-2,-1],[-2,-1,3,4,-3,0,1,-1,0,-3,-4,0,-3,-3,-2,0,-1,-4,-3,-3,4,1,-1],[-1,0,0,1,-3,3,4,-2,0,-3,-3,1,-1,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,0,0,-2,-1,-1,-1,-1,-1]]),blosum62x:f_("ACDEFGHIKLMNPQRSTVWY",d_)},g_=function(t,e,i,r,n){void 0===i&&(i=-10),void 0===r&&(r=-1),void 0===n&&(n="blosum62"),this.seq1=t,this.seq2=e,this.gapPenalty=i,this.gapExtensionPenalty=r,n&&(this.substMatrix=m_[n])};function v_(t,e,i,r,n){var o,a,s,c,u;if(void 0===i&&(i=!1),void 0===r&&(r=""),void 0===n&&(n=""),i){var h=t,l=e;r&&n&&(h=t.getView(new Lp(r)),l=e.getView(new Lp(n)));var p,d,f=h.getSequence(),m=l.getSequence(),g=new g_(f.join(""),m.join(""));g.calc(),g.trace(),a=o=0,s=g.ali1.length;for(var v=[],y=[],b=0;b<s;++b){var x=g.ali1[b],_=g.ali2[b];d=p=0,"-"===x?y[a]=!1:(y[a]=!0,p=1),"-"===_?v[o]=!1:(v[o]=!0,d=1),o+=p,a+=d}var w=[],S=[],A=h.getAtomProxy(),M=l.getAtomProxy();o=0,h.eachResidue(function(t){void 0!==t.traceAtomIndex&&t.traceAtomIndex===t.getAtomIndexByName("CA")&&(v[o]&&(A.index=t.getAtomIndexByName("CA"),w.push(A.x,A.y,A.z)),o+=1)}),o=0,l.eachResidue(function(t){void 0!==t.traceAtomIndex&&t.traceAtomIndex===t.getAtomIndexByName("CA")&&(y[o]&&(M.index=t.getAtomIndexByName("CA"),S.push(M.x,M.y,M.z)),o+=1)}),c=new Float32Array(w),u=new Float32Array(S)}else{c=t.getView(new Lp(r+" and .CA")),u=e.getView(new Lp(n+" and .CA"))}var E=new r_(c,u).transform(t);return t.refreshPosition(),E}g_.prototype.initMatrices=function(){var t=this;this.n=this.seq1.length,this.m=this.seq2.length,this.score=void 0,this.ali="",this.S=[],this.V=[],this.H=[];for(var e=0;e<=this.n;++e){t.S[e]=[],t.V[e]=[],t.H[e]=[];for(var i=0;i<=this.m;++i)t.S[e][i]=0,t.V[e][i]=0,t.H[e][i]=0}for(var r=0;r<=this.n;++r)t.S[r][0]=t.gap(0),t.H[r][0]=-1/0;for(var n=0;n<=this.m;++n)t.S[0][n]=t.gap(0),t.V[0][n]=-1/0;this.S[0][0]=0},g_.prototype.gap=function(t){return this.gapPenalty+t*this.gapExtensionPenalty},g_.prototype.makeScoreFn=function(){var n=this.seq1,o=this.seq2,a=this.substMatrix;return a?function(t,e){var i=n[t],r=o[e];try{return a[i][r]}catch(t){return-4}}:(Yp.warn("Alignment: no subst matrix"),function(t,e){return n[t]===o[e]?5:-3})},g_.prototype.calc=function(){de.Debug&&Yp.time("Alignment.calc"),this.initMatrices();for(var t,e,i,r,n,o=this.gap(0),a=this.makeScoreFn(),s=this.gapExtensionPenalty,c=this.V,u=this.H,h=this.S,l=this.n,p=this.m,d=1;d<=l;++d){e=h[d-1],t=c[d-1],i=c[d],r=u[d],n=h[d];for(var f=1;f<=p;++f)i[f]=Math.max(e[f]+o,t[f]+s),r[f]=Math.max(n[f-1]+o,r[f-1]+s),n[f]=Math.max(e[f-1]+a(d-1,f-1),i[f],r[f])}de.Debug&&Yp.timeEnd("Alignment.calc"),de.Debug&&Yp.log(this.S,this.V,this.H)},g_.prototype.trace=function(){var t=this;de.Debug&&Yp.time("Alignment.trace"),this.ali1="",this.ali2="";var e,i=this.makeScoreFn(),r=this.n,n=this.m;for(this.S[r][n]>=this.V[r][n]?(e="S",this.score=this.S[r][n]):this.V[r][n]>=this.H[r][n]?(e="V",this.score=this.V[r][n]):(e="H",this.score=this.H[r][n]),de.Debug&&Yp.log("Alignment: SCORE",this.score),de.Debug&&Yp.log("Alignment: S, V, H",this.S[r][n],this.V[r][n],this.H[r][n]);0<r&&0<n;)"S"===e?t.S[r][n]===t.S[r-1][n-1]+i(r-1,n-1)?(t.ali1=t.seq1[r-1]+t.ali1,t.ali2=t.seq2[n-1]+t.ali2,--r,--n,e="S"):t.S[r][n]===t.V[r][n]?e="V":t.S[r][n]===t.H[r][n]?e="H":(--r,--n):"V"===e?t.V[r][n]===t.V[r-1][n]+t.gapExtensionPenalty?(t.ali1=t.seq1[r-1]+t.ali1,t.ali2="-"+t.ali2,--r,e="V"):t.V[r][n]===t.S[r-1][n]+t.gap(0)?(t.ali1=t.seq1[r-1]+t.ali1,t.ali2="-"+t.ali2,--r,e="S"):--r:"H"===e?t.H[r][n]===t.H[r][n-1]+t.gapExtensionPenalty?(t.ali1="-"+t.ali1,t.ali2=t.seq2[n-1]+t.ali2,--n,e="H"):t.H[r][n]===t.S[r][n-1]+t.gap(0)?(t.ali1="-"+t.ali1,t.ali2=t.seq2[n-1]+t.ali2,--n,e="S"):--n:Yp.error("Alignment: no matrix");for(;0<r;)t.ali1=t.seq1[r-1]+t.ali1,t.ali2="-"+t.ali2,--r;for(;0<n;)t.ali1="-"+t.ali1,t.ali2=t.seq2[n-1]+t.ali2,--n;de.Debug&&Yp.timeEnd("Alignment.trace"),de.Debug&&Yp.log([this.ali1,this.ali2])};var y_=Object.assign({sele:"",defaultAssembly:""},Xx),b_=function(c){function t(t,e,i){var r,n,o,a,s;void 0===i&&(i={}),c.call(this,t,e,Object.assign({name:e.name},i)),this.structure=e,this.trajList=[],this.signals=Object.assign(this.signals,{trajectoryAdded:new op,trajectoryRemoved:new op,defaultAssemblyChanged:new op}),this.initSelection(this.parameters.sele),this.pickBuffer=(r=4,o=n=0,a=[],{has:function(t){return-1!==a.indexOf(t)},get:function(t){return a[t]},push:function(t){a[n]=t,n=(r+n+1)%r,++o},get count(){return o},get data(){return a.slice(0,Math.min(o,r))},clear:function(){n=o=0,a.length=0}}),this.pickDict=(s={},{has:function(t){return void 0!==s[JSON.stringify(t)]},add:function(t,e){s[JSON.stringify(t)]=e},del:function(t){delete s[JSON.stringify(t)]},get values(){return Object.keys(s).map(function(t){return s[t]})}}),this.spacefillRepresentation=this.addRepresentation("spacefill",{sele:"none",opacity:Zp.opacity,color:Zp.color,disablePicking:!0,radiusType:"data"},!0),this.distanceRepresentation=this.addRepresentation("distance",Zp,!0),this.angleRepresentation=this.addRepresentation("angle",Zp,!0),this.dihedralRepresentation=this.addRepresentation("dihedral",Zp,!0),this.measureRepresentations=new Jx([this.spacefillRepresentation,this.distanceRepresentation,this.angleRepresentation,this.dihedralRepresentation]),this.setDefaultAssembly(this.parameters.defaultAssembly)}c&&(t.__proto__=c),(t.prototype=Object.create(c&&c.prototype)).constructor=t;var e={defaultParameters:{configurable:!0},type:{configurable:!0}};return e.defaultParameters.get=function(){return y_},e.type.get=function(){return"structure"},t.prototype.initSelection=function(t){var e=this;this.selection=new Lp(t),this.structureView=new p_(this.structure,this.selection),this.selection.signals.stringChanged.add(function(){e.structureView.setSelection(e.selection),e.rebuildRepresentations(),e.rebuildTrajectories()})},t.prototype.setSelection=function(t){return this.parameters.sele=t,this.selection.setString(t),this},t.prototype.setDefaultAssembly=function(t){if(void 0===this.structure.biomolDict[t]&&(t=""),this.parameters.defaultAssembly!==t){var e={defaultAssembly:t};this.reprList.forEach(function(t){return t.setParameters(e)}),this.measureRepresentations.setParameters(e),this.parameters.defaultAssembly=t,this.signals.defaultAssemblyChanged.dispatch(t)}return this},t.prototype.rebuildRepresentations=function(){this.reprList.forEach(function(t){t.build()}),this.measureRepresentations.build()},t.prototype.rebuildTrajectories=function(){var e=this;this.trajList.forEach(function(t){t.trajectory.setStructure(e.structureView)})},t.prototype.updateRepresentations=function(t){c.prototype.updateRepresentations.call(this,t),this.measureRepresentations.update(t)},t.prototype.addRepresentation=function(t,e,i){var r=this;void 0===e&&(e={}),void 0===i&&(i=!1),e.defaultAssembly=this.parameters.defaultAssembly;var n=this._addRepresentation(t,this.structureView,e,i);return i||n.signals.parametersChanged.add(function(){return r.measureUpdate()}),n},t.prototype.addTrajectory=function(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e={});var r,n,o,a=(r=t,n=this.structureView,o=e,r&&r instanceof e_?new u_(r,n,o):!r&&n.frames?new h_(r,n,o):new l_(r,n,o));a.signals.frameChanged.add(function(){i.updateRepresentations({position:!0})});var s=new t_(this.stage,a,e);return this.trajList.push(s),this.signals.trajectoryAdded.dispatch(s),s},t.prototype.removeTrajectory=function(t){var e=this.trajList.indexOf(t);-1!==e&&this.trajList.splice(e,1),t.dispose(),this.signals.trajectoryRemoved.dispatch(t)},t.prototype.dispose=function(){this.trajList.slice().forEach(function(t){return t.dispose()}),this.trajList.length=0,this.structure.dispose(),this.measureRepresentations.dispose(),c.prototype.dispose.call(this)},t.prototype.autoView=function(t,e){"number"==typeof t&&(e=t,t=""),this.stage.animationControls.zoomMove(this.getCenter(t),this.getZoom(t),bl(e,0))},t.prototype.getBoxUntransformed=function(t){return t?this.structureView.getBoundingBox(new Lp(t)):this.structureView.boundingBox},t.prototype.getCenterUntransformed=function(t){return t&&"string"==typeof t?this.structure.atomCenter(new Lp(t)):this.structure.center},t.prototype.superpose=function(t,e,i,r){return v_(this.structureView,t.structureView,e,i,r),this.updateRepresentations({position:!0}),this},t.prototype.getMaxRepresentationRadius=function(t){var i=0,r=this.structure.getAtomProxy(t);return this.eachRepresentation(function(t){if(t.getVisibility()){var e=t.repr;i=Math.max(e.getAtomRadius(r),i)}}),i},t.prototype.measurePick=function(t){var e=this.pickBuffer.count;if(this.lastPick===t.index&&1<=e){if(1<e){var i=this.pickBuffer.data,r=this.pickBuffer.data.sort();this.pickDict.has(r)?this.pickDict.del(r):this.pickDict.add(r,i),2===e?this.distanceRepresentation.setParameters({atomPair:this.pickDict.values.filter(function(t){return 2===t.length})}):3===e?this.angleRepresentation.setParameters({atomTriple:this.pickDict.values.filter(function(t){return 3===t.length})}):4===e&&this.dihedralRepresentation.setParameters({atomQuad:this.pickDict.values.filter(function(t){return 4===t.length})})}this.pickBuffer.clear(),this.lastPick=void 0}else this.pickBuffer.has(t.index)||this.pickBuffer.push(t.index),this.lastPick=t.index;this.measureUpdate()},t.prototype.measureClear=function(){this.pickBuffer.clear(),this.lastPick=void 0,this.spacefillRepresentation.setSelection("none")},t.prototype.measureBuild=function(){var t=this.measureData();this.distanceRepresentation.setParameters({atomPair:t.distance}),this.angleRepresentation.setParameters({atomTriple:t.angle}),this.dihedralRepresentation.setParameters({atomQuad:t.dihedral})},t.prototype.measureUpdate=function(){var i=this,t=this.pickBuffer.data,r={};t.forEach(function(t){var e=Math.max(.1,i.getMaxRepresentationRadius(t));r[t]=e*(2.3-Zl(.1,2,e))}),this.spacefillRepresentation.setSelection(t.length?"@"+t.join(","):"none"),this.spacefillRepresentation.setParameters({radiusData:r})},t.prototype.measureData=function(){var t=this.pickDict.values;return{distance:t.filter(function(t){return 2===t.length}),angle:t.filter(function(t){return 3===t.length}),dihedral:t.filter(function(t){return 4===t.length})}},t.prototype.removeAllMeasurements=function(t){var i=this.pickDict,r=i.values,e=function(e){r.filter(function(t){return t.length===e}).forEach(function(t){return i.del(t.slice().sort())})};(!t||1&t)&&e(2),(!t||2&t)&&e(3),(!t||4&t)&&e(4),this.measureBuild()},t.prototype.removeMeasurement=function(t){this.pickDict.del(t.slice().sort()),this.measureBuild()},t.prototype.addMeasurement=function(t){if(!(t.length<2||4<t.length)){var e=t.slice().sort();this.pickDict.has(e)||this.pickDict.add(e,t),this.measureBuild()}},Object.defineProperties(t.prototype,e),t}(qx);od.add("structure",b_),od.add("structureview",b_);var x_=function(r){function t(t,e,i){void 0===i&&(i={}),r.call(this,t,e,Object.assign({name:e.name},i)),this.surface=e}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0}};return e.type.get=function(){return"surface"},t.prototype.addRepresentation=function(t,e){return void 0===e&&(e={}),this._addRepresentation(t,this.surface,e)},t.prototype.getBoxUntransformed=function(){return this.surface.boundingBox},t.prototype.getCenterUntransformed=function(){return this.surface.center},t.prototype.dispose=function(){this.surface.dispose(),r.prototype.dispose.call(this)},Object.defineProperties(t.prototype,e),t}(qx);od.add("surface",x_);var __=function(r){function t(t,e,i){void 0===i&&(i={}),r.call(this,t,e,Object.assign({name:e.name},i)),this.volume=e}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0}};return e.type.get=function(){return"volume"},t.prototype.addRepresentation=function(t,e){return void 0===e&&(e={}),this._addRepresentation(t,this.volume,e)},t.prototype.getBoxUntransformed=function(){return this.volume.boundingBox},t.prototype.getCenterUntransformed=function(){return this.volume.center},t.prototype.dispose=function(){this.volume.dispose(),r.prototype.dispose.call(this)},Object.defineProperties(t.prototype,e),t}(qx);od.add("volume",__);var w_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.addRepresentation=function(e,i){return this.forEach(function(t){return t.addRepresentation(e,i)})},e.prototype.autoView=function(e){return this.forEach(function(t){return t.autoView(e)})},e}(Zx);function S_(t,e){return t instanceof RegExp?null!==e.name.match(t):e.name===t}var A_=new ri,M_={impostor:!0,quality:"medium",workerDefault:!0,sampleLevel:0,backgroundColor:"black",rotateSpeed:2,zoomSpeed:1.2,panSpeed:1,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",fogNear:50,fogFar:100,fogMode:"scene",fogScale:"relative",cameraFov:40,cameraEyeSep:.3,cameraType:"perspective",lightColor:14540253,lightIntensity:1,ambientColor:14540253,ambientIntensity:.2,hoverTimeout:0,tooltip:!0,mousePreset:"default"},E_=function(t,e){void 0===e&&(e={}),this.signals={parametersChanged:new op,fullscreenChanged:new op,componentAdded:new op,componentRemoved:new op,clicked:new op,hovered:new op},this.tasks=new Md,this.compList=[],this.defaultFileParams={},this.logList=[],this.viewer=new yf(t),this.viewer.renderer&&(this.tooltip=document.createElement("div"),Object.assign(this.tooltip.style,{display:"none",position:"fixed",zIndex:"1000000",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.viewer.container.appendChild(this.tooltip),this.mouseObserver=new xf(this.viewer.renderer.domElement),this.viewerControls=new $f(this),this.trackballControls=new Of(this),this.pickingControls=new Bf(this),this.animationControls=new nm(this),this.mouseControls=new Ey(this),this.keyControls=new Cy(this),this.pickingBehavior=new Iy(this),this.mouseBehavior=new Oy(this),this.animationBehavior=new Ly(this),this.keyBehavior=new Dy(this),this.spinAnimation=this.animationControls.spin([0,1,0],.005),this.spinAnimation.pause(!0),this.rockAnimation=this.animationControls.rock([0,1,0],.005),this.rockAnimation.pause(!0),this.parameters=xl(e,M_),this.setParameters(this.parameters),this.viewer.animate())};E_.prototype.setParameters=function(t){void 0===t&&(t={}),_l(this.parameters,t);var e=t,i=this.parameters,r=this.viewer,n=this.trackballControls;return void 0!==e.quality&&this.setQuality(i.quality),void 0!==e.impostor&&this.setImpostor(i.impostor),void 0!==e.rotateSpeed&&(n.rotateSpeed=i.rotateSpeed),void 0!==e.zoomSpeed&&(n.zoomSpeed=i.zoomSpeed),void 0!==e.panSpeed&&(n.panSpeed=i.panSpeed),void 0!==e.mousePreset&&this.mouseControls.preset(i.mousePreset),this.mouseObserver.setParameters({hoverTimeout:i.hoverTimeout}),r.setClip(i.clipNear,i.clipFar,i.clipDist,i.clipMode,i.clipScale),r.setFog(void 0,i.fogNear,i.fogFar,i.fogMode,i.fogScale),r.setCamera(i.cameraType,i.cameraFov,i.cameraEyeSep),r.setSampling(i.sampleLevel),r.setBackground(i.backgroundColor),r.setLight(i.lightColor,i.lightIntensity,i.ambientColor,i.ambientIntensity),this.signals.parametersChanged.dispatch(this.getParameters()),this},E_.prototype.log=function(t){console.log("STAGE LOG",t),this.logList.push(t)},E_.prototype.getParameters=function(){return Object.assign({},this.parameters)},E_.prototype.defaultFileRepresentation=function(t){if(t instanceof b_){var e,i,r;t.setSelection("/0");var n=t.structure;if(n.biomolDict.BU1){var o=n.biomolDict.BU1;e=o.getAtomCount(n),i=o.getResidueCount(n),r=o.getInstanceCount(),t.setDefaultAssembly("BU1")}else e=n.getModelProxy(0).atomCount,i=n.getModelProxy(0).residueCount,r=1;var a=e;$p&&(a*=4);var s=n.atomStore.count/n.residueStore.count<2;s&&(a*=10);var c="chainname",u="RdYlBu",h=!1;if(1===n.getChainnameCount(new Lp("polymer and /0"))&&(c="residueindex",u="spectral",h=!0),de.Debug&&console.log(a,e,r,s),i/r<4)t.addRepresentation("ball+stick",{colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"});else if(5<r&&15e3<a||7e5<a){var l=Math.min(1.5,Math.max(.1,2e3/(a/r)));s&&(l=Math.min(l,.15)),t.addRepresentation("surface",{colorScheme:c,colorScale:u,colorReverse:h,sele:"polymer",surfaceType:"sas",probeRadius:1.4,scaleFactor:l,useWorker:!1})}else 25e4<a?t.addRepresentation("backbone",{colorScheme:c,colorScale:u,colorReverse:h,lineOnly:!0}):1e5<a?t.addRepresentation("backbone",{colorScheme:c,colorScale:u,colorReverse:h,quality:"low",disableImpostor:!0,radiusScale:2}):8e4<a?t.addRepresentation("backbone",{colorScheme:c,colorScale:u,colorReverse:h,radiusScale:2}):(t.addRepresentation("cartoon",{colorScheme:c,colorScale:u,colorReverse:h,radiusScale:.7,aspectRatio:5,quality:"auto"}),a<5e4&&t.addRepresentation("base",{colorScheme:c,colorScale:u,colorReverse:h,quality:"auto"}),t.addRepresentation("ball+stick",{sele:"ligand",colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"}));t.structure.frames.length&&t.addTrajectory()}else t instanceof x_?t.addRepresentation("surface"):t instanceof __&&t.addRepresentation("surface");this.tasks.onZeroOnce(this.autoView,this)},E_.prototype.loadFile=function(t,e){var i=this;void 0===e&&(e={});var r=Object.assign({},this.defaultFileParams,e),n=md(t).name;this.tasks.increment(),this.log("loading file '"+n+"'");var o=bl(r.ext,md(t).ext);return(id.isTrajectory(o)?Promise.reject(new Error("loadFile: ext '"+o+"' is a trajectory and must be loaded into a structure component")):vd(t,r)).then(function(t){i.log("loaded '"+n+"'");var e=i.addComponentFromObject(t,r);return r.defaultRepresentation&&i.defaultFileRepresentation(e),i.tasks.decrement(),e},function(t){i.tasks.decrement();var e="error loading file: '"+t+"'";throw i.log(e),e})},E_.prototype.loadScript=function(t){var i=this,r=md(t).name;return this.log("loading script '"+r+"'"),vd(t).then(function(t){i.tasks.increment(),i.log("running script '"+r+"'"),t.run(i).then(function(){i.tasks.decrement(),i.log("finished script '"+r+"'")}),i.log("called script '"+r+"'")},function(t){i.tasks.decrement();var e="errored script '"+r+"' \""+t+'"';throw i.log(e),e})},E_.prototype.addComponent=function(t){t?(this.compList.push(t),this.signals.componentAdded.dispatch(t)):Yp.warn("Stage.addComponent: no component given")},E_.prototype.addComponentFromObject=function(t,e){void 0===e&&(e={});var i=od.get(t.type);if(i){var r=new i(this,t,e);return this.addComponent(r),r}Yp.warn("no component for object type",t.type)},E_.prototype.removeComponent=function(t){var e=this.compList.indexOf(t);-1!==e&&(this.compList.splice(e,1),t.dispose(),this.signals.componentRemoved.dispatch(t))},E_.prototype.removeAllComponents=function(){var e=this;this.compList.slice().forEach(function(t){return e.removeComponent(t)})},E_.prototype.handleResize=function(){this.viewer.handleResize()},E_.prototype.setSize=function(t,e){var i=this.viewer.container;i!==document.body&&(void 0!==t&&(i.style.width=t),void 0!==e&&(i.style.height=e),this.handleResize())},E_.prototype.toggleFullscreen=function(t){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){var e=this;t=t||this.viewer.container,this.lastFullscreenElement=t,i()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t.dataset.normalWidth=t.style.width||"",t.dataset.normalHeight=t.style.height||"",t.style.width=window.screen.width+"px",t.style.height=window.screen.height+"px",t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(),document.addEventListener("fullscreenchange",r),document.addEventListener("mozfullscreenchange",r),document.addEventListener("webkitfullscreenchange",r),document.addEventListener("MSFullscreenChange",r),this.handleResize(),this.signals.fullscreenChanged.dispatch(!0),setTimeout(function(){e.handleResize()},100))}else Yp.log("fullscreen mode (currently) not possible");function i(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function r(){if(!i()&&e.lastFullscreenElement){var t=e.lastFullscreenElement;t.style.width=t.dataset.normalWidth||"",t.style.height=t.dataset.normalHeight||"",document.removeEventListener("fullscreenchange",r),document.removeEventListener("mozfullscreenchange",r),document.removeEventListener("webkitfullscreenchange",r),document.removeEventListener("MSFullscreenChange",r),e.handleResize(),e.signals.fullscreenChanged.dispatch(!1)}}},E_.prototype.setSpin=function(t){t?(this.spinAnimation.resume(!0),this.rockAnimation.pause(!0)):this.spinAnimation.pause(!0)},E_.prototype.setRock=function(t){t?(this.rockAnimation.resume(!0),this.spinAnimation.pause(!0)):this.rockAnimation.pause(!0)},E_.prototype.toggleSpin=function(){this.setSpin(this.spinAnimation.paused)},E_.prototype.toggleRock=function(){this.setRock(this.rockAnimation.paused)},E_.prototype.setFocus=function(t){var e=Wl(t/2,0,49.9),i=100-e,r=(i-e)/2;"scene"==this.parameters.clipMode&&this.setParameters({clipNear:e,clipFar:i}),"scene"==this.parameters.fogMode&&this.setParameters({fogNear:Xl(i-r),fogFar:Xl(i+r)})},E_.prototype.getZoomForBox=function(t){var e=t.getSize(A_),i=Math.max(e.x,e.y,e.z),r=Math.min(e.x,e.y,e.z),n=i+Math.sqrt(r),o=Gl(this.viewer.perspectiveCamera.fov),a=this.viewer.width,s=this.viewer.height,c=s<a?1:a/s;return n=Math.abs(.5*n/c/Math.sin(o/2)),-(n+=this.parameters.clipDist)},E_.prototype.getBox=function(){return this.viewer.boundingBox},E_.prototype.getZoom=function(){return this.getZoomForBox(this.getBox())},E_.prototype.getCenter=function(t){return this.getBox().getCenter(t||new ri)},E_.prototype.autoView=function(t){this.animationControls.zoomMove(this.getCenter(),this.getZoom(),bl(t,0))},E_.prototype.makeImage=function(t){var r=this;return void 0===t&&(t={}),new Promise(function(e,i){r.tasks.onZeroOnce(function(){r.tasks.increment(),r.viewer.makeImage(t).then(function(t){r.tasks.decrement(),e(t)}).catch(function(t){r.tasks.decrement(),i(t)})})})},E_.prototype.setImpostor=function(i){this.parameters.impostor=i;var r=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(t){if(r.includes(t.getType())){var e=t.getParameters();e.disableImpostor=!i,t.build(e)}})},E_.prototype.setQuality=function(i){this.parameters.quality=i;var r=["tube","cartoon","ribbon","trace","rope"],n=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(t){var e=t.getParameters();if(!r.includes(t.getType())){if(!n.includes(t.getType()))return;if(!e.disableImpostor)return void(t.repr.quality=i)}e.quality=i,t.build(e)})},E_.prototype.eachComponent=function(e,i){this.compList.slice().forEach(function(t){void 0!==i&&i!==t.type||e(t)})},E_.prototype.eachRepresentation=function(i,r){this.eachComponent(function(e){e.reprList.slice().forEach(function(t){void 0!==r&&r!==t.getType()||i(t,e)})})},E_.prototype.getComponentsByName=function(e){var i=[];return this.eachComponent(function(t){(void 0===e||S_(e,t))&&i.push(t)}),new w_(i)},E_.prototype.getComponentsByObject=function(e){var i=[];return this.eachComponent(function(t){t.object===e&&i.push(t)}),new w_(i)},E_.prototype.getRepresentationsByName=function(i){var r=[];return this.eachRepresentation(function(t,e){(void 0===i||S_(i,t))&&r.push(t)}),new Jx(r)},E_.prototype.measureClear=function(){this.eachComponent(function(t){return t.measureClear()},"structure")},E_.prototype.measureUpdate=function(){this.eachComponent(function(t){return t.measureUpdate()},"structure")},E_.prototype.dispose=function(){this.tasks.dispose(),this.viewer.dispose()};var P_=function(r){function t(t,e,i){void 0===i&&(i={}),r.call(this,t,e,Object.assign({name:e.name},i)),this.shape=e}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0}};return e.type.get=function(){return"shape"},t.prototype.addRepresentation=function(t,e){return void 0===e&&(e={}),this._addRepresentation(t,this.shape,e)},t.prototype.getBoxUntransformed=function(){return this.shape.boundingBox},t.prototype.getCenterUntransformed=function(){return this.shape.center},t.prototype.dispose=function(){this.shape.dispose(),r.prototype.dispose.call(this)},Object.defineProperties(t.prototype,e),t}(qx);od.add("shape",P_);var T_=function(i){function t(t){var e=this;i.call(this,t),t.scale||(this.parameters.scale="rainbow",this.parameters.reverse=bl(t.reverse,!0)),this.scalePerModel={},t.structure.eachModel(function(t){e.parameters.domain=[t.atomOffset,t.atomEnd],e.scalePerModel[t.index]=e.getScale()})}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.atomColor=function(t){return this.scalePerModel[t.modelIndex](t.index)},t}(ip);Qp.add("atomindex",T_);var C_=function(n){function t(t){if(n.call(this,t),t.scale||(this.parameters.scale="OrRd"),!t.domain){var e,i=1/0,r=-1/0;t.sele&&(e=new Lp(t.sele)),t.structure.eachAtom(function(t){var e=t.bfactor;i=Math.min(i,e),r=Math.max(r,e)},e),this.parameters.domain=[i,r]}this.bfactorScale=this.getScale()}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.atomColor=function(t){return this.bfactorScale(t.bfactor)},t}(ip);Qp.add("bfactor",C_);var I_=function(e){function t(t){var r=this;e.call(this,t),this.chainidDictPerModel={},this.scalePerModel={},t.scale||(this.parameters.scale="Spectral"),t.structure.eachModel(function(t){var e=0,i={};t.eachChain(function(t){void 0===i[t.chainid]&&(i[t.chainid]=e,e+=1)}),r.parameters.domain=[0,e-1],r.chainidDictPerModel[t.index]=i,r.scalePerModel[t.index]=r.getScale()})}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){var e=this.chainidDictPerModel[t.modelIndex];return this.scalePerModel[t.modelIndex](e[t.chainid])},t}(ip);Qp.add("chainid",I_);var O_=function(i){function t(t){var e=this;i.call(this,t),this.scalePerModel={},t.scale||(this.parameters.scale="Spectral"),t.structure.eachModel(function(t){e.parameters.domain=[t.chainOffset,t.chainEnd],e.scalePerModel[t.index]=e.getScale()})}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.atomColor=function(t){return this.scalePerModel[t.modelIndex](t.chainIndex)},t}(ip);Qp.add("chainindex",O_);var L_=function(e){function t(t){var r=this;e.call(this,t),this.chainnameDictPerModel={},this.scalePerModel={},t.scale||(this.parameters.scale="Spectral"),t.structure.eachModel(function(t){var e=0,i={};t.eachChain(function(t){void 0===i[t.chainname]&&(i[t.chainname]=e,e+=1)}),r.parameters.domain=[0,e-1],r.chainnameDictPerModel[t.index]=i,r.scalePerModel[t.index]=r.getScale()})}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){var e=this.chainnameDictPerModel[t.modelIndex];return this.scalePerModel[t.modelIndex](e[t.chainname])},t}(ip);Qp.add("chainname",L_);var R_=function(i){function t(t){i.call(this,t),this.rsrzDict={},this.rsccDict={},t.scale||(this.parameters.scale="RdYlBu"),this.rsrzScale=this.getScale({domain:[2,0]}),this.rsccScale=this.getScale({domain:[.678,1]});var e=t.structure.validation;e&&(this.rsrzDict=e.rsrzDict,this.rsccDict=e.rsccDict)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.atomColor=function(t){var e=t.resno+"";t.inscode&&(e+="^"+t.inscode),t.chainname&&(e+=":"+t.chainname),e+="/"+t.modelIndex;var i=this.rsrzDict[e];if(void 0!==i)return this.rsrzScale(i);var r=this.rsccDict[e];return void 0!==r?this.rsccScale(r):9474192},t}(ip);Qp.add("densityfit",R_);var D_={ARG:{CD:.1,CZ:.5,NE:-.1},ASN:{CG:.55,OD1:-.55},ASP:{CB:-.16,CG:.36,OD1:-.6,OD2:-.6},CYS:{CB:.19,SG:-.19},GLN:{CD:.55,OE1:-.55},GLU:{CD:.36,CG:-.16,OE1:-.6,OE2:-.6},HIS:{CB:.1,CD2:.2,CE1:.45,CG:.15,ND1:.05,NE2:.05},LYS:{CE:.25,NZ:.75},MET:{CE:.06,CG:.06,SD:-.12},PTR:{C:.55,CA:.1,CZ:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SEP:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SER:{CB:.25,OG:-.25},THR:{CB:.25,OG1:-.25},TPO:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,OG1:-1.1,O1P:-.85,O2P:-.85,O3P:-.85,P:1.4},TRP:{CD1:.06,CD2:.1,CE2:-.04,CE3:-.03,CG:-.03,NE1:-.06},TYR:{CZ:.25,OH:-.25},backbone:{C:.55,O:-.55,N:-.35,CA:.1}},k_=1.04;var B_=function(i){function t(t){var r=this;i.call(this,t),this.delta=new ri,this.hCharges=[],t.scale||(this.parameters.scale="rwb"),t.domain||(this.parameters.domain=[-50,50]),this.scale=this.getScale(),this.charges=new Float32Array(t.structure.atomCount);var n=[];t.structure.eachAtom(function(t){var e;if(r.charges[t.index]=(null!==(e=t).partialCharge?e.partialCharge:e.isProtein()&&(D_[e.resname]&&D_[e.resname][e.atomname]||D_.backbone[e.atomname])||0)*t.occupancy,"N"===t.atomname){if(3<=t.bondCount)return;if(t.bondToElementCount(1))return;var i=function(t,e){void 0===e&&(e=new ri);var i=!1,r=!1,n=!1;return e.set(2*t.x,2*t.y,2*t.z),t.eachBondedAtom(function(t){if(!i)return"H"===t.atomname?(e.set(t.x,t.y,t.z),void(i=!0)):void(r||"CA"!==t.atomname?n||"C"!==t.atomname||(n=!0,e.sub(t)):(e.sub(t),r=!0))}),i?e:r&&n?(e.normalize(),e.multiplyScalar(k_),e.add(t),e):void 0}(t);void 0!==i&&(n.push(i),r.hCharges.push(.25*t.occupancy))}});var e=t.structure.getBoundingBox();e.expandByScalar(k_),this.hStore=function(t){for(var e=t.length,i=new Float32Array(e),r=new Float32Array(e),n=new Float32Array(e),o=0;o<t.length;o++){var a=t[o];i[o]=a.x,r[o]=a.y,n[o]=a.z}return{x:i,y:r,z:n,count:e}}(n),this.hHash=new Zm(this.hStore,e),this.hash=new Zm(t.structure.atomStore,e)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.positionColor=function(t){var r=this.charges,n=this.hCharges,o=0;return this.hash.eachWithin(t.x,t.y,t.z,12,function(t,e){var i=r[t];0!==i&&(o+=i/e)}),this.hHash.eachWithin(t.x,t.y,t.z,12,function(t,e){var i=n[t];0!==i&&(o+=i/e)}),this.scale(332*o)},t}(ip);Qp.add("electrostatic",B_);var N_={H:16777215,HE:14286847,LI:13402367,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,NE:11789301,NA:11230450,MG:9109248,AL:12560038,SI:1578e4,P:16744448,S:16777008,CL:2093087,AR:8442339,K:9388244,CA:4062976,SC:15132390,TI:12567239,V:10921643,CR:9083335,MN:10255047,FE:14706227,CO:15765664,NI:5296208,CU:13140019,ZN:8224944,GA:12750735,GE:6721423,AS:12419299,SE:16752896,BR:10889513,KR:6076625,RB:7351984,SR:65280,Y:9764863,ZR:9756896,NB:7586505,MO:5551541,TC:3907230,RU:2396047,RH:687500,PD:27013,AG:12632256,CD:16767375,IN:10909043,SN:6717568,SB:10380213,TE:13924864,I:9699476,XE:9699476,CS:5707663,BA:51456,LA:7394559,CE:16777159,PR:14286791,ND:13107143,PM:10747847,SM:9437127,EU:6422471,GD:4587463,TB:3211207,DY:2097095,HO:65436,ER:58997,TM:54354,YB:48952,LU:43812,HF:5096191,TA:5089023,W:2200790,RE:2522539,OS:2516630,IR:1528967,PT:13684960,AU:16765219,HG:12105936,TL:10900557,PB:5724513,BI:10375093,PO:11230208,AT:7688005,RN:4358806,FR:4325478,RA:32e3,AC:7384058,TH:47871,PA:41471,U:36863,NP:33023,PU:27647,AM:5528818,CM:7888099,BK:9064419,CF:10565332,ES:11739092,FM:11739066,MD:11734438,NO:12389767,LR:13041766,RF:13369433,DB:13697103,SG:14221381,BH:14680120,HS:15073326,MT:15400998,DS:16777215,RG:16777215,CN:16777215,UUT:16777215,FL:16777215,UUP:16777215,LV:16777215,UUH:16777215,D:16777152,T:16777120},F_=function(e){function t(t){t.value=bl(t.value,N_.C),e.call(this,t)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){var e=t.element;return"C"===e?this.parameters.value:N_[e]||16777215},t}(ip);Qp.add("element",F_);var z_=function(e){function t(t){e.call(this,t),t.scale||(this.parameters.scale="Spectral"),t.domain||(this.parameters.domain=[0,t.structure.entityList.length-1]),this.entityindexScale=this.getScale()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){return this.entityindexScale(t.entityIndex)},t}(ip);Qp.add("entityindex",z_);var U_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.atomColor=function(t){var e=t.entity;switch(e?e.entityType:void 0){case 1:return 8374655;case 2:return 16629894;case 3:return 12496596;case 4:return 3697840;default:return 16777113}},e}(ip);Qp.add("entitytype",U_);var j_=function(i){function t(t){i.call(this,t),this.geoAtomDict={},this.geoDict={};var e=t.structure.validation;e&&(this.geoAtomDict=e.geoAtomDict,this.geoDict=e.geoDict)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.atomColor=function(t){var e,i=t.resno+"";t.inscode&&(i+="^"+t.inscode),t.chainname&&(i+=":"+t.chainname),i+="/"+t.modelIndex;var r,n=this.geoAtomDict[i];if(void 0!==n){var o=n[t.atomname]||0;r=o,e=16843009*((r=(858993459&(r-=r>>1&1431655765))+(r>>2&858993459))+(r>>4)&252645135)>>24}else e=this.geoDict[i]||0;return 0===e?2188972:1===e?16703627:2===e?16018755:3<=e?10813478:9474192},t}(ip);Qp.add("geoquality",j_);var G_=function(a){function t(t){a.call(this,t),this.resHF={},t.scale||(this.parameters.scale="RdYlGn");for(var e in bg)this.resHF[e]=bg[e][0];if(this.defaultResidueHydrophobicity=xg[0],!t.domain){var i=1/0,r=-1/0;for(var n in this.resHF){var o=this.resHF[n];i=Math.min(i,o),r=Math.max(r,o)}this.parameters.domain=[i,0,r]}this.hfScale=this.getScale()}return a&&(t.__proto__=a),((t.prototype=Object.create(a&&a.prototype)).constructor=t).prototype.atomColor=function(t){return this.hfScale(this.resHF[t.resname]||this.defaultResidueHydrophobicity)},t}(ip);Qp.add("hydrophobicity",G_);var V_=function(e){function t(t){e.call(this,t),t.scale||(this.parameters.scale="rainbow"),t.domain||(this.parameters.domain=[0,t.structure.modelStore.count]),this.modelindexScale=this.getScale()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){return this.modelindexScale(t.modelIndex)},t}(ip);Qp.add("modelindex",V_);var H_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.atomColor=function(t){switch(t.residueType.moleculeType){case 1:return 3697840;case 2:return 15729279;case 3:return 12496596;case 4:return 16629894;case 5:return 12540695;case 6:return 8374655;default:return 16777113}},e}(ip);Qp.add("moleculetype",H_);var $_=function(e){function t(t){e.call(this,t),t.scale||(this.parameters.scale="PuBu"),t.domain||(this.parameters.domain=[0,1]),this.occupancyScale=this.getScale()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){return this.occupancyScale(t.occupancy)},t}(ip);Qp.add("occupancy",$_);var W_=function(e){function t(t){e.call(this,t),t.scale||(this.parameters.scale="rwb"),t.domain||(this.parameters.domain=[-1,1]),this.partialchargeScale=this.getScale()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){return this.partialchargeScale(t.partialCharge||0)},t}(ip);function X_(){return 16777215*Math.random()}Qp.add("partialcharge",W_);var q_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.atomColor=function(){return X_()},e.prototype.volumeColor=function(){return X_()},e.prototype.positionColor=function(){return X_()},e}(ip);Qp.add("random",q_);var Y_=function(i){function t(t){i.call(this,t),this.rciDict={},t.scale||(this.parameters.scale="RdYlBu"),this.rciScale=this.getScale({domain:[.6,0]});var e=t.structure.validation;e&&(this.rciDict=e.rciDict)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.atomColor=function(t){var e="["+t.resname+"]"+t.resno;t.chainname&&(e+=":"+t.chainname);var i=this.rciDict[e];return void 0!==i?this.rciScale(i):9474192},t}(ip);Qp.add("randomcoilindex",Y_);var Z_=function(i){function t(t){var e=this;i.call(this,t),this.scalePerChain={},t.scale||(this.parameters.scale="rainbow",this.parameters.reverse=bl(t.reverse,!0)),t.structure.eachChain(function(t){e.parameters.domain=[t.residueOffset,t.residueEnd],e.scalePerChain[t.index]=e.getScale()})}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.atomColor=function(t){return this.scalePerChain[t.chainIndex](t.residueIndex)},t}(ip);Qp.add("residueindex",Z_);var K_={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935,ASH:16711935,GLH:16711935,A:14423100,G:3329330,I:10145074,X:8190976,C:16766720,T:4286945,U:4251856,D:35723,DA:14423100,DG:3329330,DI:10145074,DX:8190976,DC:16766720,DT:4286945,DU:4251856,DD:35723},J_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.atomColor=function(t){return K_[t.resname]||16711935},e}(ip);Qp.add("resname",J_);var Q_=16711808,tw=10485888,ew=6291584,iw=16762880,rw=6324479,nw=16777215,ow=11403518,aw=16580962,sw=10921722,cw=function(e){function t(t){e.call(this,t),this.residueProxy=t.structure.getResidueProxy()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.atomColor=function(t){var e=t.sstruc,i=this.residueProxy;return"h"===e?Q_:"g"===e?tw:"i"===e?ew:"e"===e||"b"===e?iw:"t"===e?rw:(i.index=t.residueIndex,i.isDna()?ow:i.isRna()?aw:i.isSaccharide()?sw:i.isProtein()||"s"===e||"l"===e?nw:8421504)},t}(ip);Qp.add("sstruc",cw);var uw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.atomColor=function(){return this.parameters.value},e.prototype.bondColor=function(){return this.parameters.value},e.prototype.valueColor=function(){return this.parameters.value},e.prototype.volumeColor=function(){return this.parameters.value},e}(ip);Qp.add("uniform",uw);var hw=function(e){function t(t){e.call(this,t),this.valueScale=this.getScale()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.volumeColor=function(t){return this.valueScale(this.parameters.volume.data[t])},t}(ip);Qp.add("value",hw);var lw=function(e){function t(t){e.call(this,t),this.vec=new ri,this.valueScale=this.getScale()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.positionColor=function(t){var e=this.parameters.volume;if(!e||!e.inverseMatrix)return this.parameters.value;var i=this.vec,r=e.data,n=e.nx,o=e.ny,a=n*o;i.copy(t),i.applyMatrix4(e.inverseMatrix);var s=Math.floor(i.x),c=Math.floor(i.y),u=Math.floor(i.z),h=(u*o+c)*n+s,l=h+1,p=h+n,d=h+a,f=p+1,m=d+1,g=p+a,v=g+1,y=r[h],b=r[l],x=r[p],_=r[d],w=r[f],S=r[m],A=r[g],M=r[v],E=i.x-s,P=i.y-c,T=i.z-u,C=ql(y,b,E),I=ql(_,S,E),O=ql(x,w,E),L=ql(A,M,E),R=ql(ql(C,O,P),ql(I,L,P),T);return this.valueScale(R)},t}(ip);Qp.add("volume",lw);var pw=function(o){function t(t,e,i){var r=i||{};if(o.call(this,t,e,r),this.type="structure",this.parameters=Object.assign({radiusType:{type:"select",options:Gy.types},radiusData:{type:"hidden"},radiusSize:{type:"number",precision:3,max:10,min:.001},radiusScale:{type:"number",precision:3,max:10,min:.001},assembly:null,defaultAssembly:{type:"hidden"}},this.parameters),this.selection=new Lp(r.sele),this.dataList=[],this.structure=t,this.structureView=this.structure.getView(this.selection),t.biomolDict){var n={default:"default","":t.unitcell?"AU":"FULL"};Object.keys(t.biomolDict).forEach(function(t){n[t]=t}),this.parameters.assembly={type:"select",options:n,rebuild:!0}}else this.parameters.assembly=null}o&&(t.__proto__=o),(t.prototype=Object.create(o&&o.prototype)).constructor=t;var e={defaultScale:{configurable:!0}};return e.defaultScale.get=function(){return{vdw:1,covalent:1,bfactor:.01,sstruc:1}},t.prototype.init=function(t){var e=this,i=t||{};i.colorScheme=bl(i.colorScheme,"element"),this.setRadius(i.radius,i),this.radiusType=bl(i.radiusType,"vdw"),this.radiusData=bl(i.radiusData,{}),this.radiusSize=bl(i.radiusSize,1),this.radiusScale=bl(i.radiusScale,1),this.assembly=bl(i.assembly,"default"),this.defaultAssembly=bl(i.defaultAssembly,""),"auto"===i.quality&&(i.quality=this.getQuality()),o.prototype.init.call(this,i),this.selection.signals.stringChanged.add(function(){e.build()}),this.build()},t.prototype.setRadius=function(t,e){var i=Object.keys(jy);return"string"==typeof t&&i.includes(t.toLowerCase())?e.radiusType=t:void 0!==t&&(e.radiusType="size",e.radiusSize=t),this},t.prototype.getAssembly=function(){var t="default"===this.assembly?this.defaultAssembly:this.assembly;return this.structure.biomolDict[t]},t.prototype.getQuality=function(){var t,e=this.structureView,i=this.getAssembly();return t=i?i.getAtomCount(e):e.atomCount,$p&&(t*=4),e.atomStore.count/e.residueStore.count<2&&(t*=10),t<15e3?"high":t<8e4?"medium":"low"},t.prototype.create=function(){var n=this;if(0!==this.structureView.atomCount)if(this.structureView.hasCoords()){this.needsBuild=!1;var t=this.getAssembly();if(t)t.partList.forEach(function(t,e){var i=t.getView(n.structureView);if(0!==i.atomCount){var r=n.createData(i,e);r&&(r.sview=i,r.instanceList=t.getInstanceList(),n.dataList.push(r))}});else{var e=this.createData(this.structureView,0);e&&(e.sview=this.structureView,this.dataList.push(e))}}else this.needsBuild=!0},t.prototype.update=function(e){var i=this;!this.lazy||this.visible?this.needsBuild?this.build():this.dataList.forEach(function(t){0<t.bufferList.length&&i.updateData(e,t)},this):Object.assign(this.lazyProps.what,e)},t.prototype.updateData=function(t,e){this.build()},t.prototype.getColorParams=function(){return Object.assign({},o.prototype.getColorParams.call(this),{structure:this.structure})},t.prototype.getRadiusParams=function(t){return{type:this.radiusType,scale:this.radiusScale,size:this.radiusSize,data:this.radiusData}},t.prototype.getAtomParams=function(t,e){return Object.assign({what:t,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},e)},t.prototype.getBondParams=function(t,e){return Object.assign({what:t,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},e)},t.prototype.getAtomRadius=function(t){return this.structureView.atomSet.isSet(t.index)?new Gy(this.getRadiusParams()).atomRadius(t):0},t.prototype.setSelection=function(t,e){return this.selection.setString(t,e),this},t.prototype.setParameters=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=!1);var r=t||{};return this.setRadius(r.radius,r),void 0===r.radiusType&&void 0===r.radiusData&&void 0===r.radiusSize&&void 0===r.radiusScale||(e.radius=!0,Xp&&!this.disableImpostor||(i=!0)),void 0!==r.defaultAssembly&&r.defaultAssembly!==this.defaultAssembly&&("default"===this.assembly&&void 0===r.assembly||"default"===r.assembly)&&(i=!0),o.prototype.setParameters.call(this,r,e,i),this},t.prototype.getParameters=function(){return Object.assign(o.prototype.getParameters.call(this),{sele:this.selection?this.selection.string:void 0,defaultAssembly:this.defaultAssembly})},t.prototype.attach=function(t){var i=this.viewer,r=this.bufferList;this.dataList.forEach(function(e){e.bufferList.forEach(function(t){r.push(t),i.add(t,e.instanceList)})}),this.setVisibility(this.visible),t()},t.prototype.clear=function(){this.dataList.length=0,o.prototype.clear.call(this)},t.prototype.dispose=function(){this.structureView.dispose(),delete this.structure,delete this.structureView,o.prototype.dispose.call(this)},Object.defineProperties(t.prototype,e),t}(sm),dw=function(r){function t(t,e,i){r.call(this,t,e,i),this.n=0,this.parameters=Object.assign({labelVisible:{type:"boolean"},labelSize:{type:"number",precision:3,max:10,min:.001},labelColor:{type:"color"},labelFontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:"fontFamily"},labelFontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:"fontStyle"},labelFontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:"fontWeight"},labelsdf:{type:"boolean",buffer:"sdf"},labelXOffset:{type:"number",precision:1,max:20,min:-20,buffer:"xOffset"},labelYOffset:{type:"number",precision:1,max:20,min:-20,buffer:"yOffset"},labelZOffset:{type:"number",precision:1,max:20,min:-20,buffer:"zOffset"},labelAttachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},labelBorder:{type:"boolean",buffer:"showBorder"},labelBorderColor:{type:"color",buffer:"borderColor"},labelBorderWidth:{type:"number",precision:2,max:.3,min:0,buffer:"borderWidth"},labelBackground:{type:"boolean",rebuild:!0},labelBackgroundColor:{type:"color",buffer:"backgroundColor"},labelBackgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},labelBackgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:"backgroundOpacity"},labelFixedSize:{type:"boolean",buffer:"fixedSize"},lineOpacity:{type:"range",min:0,max:1,step:.01},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters,{flatShaded:null})}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};this.labelVisible=bl(e.labelVisible,!0),this.labelSize=bl(e.labelSize,2),this.labelColor=bl(e.labelColor,16777215),this.labelFontFamily=bl(e.labelFontFamily,"sans-serif"),this.labelFontStyle=bl(e.labelFontstyle,"normal"),this.labelFontWeight=bl(e.labelFontWeight,"bold"),this.labelsdf=bl(e.labelsdf,"Chrome"===Gp),this.labelXOffset=bl(e.labelXOffset,0),this.labelYOffset=bl(e.labelYOffset,0),this.labelZOffset=bl(e.labelZOffset,.5),this.labelAttachment=bl(e.labelAttachment,"bottom-left"),this.labelBorder=bl(e.labelBorder,!1),this.labelBorderColor=bl(e.labelBorderColor,"lightgrey"),this.labelBorderWidth=bl(e.labelBorderWidth,.15),this.labelBackground=bl(e.labelBackground,!1),this.labelBackgroundColor=bl(e.labelBackgroundColor,"lightgrey"),this.labelBackgroundMargin=bl(e.labelBackgroundMargin,.5),this.labelBackgroundOpacity=bl(e.labelBackgroundOpacity,1),this.labelFixedSize=bl(e.labelFixedSize,!1),this.lineOpacity=bl(e.lineOpacity,1),this.linewidth=bl(e.linewidth,2),r.prototype.init.call(this,e)},t.prototype.update=function(t){t.position?this.build():r.prototype.update.call(this,t)},t.prototype.updateData=function(t,e){var i={};if(t&&!t.labelSize||Object.assign(i,{size:Gd(this.n,this.labelSize)}),!t||t.labelColor){var r=new ki(this.labelColor);Object.assign(i,{color:Vd(this.n,r.r,r.g,r.b)})}this.textBuffer.setAttributes(i)},t.prototype.setParameters=function(t,e,i){return void 0===e&&(e={}),void 0===i&&(i=!1),t&&t.labelSize&&(e.labelSize=!0),t&&(t.labelColor||0===t.labelColor)&&(e.labelColor=!0),r.prototype.setParameters.call(this,t,e,i),t&&void 0!==t.opacity&&this.textBuffer.setParameters({opacity:1}),t&&void 0!==t.labelVisible&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(t,e){return r.prototype.setVisibility.call(this,t,!0),this.textBuffer&&this.textBuffer.setVisibility(this.labelVisible&&this.visible),e||this.viewer.requestRender(),this},t.prototype.getLabelBufferParams=function(t){return void 0===t&&(t={}),r.prototype.getBufferParams.call(this,Object.assign({fontFamily:this.labelFontFamily,fontStyle:this.labelFontStyle,fontWeight:this.labelFontWeight,sdf:this.labelsdf,xOffset:this.labelXOffset,yOffset:this.labelYOffset,zOffset:this.labelZOffset,attachment:this.labelAttachment,showBorder:this.labelBorder,borderColor:this.labelBorderColor,borderWidth:this.labelBorderWidth,showBackground:this.labelBackground,backgroundColor:this.labelBackgroundColor,backgroundMargin:this.labelBackgroundMargin,backgroundOpacity:this.labelBackgroundOpacity,fixedSize:this.labelFixedSize,disablePicking:!0,visible:this.labelVisible},t,{opacity:1}))},t.prototype.getAtomRadius=function(){return 0},t}(pw);function fw(a,t){var s=a.getAtomProxy(),c=new Lp,e=t.length;if(0===e)return new Float32Array(0);var u=t[0].length,h=a.getAtomSet(),l=new Float32Array(e*u*3),p=0;return t.forEach(function(t){for(var e=!1,i=0;i<u;i++){var r=t[i];if("number"==typeof r&&Number.isInteger(r)){if(!h.get(r)){e=!0;break}s.index=r}else{c.setString(r);var n=a.getAtomIndices(c);if(!n.length){e=!0;break}s.index=n[0]}var o=p+3*i;l[o++]=s.x,l[o++]=s.y,l[o++]=s.z}e||(p+=3*u)}),l.subarray(0,p)}function mw(t,e,i,r,n){var o=Math.cos(n),a=Math.sin(n);t[0]=e[0]+i[0]*o+r[0]*a,t[1]=e[1]+i[1]*o+r[1]*a,t[2]=e[2]+i[2]*o+r[2]*a}function gw(t,e,i,r,n,o,a){for(var s=0;s<e;s++){for(var c=0;c<i;c++)r[c]=t[c*e+s];vw(r,n,o,a,i);for(var u=0;u<i;u++)t[u*e+s]=n[u]}for(var h=0;h<i;h++){for(var l=0;l<e;l++)r[l]=t[h*e+l];vw(r,n,o,a,e);for(var p=0;p<e;p++)t[h*e+p]=Math.sqrt(n[p])}}function vw(t,e,i,r,n){r[i[0]=0]=Number.MIN_SAFE_INTEGER,r[1]=Number.MAX_SAFE_INTEGER;for(var o=1,a=0;o<n;o++){for(var s=(t[o]+o*o-(t[i[a]]+i[a]*i[a]))/(2*o-2*i[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[i[a]]+i[a]*i[a]))/(2*o-2*i[a]);i[++a]=o,r[a]=s,r[a+1]=Number.MAX_SAFE_INTEGER}for(var c=0,u=0;c<n;c++){for(;r[u+1]<c;)u++;e[c]=(c-i[u])*(c-i[u])+t[i[u]]}}rd.add("shader/SDFFont.vert","uniform float clipNear;\nuniform float clipRadius;\nuniform vec3 clipCenter;\nuniform float xOffset;\nuniform float yOffset;\nuniform float zOffset;\nuniform bool ortho;\nuniform float canvasHeight;\nuniform float pixelRatio;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvarying vec3 vViewPosition;\n#endif\nvarying vec2 texCoord;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\n#include color_pars_vertex\n#endif\nattribute vec2 mapping;\nattribute vec2 inputTexCoord;\nattribute float inputSize;\n#include matrix_scale\n#include common\nvoid main(void){\n#if defined( PICKING )\nvPickingColor = unpackColor( primitiveId );\n#else\n#include color_vertex\n#endif\ntexCoord = inputTexCoord;\nfloat scale = matrixScale( modelViewMatrix );\nfloat _xOffset = xOffset * scale;\nfloat _yOffset = yOffset * scale;\nfloat _zOffset = zOffset * scale;\nif( texCoord.x == 10.0 ){\n_zOffset -= 0.001;\n}\nvec4 cameraPos = modelViewMatrix * vec4( position, 1.0 );\n#ifdef FIXED_SIZE\nif ( ortho ) {\nscale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPosition.z) * 0.1;\n} else {\nscale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPos.z) * 0.1;\n}\n#endif\nvec4 cameraCornerPos = vec4( cameraPos.xyz, 1.0 );\ncameraCornerPos.xy += mapping * inputSize * 0.01 * scale;\ncameraCornerPos.x += _xOffset;\ncameraCornerPos.y += _yOffset;\nif( ortho ){\ncameraCornerPos.xyz += normalize( -cameraPosition ) * _zOffset;\n} else {\ncameraCornerPos.xyz += normalize( -cameraCornerPos.xyz ) * _zOffset;\n}\ngl_Position = projectionMatrix * cameraCornerPos;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvViewPosition = -cameraCornerPos.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n#include radiusclip_vertex\n}"),rd.add("shader/SDFFont.frag","uniform sampler2D fontTexture;\nuniform float opacity;\nuniform bool showBorder;\nuniform vec3 borderColor;\nuniform float borderWidth;\nuniform vec3 backgroundColor;\nuniform float backgroundOpacity;\nuniform float clipNear;\nuniform float clipRadius;\nvarying vec3 vViewPosition;\nvarying vec2 texCoord;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\nuniform float objectId;\nvarying vec3 vPickingColor;\nconst vec3 vColor = vec3( 0.0 );\n#else\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\n#endif\nconst float gamma = 2.2 * 1.4142 / 128.0;\nconst float padding = 0.75;\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\nif( texCoord.x > 1.0 ){\ngl_FragColor = vec4( backgroundColor, backgroundOpacity );\n}else{\nfloat sdf = texture2D( fontTexture, texCoord ).a;\nif( showBorder ) sdf += borderWidth;\nfloat a = smoothstep(padding - gamma, padding + gamma, sdf);\nif( a < 0.2 ) discard;\na *= opacity;\nvec3 outgoingLight = vColor;\nif( showBorder && sdf < ( padding + borderWidth ) ){\noutgoingLight = borderColor;\n}\ngl_FragColor = vec4( outgoingLight, a );\n}\n#if defined( PICKING )\nif( opacity < 0.3 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var yw={};var bw={font:"sans-serif",size:36,style:"normal",variant:"normal",weight:"normal",outline:3,width:1024,height:1024},xw=function(t){void 0===t&&(t={}),this.gamma=1,this.mapped={},this.scratchW=0,this.scratchH=0,this.currentX=0,this.currentY=0,this.cutoff=.25,this.parameters=xl(t,bw);var e=this.parameters;this.radius=e.size/8,this.padding=e.size/3;var i=this.lineHeight=e.size+2*e.outline+Math.round(e.size/4),r=this.maxWidth=e.width/4,n=this.canvas=document.createElement("canvas");n.width=r,n.height=i;var o=this.context=this.canvas.getContext("2d");o.font=e.style+" "+e.variant+" "+e.weight+" "+e.size+"px "+e.font,o.fillStyle="black",o.textAlign="left",o.textBaseline="bottom",o.lineJoin="round",this.gridOuter=new Float64Array(i*r),this.gridInner=new Float64Array(i*r),this.f=new Float64Array(Math.max(i,r)),this.d=new Float64Array(Math.max(i,r)),this.z=new Float64Array(Math.max(i,r)+1),this.v=new Int16Array(Math.max(i,r)),this.data=new Uint8Array(e.width*e.height*4),this.canvas2=document.createElement("canvas"),this.canvas2.width=e.width,this.canvas2.height=e.height,this.context2=this.canvas2.getContext("2d"),this.placeholder=this.map(String.fromCharCode(65533));for(var a=32;a<=126;++a)this.map(String.fromCharCode(a));this.map(String.fromCharCode(176)),this.map(String.fromCharCode(8491)),this.texture=new Va(this.canvas2),this.texture.flipY=!1,this.texture.needsUpdate=!0};xw.prototype.map=function(t){var e=this.parameters;return void 0===this.mapped[t]&&(this.draw(t),this.currentX+this.scratchW>e.width&&(this.currentX=0,this.currentY+=this.scratchH),this.currentY+this.scratchH>e.height&&console.warn("canvas to small"),this.mapped[t]={x:this.currentX,y:this.currentY,w:this.scratchW,h:this.scratchH},this.context2.drawImage(this.canvas,0,0,this.scratchW,this.scratchH,this.currentX,this.currentY,this.scratchW,this.scratchH),this.currentX+=this.scratchW),this.mapped[t]},xw.prototype.get=function(t){return this.mapped[t]||this.placeholder},xw.prototype.draw=function(t){var e=this.parameters,i=this.lineHeight,r=e.outline,n=this.context,o=this.maxWidth,a=r,s=i-e.outline,c=n.measureText(t),u=Math.min(o,Math.ceil(c.width+2*a+1)),h=u*i;n.clearRect(0,0,u,i),n.fillText(t,a,s);for(var l=n.getImageData(0,0,u,i),p=l.data,d=0;d<h;d++){var f=l.data[4*d+3]/255;this.gridOuter[d]=1===f?0:0===f?Number.MAX_SAFE_INTEGER:Math.pow(Math.max(0,.5-f),2),this.gridInner[d]=1===f?Number.MAX_SAFE_INTEGER:0===f?0:Math.pow(Math.max(0,f-.5),2)}gw(this.gridOuter,u,i,this.f,this.d,this.v,this.z),gw(this.gridInner,u,i,this.f,this.d,this.v,this.z);for(var m=0;m<h;m++){var g=this.gridOuter[m]-this.gridInner[m];p[4*m+3]=Math.max(0,Math.min(255,Math.round(255-255*(g/this.radius+this.cutoff))))}n.putImageData(l,0,0),this.scratchW=u,this.scratchH=i};var _w=Object.assign({fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"bold",fontSize:36,xOffset:0,yOffset:0,zOffset:.5,attachment:"bottom-left",showBorder:!1,borderColor:"lightgrey",borderWidth:.15,showBackground:!1,backgroundColor:"lightgrey",backgroundMargin:.5,backgroundOpacity:1,forceTransparent:!0,fixedSize:!1},ly),ww=Object.assign({fontFamily:{uniform:!0},fontStyle:{uniform:!0},fontWeight:{uniform:!0},fontSize:{uniform:!0},xOffset:{uniform:!0},yOffset:{uniform:!0},zOffset:{uniform:!0},showBorder:{uniform:!0},borderColor:{uniform:!0},borderWidth:{uniform:!0},backgroundColor:{uniform:!0},backgroundOpacity:{uniform:!0},fixedSize:{updateShader:!0}},py);function Sw(t,e){for(var i=t.position.length/3,r=0,n=0;n<i;++n)r+=t.text[n].length;return e.showBackground&&(r+=i),r}var Aw=function(n){function t(t,e){void 0===e&&(e={}),n.call(this,{position:new Float32Array(3*Sw(t,e)),color:new Float32Array(3*Sw(t,e)),picking:new xv},e),this.parameterTypes=ww,this.alwaysTransparent=!0,this.hasWireframe=!1,this.isText=!0,this.vertexShader="SDFFont.vert",this.fragmentShader="SDFFont.frag",this.text=t.text,this.positionCount=t.position.length/3,this.addUniforms({fontTexture:{value:null},xOffset:{value:this.parameters.xOffset},yOffset:{value:this.parameters.yOffset},zOffset:{value:this.parameters.zOffset},ortho:{value:!1},showBorder:{value:this.parameters.showBorder},borderColor:{value:new ki(this.parameters.borderColor)},borderWidth:{value:this.parameters.borderWidth},backgroundColor:{value:new ki(this.parameters.backgroundColor)},backgroundOpacity:{value:this.parameters.backgroundOpacity},canvasHeight:{value:1},pixelRatio:{value:1}}),this.addAttributes({inputTexCoord:{type:"v2",value:null},inputSize:{type:"f",value:null}}),this.setAttributes(t),this.makeTexture(),this.makeMapping()}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return _w},t.prototype.makeMaterial=function(){n.prototype.makeMaterial.call(this);var t=this.texture,e=this.material;e.transparent=!0,e.extensions.derivatives=!0,e.lights=!1,e.uniforms.fontTexture.value=t,e.needsUpdate=!0;var i=this.wireframeMaterial;i.transparent=!0,i.extensions.derivatives=!0,i.lights=!1,i.uniforms.fontTexture.value=t,i.needsUpdate=!0;var r=this.pickingMaterial;r.extensions.derivatives=!0,r.lights=!1,r.uniforms.fontTexture.value=t,r.needsUpdate=!0},t.prototype.setAttributes=function(t){var e,i,r,n,o,a;void 0===t&&(t={});var s=this.text,c=this.geometry.attributes;t.position&&(e=t.position,n=c.position.array,c.position.needsUpdate=!0),t.size&&(i=t.size,o=c.inputSize.array,c.inputSize.needsUpdate=!0),t.color&&(r=t.color,a=c.color.array,c.color.needsUpdate=!0);for(var u,h,l,p,d=this.positionCount,f=0,m=0;m<d;++m)for(h=3*m,p=s[m].length,this.parameters.showBackground&&(p+=1),l=0;l<p;++l,++f)for(var g=0;g<4;g++)u=4*f*3+3*g,e&&(n[u]=e[h],n[u+1]=e[h+1],n[u+2]=e[h+2]),i&&(o[4*f+g]=i[m]),r&&(a[u]=r[h],a[u+1]=r[h+1],a[u+2]=r[h+2])},t.prototype.makeTexture=function(){var t,e;this.textAtlas=(t={font:this.parameters.fontFamily,style:this.parameters.fontStyle,weight:this.parameters.fontWeight,size:this.parameters.fontSize},e=JSON.stringify(t),void 0===yw[e]&&(yw[e]=new xw(t)),yw[e]),this.texture=this.textAtlas.texture},t.prototype.makeMapping=function(){for(var t,e,i,r,n,o,a,s,c=this.textAtlas,u=this.text,h=this.parameters.attachment,l=c.lineHeight*this.parameters.backgroundMargin*.1-10,p=this.geometry.attributes,d=p.inputTexCoord.array,f=p.mapping.array,m=this.positionCount,g=0,v=0;v<m;++v){for(r=0,o=(i=u[v]).length,n=0;n<o;++n)r+=(t=c.get(i[n])).w-2*c.parameters.outline;for(s=h.startsWith("top")?c.lineHeight/1.25:h.startsWith("middle")?c.lineHeight/2.5:0,a=h.endsWith("right")?r:h.endsWith("center")?r/2:0,a+=c.parameters.outline,s+=c.parameters.outline,this.parameters.showBackground&&(f[(e=2*g*4)+0]=-c.lineHeight/6-a-l,f[e+1]=c.lineHeight-s+l,f[e+2]=-c.lineHeight/6-a-l,f[e+3]=0-s-l,f[e+4]=r+c.lineHeight/6-a+2*c.parameters.outline+l,f[e+5]=c.lineHeight-s+l,f[e+6]=r+c.lineHeight/6-a+2*c.parameters.outline+l,f[e+7]=0-s-l,d[e+0]=10,d[e+2]=10,d[e+4]=10,d[e+6]=10,g+=1),n=r=0;n<o;++n,++g){t=c.get(i[n]),f[(e=2*g*4)+0]=r-a,f[e+1]=t.h-s,f[e+2]=r-a,f[e+3]=0-s,f[e+4]=r+t.w-a,f[e+5]=t.h-s,f[e+6]=r+t.w-a,f[e+7]=0-s;var y=c.parameters.width,b=c.parameters.height,x=[t.x/y,t.y/b,t.x/y,(t.y+t.h)/b,(t.x+t.w)/y,t.y/b,(t.x+t.w)/y,(t.y+t.h)/b];d.set(x,e),r+=t.w-2*c.parameters.outline}}p.inputTexCoord.needsUpdate=!0,p.mapping.needsUpdate=!0},t.prototype.getDefines=function(t){var e=n.prototype.getDefines.call(this,t);return this.parameters.fixedSize&&(e.FIXED_SIZE=1),e},t.prototype.setUniforms=function(t){!t||void 0===t.fontFamily&&void 0===t.fontStyle&&void 0===t.fontWeight&&void 0===t.fontSize||(this.makeTexture(),this.makeMapping(),this.texture.needsUpdate=!0,t.fontTexture=this.texture),n.prototype.setUniforms.call(this,t)},Object.defineProperties(t.prototype,e),t}(Mx);ad.add("text",Aw),rd.add("shader/WideLine.vert","\nuniform float clipNear;\nuniform vec3 clipCenter;\nuniform float linewidth;\nuniform vec2 resolution;\nuniform mat4 projectionMatrixInverse;\nattribute vec2 mapping;\nattribute vec3 position1;\nattribute vec3 position2;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\nattribute vec3 color2;\nvarying vec3 vColor;\nvarying vec3 vColor2;\nvarying float flag;\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\nvoid trimSegment( const in vec4 start, inout vec4 end ) {\nfloat a = projectionMatrix[ 2 ][ 2 ]; float b = projectionMatrix[ 3 ][ 2 ]; float nearEstimate = - 0.5 * b / a;\nfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\nend.xyz = mix( start.xyz, end.xyz, alpha );\n}\nvoid main() {\nfloat aspect = resolution.x / resolution.y;\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\nflag = mapping.y;\nvColor = color;\nvColor2 = color2;\n#endif\nvec4 start = modelViewMatrix * vec4( position1, 1.0 );\nvec4 end = modelViewMatrix * vec4( position2, 1.0 );\nbool perspective = ( projectionMatrix[ 2 ][ 3 ] == -1.0 ); if ( perspective ) {\nif ( start.z < 0.0 && end.z >= 0.0 ) {\ntrimSegment( start, end );\n} else if ( end.z < 0.0 && start.z >= 0.0 ) {\ntrimSegment( end, start );\n}\n}\nvec4 clipStart = projectionMatrix * start;\nvec4 clipEnd = projectionMatrix * end;\nvec2 ndcStart = clipStart.xy / clipStart.w;\nvec2 ndcEnd = clipEnd.xy / clipEnd.w;\nvec2 dir = ndcEnd - ndcStart;\ndir.x *= aspect;\ndir = normalize( dir );\nvec2 offset = vec2( dir.y, - dir.x );\ndir.x /= aspect;\noffset.x /= aspect;\nif ( mapping.x < 0.0 ) offset *= - 1.0;\noffset *= linewidth;\noffset /= resolution.y;\nvec4 clip = ( mapping.y < 0.5 ) ? clipStart : clipEnd;\noffset *= clip.w;\nclip.xy += offset;\ngl_Position = clip;\n#ifndef PICKING\nvViewPosition = ( projectionMatrixInverse * clip ).xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n}"),rd.add("shader/WideLine.frag","uniform vec3 diffuse;\nuniform float opacity;\nuniform float clipNear;\nuniform float clipRadius;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#ifdef PICKING\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\n#include common\n#include fog_pars_fragment\nvarying vec3 vViewPosition;\nvarying vec3 vColor;\nvarying vec3 vColor2;\nvarying float flag;\n#endif\nvoid main() {\n#include nearclip_fragment\n#include radiusclip_fragment\n#if defined( PICKING )\nif( opacity < 0.3 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 outgoingLight = vec3( 0.0 );\nvec4 diffuseColor = vec4( diffuse, 1.0 );\nif ( flag < 0.0 ) {\ndiffuseColor.rgb *= vColor;\n} else {\ndiffuseColor.rgb *= vColor2;\n}\n#include alphatest_fragment\noutgoingLight = diffuseColor.rgb;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var Mw=Object.assign({linewidth:2},ly),Ew=Object.assign({linewidth:{uniform:!0}},py),Pw=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e),this.parameterTypes=Ew,this.vertexShader="WideLine.vert",this.fragmentShader="WideLine.frag",!t.color2&&t.color&&(t.color2=t.color),this.addUniforms({linewidth:{value:this.parameters.linewidth},resolution:{value:new ti},projectionMatrixInverse:{value:new ei}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null}}),this.setAttributes(t),this.makeMapping()}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return Mw},t.prototype.setParameters=function(t){i.prototype.setParameters.call(this,t)},Object.defineProperties(t.prototype,e),t}(Mx);ad.add("wideline",Pw);var Tw=function(a){function t(t,e,i){a.call(this,t,e,i),this.type="angle",this.parameters=Object.assign({atomTriple:{type:"hidden",rebuild:!0},vectorVisible:{type:"boolean",default:!0},arcVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(i)}return a&&(t.__proto__=a),((t.prototype=Object.create(a&&a.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.side=bl(e.side,"double"),e.opacity=bl(e.opacity,.5),this.atomTriple=bl(e.atomTriple,[]),this.arcVisible=bl(e.arcVisible,!0),this.sectorVisible=bl(e.sectorVisible,!0),this.vectorVisible=bl(e.vectorVisible,!0),a.prototype.init.call(this,e)},t.prototype.createData=function(t){if(t.atomCount&&this.atomTriple.length){var e,i,r=function(d,t){void 0===t&&(t={});for(var f=bl(t.angleStep,Math.PI/90),e=d.length/9,m=new Float32Array(e),g=new Float32Array(3*e),v=new Array(e),y=new Float32Array(6*e),b=new Float32Array(6*e),x=new Array(e),_=new Array(e),w=new Array(e),S=0,A=gm(),M=gm(),E=gm(),P=gm(),T=gm(),C=gm(),I=gm(),O=gm(),L=gm(),i=function(t){var e=9*t;_m(A,d,e),_m(M,d,e+3),_m(E,d,e+6);var i=6*t;wm(A,y,i),wm(M,b,i),wm(M,y,i+3),wm(E,b,i+3),bm(P,A,M),bm(T,E,M),Em(P,P),Em(T,T),vm(C,P,T);var r=Sm(C),n=ym(P,T),o=m[t]=Math.atan2(r,n);v[t]=(Fd*o).toFixed(1)+String.fromCharCode(176),0===Sm(C)&&(C[0]=1,C[1]=0,C[2]=0),vm(I,C,P),Em(I,I),mw(O,M,P,I,o/2),wm(O,g,3*t);var a=Math.ceil(o/f),s=new Float32Array(9*a);w[t]=s;var c=new Float32Array(3*a),u=new Float32Array(3*a);x[t]=c,_[t]=u,xm(L,M,P);for(var h=function(t,e){var i=9*e,r=3*e;wm(M,s,i),wm(L,s,i+3),wm(L,c,r),mw(L,M,P,I,t),wm(L,s,i+6),wm(L,u,r)},l=0,p=f;p<o;p+=f)h(p,l),l++;h(o,l),S+=a},r=0;r<e;r++)i(r);for(var n=3*S,o=9*S,a=new Float32Array(n),s=new Float32Array(n),c=new Float32Array(o),u=0,h=0,l=0;l<e;l++){var p=x[l],R=_[l];Xd(p,a,0,h,p.length),Xd(R,s,0,h,R.length),h+=p.length;var D=w[l];Xd(D,c,0,u,D.length),u+=D.length}return{labelPosition:g,labelText:v,vectorPosition1:y,vectorPosition2:b,arcPosition1:a,arcPosition2:s,sectorPosition:c}}((e=t,i=this.atomTriple,function(e){for(var t=[],i=e.length/9,r=0;r<i;r++){for(var n=!0,o=r;o<r+3;o+=3)e[o]===e[o+3]&&e[o+1]===e[o+4]&&e[o+2]===e[o+5]&&(n=!1);n&&t.push(r)}var a=new Float32Array(9*t.length),s=0;return t.forEach(function(t){Xd(e,a,9*t,9*s,9),s++}),a}(fw(e,i)))),n=this.n=r.labelPosition.length/3,o=new ki(this.labelColor);this.textBuffer=new Aw({position:r.labelPosition,size:Gd(n,this.labelSize),color:Vd(n,o.r,o.g,o.b),text:r.labelText},this.getLabelBufferParams());var a=new ki(this.colorValue);return this.vectorBuffer=new Pw(Dm({position1:r.vectorPosition1,position2:r.vectorPosition2,color:Vd(2*n,a.r,a.g,a.b),color2:Vd(2*n,a.r,a.g,a.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.vectorVisible,opacity:this.lineOpacity})),this.arcLength=r.arcPosition1.length/3,this.arcBuffer=new Pw(Dm({position1:r.arcPosition1,position2:r.arcPosition2,color:Vd(this.arcLength,a.r,a.g,a.b),color2:Vd(this.arcLength,a.r,a.g,a.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.arcVisible,opacity:this.lineOpacity})),this.sectorLength=r.sectorPosition.length/3,this.sectorBuffer=new my({position:r.sectorPosition,color:Vd(this.sectorLength,a.r,a.g,a.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.vectorBuffer,this.arcBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(t,e){a.prototype.updateData.call(this,t,e);var i={},r={},n={};if(t.color){var o=new ki(this.colorValue);Object.assign(i,{color:Vd(2*this.n,o.r,o.g,o.b),color2:Vd(2*this.n,o.r,o.g,o.b)}),Object.assign(r,{color:Vd(this.arcLength,o.r,o.g,o.b),color2:Vd(this.arcLength,o.r,o.g,o.b)}),Object.assign(n,{color:Vd(this.sectorLength,o.r,o.g,o.b)})}this.vectorBuffer.setAttributes(i),this.arcBuffer.setAttributes(r),this.sectorBuffer.setAttributes(n)},t.prototype.setParameters=function(t){return a.prototype.setParameters.call(this,t,{},!1),!t||void 0===t.vectorVisible&&void 0===t.arcVisible&&void 0===t.sectorVisible||this.setVisibility(this.visible),t&&t.lineOpacity&&(this.vectorBuffer.setParameters({opacity:t.lineOpacity}),this.arcBuffer.setParameters({opacity:t.lineOpacity})),t&&void 0!==t.opacity&&(this.vectorBuffer.setParameters({opacity:this.lineOpacity}),this.arcBuffer.setParameters({opacity:this.lineOpacity})),t&&t.linewidth&&(this.vectorBuffer.setParameters({linewidth:t.linewidth}),this.arcBuffer.setParameters({linewidth:t.linewidth})),this},t.prototype.setVisibility=function(t,e){return a.prototype.setVisibility.call(this,t,!0),this.vectorBuffer&&this.vectorBuffer.setVisibility(this.vectorVisible&&this.visible),this.arcBuffer&&this.arcBuffer.setVisibility(this.arcVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),e||this.viewer.requestRender(),this},t}(dw);ed.add("angle",Tw);var Cw=new ri,Iw=new ri,Ow=new ri,Lw=new ri(0,1,0),Rw=Object.assign({radialSegments:1,openEnded:!0},ly);function Dw(t){void 0===t&&(t={});var e=bl(t.radialSegments,10),i=bl(t.openEnded,!0),r=(new ei).makeRotationX(Math.PI/2),n=new Ks(1,1,1,e,1,i);return n.applyMatrix(r),n}var kw=function(n){function t(t,e){void 0===e&&(e={}),n.call(this,function(t,e){void 0===e&&(e={});var i=Dw(e),r=t.position1.length,n=i.attributes.position.array.length/3,o=r/3,a=new Float32Array(2*o*n);return $d(o,n,0,a),$d(o,n,o*n,a),{position:new Float32Array(2*r),color:new Float32Array(2*r),primitiveId:a,picking:t.picking}}(t,e),e,Dw(e)),this.updateNormals=!0;var i=t.position1.length,r=t.radius.length;this.__center=new Float32Array(i),this._position=new Float32Array(2*i),this._color=new Float32Array(2*i),this._from=new Float32Array(2*i),this._to=new Float32Array(2*i),this._radius=new Float32Array(2*r),this.setAttributes(t,!0)}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return Rw},t.prototype.applyPositionTransform=function(t,e,i){Iw.fromArray(this._from,i),Ow.fromArray(this._to,i),t.lookAt(Iw,Ow,Lw);var r=this._radius[e];Cw.set(r,r,Iw.distanceTo(Ow)),t.scale(Cw)},t.prototype.setAttributes=function(t,e){void 0===t&&(t={});var i={};t.position1&&t.position2&&(Ud(t.position1,t.position2,this.__center),Ud(t.position1,this.__center,this._position),Ud(this.__center,t.position2,this._position,t.position1.length),this._from.set(t.position1),this._from.set(this.__center,t.position1.length),this._to.set(this.__center),this._to.set(t.position2,this.__center.length),i.position=this._position),t.color&&t.color2&&(this._color.set(t.color),this._color.set(t.color2,t.color.length),i.color=this._color),t.radius&&(this._radius.set(t.radius),this._radius.set(t.radius,t.radius.length),i.radius=this._radius),n.prototype.setAttributes.call(this,i,e)},Object.defineProperties(t.prototype,e),t}(yx);rd.add("shader/CylinderImpostor.vert","\nattribute vec3 mapping;\nattribute vec3 position1;\nattribute vec3 position2;\nattribute float radius;\nvarying vec3 axis;\nvarying vec4 base_radius;\nvarying vec4 end_b;\nvarying vec3 U;\nvarying vec3 V;\nvarying vec4 w;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\nattribute vec3 color2;\nvarying vec3 vColor1;\nvarying vec3 vColor2;\n#endif\nuniform mat4 modelViewMatrixInverse;\nuniform float ortho;\n#include matrix_scale\nvoid main(){\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\nvColor1 = color;\nvColor2 = color2;\n#endif\nbase_radius.w = radius * matrixScale( modelViewMatrix );\nvec3 center = position;\nvec3 dir = normalize( position2 - position1 );\nfloat ext = length( position2 - position1 ) / 2.0;\nvec3 cam_dir;\nif( ortho == 0.0 ){\ncam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 0, 1 ) ).xyz - center;\n}else{\ncam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 1, 0 ) ).xyz;\n}\ncam_dir = normalize( cam_dir );\nvec3 ldir;\nfloat b = dot( cam_dir, dir );\nend_b.w = b;\nif( b < 0.0 )\nldir = -ext * dir;\nelse\nldir = ext * dir;\nvec3 left = normalize( cross( cam_dir, ldir ) );\nleft = radius * left;\nvec3 up = radius * normalize( cross( left, ldir ) );\naxis = normalize( normalMatrix * ldir );\nU = normalize( normalMatrix * up );\nV = normalize( normalMatrix * left );\nvec4 base4 = modelViewMatrix * vec4( center - ldir, 1.0 );\nbase_radius.xyz = base4.xyz / base4.w;\nvec4 top_position = modelViewMatrix * vec4( center + ldir, 1.0 );\nvec4 end4 = top_position;\nend_b.xyz = end4.xyz / end4.w;\nw = modelViewMatrix * vec4(\ncenter + mapping.x*ldir + mapping.y*left + mapping.z*up, 1.0\n);\ngl_Position = projectionMatrix * w;\ngl_Position.z = 0.99;\n}"),rd.add("shader/CylinderImpostor.frag","#define STANDARD\n#define IMPOSTOR\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 interiorColor;\nuniform float interiorDarkening;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float clipNear;\nuniform mat4 projectionMatrix;\nuniform float ortho;\nvarying vec3 axis;\nvarying vec4 base_radius;\nvarying vec4 end_b;\nvarying vec3 U;\nvarying vec3 V;\nvarying vec4 w;\n#ifdef PICKING\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\nvarying vec3 vColor1;\nvarying vec3 vColor2;\n#include common\n#include fog_pars_fragment\n#include bsdfs\n#include lights_pars_begin\n#include lights_physical_pars_fragment\n#endif\nbool interior = false;\nfloat distSq3( vec3 v3a, vec3 v3b ){\nreturn (\n( v3a.x - v3b.x ) * ( v3a.x - v3b.x ) +\n( v3a.y - v3b.y ) * ( v3a.y - v3b.y ) +\n( v3a.z - v3b.z ) * ( v3a.z - v3b.z )\n);\n}\nfloat calcDepth( in vec3 cameraPos ){\nvec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;\nreturn 0.5 + 0.5 * clipZW.x / clipZW.y;\n}\nfloat calcClip( vec3 cameraPos ){\nreturn dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );\n}\nvoid main(){\nvec3 point = w.xyz / w.w;\nvec3 base = base_radius.xyz;\nfloat vRadius = base_radius.w;\nvec3 end = end_b.xyz;\nfloat b = end_b.w;\nvec3 end_cyl = end;\nvec3 surface_point = point;\nvec3 ray_target = surface_point;\nvec3 ray_origin = vec3(0.0);\nvec3 ray_direction = mix(normalize(ray_origin - ray_target), vec3(0.0, 0.0, 1.0), ortho);\nmat3 basis = mat3( U, V, axis );\nvec3 diff = ray_target - 0.5 * (base + end_cyl);\nvec3 P = diff * basis;\nfloat dz = dot( axis, ray_direction );\nfloat radius2 = vRadius*vRadius;\nvec3 D = vec3(dot(U, ray_direction),\ndot(V, ray_direction),\ndz);\nfloat a0 = P.x*P.x + P.y*P.y - radius2;\nfloat a1 = P.x*D.x + P.y*D.y;\nfloat a2 = D.x*D.x + D.y*D.y;\nfloat d = a1*a1 - a0*a2;\nif (d < 0.0)\ndiscard;\nfloat dist = (-a1 + sqrt(d)) / a2;\nvec3 new_point = ray_target + dist * ray_direction;\nvec3 tmp_point = new_point - base;\nvec3 _normal = normalize( tmp_point - axis * dot(tmp_point, axis) );\nray_origin = mix( ray_origin, surface_point, ortho );\nfloat front_cap_test = dot( tmp_point, axis );\nfloat end_cap_test = dot((new_point - end_cyl), axis);\n#ifndef CAP\nvec3 new_point2 = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;\nvec3 tmp_point2 = new_point2 - base;\n#endif\nif (front_cap_test < 0.0)\n{\nfloat dNV = dot(-axis, ray_direction);\nif (dNV < 0.0)\ndiscard;\nfloat near = dot(-axis, (base)) / dNV;\nvec3 front_point = ray_direction * near + ray_origin;\nif (dot(front_point - base, front_point-base) > radius2)\ndiscard;\n#ifdef CAP\nnew_point = front_point;\n_normal = axis;\n#else\nnew_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;\ndNV = dot(-axis, ray_direction);\nnear = dot(axis, end_cyl) / dNV;\nnew_point2 = ray_direction * near + ray_origin;\nif (dot(new_point2 - end_cyl, new_point2-base) < radius2)\ndiscard;\ninterior = true;\n#endif\n}\nif( end_cap_test > 0.0 )\n{\nfloat dNV = dot(axis, ray_direction);\nif (dNV < 0.0)\ndiscard;\nfloat near = dot(axis, end_cyl) / dNV;\nvec3 end_point = ray_direction * near + ray_origin;\nif( dot(end_point - end_cyl, end_point-base) > radius2 )\ndiscard;\n#ifdef CAP\nnew_point = end_point;\n_normal = axis;\n#else\nnew_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;\ndNV = dot(-axis, ray_direction);\nnear = dot(-axis, (base)) / dNV;\nnew_point2 = ray_direction * near + ray_origin;\nif (dot(new_point2 - base, new_point2-base) < radius2)\ndiscard;\ninterior = true;\n#endif\n}\ngl_FragDepthEXT = calcDepth( new_point );\n#ifdef NEAR_CLIP\nif( calcClip( new_point ) > 0.0 ){\ndist = (-a1 - sqrt(d)) / a2;\nnew_point = ray_target + dist * ray_direction;\nif( calcClip( new_point ) > 0.0 )\ndiscard;\ninterior = true;\ngl_FragDepthEXT = calcDepth( new_point );\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );\n}\n}else if( gl_FragDepthEXT <= 0.0 ){\ndist = (-a1 - sqrt(d)) / a2;\nnew_point = ray_target + dist * ray_direction;\ninterior = true;\ngl_FragDepthEXT = calcDepth( new_point );\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );\n}\n}\n#else\nif( gl_FragDepthEXT <= 0.0 ){\ndist = (-a1 - sqrt(d)) / a2;\nnew_point = ray_target + dist * ray_direction;\ninterior = true;\ngl_FragDepthEXT = calcDepth( new_point );\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );\n}\n}\n#endif\nif (gl_FragDepthEXT < 0.0)\ndiscard;\nif (gl_FragDepthEXT > 1.0)\ndiscard;\n#ifdef PICKING\nif( opacity < 0.3 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 vViewPosition = -new_point;\nvec3 vNormal = _normal;\nvec3 vColor;\nif( distSq3( new_point, end_cyl ) < distSq3( new_point, base ) ){\nif( b < 0.0 ){\nvColor = vColor1;\n}else{\nvColor = vColor2;\n}\n}else{\nif( b > 0.0 ){\nvColor = vColor1;\n}else{\nvColor = vColor2;\n}\n}\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveLight = emissive;\n#include color_fragment\n#include roughnessmap_fragment\n#include metalnessmap_fragment\nvec3 normal = normalize( vNormal );\n#include lights_physical_fragment\n#include lights_fragment_begin\n#include lights_fragment_end\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;\nif( interior ){\n#ifdef USE_INTERIOR_COLOR\noutgoingLight.xyz = interiorColor;\n#else\n#ifdef DIFFUSE_INTERIOR\noutgoingLight.xyz = vColor;\n#endif\n#endif\noutgoingLight.xyz *= 1.0 - interiorDarkening;\n}\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var Bw=new Float32Array([-1,1,-1,-1,-1,-1,1,1,-1,1,1,1,1,-1,-1,1,-1,1]),Nw=new Uint16Array([0,1,2,1,4,2,2,4,3,4,5,3]),Fw=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,"v3",t,e)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return e.mapping.get=function(){return Bw},e.mappingIndices.get=function(){return Nw},e.mappingIndicesSize.get=function(){return 12},e.mappingSize.get=function(){return 6},e.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,e),t}(wx),zw=Object.assign({openEnded:!1},ly),Uw=Object.assign({openEnded:{updateShader:!0}},py),jw=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e),this.parameterTypes=Uw,this.isImpostor=!0,this.vertexShader="CylinderImpostor.vert",this.fragmentShader="CylinderImpostor.frag",this.addUniforms({modelViewMatrixInverse:{value:new ei},ortho:{value:0}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null}}),this.setAttributes(t),this.makeMapping()}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return zw},t.prototype.getDefines=function(t){var e=i.prototype.getDefines.call(this,t);return this.parameters.openEnded||(e.CAP=1),e},Object.defineProperties(t.prototype,e),t}(Fw),Gw=(Object.assign({disableImpostor:!1},Rw,zw),function(t,e){return void 0===e&&(e={}),!t.color2&&t.color&&(t.color2=t.color),!Xp||e&&e.disableImpostor?new kw(t,e):new jw(t,e)});ad.add("cylinder",Gw);var Vw=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="axes",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0,showAxes:{type:"boolean",rebuild:!0},showBox:{type:"boolean",rebuild:!0}},this.parameters,{assembly:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.radiusSize=bl(e.radiusSize,.5),e.colorValue=bl(e.colorValue,"lightgreen"),e.useInteriorColor=bl(e.useInteriorColor,!0),this.showAxes=bl(e.showAxes,!0),this.showBox=bl(e.showBox,!1),r.prototype.init.call(this,e)},t.prototype.getPrincipalAxes=function(){var t,e=this.getAssembly();return e&&(t=e.partList[0].getSelection()),this.structureView.getPrincipalAxes(t)},t.prototype.getAxesData=function(t){var r=this.getPrincipalAxes(),e=new ki(this.colorValue),i=0,n=0;this.showAxes&&(i+=6,n+=3),this.showBox&&(i+=8,n+=12);var o=new Float32Array(3*i),a=Vd(i,e.r,e.g,e.b),s=Gd(i,this.radiusSize),c=new Float32Array(3*n),u=new Float32Array(3*n),h=Vd(n,e.r,e.g,e.b),l=Gd(n,this.radiusSize),p=0;if(this.showAxes){var d=function(t,e){t.toArray(o,2*p),e.toArray(o,2*p+3),t.toArray(c,p),e.toArray(u,p),p+=3};d(r.begA,r.endA),d(r.begB,r.endB),d(r.begC,r.endC)}if(this.showBox){var f=new ri,m=r.getProjectedScaleForAtoms(t),g=m.d1a,v=m.d2a,y=m.d3a,b=m.d1b,x=m.d2b,_=m.d3b,w=2*p,S=function(t,e,i){f.copy(r.center).addScaledVector(r.normVecA,t).addScaledVector(r.normVecB,e).addScaledVector(r.normVecC,i),f.toArray(o,w),w+=3};S(g,v,y),S(g,v,_),S(g,x,_),S(g,x,y),S(b,x,_),S(b,x,y),S(b,v,y),S(b,v,_);var A=p,M=function(t,e){f.fromArray(o,2*p+3*t).toArray(c,A),f.fromArray(o,2*p+3*e).toArray(u,A),A+=3};M(0,1),M(0,3),M(0,6),M(1,2),M(1,7),M(2,3),M(2,4),M(3,5),M(4,5),M(4,7),M(5,6),M(6,7)}var E=new lv(r);return{vertex:{position:o,color:a,radius:s,picking:E},edge:{position1:c,position2:u,color:h,color2:h,radius:l,picking:E}}},t.prototype.create=function(){var t=this.getAxesData(this.structureView);this.sphereBuffer=new Px(t.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new Gw(t.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})},t.prototype.createData=function(t){},t.prototype.updateData=function(t,e){var i=this.getAxesData(e.sview),r={},n={};t&&!t.position||(Object.assign(r,{position:i.vertex.position}),Object.assign(n,{position1:i.edge.position1,position2:i.edge.position2})),t&&!t.color||(Object.assign(r,{color:i.vertex.color}),Object.assign(n,{color:i.edge.color,color2:i.edge.color})),t&&!t.radius||(Object.assign(r,{radius:i.vertex.radius}),Object.assign(n,{radius:i.edge.radius})),this.sphereBuffer.setAttributes(r),this.cylinderBuffer.setAttributes(n)},t}(pw);ed.add("axes",Vw);var Hw=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="ball+stick",this.parameters=Object.assign({sphereDetail:!0,radialSegments:!0,openEnded:!0,disableImpostor:!0,aspectRatio:{type:"number",precision:1,max:10,min:1},lineOnly:{type:"boolean",rebuild:!0},cylinderOnly:{type:"boolean",rebuild:!0},multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondScale:{type:"number",precision:2,max:1,min:.01},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.radiusType=bl(e.radiusType,"size"),e.radiusSize=bl(e.radiusSize,.15),e.useInteriorColor=bl(e.useInteriorColor,!0),this.aspectRatio=bl(e.aspectRatio,2),this.lineOnly=bl(e.lineOnly,!1),this.cylinderOnly=bl(e.cylinderOnly,!1),this.multipleBond=bl(e.multipleBond,"off"),this.bondSpacing=bl(e.bondSpacing,1),this.bondScale=bl(e.bondScale,.4),this.linewidth=bl(e.linewidth,2),r.prototype.init.call(this,e)},t.prototype.getAtomRadius=function(t){return this.aspectRatio*r.prototype.getAtomRadius.call(this,t)},t.prototype.getAtomParams=function(t,e){var i=r.prototype.getAtomParams.call(this,t,e);return i.radiusParams.scale*=this.aspectRatio,i},t.prototype.getAtomData=function(t,e,i){return t.getAtomData(this.getAtomParams(e,i))},t.prototype.getBondParams=function(t,e){return e=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,bondScale:this.bondScale},e),r.prototype.getBondParams.call(this,t,e)},t.prototype.getBondData=function(t,e,i){return t.getBondData(this.getBondParams(e,i))},t.prototype.createData=function(t){var e=[];if(this.lineOnly)this.lineBuffer=new Pw(this.getBondData(t,{position:!0,color:!0,picking:!0}),this.getBufferParams({linewidth:this.linewidth})),e.push(this.lineBuffer);else{var i=new Gw(this.getBondData(t),this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}));if(e.push(i),!this.cylinderOnly){var r=new Px(this.getAtomData(t),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));e.push(r)}}return{bufferList:e}},t.prototype.updateData=function(t,e){"off"!==this.multipleBond&&t&&t.radius&&(t.position=!0);var i=this.getBondData(e.sview,t);if(this.lineOnly){var r={};t&&!t.position||Object.assign(r,{position1:i.position1,position2:i.position2}),t&&!t.color||Object.assign(r,{color:i.color,color2:i.color2}),e.bufferList[0].setAttributes(r)}else{var n={};if(t&&!t.position||Object.assign(n,{position1:i.position1,position2:i.position2}),t&&!t.color||Object.assign(n,{color:i.color,color2:i.color2}),t&&!t.radius||Object.assign(n,{radius:i.radius}),e.bufferList[0].setAttributes(n),!this.cylinderOnly){var o=this.getAtomData(e.sview,t),a={};t&&!t.position||Object.assign(a,{position:o.position}),t&&!t.color||Object.assign(a,{color:o.color}),t&&!t.radius||Object.assign(a,{radius:o.radius}),e.bufferList[1].setAttributes(a)}}},t.prototype.setParameters=function(t){void 0===t&&(t={});var e=!1,i={};return(t.aspectRatio||t.bondSpacing||t.bondScale)&&(Object.assign(i,{radius:!0}),Xp&&!this.disableImpostor||(e=!0)),r.prototype.setParameters.call(this,t,i,e),this},t}(pw);ed.add("ball+stick",Hw);var $w=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="backbone",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.aspectRatio=bl(e.aspectRatio,1),e.radiusSize=bl(e.radiusSize,.25),r.prototype.init.call(this,e)},t.prototype.getAtomRadius=function(t){return t.isTrace()?r.prototype.getAtomRadius.call(this,t):0},t.prototype.getAtomData=function(t,e,i){return t.getBackboneAtomData(this.getAtomParams(e,i))},t.prototype.getBondData=function(t,e,i){return t.getBackboneBondData(this.getBondParams(e,i))},t}(Hw);ed.add("backbone",$w);var Ww=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="base",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null})}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.aspectRatio=bl(e.aspectRatio,1),e.radiusSize=bl(e.radiusSize,.3),r.prototype.init.call(this,e)},t.prototype.getAtomData=function(t,e,i){return t.getRungAtomData(this.getAtomParams(e,i))},t.prototype.getBondData=function(t,e,i){var r=this.getBondParams(e,i);return Object.assign(r.colorParams,{rung:!0}),t.getRungBondData(r)},t}(Hw);ed.add("base",Ww);var Xw=function(t,e){this.m=t,this.tension=e,this.dt=1/this.m,this.delta=1e-4,this.vec1=new ri,this.vec2=new ri,this.vDir=new ri,this.vTan=new ri,this.vNorm=new ri,this.vBin=new ri,this.m2=Math.ceil(this.m/2)};Xw.prototype.interpolateToArr=function(t,e,i,r,n,o,a){o[a+0]=Yl(t.x,e.x,i.x,r.x,n,this.tension),o[a+1]=Yl(t.y,e.y,i.y,r.y,n,this.tension),o[a+2]=Yl(t.z,e.z,i.z,r.z,n,this.tension)},Xw.prototype.interpolateToVec=function(t,e,i,r,n,o){o.x=Yl(t.x,e.x,i.x,r.x,n,this.tension),o.y=Yl(t.y,e.y,i.y,r.y,n,this.tension),o.z=Yl(t.z,e.z,i.z,r.z,n,this.tension)},Xw.prototype.interpolatePosition=function(t,e,i,r,n,o){for(var a=0;a<this.m;++a){var s=o+3*a,c=this.dt*a;this.interpolateToArr(t,e,i,r,c,n,s)}},Xw.prototype.interpolateTangent=function(t,e,i,r,n,o){for(var a=this,s=0;s<this.m;++s){var c=a.dt*s,u=c-a.delta,h=c+a.delta,l=o+3*s;u<0&&(u=0),1<h&&(h=1),a.interpolateToVec(t,e,i,r,u,a.vec1),a.interpolateToVec(t,e,i,r,h,a.vec2),a.vec2.sub(a.vec1).normalize(),a.vec2.toArray(n,l)}},Xw.prototype.vectorSubdivide=function(t,e,i,r,n){for(var o,a=e.next(),s=e.next(),c=e.next(),u=e.size,h=u-1,l=r||0,p=0;p<h;++p)o=a,a=s,s=c,c=e.next(),t.apply(this,[o,a,s,c,i,l]),l+=3*this.m;n&&(o=e.get(u-2),a=e.get(u-1),s=e.get(0),c=e.get(1),t.apply(this,[o,a,s,c,i,l]),l+=3*this.m)},Xw.prototype.getPosition=function(t,e,i,r){t.reset(),this.vectorSubdivide(this.interpolatePosition,t,e,i,r);var n=t.size-1,o=n*this.m*3;r&&(o+=3*this.m);var a=t.get(r?0:n);e[o]=a.x,e[o+1]=a.y,e[o+2]=a.z},Xw.prototype.getTangent=function(t,e,i,r){t.reset(),this.vectorSubdivide(this.interpolateTangent,t,e,i,r);var n=(t.size-1)*this.m*3;r&&(n+=3*this.m),Xd(e,e,n-3,n,3)},Xw.prototype.interpolateNormalDir=function(t,e,i,r,n,o,a,s,c,u,h,l,p){for(var d=this,f=0;f<this.m;++f){var m=l+3*f;p&&(m+=3*d.m2);var g=d.dt*f;d.interpolateToVec(t,e,i,r,g,d.vec1),d.interpolateToVec(n,o,a,s,g,d.vec2),d.vDir.subVectors(d.vec2,d.vec1).normalize(),d.vTan.fromArray(c,m),d.vBin.crossVectors(d.vDir,d.vTan).normalize(),d.vBin.toArray(h,m),d.vNorm.crossVectors(d.vTan,d.vBin).normalize(),d.vNorm.toArray(u,m)}},Xw.prototype.interpolateNormal=function(t,e,i,r,n){for(var o=0;o<this.m;++o){var a=n+3*o;t.copy(this.vNorm),this.vTan.fromArray(e,a),this.vBin.crossVectors(t,this.vTan).normalize(),this.vBin.toArray(r,a),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(i,a)}},Xw.prototype.getNormal=function(t,e,i,r,n,o){this.vNorm.set(0,0,1);for(var a=t-1,s=n||0,c=0;c<a;++c)this.interpolateNormal(this.vDir,e,i,r,s),s+=3*this.m;o&&(this.interpolateNormal(this.vDir,e,i,r,s),s+=3*this.m),this.vBin.toArray(r,s),this.vNorm.toArray(i,s)},Xw.prototype.getNormalDir=function(t,e,i,r,n,o,a,s){t.reset(),e.reset();var c=new ri,u=new ri,h=new ri,l=new ri,p=new ri,d=(new ri).copy(t.next()),f=(new ri).copy(t.next()),m=(new ri).copy(t.next()),g=new ri,v=(new ri).copy(e.next()),y=(new ri).copy(e.next()),b=(new ri).copy(e.next());this.vNorm.set(0,0,1);for(var x=t.size,_=x-1,w=o||0,S=0;S<_;++S)p.copy(d),d.copy(f),f.copy(m),m.copy(t.next()),g.copy(v),v.copy(y),y.copy(b),b.copy(e.next()),0===S?(c.subVectors(g,p),u.subVectors(v,d),c.dot(u)<0&&(u.multiplyScalar(-1),v.addVectors(d,u)),h.subVectors(y,f),u.dot(h)<0&&(h.multiplyScalar(-1),y.addVectors(f,h))):h.copy(l),l.subVectors(b,m),h.dot(l)<0&&(l.multiplyScalar(-1),b.addVectors(m,l)),this.interpolateNormalDir(p,d,f,m,g,v,y,b,i,r,n,w,s),w+=3*this.m;if(a&&(p.copy(t.get(x-2)),d.copy(t.get(x-1)),f.copy(t.get(0)),m.copy(t.get(1)),g.copy(e.get(x-2)),v.copy(e.get(x-1)),y.copy(e.get(0)),b.copy(e.get(1)),h.copy(l),l.subVectors(b,m),h.dot(l)<0&&(l.multiplyScalar(-1),b.addVectors(m,l)),this.interpolateNormalDir(p,d,f,m,g,v,y,b,i,r,n,w,s),w+=3*this.m),s){this.vBin.fromArray(n,3*this.m2),this.vNorm.fromArray(r,3*this.m2);for(var A=0;A<this.m2;++A)this.vBin.toArray(n,3*A),this.vNorm.toArray(r,3*A)}else this.vBin.toArray(n,w),this.vNorm.toArray(r,w)},Xw.prototype.interpolateColor=function(t,e,i,r,n){var o,a;for(o=0;o<this.m2;++o)a=n+3*o,i.apply(this,[t,r,a]);for(o=this.m2;o<this.m;++o)a=n+3*o,i.apply(this,[e,r,a])},Xw.prototype.getColor=function(t,e,i,r,n){var o;t.reset(),t.next();for(var a=t.next(),s=t.size,c=s-1,u=r||0,h=0;h<c;++h)o=a,a=t.next(),this.interpolateColor(o,a,e,i,u),u+=3*this.m;n&&(o=t.get(s-1),a=t.get(0),this.interpolateColor(o,a,e,i,u),u+=3*this.m),i[u]=i[u-3],i[u+1]=i[u-2],i[u+2]=i[u-1]},Xw.prototype.interpolatePicking=function(t,e,i,r,n){var o;for(o=0;o<this.m2;++o)r[n+o]=i.apply(this,[t]);for(o=this.m2;o<this.m;++o)r[n+o]=i.apply(this,[e])},Xw.prototype.getPicking=function(t,e,i,r,n){var o;t.reset(),t.next();for(var a=t.next(),s=t.size,c=s-1,u=r||0,h=0;h<c;++h)o=a,a=t.next(),this.interpolatePicking(o,a,e,i,u),u+=this.m;n&&(o=t.get(s-1),a=t.get(0),this.interpolatePicking(o,a,e,i,u),u+=this.m),i[u]=i[u-1]},Xw.prototype.interpolateSize=function(t,e,i,r,n){for(var o=i.apply(this,[t]),a=i.apply(this,[e]),s=0;s<this.m;++s){var c=s/this.m;r[n+s]=(1-c)*o+c*a}},Xw.prototype.getSize=function(t,e,i,r,n){var o;t.reset(),t.next();for(var a=t.next(),s=t.size,c=s-1,u=r||0,h=0;h<c;++h)o=a,a=t.next(),this.interpolateSize(o,a,e,i,u),u+=this.m;n&&(o=t.get(s-1),a=t.get(0),this.interpolateSize(o,a,e,i,u),u+=this.m),i[u]=i[u-1]};var qw=function(t,e){this.polymer=t,this.size=t.residueCount;var i=e||{};this.directional=i.directional||!1,this.positionIterator=i.positionIterator||!1,this.subdiv=i.subdiv||1,this.smoothSheet=i.smoothSheet||!1,i.tension?this.tension=i.tension:this.tension=this.polymer.isNucleic()?.5:.9,this.interpolator=new Xw(this.subdiv,this.tension)};qw.prototype.getAtomIterator=function(r,n){var o=this.polymer,t=o.structure,a=o.residueCount,s=0,e=-1,c=[t.getAtomProxy(),t.getAtomProxy(),t.getAtomProxy(),t.getAtomProxy()],u=[new ri,new ri,new ri,new ri];var h=t.getAtomProxy(),l=t.getAtomProxy();function i(t){var e=c[s%4];if(e.index=o.getAtomIndexByType(t,r),n&&0<t&&t<a&&"e"===e.sstruc){var i=u[s%4];return h.index=o.getAtomIndexByType(t+1,r),l.index=o.getAtomIndexByType(t-1,r),i.addVectors(h,l).add(e).add(e).multiplyScalar(.25),s+=1,i}return s+=1,e}return{size:a,next:function(){var t=i(e);return e+=1,t},get:i,reset:function(){s=0,e=-1}}},qw.prototype.getSubdividedColor=function(t){var e=this.subdiv,i=this.polymer,r=(i.residueCount-1)*e*3+3;i.isCyclic&&(r+=3*e);var n=new Float32Array(r),o=this.getAtomIterator("trace"),a=t||{};a.structure=i.structure;var s=Qp.getScheme(a);return this.interpolator.getColor(o,function(t,e,i){s.atomColorToArray(t,e,i)},n,0,i.isCyclic),{color:n}},qw.prototype.getSubdividedPicking=function(){var t=this.subdiv,e=this.polymer,i=(e.residueCount-1)*t+1;e.isCyclic&&(i+=t);var r=e.structure,n=this.getAtomIterator("trace"),o=new Float32Array(i);return this.interpolator.getPicking(n,function(t){return t.index},o,0,e.isCyclic),{picking:new hv(o,r)}},qw.prototype.getSubdividedPosition=function(){return{position:this.getPosition()}},qw.prototype.getSubdividedOrientation=function(){var t=this.getTangent(),e=this.getNormals(t);return{tangent:t,normal:e.normal,binormal:e.binormal}},qw.prototype.getSubdividedSize=function(t){var e=this.subdiv,i=this.polymer,r=(i.residueCount-1)*e+1;i.isCyclic&&(r+=e);var n=new Float32Array(r),o=this.getAtomIterator("trace"),a=new Gy(t);return this.interpolator.getSize(o,function(t){return a.atomRadius(t)},n,0,i.isCyclic),{size:n}},qw.prototype.getPosition=function(){var t=this.subdiv,e=this.polymer,i=(e.residueCount-1)*t*3+3;e.isCyclic&&(i+=3*t);var r=new Float32Array(i),n=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getPosition(n,r,0,e.isCyclic),r},qw.prototype.getTangent=function(){var t=this.subdiv,e=this.polymer,i=(this.size-1)*t*3+3;e.isCyclic&&(i+=3*t);var r=new Float32Array(i),n=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getTangent(n,r,0,e.isCyclic),r},qw.prototype.getNormals=function(t){var e=this.subdiv,i=this.polymer,r=i.isProtein(),n=this.size,o=(n-1)*e*3+3;i.isCyclic&&(o+=3*e);var a=new Float32Array(o),s=new Float32Array(o);if(this.directional&&!this.polymer.isCg()){var c=this.getAtomIterator("direction1"),u=this.getAtomIterator("direction2");this.interpolator.getNormalDir(c,u,t,a,s,0,i.isCyclic,r)}else this.interpolator.getNormal(n,t,a,s,0,i.isCyclic);return{normal:a,binormal:s}};var Yw=new ri,Zw=new ri,Kw=Object.assign({radialSegments:4,capped:!1,aspectRatio:1},ly);var Jw=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,function(t,e){void 0===e&&(e={});var i=bl(e.radialSegments,4),r=bl(e.capped,!1),n=r?i:0,o=r?i-2:0,a=t.position.length/3,s=a*i*3+2*n*3,c=2*(a-1)*i*3+2*o*3;return{position:new Float32Array(s),color:new Float32Array(s),index:Ll(c,s/3),normal:new Float32Array(s),picking:t.picking}}(t,e),e),this.capVertices=this.parameters.capped?this.parameters.radialSegments:0,this.capTriangles=this.parameters.capped?this.parameters.radialSegments-2:0,this.size2=t.position.length/3,t.primitiveId=Hd(this.size2),this.setAttributes(t),this.makeIndex()}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return Kw},t.prototype.setAttributes=function(t){void 0===t&&(t={});var e,i,r,n,o,a,s,c,u,h,l,p,d,f=this.parameters.aspectRatio,m=this.size2,g=m-1,v=this.parameters.radialSegments,y=this.geometry.attributes;t.position&&(e=t.position,i=t.normal,r=t.binormal,n=t.tangent,a=t.size,c=y.position.array,h=y.normal.array,y.position.needsUpdate=!0,y.normal.needsUpdate=!0),t.color&&(o=t.color,u=y.color.array,y.color.needsUpdate=!0),t.primitiveId&&(s=t.primitiveId,l=y.primitiveId.array,y.primitiveId.needsUpdate=!0);var b=0,x=0,_=0,w=0,S=0,A=0,M=0,E=0,P=0,T=0,C=[],I=[],O=[],L=[],R=[],D=[];if(e)for(var k=0;k<v;++k){var B=k/v*2*Math.PI;C[k]=f*Math.cos(B),I[k]=Math.sin(B),O[k]=f*Math.cos(B-.01),L[k]=Math.sin(B-.01),R[k]=f*Math.cos(B+.01),D[k]=Math.sin(B+.01)}for(var N=0;N<m;++N){d=(p=3*N)*v,e&&n&&i&&r&&a&&(Yw.set(n[p],n[p+1],n[p+2]),x=i[p],_=i[p+1],w=i[p+2],S=r[p],A=r[p+1],M=r[p+2],E=e[p],P=e[p+1],T=e[p+2],b=a[N]);for(var F=0;F<v;++F){var z=d+3*F;if(e){var U=-b*C[F],j=b*I[F],G=-b*O[F],V=b*L[F],H=-b*R[F],$=b*D[F];c[z]=E+U*x+j*S,c[z+1]=P+U*_+j*A,c[z+2]=T+U*w+j*M,Zw.set(H*x+$*S-(G*x+V*S),H*_+$*A-(G*_+V*A),H*w+$*M-(G*w+V*M)).cross(Yw),h[z]=Zw.x,h[z+1]=Zw.y,h[z+2]=Zw.z}o&&(u[z]=o[p],u[z+1]=o[p+1],u[z+2]=o[p+2]),s&&(l[N*v+F]=s[N])}}d=3*m*v;for(var W=p=0;W<v;++W){var X=p+3*W,q=d+3*W;e&&n&&(c[q]=c[X],c[q+1]=c[X+1],c[q+2]=c[X+2],h[q]=n[p],h[q+1]=n[p+1],h[q+2]=n[p+2]),o&&(u[q]=u[X],u[q+1]=u[X+1],u[q+2]=u[X+2]),s&&(l[m*v+W]=l[0+W])}p=3*(m-1)*v,d=3*(m+1)*v;for(var Y=0;Y<v;++Y){var Z=p+3*Y,K=d+3*Y;e&&n&&(c[K]=c[Z],c[K+1]=c[Z+1],c[K+2]=c[Z+2],h[K]=n[3*g],h[K+1]=n[3*g+1],h[K+2]=n[3*g+2]),o&&(u[K]=u[Z],u[K+1]=u[Z+1],u[K+2]=u[Z+2]),s&&(l[(m+1)*v+Y]=l[(m-1)*v+Y])}},t.prototype.makeIndex=function(){for(var t,e,i=this.geometry.getIndex().array,r=this.size2,n=r-1,o=this.capTriangles,a=this.parameters.radialSegments,s=this.parameters.radialSegments+1,c=0;c<n;++c)for(var u=c*a*3*2,h=c*a,l=(c+1)*a,p=0;p<a;++p)i[e=u+3*p*2]=h+p,i[e+1]=h+(p+1)%a,i[e+2]=l+p,i[e+3]=l+p,i[e+4]=h+(p+1)%a,i[e+5]=l+(p+1)%a;for(var d=[0],f=1;f<s/2;++f)d.push(f),a-f!==f&&d.push(a-f);e=n*a*3*2,t=r*a;for(var m=0;m<d.length-2;++m)m%2==0?(i[e+3*m+0]=t+d[m+0],i[e+3*m+1]=t+d[m+1],i[e+3*m+2]=t+d[m+2]):(i[e+3*m+0]=t+d[m+2],i[e+3*m+1]=t+d[m+1],i[e+3*m+2]=t+d[m+0]);e=n*a*3*2+3*o,t=r*a+a;for(var g=0;g<d.length-2;++g)g%2==0?(i[e+3*g+0]=t+d[g+0],i[e+3*g+1]=t+d[g+1],i[e+3*g+2]=t+d[g+2]):(i[e+3*g+0]=t+d[g+2],i[e+3*g+1]=t+d[g+1],i[e+3*g+2]=t+d[g+0])},Object.defineProperties(t.prototype,e),t}(my),Qw=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="cartoon",this.parameters=Object.assign({aspectRatio:{type:"number",precision:1,max:10,min:1,rebuild:!0},subdiv:{type:"integer",max:50,min:1,rebuild:!0},radialSegments:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},capped:{type:"boolean",rebuild:!0},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorScheme=bl(e.colorScheme,"chainname"),e.colorScale=bl(e.colorScale,"RdYlBu"),e.radiusType=bl(e.radiusType,"sstruc"),e.radiusScale=bl(e.radiusScale,.7),e.useInteriorColor=bl(e.useInteriorColor,!0),this.aspectRatio=bl(e.aspectRatio,5),this.tension=bl(e.tension,NaN),this.capped=bl(e.capped,!0),this.smoothSheet=bl(e.smoothSheet,!1),"low"===e.quality?(this.subdiv=3,this.radialSegments=6):"medium"===e.quality?this.subdiv=6:"high"===e.quality?this.subdiv=12:this.subdiv=bl(e.subdiv,6),r.prototype.init.call(this,e)},t.prototype.getSplineParams=function(t){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:1!==this.aspectRatio,smoothSheet:this.smoothSheet},t)},t.prototype.getSpline=function(t){return new qw(t,this.getSplineParams())},t.prototype.getAspectRatio=function(t){return t.isCg()?1:this.aspectRatio},t.prototype.getAtomRadius=function(t){return t.isTrace()?r.prototype.getAtomRadius.call(this,t):0},t.prototype.createData=function(t){var c=this,u=[],h=[];return this.structure.eachPolymer(function(t){if(!(t.residueCount<4)){h.push(t);var e=c.getSpline(t),i=c.getAspectRatio(t),r=e.getSubdividedPosition(),n=e.getSubdividedOrientation(),o=e.getSubdividedColor(c.getColorParams()),a=e.getSubdividedPicking(),s=e.getSubdividedSize(c.getRadiusParams());u.push(new Jw(Object.assign({},r,n,o,a,s),c.getBufferParams({radialSegments:c.radialSegments,aspectRatio:i,capped:c.capped})))}},t.getSelection()),{bufferList:u,polymerList:h}},t.prototype.updateData=function(t,e){de.Debug&&Yp.time(this.type+" repr update"),t=t||{};for(var i=0,r=e.polymerList.length;i<r;++i){var n={},o=e.polymerList[i],a=this.getSpline(o),s=this.getAspectRatio(o);if(Object.assign(e.bufferList[i],{aspectRatio:s}),t.position||t.radius){var c=a.getSubdividedPosition(),u=a.getSubdividedOrientation(),h=a.getSubdividedSize(this.getRadiusParams(s));n.position=c.position,n.normal=u.normal,n.binormal=u.binormal,n.tangent=u.tangent,n.size=h.size}if(t.color){var l=a.getSubdividedColor(this.getColorParams());n.color=l.color}if(t.picking){var p=a.getSubdividedPicking();n.picking=p.picking}e.bufferList[i].setAttributes(n)}de.Debug&&Yp.timeEnd(this.type+" repr update")},t.prototype.setParameters=function(t){var e={};return t&&t.aspectRatio&&(e.radius=!0),t&&t.tension&&(e.position=!0),r.prototype.setParameters.call(this,t,e,!1),this},t}(pw);ed.add("cartoon",Qw);var tS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="contact",this.parameters=Object.assign({hydrogenBond:{type:"boolean",rebuild:!0},weakHydrogenBond:{type:"boolean",rebuild:!0},waterHydrogenBond:{type:"boolean",rebuild:!0},backboneHydrogenBond:{type:"boolean",rebuild:!0},hydrophobic:{type:"boolean",rebuild:!0},halogenBond:{type:"boolean",rebuild:!0},ionicInteraction:{type:"boolean",rebuild:!0},metalCoordination:{type:"boolean",rebuild:!0},cationPi:{type:"boolean",rebuild:!0},piStacking:{type:"boolean",rebuild:!0},filterSele:{type:"text",rebuild:!0},labelVisible:{type:"boolean",rebuild:!0},labelFixedSize:{type:"boolean",buffer:"fixedSize"},labelSize:{type:"number",precision:3,max:10,min:.001,rebuild:!0},labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},maxHydrophobicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondSulfurDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondAccAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondDonAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondAccPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxHbondDonPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxPiStackingDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingAngle:{type:"integer",max:180,min:0,rebuild:!0},maxCationPiDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxCationPiOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxIonicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondAngle:{type:"integer",max:180,min:0,rebuild:!0},maxMetalDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},refineSaltBridges:{type:"boolean",rebuild:!0},masterModelIndex:{type:"integer",max:1e3,min:-1,rebuild:!0},lineOfSightDistFactor:{type:"number",precision:1,max:10,min:0,rebuild:!0},radialSegments:!0,disableImpostor:!0},this.parameters),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.radiusSize=bl(e.radiusSize,.05),e.useInteriorColor=bl(e.useInteriorColor,!0),this.hydrogenBond=bl(e.hydrogenBond,!0),this.weakHydrogenBond=bl(e.weakHydrogenBond,!1),this.waterHydrogenBond=bl(e.waterHydrogenBond,!1),this.backboneHydrogenBond=bl(e.backboneHydrogenBond,!1),this.hydrophobic=bl(e.hydrophobic,!1),this.halogenBond=bl(e.halogenBond,!0),this.ionicInteraction=bl(e.ionicInteraction,!0),this.metalCoordination=bl(e.metalCoordination,!0),this.cationPi=bl(e.cationPi,!0),this.piStacking=bl(e.piStacking,!0),this.filterSele=bl(e.filterSele,""),this.labelVisible=bl(e.labelVisible,!1),this.labelFixedSize=bl(e.labelFixedSize,!1),this.labelSize=bl(e.labelSize,2),this.labelUnit=bl(e.labelUnit,""),this.maxHydrophobicDist=bl(e.maxHydrophobicDist,4),this.maxHbondDist=bl(e.maxHbondDist,3.5),this.maxHbondSulfurDist=bl(e.maxHbondSulfurDist,4.1),this.maxHbondAccAngle=bl(e.maxHbondAccAngle,45),this.maxHbondDonAngle=bl(e.maxHbondDonAngle,45),this.maxHbondAccPlaneAngle=bl(e.maxHbondAccPlaneAngle,90),this.maxHbondDonPlaneAngle=bl(e.maxHbondDonPlaneAngle,30),this.maxPiStackingDist=bl(e.maxPiStackingDist,5.5),this.maxPiStackingOffset=bl(e.maxPiStackingOffset,2),this.maxPiStackingAngle=bl(e.maxPiStackingAngle,30),this.maxCationPiDist=bl(e.maxCationPiDist,6),this.maxCationPiOffset=bl(e.maxCationPiOffset,2),this.maxIonicDist=bl(e.maxIonicDist,5),this.maxHalogenBondDist=bl(e.maxHalogenBondDist,3.5),this.maxHalogenBondAngle=bl(e.maxHalogenBondAngle,30),this.maxMetalDist=bl(e.maxMetalDist,3),this.refineSaltBridges=bl(e.refineSaltBridges,!0),this.masterModelIndex=bl(e.masterModelIndex,-1),this.lineOfSightDistFactor=bl(e.lineOfSightDistFactor,1),r.prototype.init.call(this,e)},t.prototype.getAtomRadius=function(){return 0},t.prototype.getContactData=function(t){var e={maxHydrophobicDist:this.maxHydrophobicDist,maxHbondDist:this.maxHbondDist,maxHbondSulfurDist:this.maxHbondSulfurDist,maxHbondAccAngle:this.maxHbondAccAngle,maxHbondDonAngle:this.maxHbondDonAngle,maxHbondAccPlaneAngle:this.maxHbondAccPlaneAngle,maxHbondDonPlaneAngle:this.maxHbondDonPlaneAngle,maxPiStackingDist:this.maxPiStackingDist,maxPiStackingOffset:this.maxPiStackingOffset,maxPiStackingAngle:this.maxPiStackingAngle,maxCationPiDist:this.maxCationPiDist,maxCationPiOffset:this.maxCationPiOffset,maxIonicDist:this.maxIonicDist,maxHalogenBondDist:this.maxHalogenBondDist,maxHalogenBondAngle:this.maxHalogenBondAngle,maxMetalDist:this.maxMetalDist,refineSaltBridges:this.refineSaltBridges,masterModelIndex:this.masterModelIndex,lineOfSightDistFactor:this.lineOfSightDistFactor},i={hydrogenBond:this.hydrogenBond,weakHydrogenBond:this.weakHydrogenBond,waterHydrogenBond:this.waterHydrogenBond,backboneHydrogenBond:this.backboneHydrogenBond,hydrophobic:this.hydrophobic,halogenBond:this.halogenBond,ionicInteraction:this.ionicInteraction,metalCoordination:this.metalCoordination,cationPi:this.cationPi,piStacking:this.piStacking,radius:this.radiusSize*this.radiusScale,filterSele:this.filterSele};return nv(ev(t,e),t,i)},t.prototype.createData=function(t){var e=this.getContactData(t),i=[new Gw(Lm(e),this.getBufferParams({sphereDetail:1,dullInterior:!0,disableImpostor:this.disableImpostor}))];if(this.labelVisible){var r={size:this.labelSize,unit:this.labelUnit};i.push(new Aw(function(t,e){for(var i=Ud(t.position1,t.position2),r=[],n=jd(t.position1,t.position2),o=n.length/3,a=0;a<o;a++){var s=3*a,c=Math.sqrt(Math.pow(n[s],2)+Math.pow(n[s+1],2)+Math.pow(n[s+2],2));switch(e.unit){case"angstrom":r[a]=c.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":r[a]=(c/10).toFixed(2)+" nm";break;default:r[a]=c.toFixed(2)}}return{position:i,size:Gd(i.length/3,e.size),color:t.color,text:r}}(e,r),{fixedSize:this.labelFixedSize}))}return{bufferList:i}},t}(pw);ed.add("contact",tS);var eS=function(a){function t(t,e,i){a.call(this,t,e,i),this.type="dihedral",this.parameters=Object.assign({atomQuad:{type:"hidden",rebuild:!0},extendLine:{type:"boolean",rebuild:!0,default:!0},lineVisible:{type:"boolean",default:!0},planeVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(i)}return a&&(t.__proto__=a),((t.prototype=Object.create(a&&a.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.side=bl(e.side,"double"),e.opacity=bl(e.opacity,.5),this.atomQuad=bl(e.atomQuad,[]),this.extendLine=bl(e.extendLine,!0),this.lineVisible=bl(e.lineVisible,!0),this.planeVisible=bl(e.planeVisible,!0),this.sectorVisible=bl(e.sectorVisible,!0),a.prototype.init.call(this,e)},t.prototype.createData=function(t){if(t.atomCount&&this.atomQuad.length){var e=function(m,g){void 0===g&&(g={});for(var v=bl(g.angleStep,Math.PI/90),t=m.length,e=m.length/12,y=new Float32Array(e),b=new Float32Array(3*e),x=new Array(e),_=new Array(e),w=new Array(e),S=new Array(e),A=new Array(e),M=0,E=0,P=0,T=gm(),C=gm(),I=gm(),O=gm(),L=gm(),R=gm(),D=gm(),k=gm(),B=gm(),N=gm(),F=gm(),z=gm(),U=gm(),j=gm(),G=gm(),V=0,i=function(t){if(_m(T,m,t),_m(C,m,t+3),_m(I,m,t+6),_m(O,m,t+9),bm(L,T,C),bm(R,I,C),0!==Sm(R)){bm(D,O,I),Mm(k,R,.5),xm(B,C,k),Em(L,L),Em(R,R),Em(D,D),bm(k,T,B);var e=0<ym(k,R);bm(k,O,B);var i=ym(k,R)<0;if(Mm(k,R,ym(R,L)),bm(N,L,k),Mm(k,R,ym(R,D)),bm(F,D,k),0!==Sm(N)&&0!==Sm(F)){Em(N,N),Em(F,F);var r=y[V]=Math.acos(ym(N,F));x[V]=(Fd*r).toFixed(1)+String.fromCharCode(176),vm(j,N,R),Em(j,j),ym(j,F)<0&&Om(j,j),mw(k,B,N,j,r/2),wm(k,b,3*V);var n=Math.ceil(r/v),o=n+(g.extendLine?4:2),a=g.extendLine?36:0,s=new Float32Array(3*o),c=new Float32Array(3*o),u=new Float32Array(9*n),h=new Float32Array(a);_[V]=s,w[V]=c,S[V]=u,A[V]=h,g.extendLine&&(e?(bm(k,T,I),Em(k,k),Mm(z,k,1/ym(N,k)),xm(z,z,I)):(Mm(z,L,1/ym(N,L)),xm(z,z,C)),i?(bm(k,O,C),Em(k,k),Mm(U,k,1/ym(F,k)),xm(U,U,C)):(Mm(U,D,1/ym(F,D)),xm(U,U,I))),xm(G,B,N);var l=0;g.extendLine?(wm(T,s,l),wm(z,c,l),wm(z,s,l+=3),wm(G,c,l),l+=3,wm(z,h,0),wm(G,h,3),wm(e?I:C,h,6),wm(e?I:C,h,9),wm(G,h,12),wm(B,h,15)):(wm(B,s,l),wm(G,c,l),l+=3);for(var p=function(t,e){var i=9*e;wm(B,u,i),wm(G,u,i+3),wm(G,s,l),mw(G,B,N,j,t),wm(G,u,i+6),wm(G,c,l),l+=3},d=0,f=v;f<r;f+=v)p(f,d++);p(r,d++),g.extendLine?(wm(G,s,3*(o-2)),wm(U,c,3*(o-2)),wm(U,s,3*(o-1)),wm(O,c,3*(o-1)),wm(U,h,18),wm(G,h,21),wm(i?C:I,h,24),wm(i?C:I,h,27),wm(G,h,30),wm(B,h,33)):(wm(G,s,l),wm(B,c,l),l+=3),M+=3*o,E+=9*n,P+=a,V+=1}}},r=0;r<t;r+=12)i(r);for(var n=V,o=new Float32Array(M),a=new Float32Array(M),s=new Float32Array(E),c=new Float32Array(P),u=0,h=0,l=0,p=0;p<n;p++){var d=_[p],f=w[p],H=S[p],$=A[p];Xd(d,o,0,u,d.length),Xd(f,a,0,u,f.length),Xd(H,s,0,h,H.length),Xd($,c,0,l,$.length),u+=d.length,h+=H.length,l+=$.length}return{labelPosition:b.subarray(0,3*n),labelText:x.slice(0,n),linePosition1:o,linePosition2:a,planePosition:c,sectorPosition:s}}(fw(t,this.atomQuad),{extendLine:this.extendLine}),i=this.n=e.labelText.length,r=new ki(this.labelColor);this.textBuffer=new Aw({position:e.labelPosition,size:Gd(i,this.labelSize),color:Vd(i,r.r,r.g,r.b),text:e.labelText},this.getLabelBufferParams());var n=new ki(this.colorValue);this.lineLength=e.linePosition1.length/3;var o=Vd(this.lineLength,n.r,n.g,n.b);return this.lineBuffer=new Pw(Dm({position1:e.linePosition1,position2:e.linePosition2,color:o,color2:o}),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),this.planeLength=e.planePosition.length/3,this.planeBuffer=new my({position:e.planePosition,color:Vd(this.planeLength,n.r,n.g,n.b)},this.getBufferParams({visible:this.planeVisible})),this.sectorLength=e.sectorPosition.length/3,this.sectorBuffer=new my({position:e.sectorPosition,color:Vd(this.sectorLength,n.r,n.g,n.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.lineBuffer,this.planeBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(t,e){a.prototype.updateData.call(this,t,e);var i={},r={},n={};if(t.color){var o=new ki(this.colorValue);Object.assign(i,{color:Vd(this.lineLength,o.r,o.g,o.b),color2:Vd(this.lineLength,o.r,o.g,o.b)}),Object.assign(r,{color:Vd(this.planeLength,o.r,o.g,o.b)}),Object.assign(n,{color:Vd(this.sectorLength,o.r,o.g,o.b)})}this.lineBuffer.setAttributes(i),this.planeBuffer.setAttributes(r),this.sectorBuffer.setAttributes(n)},t.prototype.setParameters=function(t){return a.prototype.setParameters.call(this,t,{},!1),!t||void 0===t.lineVisible&&void 0===t.sectorVisible&&void 0===t.planeVisible||this.setVisibility(this.visible),t&&t.lineOpacity&&this.lineBuffer.setParameters({opacity:t.lineOpacity}),t&&void 0!==t.opacity&&this.lineBuffer.setParameters({opacity:this.lineOpacity}),t&&t.linewidth&&this.lineBuffer.setParameters({linewidth:t.linewidth}),this},t.prototype.setVisibility=function(t,e){return a.prototype.setVisibility.call(this,t,!0),this.lineBuffer&&this.lineBuffer.setVisibility(this.lineVisible&&this.visible),this.planeBuffer&&this.planeBuffer.setVisibility(this.planeVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),e||this.viewer.requestRender(),this},t}(dw);ed.add("dihedral",eS);var iS=function(o){function t(t,e,i){o.call(this,t,e,i),this.type="distance",this.parameters=Object.assign({radialSegments:!0,openEnded:!0,disableImpostor:!0,labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},useCylinder:{type:"boolean",rebuild:!0},atomPair:{type:"hidden",rebuild:!0}},this.parameters),this.init(i)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.linewidth=bl(e.linewidth,5),e.radiusType=bl(e.radiusType,"size"),e.radiusSize=bl(e.radiusSize,.2),this.labelUnit=bl(e.labelUnit,""),this.useCylinder=bl(e.useCylinder,!1),this.atomPair=bl(e.atomPair,[]),o.prototype.init.call(this,e)},t.prototype.getDistanceData=function(c,t){var u=this,e=t.length,h=new Array(e),l=new Float32Array(3*e),p=new Lp,d=new Lp,f=new Yy,m=c.getAtomProxy(),g=c.getAtomProxy(),v=0,y=c.getAtomSet();t.forEach(function(t,e){var i=t[0],r=t[1];if("number"==typeof i&&Number.isInteger(i)&&"number"==typeof r&&Number.isInteger(r)){if(!y.get(i)||!y.get(r))return void(v+=1);m.index=i,g.index=r}else{p.setString(i),d.setString(r);var n=c.getAtomIndices(p),o=c.getAtomIndices(d);if(!n.length||!o.length)return void(v+=1);m.index=n[0],g.index=o[0]}f.addBond(m,g,1),e-=v;var a=m.distanceTo(g);switch(u.labelUnit){case"angstrom":h[e]=a.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":h[e]=(a/10).toFixed(2)+" nm";break;default:h[e]=a.toFixed(2)}var s=3*e;l[s+0]=(m.x+g.x)/2,l[s+1]=(m.y+g.y)/2,l[s+2]=(m.z+g.z)/2}),0<v&&(e-=v,l=l.subarray(0,3*e));var i=new tg(f.count,!0);return{text:h,position:l,bondSet:i,bondStore:f}},t.prototype.getBondData=function(t,e,i){var r=t.getBondData(this.getBondParams(e,i));return r.picking&&(r.picking=new gv(r.picking.array,r.picking.structure,i.bondStore)),r},t.prototype.createData=function(t){if(t.atomCount&&this.atomPair.length){var e=this.atomPair.length,i=new ki(this.labelColor),r=this.getDistanceData(t,this.atomPair);this.textBuffer=new Aw({position:r.position,size:Gd(e,this.labelSize),color:Vd(e,i.r,i.g,i.b),text:r.text},this.getLabelBufferParams());var n={bondSet:r.bondSet,bondStore:r.bondStore},o=this.getBondData(t,{position:!0,color:!0,picking:!0,radius:this.useCylinder},n);return this.useCylinder?this.distanceBuffer=new Gw(o,this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})):this.distanceBuffer=new Pw(Rm(o),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),{bondSet:r.bondSet,bondStore:r.bondStore,position:r.position,bufferList:[this.textBuffer,this.distanceBuffer]}}},t.prototype.updateData=function(t,e){o.prototype.updateData.call(this,t,e);var i={bondSet:e.bondSet,bondStore:e.bondStore},r=this.getBondData(e.sview,t,i),n={};t&&!t.color||Object.assign(n,{color:r.color,color2:r.color2}),t&&!t.radius||Object.assign(n,{radius:r.radius}),this.distanceBuffer.setAttributes(n)},t.prototype.setParameters=function(t){return o.prototype.setParameters.call(this,t,{},!1),this.useCylinder||(t&&t.lineOpacity&&this.distanceBuffer.setParameters({opacity:t.lineOpacity}),t&&void 0!==t.opacity&&this.distanceBuffer.setParameters({opacity:this.lineOpacity}),t&&t.linewidth&&this.distanceBuffer.setParameters({linewidth:t.linewidth})),this},t}(dw);function rS(t){return 2*(t.position.length/3)*3}ed.add("distance",iS);var nS=Object.assign({scale:1,color:"grey"},ly),oS=function(n){function t(t,e){void 0===e&&(e={}),n.call(this,{position:new Float32Array(rS(t)),color:new Float32Array(rS(t))},e),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag";var i=new ki(this.parameters.color),r=this.geometry.attributes;Vd(rS(t)/3,i.r,i.g,i.b,r.color.array),this.setAttributes(t)}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return nS},t.prototype.setAttributes=function(t){void 0===t&&(t={});var e,i,r,n=this.geometry.attributes;t.position&&t.vector&&(e=t.position,i=t.vector,r=n.position.array,n.position.needsUpdate=!0);var o=this.size/2,a=this.parameters.scale;if(e&&i)for(var s=0;s<o;s++){var c=2*s*3,u=3*s;r[c+0]=e[u+0],r[c+1]=e[u+1],r[c+2]=e[u+2],r[c+3]=e[u+0]+i[u+0]*a,r[c+4]=e[u+1]+i[u+1]*a,r[c+5]=e[u+2]+i[u+2]*a}},Object.defineProperties(t.prototype,e),t}(dy),aS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="helixorient",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorScheme=bl(e.colorScheme,"sstruc"),e.radiusType=bl(e.radiusType,"size"),e.radiusSize=bl(e.radiusSize,.15),e.radiusScale=bl(e.radiusScale,1),e.useInteriorColor=bl(e.useInteriorColor,!0),r.prototype.init.call(this,e)},t.prototype.createData=function(t){var a=this,s=[],c=[];return this.structure.eachPolymer(function(t){if(!(t.residueCount<4)){c.push(t);var e=new tb(t),i=e.getPosition(),r=e.getColor(a.getColorParams()),n=e.getSize(a.getRadiusParams()),o=e.getPicking();s.push(new Px({position:i.center,color:r.color,radius:n.size,picking:o.picking},a.getBufferParams({sphereDetail:a.sphereDetail,disableImpostor:a.disableImpostor,dullInterior:!0})),new oS({position:i.center,vector:i.axis},a.getBufferParams({color:"skyblue",scale:1})),new oS({position:i.center,vector:i.resdir},a.getBufferParams({color:"lightgreen",scale:1})))}},t.getSelection()),{bufferList:s,polymerList:c}},t.prototype.updateData=function(t,e){de.Debug&&Yp.time(this.type+" repr update"),t=t||{};for(var i=0,r=e.polymerList.length;i<r;++i){var n=3*i,o={},a=e.polymerList[i],s=new tb(a);if(t.position){var c=s.getPosition();Object.assign(o,{position:c.center}),e.bufferList[n+1].setAttributes({position:c.center,vector:c.axis}),e.bufferList[n+2].setAttributes({position:c.center,vector:c.resdir})}e.bufferList[n].setAttributes(o)}de.Debug&&Yp.timeEnd(this.type+" repr update")},t}(pw);ed.add("helixorient",aS);var sS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="licorice",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.aspectRatio=1,r.prototype.init.call(this,e)},t}(Hw);ed.add("licorice",sS),rd.add("shader/HyperballStickImpostor.vert","\nattribute vec3 mapping;\nattribute float radius;\nattribute float radius2;\nattribute vec3 position1;\nattribute vec3 position2;\nvarying mat4 matrix_near;\nvarying vec4 prime1;\nvarying vec4 prime2;\nvarying float vRadius;\nvarying float vRadius2;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\nattribute vec3 color2;\nvarying vec3 vColor1;\nvarying vec3 vColor2;\n#endif\nuniform float shrink;\nuniform mat4 modelViewProjectionMatrix;\nuniform mat4 modelViewProjectionMatrixInverse;\nvoid main(){\nvRadius = radius;\nvRadius2 = radius2;\nvec4 spaceposition;\nvec3 position_atom1;\nvec3 position_atom2;\nvec4 vertex_position;\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\nvColor1 = color;\nvColor2 = color2;\n#endif\nfloat radius1 = radius;\nposition_atom1 = position1;\nposition_atom2 = position2;\nfloat distance = distance( position_atom1, position_atom2 );\nspaceposition.z = mapping.z * distance;\nif (radius1 > radius2) {\nspaceposition.y = mapping.y * 1.5 * radius1;\nspaceposition.x = mapping.x * 1.5 * radius1;\n} else {\nspaceposition.y = mapping.y * 1.5 * radius2;\nspaceposition.x = mapping.x * 1.5 * radius2;\n}\nspaceposition.w = 1.0;\nvec4 e3 = vec4( 1.0 );\nvec3 e1, e1_temp, e2, e2_temp;\ne3.xyz = normalize(position_atom1-position_atom2);\nif (e3.z == 0.0) { e3.z = 0.0000000000001;}\nif ( (position_atom1.x - position_atom2.x) == 0.0) { position_atom1.x += 0.001;}\nif ( (position_atom1.y - position_atom2.y) == 0.0) { position_atom1.y += 0.001;}\nif ( (position_atom1.z - position_atom2.z) == 0.0) { position_atom1.z += 0.001;}\nvec4 focus = vec4( 1.0 );\nfocus.x = ( position_atom1.x*position_atom1.x - position_atom2.x*position_atom2.x +\n( radius2*radius2 - radius1*radius1 )*e3.x*e3.x/shrink )/(2.0*(position_atom1.x - position_atom2.x));\nfocus.y = ( position_atom1.y*position_atom1.y - position_atom2.y*position_atom2.y +\n( radius2*radius2 - radius1*radius1 )*e3.y*e3.y/shrink )/(2.0*(position_atom1.y - position_atom2.y));\nfocus.z = ( position_atom1.z*position_atom1.z - position_atom2.z*position_atom2.z +\n( radius2*radius2 - radius1*radius1 )*e3.z*e3.z/shrink )/(2.0*(position_atom1.z - position_atom2.z));\ne1.x = 1.0;\ne1.y = 1.0;\ne1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;\ne1_temp = e1 - focus.xyz;\ne1 = normalize(e1_temp);\ne2_temp = e1.yzx * e3.zxy - e1.zxy * e3.yzx;\ne2 = normalize(e2_temp);\nmat3 R= mat3( e1.xyz, e2.xyz, e3.xyz );\nvertex_position.xyz = R * spaceposition.xyz;\nvertex_position.w = 1.0;\nvertex_position.x += (position_atom1.x+position_atom2.x) / 2.0;\nvertex_position.y += (position_atom1.y+position_atom2.y) / 2.0;\nvertex_position.z += (position_atom1.z+position_atom2.z) / 2.0;\ngl_Position = modelViewProjectionMatrix * vertex_position;\nvec4 i_near, i_far;\nvec4 near = gl_Position;\nnear.z = 0.0 ;\nnear = modelViewProjectionMatrixInverse * near;\ni_near = near;\nvec4 far = gl_Position;\nfar.z = far.w ;\ni_far = modelViewProjectionMatrixInverse * far;\nprime1 = vec4( position_atom1 - (position_atom1 - focus.xyz)*shrink, 1.0 );\nprime2 = vec4( position_atom2 - (position_atom2 - focus.xyz)*shrink, 1.0 );\nfloat Rsquare = (radius1*radius1/shrink) - (\n(position_atom1.x - focus.x)*(position_atom1.x - focus.x) +\n(position_atom1.y - focus.y)*(position_atom1.y - focus.y) +\n(position_atom1.z - focus.z)*(position_atom1.z - focus.z)\n);\nfocus.w = Rsquare;\nmatrix_near = mat4( i_near, i_far, focus, e3 );\ngl_Position.z = 1.0;\n}"),rd.add("shader/HyperballStickImpostor.frag","#define STANDARD\n#define IMPOSTOR\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 interiorColor;\nuniform float interiorDarkening;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float clipNear;\nuniform float shrink;\nuniform mat4 modelViewMatrix;\nuniform mat4 modelViewProjectionMatrix;\nuniform mat4 modelViewMatrixInverseTranspose;\nuniform mat4 projectionMatrix;\nvarying mat4 matrix_near;\nvarying vec4 prime1;\nvarying vec4 prime2;\nvarying float vRadius;\nvarying float vRadius2;\n#ifdef PICKING\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\nvarying vec3 vColor1;\nvarying vec3 vColor2;\n#include common\n#include fog_pars_fragment\n#include bsdfs\n#include lights_pars_begin\n#include lights_physical_pars_fragment\n#endif\nbool interior = false;\nfloat calcClip( vec4 cameraPos ){\nreturn dot( cameraPos, vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );\n}\nfloat calcClip( vec3 cameraPos ){\nreturn calcClip( vec4( cameraPos, 1.0 ) );\n}\nfloat calcDepth( in vec3 cameraPos ){\nvec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;\nreturn 0.5 + 0.5 * clipZW.x / clipZW.y;\n}\nstruct Ray {\nvec3 origin ;\nvec3 direction ;\n};\nbool cutoff_plane (vec3 M, vec3 cutoff, vec3 x3){\nfloat a = x3.x;\nfloat b = x3.y;\nfloat c = x3.z;\nfloat d = -x3.x*cutoff.x-x3.y*cutoff.y-x3.z*cutoff.z;\nfloat l = a*M.x+b*M.y+c*M.z+d;\nif (l<0.0) {return true;}\nelse{return false;}\n}\nvec3 isect_surf(Ray r, mat4 matrix_coef){\nvec4 direction = vec4(r.direction, 0.0);\nvec4 origin = vec4(r.origin, 1.0);\nfloat a = dot(direction,(matrix_coef*direction));\nfloat b = dot(origin,(matrix_coef*direction));\nfloat c = dot(origin,(matrix_coef*origin));\nfloat delta =b*b-a*c;\ngl_FragColor.a = 1.0;\nif (delta<0.0){\ndiscard;\n}\nfloat t1 =(-b-sqrt(delta))/a;\nreturn r.origin+t1*r.direction;\n}\nvec3 isect_surf2(Ray r, mat4 matrix_coef){\nvec4 direction = vec4(r.direction, 0.0);\nvec4 origin = vec4(r.origin, 1.0);\nfloat a = dot(direction,(matrix_coef*direction));\nfloat b = dot(origin,(matrix_coef*direction));\nfloat c = dot(origin,(matrix_coef*origin));\nfloat delta =b*b-a*c;\ngl_FragColor.a = 1.0;\nif (delta<0.0){\ndiscard;\n}\nfloat t2 =(-b+sqrt(delta))/a;\nreturn r.origin+t2*r.direction;\n}\nRay primary_ray(vec4 near1, vec4 far1){\nvec3 near=near1.xyz/near1.w;\nvec3 far=far1.xyz/far1.w;\nreturn Ray(near,far-near);\n}\nfloat update_z_buffer(vec3 M, mat4 ModelViewP){\nfloat depth1;\nvec4 Ms=(ModelViewP*vec4(M,1.0));\nreturn depth1=(1.0+Ms.z/Ms.w)/2.0;\n}\nvoid main(){\nfloat radius = max( vRadius, vRadius2 );\nvec4 i_near, i_far, focus;\nvec3 e3, e1, e1_temp, e2;\ni_near = vec4(matrix_near[0][0],matrix_near[0][1],matrix_near[0][2],matrix_near[0][3]);\ni_far = vec4(matrix_near[1][0],matrix_near[1][1],matrix_near[1][2],matrix_near[1][3]);\nfocus = vec4(matrix_near[2][0],matrix_near[2][1],matrix_near[2][2],matrix_near[2][3]);\ne3 = vec3(matrix_near[3][0],matrix_near[3][1],matrix_near[3][2]);\ne1.x = 1.0;\ne1.y = 1.0;\ne1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;\ne1_temp = e1 - focus.xyz;\ne1 = normalize(e1_temp);\ne2 = normalize(cross(e1,e3));\nvec4 equation = focus;\nfloat shrinkfactor = shrink;\nfloat t1 = -1.0/(1.0-shrinkfactor);\nfloat t2 = 1.0/(shrinkfactor);\nvec4 colonne1, colonne2, colonne3, colonne4;\nmat4 mat;\nvec3 equation1 = vec3(t2,t2,t1);\nfloat A1 = - e1.x*equation.x - e1.y*equation.y - e1.z*equation.z;\nfloat A2 = - e2.x*equation.x - e2.y*equation.y - e2.z*equation.z;\nfloat A3 = - e3.x*equation.x - e3.y*equation.y - e3.z*equation.z;\nfloat A11 = equation1.x*e1.x*e1.x + equation1.y*e2.x*e2.x + equation1.z*e3.x*e3.x;\nfloat A21 = equation1.x*e1.x*e1.y + equation1.y*e2.x*e2.y + equation1.z*e3.x*e3.y;\nfloat A31 = equation1.x*e1.x*e1.z + equation1.y*e2.x*e2.z + equation1.z*e3.x*e3.z;\nfloat A41 = equation1.x*e1.x*A1 + equation1.y*e2.x*A2 + equation1.z*e3.x*A3;\nfloat A22 = equation1.x*e1.y*e1.y + equation1.y*e2.y*e2.y + equation1.z*e3.y*e3.y;\nfloat A32 = equation1.x*e1.y*e1.z + equation1.y*e2.y*e2.z + equation1.z*e3.y*e3.z;\nfloat A42 = equation1.x*e1.y*A1 + equation1.y*e2.y*A2 + equation1.z*e3.y*A3;\nfloat A33 = equation1.x*e1.z*e1.z + equation1.y*e2.z*e2.z + equation1.z*e3.z*e3.z;\nfloat A43 = equation1.x*e1.z*A1 + equation1.y*e2.z*A2 + equation1.z*e3.z*A3;\nfloat A44 = equation1.x*A1*A1 + equation1.y*A2*A2 + equation1.z*A3*A3 - equation.w;\ncolonne1 = vec4(A11,A21,A31,A41);\ncolonne2 = vec4(A21,A22,A32,A42);\ncolonne3 = vec4(A31,A32,A33,A43);\ncolonne4 = vec4(A41,A42,A43,A44);\nmat = mat4(colonne1,colonne2,colonne3,colonne4);\nRay ray = primary_ray(i_near,i_far) ;\nvec3 M;\nM = isect_surf(ray, mat);\nif (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }\nvec4 M1 = vec4(M,1.0);\nvec4 M2 = mat*M1;\nvec3 _normal = ( modelViewMatrixInverseTranspose * M2 ).xyz;\ngl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;\n#ifdef NEAR_CLIP\nif( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 ){\nM = isect_surf2(ray, mat);\nif( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 )\ndiscard;\ninterior = true;\ngl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / radius ) );\n}\n}else if( gl_FragDepthEXT <= 0.0 ){\nM = isect_surf2(ray, mat);\ninterior = true;\ngl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix);\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );\n}\n}\n#else\nif( gl_FragDepthEXT <= 0.0 ){\nM = isect_surf2(ray, mat);\ninterior = true;\ngl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );\n}\n}\n#endif\nif (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }\nif (gl_FragDepthEXT < 0.0)\ndiscard;\nif (gl_FragDepthEXT > 1.0)\ndiscard;\nfloat distance_ratio = ((M.x-prime2.x)*e3.x + (M.y-prime2.y)*e3.y +(M.z-prime2.z)*e3.z) /\ndistance(prime2.xyz,prime1.xyz);\n#ifdef PICKING\nif( opacity < 0.3 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 vViewPosition = -( modelViewMatrix * vec4( M, 1.0 ) ).xyz;\nvec3 vNormal = _normal;\nvec3 vColor;\nif( distance_ratio>0.5 ){\nvColor = vColor1;\n}else{\nvColor = vColor2;\n}\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveLight = emissive;\n#include color_fragment\n#include roughnessmap_fragment\n#include metalnessmap_fragment\nvec3 normal = normalize( vNormal );\n#include lights_physical_fragment\n#include lights_fragment_begin\n#include lights_fragment_end\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;\nif( interior ){\n#ifdef USE_INTERIOR_COLOR\noutgoingLight.xyz = interiorColor;\n#else\n#ifdef DIFFUSE_INTERIOR\noutgoingLight.xyz = vColor;\n#endif\n#endif\noutgoingLight.xyz *= 1.0 - interiorDarkening;\n}\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var cS=new Float32Array([-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,-1,1,1,-1,1,1,1,-1,1,1]),uS=new Uint16Array([0,1,2,0,2,3,1,5,6,1,6,2,4,6,5,4,7,6,0,7,4,0,3,7,0,5,1,0,4,5,3,2,6,3,6,7]),hS=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,"v3",t,e)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return e.mapping.get=function(){return cS},e.mappingIndices.get=function(){return uS},e.mappingIndicesSize.get=function(){return 36},e.mappingSize.get=function(){return 8},e.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,e),t}(wx),lS=Object.assign({shrink:.14},ly),pS=Object.assign({shrink:{uniform:!0}},py),dS=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e),this.parameterTypes=pS,this.isImpostor=!0,this.vertexShader="HyperballStickImpostor.vert",this.fragmentShader="HyperballStickImpostor.frag",this.addUniforms({modelViewProjectionMatrix:{value:new ei},modelViewProjectionMatrixInverse:{value:new ei},modelViewMatrixInverseTranspose:{value:new ei},shrink:{value:this.parameters.shrink}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null},radius2:{type:"f",value:null}}),this.setAttributes(t),this.makeMapping()}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return lS},Object.defineProperties(t.prototype,e),t}(hS),fS=(Object.assign({disableImpostor:!1},Rw,lS),function(t,e){return void 0===e&&(e={}),!Xp||e&&e.disableImpostor?(t.radius=function(t,e){for(var i=t.length,r=new Float32Array(i),n=0;n<i;n++)r[n]=Math.min(t[n],e[n]);return r}(t.radius,t.radius2),new kw(t,e)):new dS(t,e)}),mS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="hyperball",this.parameters=Object.assign({shrink:{type:"number",precision:3,max:1,min:.001,buffer:!0}},this.parameters,{multipleBond:null,bondSpacing:null})}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.radiusScale=bl(e.radiusScale,.2),e.radiusType=bl(e.radiusType,"vdw"),e.useInteriorColor=bl(e.useInteriorColor,!0),this.shrink=bl(e.shrink,.12),r.prototype.init.call(this,e)},t.prototype.getBondParams=function(t,e){return t&&!t.radius||(e=Object.assign({radius2:!0},e)),r.prototype.getBondParams.call(this,t,e)},t.prototype.createData=function(t){var e=new Px(t.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));return this.__center=new Float32Array(3*t.bondCount),{bufferList:[e,new fS(t.getBondData(this.getBondParams()),this.getBufferParams({shrink:this.shrink,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))]}},t.prototype.updateData=function(t,e){var i=e.sview.getAtomData(this.getAtomParams()),r=e.sview.getBondData(this.getBondParams()),n={},o={};if(!t||t.position){Object.assign(n,{position:i.position});var a=r.position1,s=r.position2;Object.assign(o,{position:Ud(a,s,this.__center),position1:a,position2:s})}t&&!t.color||(Object.assign(n,{color:i.color}),Object.assign(o,{color:r.color,color2:r.color2})),t&&!t.radius||(Object.assign(n,{radius:i.radius}),Object.assign(o,{radius:r.radius,radius2:r.radius2})),e.bufferList[0].setAttributes(n),e.bufferList[1].setAttributes(o)},t}(sS);ed.add("hyperball",mS);var gS=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=""),this.type=t,this.text=e,this.format=i};gS.prototype.atomLabel=function(t){var e;switch(this.type){case"atomname":e=t.atomname;break;case"atomindex":e=""+t.index;break;case"occupancy":e=t.occupancy.toFixed(2);break;case"bfactor":e=t.bfactor.toFixed(2);break;case"serial":e=""+t.serial;break;case"element":e=t.element;break;case"atom":e=t.atomname+"|"+t.index;break;case"resname":e=t.resname;break;case"resno":e=""+t.resno;break;case"res":e=""+(_g[t.resname.toUpperCase()]||t.resname)+t.resno;break;case"residue":var i=_g[t.resname.toUpperCase()];e=i&&!t.inscode?""+i+t.resno:"["+t.resname+"]"+t.resno+t.inscode;break;case"text":e=this.text[t.index];break;case"format":e=yd(this.format,t);break;default:e=t.qualifiedName()}return void 0===e?"":e},gS.types={"":"",atomname:"atom name",atomindex:"atom index",occupancy:"occupancy",bfactor:"b-factor",serial:"serial",element:"element",atom:"atom name + index",resname:"residue name",resno:"residue no",res:"one letter code + no",residue:"[residue name] + no + inscode",text:"text",format:"format",qualified:"qualified name"};var vS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="label",this.parameters=Object.assign({labelType:{type:"select",options:gS.types,rebuild:!0},labelText:{type:"hidden",rebuild:!0},labelFormat:{type:"text",rebuild:!0},labelGrouping:{type:"select",options:{atom:"atom",residue:"residue"},rebuild:!0},fontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:!0},fontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:!0},fontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:!0},xOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},yOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},zOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},attachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},showBorder:{type:"boolean",buffer:!0},borderColor:{type:"color",buffer:!0},borderWidth:{type:"number",precision:2,max:.3,min:0,buffer:!0},showBackground:{type:"boolean",rebuild:!0},backgroundColor:{type:"color",buffer:!0},backgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},backgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:!0},fixedSize:{type:"boolean",buffer:!0}},this.parameters,{side:null,flatShaded:null,wireframe:null,linewidth:null,roughness:null,metalness:null,diffuse:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};this.labelType=bl(e.labelType,"res"),this.labelText=bl(e.labelText,{}),this.labelFormat=bl(e.labelFormat,""),this.labelGrouping=bl(e.labelGrouping,"atom"),this.fontFamily=bl(e.fontFamily,"sans-serif"),this.fontStyle=bl(e.fontStyle,"normal"),this.fontWeight=bl(e.fontWeight,"bold"),this.xOffset=bl(e.xOffset,0),this.yOffset=bl(e.yOffset,0),this.zOffset=bl(e.zOffset,.5),this.attachment=bl(e.attachment,"bottom-left"),this.showBorder=bl(e.showBorder,!1),this.borderColor=bl(e.borderColor,"lightgrey"),this.borderWidth=bl(e.borderWidth,.15),this.showBackground=bl(e.showBackground,!1),this.backgroundColor=bl(e.backgroundColor,"lightgrey"),this.backgroundMargin=bl(e.backgroundMargin,.5),this.backgroundOpacity=bl(e.backgroundOpacity,1),this.fixedSize=bl(e.fixedSize,!1),r.prototype.init.call(this,e)},t.prototype.getTextData=function(t,i){var e,r,n,o,a,s,c,u=this.getAtomParams(i),h=new gS(this.labelType,this.labelText,this.labelFormat);if("atom"===this.labelGrouping){var l=t.getAtomData(u);e=l.position,r=l.radius,n=l.color,i&&!i.text||(o=[],t.eachAtom(function(t){return o.push(h.atomLabel(t))}))}else if("residue"===this.labelGrouping){i&&!i.position||(a=[]),i&&!i.color||(c=[]),i&&!i.radius||(s=[]),i&&!i.text||(o=[]),u.colorParams&&(u.colorParams.structure=t.getStructure());var p=Qp.getScheme(u.colorParams),d=new Gy(u.radiusParams),f=t.getAtomProxy(),m=0;t.eachResidue(function(t){var e=3*m;t.isProtein()||t.isNucleic()?(f.index=t.traceAtomIndex,i&&!i.position||f.positionToArray(a,e)):(f.index=t.atomOffset,i&&!i.position||t.positionToArray(a,e)),i&&!i.color||p.atomColorToArray(f,c,e),i&&!i.radius||(s[m]=d.atomRadius(f)),i&&!i.text||o.push(h.atomLabel(f)),++m}),i&&!i.position||(e=new Float32Array(a)),i&&!i.color||(n=new Float32Array(c)),i&&!i.radius||(r=new Float32Array(s))}return{position:e,size:r,color:n,text:o}},t.prototype.createData=function(t){return{bufferList:[new Aw(this.getTextData(t,{position:!0,color:!0,radius:!0,text:!0}),this.getBufferParams({fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight,xOffset:this.xOffset,yOffset:this.yOffset,zOffset:this.zOffset,attachment:this.attachment,showBorder:this.showBorder,borderColor:this.borderColor,borderWidth:this.borderWidth,showBackground:this.showBackground,backgroundColor:this.backgroundColor,backgroundMargin:this.backgroundMargin,backgroundOpacity:this.backgroundOpacity,fixedSize:this.fixedSize}))]}},t.prototype.updateData=function(t,e){e.bufferList[0].setAttributes(this.getTextData(e.sview,t))},t.prototype.getAtomRadius=function(){return 0},t}(pw);ed.add("label",vS);var yS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="line",this.parameters=Object.assign({multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0},lines:{type:"boolean",rebuild:!0},crosses:{type:"select",rebuild:!0,options:{off:"off",lone:"lone",all:"all"}},crossSize:{type:"number",precision:2,max:2,min:.1}},this.parameters,{flatShaded:null,side:null,wireframe:null,roughness:null,metalness:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};this.multipleBond=bl(e.multipleBond,"off"),this.bondSpacing=bl(e.bondSpacing,1),this.linewidth=bl(e.linewidth,2),this.lines=bl(e.lines,!0),this.crosses=bl(e.crosses,"lone"),this.crossSize=bl(e.crossSize,.4),r.prototype.init.call(this,e)},t.prototype.getAtomRadius=function(t){return.1},t.prototype.getBondParams=function(t,e){return e=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,radiusParams:{type:"size",size:.1,scale:1}},e),r.prototype.getBondParams.call(this,t,e)},t.prototype._crossData=function(t,e){if(!t||t.position||t.color){var i,r,n,o,a={};"lone"===this.crosses&&Object.assign(a,{atomSet:(i=e,r=i.getAtomSet(),n=i.getBondSet(),o=i.getBondProxy(),n.forEach(function(t){o.index=t,r.clear(o.atomIndex1),r.clear(o.atomIndex2)}),r)});var s,c=e.getAtomData(this.getAtomParams(t,a)),u={},h=c.position,l=c.color,p=c.picking,d=(h||l).length,f=3*d,m=new Float32Array(0),g=new Float32Array(0),v=new Float32Array(0),y=new Float32Array(0),b=new Float32Array(0);t&&!t.position||(m=u.position1=new Float32Array(f),g=u.position2=new Float32Array(f),s=this.crossSize/2),t&&!t.color||(v=u.color=new Float32Array(f),y=u.color2=new Float32Array(f)),t&&!t.picking||(b=new Float32Array(3*c.picking.array.length));for(var x=0;x<d;x++){var _=3*x,w=3*_;if(!t||t.position){var S=h[_],A=h[_+1],M=h[_+2];m[w]=S-s,m[w+1]=A,m[w+2]=M,g[w]=S+s,g[w+1]=A,g[w+2]=M,m[w+3]=S,m[w+4]=A-s,m[w+5]=M,g[w+3]=S,g[w+4]=A+s,g[w+5]=M,m[w+6]=S,m[w+7]=A,m[w+8]=M-s,g[w+6]=S,g[w+7]=A,g[w+8]=M+s}if(!t||t.color)for(var E=w+9,P=w;P<E;P+=3)v[P]=y[P]=l[_],v[P+1]=y[P+1]=l[_+1],v[P+2]=y[P+2]=l[_+2];t&&!t.picking||(b[_]=b[_+1]=b[_+2]=p.array[x])}return t&&!t.picking||(u.picking=new hv(b,p.structure)),u}},t.prototype.createData=function(t){var e={position:!0,color:!0,picking:!0},i=[];if(this.lines){var r=t.getBondData(this.getBondParams(e)),n=new Pw(r,this.getBufferParams({linewidth:this.linewidth}));i.push(n)}if("off"!==this.crosses){var o=new Pw(this._crossData(e,t),this.getBufferParams({linewidth:this.linewidth}));i.push(o)}return{bufferList:i}},t.prototype.updateData=function(t,e){var i=0;if(this.lines){var r=e.sview.getBondData(this.getBondParams(t)),n={};t&&!t.position||Object.assign(n,{position1:r.position1,position2:r.position2}),t&&!t.color||Object.assign(n,{color:r.color,color2:r.color2}),e.bufferList[i++].setAttributes(n)}if("off"!==this.crosses){var o=this._crossData(t,e.sview),a={};t&&!t.position||Object.assign(a,{position1:o.position1,position2:o.position2}),t&&!t.color||Object.assign(a,{color:o.color,color2:o.color2}),e.bufferList[i++].setAttributes(a)}},t.prototype.setParameters=function(t){var e={};return t&&(t.bondSpacing||t.crossSize)&&Object.assign(e,{position:!0}),r.prototype.setParameters.call(this,t,e,!1),this},t}(pw);function bS(t,r,n,e,s){var c=new(e=e||Int32Array)(t*r*n*(s=s||1));function u(t,e,i){return((t*r+e)*n+i)*s}return{data:c,index:u,set:function(t,e,i){for(var r=[],n=arguments.length-3;0<n--;)r[n]=arguments[n+3];for(var o=u(t,e,i),a=0;a<s;++a)c[o+a]=r[a]},toArray:function(t,e,i,r,n){void 0===r&&(r=[]),void 0===n&&(n=0);for(var o=u(t,e,i),a=0;a<s;++a)r[n+a]=c[o+a]},fromArray:function(t,e,i,r,n){void 0===n&&(n=0);for(var o=u(t,e,i),a=0;a<s;++a)c[o+a]=r[n+a]},copy:function(t){c.set(t.data)}}}function xS(C,I,c){var p=ey(I),t=pm(C);0===C.length&&(t[0].set([0,0,0]),t[1].set([0,0,0]));var d,O,g,L,R,D,u,k,B,N,v,F,z,w,U,h=t[0],l=t[1];var j=1,P=2,S=4,A=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];function f(t){var e,i,r,n,o,a,s,c,u,h;for(var l in p)if(e=parseFloat(l),!B[l]){for(a=(s=t?(e+d)*O+.5:e*O+.5)*s,c=Math.floor(s)+1,u=new Int32Array(c*c),i=h=0;i<c;++i)for(r=0;r<c;++r)a<(n=i*i+r*r)?u[h]=-1:(o=Math.sqrt(a-n),u[h]=Math.floor(o)),++h;N[l]=c,B[l]=u}}function m(t){var e,i,r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b=3*t,x=t;e=Math.floor(.5+O*(C[b]+k[0])),i=Math.floor(.5+O*(C[b+1]+k[1])),r=Math.floor(.5+O*(C[b+2]+k[2]));var _,w=I[x],S=B[w],A=0,M=R*D,E=N[w];for(h=0;h<E;++h)for(l=0;l<E;++l){if(-1!==(_=S[A]))for(g=-1;g<2;++g)for(v=-1;v<2;++v)for(y=-1;y<2;++y)if(0!==g&&0!==v&&0!==y)for(s=g*h,u=y*l,p=0;p<=_;++p)if(f=i+(c=p*v),m=r+u,!((d=e+s)<0||f<0||m<0||L<=d||R<=f||D<=m)){var P=d*M+f*D+m;if(F)if(z[P]&j){if(z[P]&j){var T=U[P];T!==b&&s*s+c*c+u*u<(n=e+s-Math.floor(.5+O*(C[T]+k[0])))*n+(o=i+c-Math.floor(.5+O*(C[T+1]+k[1])))*o+(a=r+u-Math.floor(.5+O*(C[T+2]+k[2])))*a&&(U[P]=t)}}else z[P]|=j,U[P]=t;else z[P]|=j}A++}}function y(t){var e,i,r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b,x=3*t,_=t,w=0;e=Math.floor(.5+O*(C[x]+k[0])),i=Math.floor(.5+O*(C[x+1]+k[1])),r=Math.floor(.5+O*(C[x+2]+k[2]));var S=I[_],A=R*D;for(d=0,b=N[S];d<b;++d)for(f=0;f<b;++f){if(-1!==B[S][w])for(g=-1;g<2;++g)for(v=-1;v<2;++v)for(y=-1;y<2;++y)if(0!==g&&0!==v&&0!==y)for(s=g*d,u=y*f,m=0;m<=B[S][w];++m)if(l=i+(c=m*v),p=r+u,!((h=e+s)<0||l<0||p<0||L<=h||R<=l||D<=p)){var M=h*A+l*D+p;if(z[M]&P){if(F){var E=U[M];s*s+c*c+u*u<(n=Math.floor(.5+O*(C[E]+k[0])))*n+(o=Math.floor(.5+O*(C[E+1]+k[1])))*o+(a=Math.floor(.5+O*(C[E+2]+k[2])))*a&&(U[M]=t)}}else z[M]|=P,F&&(U[M]=t)}w++}}function b(t,e,i,r){var n,o,a,s,c,u,h,l,p,d,f,m,g=new Uint16Array(3),v=0;if(0===i)return v;var y=-1,b=-1,x=-1,_=R*D;for(h=0,p=i;h<p;h+=3)for(n=t[h],o=t[h+1],a=t[h+2],e.toArray(n,o,a,g),l=0;l<6;++l)y=n+(m=A[l])[0],b=o+m[1],x=a+m[2],y<L&&-1<y&&b<R&&-1<b&&x<D&&-1<x&&(z[f=y*_+D*b+x]&j&&!(z[f]&P)?(e.fromArray(y,b,x,g),d=(s=y-g[0])*s+(c=b-g[1])*c+(u=x-g[2])*u,w[f]=d,z[f]|=P,z[f]|=S,r[v]=y,r[v+1]=b,r[v+2]=x,v+=3):z[f]&j&&z[f]&P&&(d=(s=y-g[0])*s+(c=b-g[1])*c+(u=x-g[2])*u)<w[f]&&(e.fromArray(y,b,x,g),w[f]=d,z[f]&S||(z[f]|=S,r[v]=y,r[v+1]=b,r[v+2]=x,v+=3)));for(h=0,p=i;h<p;h+=3)for(n=t[h],o=t[h+1],a=t[h+2],e.toArray(n,o,a,g),l=6;l<18;l++)y=n+(m=A[l])[0],b=o+m[1],x=a+m[2],y<L&&-1<y&&b<R&&-1<b&&x<D&&-1<x&&(z[f=y*_+D*b+x]&j&&!(z[f]&P)?(e.fromArray(y,b,x,g),d=(s=y-g[0])*s+(c=b-g[1])*c+(u=x-g[2])*u,w[f]=d,z[f]|=P,z[f]|=S,r[v]=y,r[v+1]=b,r[v+2]=x,v+=3):z[f]&j&&z[f]&P&&(d=(s=y-g[0])*s+(c=b-g[1])*c+(u=x-g[2])*u)<w[f]&&(e.fromArray(y,b,x,g),w[f]=d,z[f]&S||(z[f]|=S,r[v]=y,r[v+1]=b,r[v+2]=x,v+=3)));for(h=0,p=i;h<p;h+=3)for(n=t[h],o=t[h+1],a=t[h+2],e.toArray(n,o,a,g),l=18;l<26;l++)y=n+(m=A[l])[0],b=o+m[1],x=a+m[2],y<L&&-1<y&&b<R&&-1<b&&x<D&&-1<x&&(z[f=y*_+D*b+x]&j&&!(z[f]&P)?(e.fromArray(y,b,x,g),d=(s=y-g[0])*s+(c=b-g[1])*c+(u=x-g[2])*u,w[f]=d,z[f]|=P,z[f]|=S,r[v]=y,r[v+1]=b,r[v+2]=x,v+=3):z[f]&j&&z[f]&P&&(d=(s=y-g[0])*s+(c=b-g[1])*c+(u=x-g[2])*u)<w[f]&&(e.fromArray(y,b,x,g),w[f]=d,z[f]&S||(z[f]|=S,r[v]=y,r[v+1]=b,r[v+2]=x,v+=3)));return v}this.getVolume=function(t,e,i,r,n){console.time("EDTSurface.getVolume");var o="vws"!==t;!function(t,e,i,r,n){d=e||1.4,O=i||2,F=n||!0;var o=0;for(var a in p)o=Math.max(o,a);var s=iy(h,l,o,O,t?d:0);L=s.dim[0],R=s.dim[1],D=s.dim[2],u=s.matrix,k=s.tran,O=s.scaleFactor,B={},N={},f(t),v=d*O,g=r||d/O,z=new Uint8Array(L*R*D),t&&(w=new Float64Array(L*R*D)),F&&(U=new Int32Array(L*R*D))}(o,e,i,r,n),function(t){var e,i;for(console.time("EDTSurface fillvoxels"),e=0,i=z.length;e<i;++e)z[e]=0,t&&(w[e]=-1),F&&(U[e]=-1);for(e=0,i=C.length/3;e<i;++e)m(e);for(e=0,i=z.length;e<i;++e)z[e]&j&&(z[e]|=P);console.timeEnd("EDTSurface fillvoxels")}(o),function(){var t,e,i,r=R*D;for(t=0;t<L;++t)for(e=0;e<D;++e)for(i=0;i<R;++i){var n=t*r+i*D+e;if(z[n]&j)for(var o=0;o<26;){var a=t+A[o][0],s=e+A[o][2],c=i+A[o][1];if(-1<a&&a<L&&-1<c&&c<R&&-1<s&&s<D&&!(z[a*r+c*D+s]&j)){z[n]|=S;break}o++}}}(),"ms"!==t&&"ses"!==t||function(){var t,e,i,r;console.time("EDTSurface fastdistancemap");var n,o=bS(L,R,D,Uint16Array,3),a=R*D,s=v*v,c=0;for(t=0;t<L;++t)for(e=0;e<R;++e)for(i=0;i<D;++i)z[n=t*a+e*D+i]&=~P,z[n]&j&&z[n]&S&&(o.set(t,e,i,t,e,i),w[n]=0,z[n]|=P,c+=1);var u=new Int32Array(3*c),h=0,l=new Int32Array(3*c),p=0;for(t=0;t<L;++t)for(e=0;e<R;++e)for(i=0;i<D;++i)z[n=t*a+e*D+i]&S&&(u[h]=t,u[h+1]=e,u[h+2]=i,h+=3,z[n]&=~S);do{for(p=b(u,o,h,l),t=h=0,r=p;t<r;t+=3)n=a*l[t]+D*l[t+1]+l[t+2],z[n]&=~S,w[n]<=1.0404*s&&(u[h]=l[t],u[h+1]=l[t+1],u[h+2]=l[t+2],h+=3)}while(0<h);var d,f=g*g,m=new Uint16Array(3);for(t=0;t<L;++t)for(e=0;e<R;++e)for(i=0;i<D;++i)z[n=t*a+e*D+i]&=~S,z[n]&j&&(z[n]&P&&!(z[n]&P&&w[n]>=f)||(z[n]|=S,F&&z[n]&P&&(o.toArray(t,e,i,m),d=m[0]*a+m[1]*D+m[2],U[n]=U[d])));console.timeEnd("EDTSurface fastdistancemap")}(),"ses"===t&&(f(!1),function(){var t,e;for(t=0,e=z.length;t<e;++t)z[t]&=~P;for(t=0,e=C.length/3;t<e;++t)y(t)}()),function(t){var e,i=z.length;if("vws"===t)for(e=0;e<i;++e)z[e]&=~S,z[e]=z[e]&P?1:0;else if("ms"===t)for(e=0;e<i;++e)z[e]&=~P,z[e]&S&&(z[e]|=P),z[e]&=~S,z[e]=z[e]&P?1:0;else if("ses"===t)for(e=0;e<i;++e)z[e]&S&&z[e]&P?z[e]&=~S:z[e]&S&&!(z[e]&P)&&(z[e]|=P),z[e]=z[e]&P?1:0;else if("sas"===t)for(e=0;e<i;++e)z[e]&=~S,z[e]=z[e]&P?1:0}(t);for(var a=0,s=U.length;a<s;++a)U[a]=c[U[a]];return console.timeEnd("EDTSurface.getVolume"),{data:z,nx:D,ny:R,nz:L,atomindex:U}},this.getSurface=function(t,e,i,r,n,o,a){var s=this.getVolume(t,e,i,r,n);return new oy(s.data,s.nx,s.ny,s.nz,s.atomindex).getSurface(1,o,void 0,u,a)}}function _S(C,I,O,L,t,e,i){var r=C.length,R=t[0],D=t[1],k=t[2],n=e[0],o=e[1],a=e[2];function B(t,e){return Math.floor((t-e)/i)}for(var s,c,u,N=B(n,R)+1,F=B(o,D)+1,z=B(a,k)+1,h=N*F*z,U=F*z,l=[],p=0;p<r;p++){var d=(s=C[p],c=I[p],u=O[p],(B(s,R)*F+B(c,D))*z+B(u,k));void 0===l[d]?l[d]=[p]:l[d].push(p)}var j=new Uint32Array(h),G=new Uint16Array(h),V=new Uint32Array(r),f=0,m=0;for(p=0;p<h;p++){var g=j[p]=f,v=l[p];if(void 0!==v)for(var y=0;y<v.length;y++)V[f]=v[y],f++;var b=f-g;m<(G[p]=b)&&(m=b)}return{neighbourListLength:27*m+1,withinRadii:function(t,e,i,r,n){for(var o=0,a=B(t,R),s=B(e,D),c=B(i,k),u=Math.max(0,a-1),h=Math.max(0,s-1),l=Math.max(0,c-1),p=Math.min(N,a+2),d=Math.min(F,s+2),f=Math.min(z,c+2),m=u;m<p;++m)for(var g=m*U,v=h;v<d;++v)for(var y=v*z,b=l;b<f;++b)for(var x=g+y+b,_=j[x],w=_+G[x],S=_;S<w;S++){var A=V[S],M=C[A]-t,E=I[A]-e,P=O[A]-i,T=L[A]+r;M*M+E*E+P*P<=T*T&&(n[o++]=V[S])}n[o]=-1}}}function wS(u,c,r){for(var R=c.length,F=new Float32Array(R),z=new Float32Array(R),U=new Float32Array(R),t=0;t<R;t++){var e=3*t;F[t]=u[e],z[t]=u[e+1],U[t]=u[e+2]}var i=pm(u);0===u.length&&(i[0].set([0,0,0]),i[1].set([0,0,0]));var j,D,h,l,G,V,H,$,p,W,X,q,Y,Z,K,J,k,B,Q,tt=i[0],d=i[1],et=-1,it=new Float32Array([0,0,0]),rt=new Float32Array([0,0,0]),nt=new Float32Array([0,0,0]),ot=new Float32Array([0,0,0]);function n(t,e,i,r){l=bl(t,1.4),G=bl(e,2),V=bl(i,!0),H=bl(r,30),j=new Float32Array(R),D=new Float32Array(R);for(var n=0;n<j.length;++n){var o=c[n]+l;j[n]=o,D[n]=o*o}for(var a=h=0;a<j.length;++a)j[a]>h&&(h=j[a]);var s;s=iy(tt,d,h,G,0),G=s.scaleFactor,$=s.dim,p=s.matrix,Q=Math.max(5,2+Math.floor(l*G)),W=Gd($[0]*$[1]*$[2],-1001),X=new Int32Array(W.length),q=new Float32Array($[0]),Y=new Float32Array($[1]),Z=new Float32Array($[2]),f(q,tt[0],1/G),f(Y,tt[1],1/G),f(Z,tt[2],1/G),function(){var t=0,e=2*Math.PI/H;J=new Float32Array(H),K=new Float32Array(H);for(var i=0;i<H;i++)J[i]=Math.cos(t),K[i]=Math.sin(t),t+=e}(),k=_S(F,z,U,j,tt,d,2.01*h),B=new Int32Array(k.neighbourListLength),et=-1}function f(t,e,i){for(var r=0;r<t.length;r++)t[r]=e+i*r}function at(t,e,i,r,n){var o;if(-1!==et){if((o=et)!==r&&o!==n&&s(o,t,e,i))return o;et=-1}var a=0;for(o=B[a];0<=o;){if(o!==r&&o!==n&&s(o,t,e,i))return et=o;o=B[++a]}return et=-1}function s(t,e,i,r){var n=3*t,o=D[t],a=u[n]-e,s=u[n+1]-i,c=u[n+2]-r;return a*a+s*s+c*c<o}function o(t,e){var i,r,n=j[t],o=j[e],a=it[0]=F[e]-F[t],s=it[1]=z[e]-z[t],c=it[2]=U[e]-U[t],u=a*a+s*s+c*c,h=Math.sqrt(u),l=n*((n*n+h*h-o*o)/(2*n*h));Em(it,it),r=it,(i=nt)[0]=i[1]=i[2]=1,0!==r[0]?i[0]=(r[1]+r[2])/-r[0]:0!==r[1]?i[1]=(r[0]+r[2])/-r[1]:0!==r[2]&&(i[2]=(r[0]+r[1])/-r[2]),Em(nt,nt),vm(ot,it,nt),Em(ot,ot);var p=Math.sqrt(n*n-l*l);Mm(nt,nt,p),Mm(ot,ot,p),Mm(it,it,l),rt[0]=it[0]+F[t],rt[1]=it[1]+z[t],rt[2]=it[2]+U[t],et=-1;for(var d=Q,f=0;f<H;f++){var m=J[f],g=K[f],v=rt[0]+m*nt[0]+g*ot[0],y=rt[1]+m*nt[1]+g*ot[1],b=rt[2]+m*nt[2]+g*ot[2];if(-1===at(v,y,b,t,e))for(var x=Math.floor(G*(v-tt[0])),_=Math.floor(G*(y-tt[1])),w=Math.floor(G*(b-tt[2])),S=Math.max(0,x-d),A=Math.max(0,_-d),M=Math.max(0,w-d),E=Math.min($[0],x+d+2),P=Math.min($[1],_+d+2),T=Math.min($[2],w+d+2),C=S;C<E;C++){a=v-q[C];for(var I=$[1]*$[2]*C,O=A;O<P;O++)for(var L=a*a+(s=y-Y[O])*s,R=I+$[2]*O,D=M;D<T;D++){u=L+(c=b-Z[D])*c;var k=D+R,B=W[k];if(0<B&&u<B*B&&(W[k]=Math.sqrt(u),V)){var N=a*it[0]+s*it[1]+c*it[2];X[k]=N<0?e:t}}}}}function m(t,e,i){console.time("AVSurface.getVolume"),console.time("AVSurface.init"),n(t,e,i),console.timeEnd("AVSurface.init"),console.time("AVSurface.projectPoints"),function(){for(var t=0;t<R;t++){var e=F[t],i=z[t],r=U[t],n=j[t],o=D[t];k.withinRadii(e,i,r,n,B);for(var a=Math.ceil(n*G),s=Math.floor(G*(e-tt[0])),c=Math.floor(G*(i-tt[1])),u=Math.floor(G*(r-tt[2])),h=Math.max(0,s-a),l=Math.max(0,c-a),p=Math.max(0,u-a),d=Math.min($[0],s+a+2),f=Math.min($[1],c+a+2),m=Math.min($[2],u+a+2),g=h;g<d;g++)for(var v=q[g]-e,y=$[1]*$[2]*g,b=l;b<f;b++)for(var x=Y[b]-i,_=v*v+x*x,w=y+$[2]*b,S=p;S<m;S++){var A=Z[S]-r,M=_+A*A;if(M<o){var E=S+w;W[E]<0&&(W[E]=-W[E]);var P=Math.sqrt(M),T=n/P,C=v*T,I=x*T,O=A*T;if(-1===at(C+=e,I+=i,O+=r,t,-1)){var L=n-P;L<W[E]&&(W[E]=L,V&&(X[E]=t))}}}}}(),console.timeEnd("AVSurface.projectPoints"),console.time("AVSurface.projectTorii"),function(){for(var t=0;t<R;t++){k.withinRadii(F[t],z[t],U[t],j[t],B);for(var e=0,i=B[e];0<=i;)t<i&&o(t,i),i=B[++e]}}(),console.timeEnd("AVSurface.projectTorii"),function(){for(var t=0;t<W.length;t++)W[t]<0&&(W[t]=0)}(),function(){for(var t=0;t<X.length;t++)X[t]=r[X[t]]}(),console.timeEnd("AVSurface.getVolume")}this.getSurface=function(t,e,i,r,n,o,a){return m(e,i,n),new oy(W,$[2],$[1],$[0],X).getSurface(e,!1,void 0,p,a)}}ed.add("line",yS),Object.assign(xS,{__deps:[iy,ey,oy,pm,bS]}),Object.assign(wS,{__deps:[iy,oy,Gd,pm,Mm,vm,Em,_S,bl]}),Jp.add("molsurf",function(t,e){var i=t.data.args,r=t.data.params;if(i&&r){var n=new("av"===r.type?wS:xS)(i.coordList,i.radiusList,i.indexList).getSurface(r.type,r.probeRadius,r.scaleFactor,r.cutoff,!0,r.smooth,r.contour),o=[n.position.buffer,n.index.buffer];n.normal&&o.push(n.normal.buffer),n.atomindex&&o.push(n.atomindex.buffer),e({sd:n,p:r},o)}},[xS,wS]);var SS=function(t){this.structure=t};SS.prototype._getAtomData=function(t){return this.structure.getAtomData({what:{position:!0,radius:!0,index:!0},radiusParams:bl(t.radiusParams,{type:"vdw",scale:1})})},SS.prototype._makeSurface=function(t,e){var i=new ry(e.name,"",t);return i.info.type=e.type,i.info.probeRadius=e.probeRadius,i.info.scaleFactor=e.scaleFactor,i.info.smooth=e.smooth,i.info.cutoff=e.cutoff,i},SS.prototype.getSurface=function(t){var e=t||{},i=this._getAtomData(t),r=i.position,n=i.radius,o=i.index,a=new("av"===e.type?wS:xS)(r,n,o).getSurface(e.type,e.probeRadius,e.scaleFactor,e.cutoff,!0,e.smooth,e.contour);return this._makeSurface(a,e)},SS.prototype.getSurfaceWorker=function(t,i){var r=this,n=Object.assign({},t);if(window.hasOwnProperty("Worker")){void 0===this.worker&&(this.worker=new cm("molsurf"));var e=this._getAtomData(t),o=e.position,a=e.radius,s=e.index,c={args:{coordList:o,radiusList:a,indexList:s},params:n},u=[o.buffer,a.buffer,s.buffer];this.worker.post(c,u,function(t){i(r._makeSurface(t.data.sd,n))},function(t){console.warn("MolecularSurface.getSurfaceWorker error - trying without worker",t),r.worker.terminate(),r.worker=void 0;var e=r.getSurface(n);i(e)})}else{var h=this.getSurface(n);i(h)}},SS.prototype.dispose=function(){this.worker&&this.worker.terminate()};var AS=function(n){function t(t,e,i){var r=this;n.call(this,t,e,i),this.type="surface",this.parameters=Object.assign({surfaceType:{type:"select",rebuild:!0,options:{vws:"vws",sas:"sas",ms:"ms",ses:"ses",av:"av"}},probeRadius:{type:"number",precision:1,max:20,min:0,rebuild:!0},smooth:{type:"integer",precision:1,max:10,min:0,rebuild:!0},scaleFactor:{type:"number",precision:1,max:5,min:0,rebuild:!0},cutoff:{type:"number",precision:2,max:50,min:0,rebuild:!0},contour:{type:"boolean",rebuild:!0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},filterSele:{type:"text",rebuild:!0},colorVolume:{type:"hidden"},useWorker:{type:"boolean",rebuild:!0}},this.parameters,{radius:null,scale:null}),this.__infoList=[],this.structure.signals.refreshed.add(function(){r.__forceNewMolsurf=!0}),this.toBePrepared=!0,this.init(i)}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorScheme=bl(e.colorScheme,"uniform"),e.colorValue=bl(e.colorValue,14540253),e.disablePicking=bl(e.disablePicking,!0),this.surfaceType=bl(e.surfaceType,"ms"),this.probeRadius=bl(e.probeRadius,1.4),this.smooth=bl(e.smooth,2),this.scaleFactor=bl(e.scaleFactor,2),this.cutoff=bl(e.cutoff,0),this.contour=bl(e.contour,!1),this.background=bl(e.background,!1),this.opaqueBack=bl(e.opaqueBack,!0),this.filterSele=bl(e.filterSele,""),this.colorVolume=bl(e.colorVolume,void 0),this.useWorker=bl(e.useWorker,!0),n.prototype.init.call(this,t)},t.prototype.prepareData=function(t,e,i){var r=this.__infoList[e];if(r||(r={},this.__infoList[e]=r),r.molsurf&&r.sele===t.selection.string)i(e);else{if(this.filterSele){var n=t.structure.getView(new Lp(this.filterSele)),o=n.boundingBox.getSize(new ri),a=Math.max(o.x,o.y,o.z),s=t.getAtomSetWithinPoint(n.center,a/2+6);t=t.getView(new Lp(t.getAtomSetWithinSelection(s,3).toSeleString()))}r.sele=t.selection.string,r.molsurf=new SS(t);var c=this.getSurfaceParams(),u=function(t){r.surface=t,i(e)};this.useWorker?r.molsurf.getSurfaceWorker(c,u):u(r.molsurf.getSurface(c))}},t.prototype.prepare=function(t){var r=this;if((this.__forceNewMolsurf||this.__sele!==this.selection.string||this.__surfaceParams!==JSON.stringify(this.getSurfaceParams()))&&(this.__infoList.forEach(function(t){t.molsurf.dispose()}),this.__infoList.length=0),0!==this.structureView.atomCount){var n=function(){r.__sele=r.selection.string,r.__surfaceParams=JSON.stringify(r.getSurfaceParams()),r.__forceNewMolsurf=!1,t()},e="default"===this.assembly?this.defaultAssembly:this.assembly,o=this.structure.biomolDict[e];o?o.partList.forEach(function(t,e){var i=t.getView(r.structureView);r.prepareData(i,e,function(t){t===o.partList.length-1&&n()})}):this.prepareData(this.structureView,0,n)}else t()},t.prototype.createData=function(t,e){var i=this.__infoList[e],r=i.surface,n={position:r.getPosition(),color:r.getColor(this.getColorParams()),index:r.getFilteredIndex(this.filterSele,t)},o=[];if(r.contour){var a=new _y(n,this.getBufferParams({wireframe:!1}));o.push(a)}else{Object.assign(n,{normal:r.getNormal(),picking:r.getPicking(t.getStructure())});var s=new gy(n,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1})),c=new by(s);o.push(c)}return{bufferList:o,info:i}},t.prototype.updateData=function(t,e){var i={};if(t.position||t.radius)return this.__forceNewMolsurf=!0,void this.build();t.color&&(i.color=e.info.surface.getColor(this.getColorParams())),t.index&&(i.index=e.info.surface.getFilteredIndex(this.filterSele,e.sview)),e.bufferList[0].setAttributes(i)},t.prototype.setParameters=function(t,e,i){return void 0===e&&(e={}),t&&t.filterSele&&(e.index=!0),t&&void 0!==t.colorVolume&&(e.color=!0),t&&t.wireframe&&(t.contour||void 0===t.contour&&this.contour)&&(t.wireframe=!1),n.prototype.setParameters.call(this,t,e,i),this},t.prototype.getSurfaceParams=function(t){return void 0===t&&(t={}),Object.assign({type:this.surfaceType,probeRadius:this.probeRadius,scaleFactor:this.scaleFactor,smooth:this.smooth&&!this.contour,cutoff:this.cutoff,contour:this.contour,useWorker:this.useWorker,radiusParams:this.getRadiusParams()},t)},t.prototype.getColorParams=function(){var t=n.prototype.getColorParams.call(this);return t.volume=this.colorVolume,t},t.prototype.getAtomRadius=function(){return 0},t.prototype.clear=function(){n.prototype.clear.call(this)},t.prototype.dispose=function(){this.__infoList.forEach(function(t){t.molsurf.dispose()}),this.__infoList.length=0,n.prototype.dispose.call(this)},t}(pw);ed.add("surface",AS);var MS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="point",this.parameters=Object.assign({pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{flatShaded:null,wireframe:null,linewidth:null,side:null,roughness:null,metalness:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};this.pointSize=bl(e.pointSize,1),this.sizeAttenuation=bl(e.sizeAttenuation,!0),this.sortParticles=bl(e.sortParticles,!1),this.useTexture=bl(e.useTexture,!1),this.alphaTest=bl(e.alphaTest,.5),this.forceTransparent=bl(e.forceTransparent,!1),this.edgeBleach=bl(e.edgeBleach,0),r.prototype.init.call(this,e)},t.prototype.createData=function(t){var e=t.getAtomData(this.getAtomParams({position:!0,color:!0,picking:!0}));return{bufferList:[new Ix(e,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach}))]}},t.prototype.updateData=function(t,e){var i=e.sview.getAtomData(this.getAtomParams(t)),r={};t&&!t.position||Object.assign(r,{position:i.position}),t&&!t.color||Object.assign(r,{color:i.color}),e.bufferList[0].setAttributes(r)},t.prototype.getAtomRadius=function(){return.1},t}(pw);ed.add("point",MS),rd.add("shader/Ribbon.vert","#define STANDARD\nuniform float clipNear;\nuniform vec3 clipCenter;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\nattribute vec3 dir;\nattribute float size;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\n#include color_pars_vertex\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#endif\n#include common\nvoid main(void){\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\n#include color_vertex\n#include beginnormal_vertex\n#include defaultnormal_vertex\n#ifndef FLAT_SHADED\nvNormal = normalize( transformedNormal );\n#endif\n#endif\n#include begin_vertex\ntransformed += normalize( dir ) * size;\n#include project_vertex\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvViewPosition = -mvPosition.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n}");var ES=new Uint16Array([0,1,2,1,3,2]);function PS(t){return 3*(4*(t.position.length/3-1))}var TS=function(o){function t(t,e){void 0===e&&(e={}),o.call(this,{position:new Float32Array(PS(t)),color:new Float32Array(PS(t)),index:Ll(PS(t),PS(t)/3),normal:new Float32Array(PS(t)),picking:t.picking},e),this.vertexShader="Ribbon.vert";var i=t.position.length/3-1,r=4*i,n=3*r;this.addAttributes({dir:{type:"v3",value:new Float32Array(n)}}),this.addAttributes({size:{type:"f",value:new Float32Array(r)}}),t.primitiveId=Hd(i),this.setAttributes(t),this.makeIndex()}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.setAttributes=function(t){void 0===t&&(t={});var e,i,r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b,x=this.size/4,_=this.geometry.attributes;t.position&&(e=t.position,s=_.position.array,_.position.needsUpdate=!0),t.normal&&(i=t.normal,c=_.normal.array,_.normal.needsUpdate=!0),t.size&&(r=t.size,u=_.size.array,_.size.needsUpdate=!0),t.dir&&(n=t.dir,h=_.dir.array,_.dir.needsUpdate=!0),t.color&&(o=t.color,l=_.color.array,_.color.needsUpdate=!0),t.primitiveId&&(a=t.primitiveId,p=_.primitiveId.array,_.primitiveId.needsUpdate=!0);var w=r?r[0]:null;for(d=0;d<x;++d){for(m=(y=3*d)*4,v=4*d,e&&(s[m]=s[m+3]=e[y],s[m+1]=s[m+4]=e[y+1],s[m+2]=s[m+5]=e[y+2],s[m+6]=s[m+9]=e[y+3],s[m+7]=s[m+10]=e[y+4],s[m+8]=s[m+11]=e[y+5]),i&&(c[m]=c[m+3]=-i[y],c[m+1]=c[m+4]=-i[y+1],c[m+2]=c[m+5]=-i[y+2],c[m+6]=c[m+9]=-i[y+3],c[m+7]=c[m+10]=-i[y+4],c[m+8]=c[m+11]=-i[y+5]),f=0;f<4;++f)g=m+3*f,o&&(l[g]=o[y],l[g+1]=o[y+1],l[g+2]=o[y+2]),a&&(p[v+f]=a[d]);r&&(b=r[d],w!==r[d]?(u[v]=w,u[v+1]=w):(u[v]=b,u[v+1]=b),u[v+2]=b,w=u[v+3]=b),n&&(h[m]=n[y],h[m+1]=n[y+1],h[m+2]=n[y+2],h[m+3]=-n[y],h[m+4]=-n[y+1],h[m+5]=-n[y+2],h[m+6]=n[y+3],h[m+7]=n[y+4],h[m+8]=n[y+5],h[m+9]=-n[y+3],h[m+10]=-n[y+4],h[m+11]=-n[y+5])}},t.prototype.makeIndex=function(){for(var t=this.geometry.getIndex().array,e=t.length/4/3,i=0;i<e;++i){var r=6*i,n=4*i;t.set(ES,r);for(var o=0;o<6;++o)t[r+o]+=n}},t}(my),CS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="ribbon",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{side:null,wireframe:null,linewidth:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorScheme=bl(e.colorScheme,"chainname"),e.colorScale=bl(e.colorScale,"RdYlBu"),e.radiusType=bl(e.radiusType,"sstruc"),e.radiusScale=bl(e.radiusScale,4),"low"===e.quality?this.subdiv=3:"medium"===e.quality?this.subdiv=6:"high"===e.quality?this.subdiv=12:this.subdiv=bl(e.subdiv,6),this.tension=bl(e.tension,NaN),this.smoothSheet=bl(e.smoothSheet,!1),r.prototype.init.call(this,e)},t.prototype.getSplineParams=function(t){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!0,smoothSheet:this.smoothSheet},t)},t.prototype.getAtomRadius=function(t){return t.isTrace()?r.prototype.getAtomRadius.call(this,t):0},t.prototype.createData=function(t){var s=this,c=[],u=[];return this.structure.eachPolymer(function(t){if(!(t.residueCount<4)){u.push(t);var e=new qw(t,s.getSplineParams()),i=e.getSubdividedPosition(),r=e.getSubdividedOrientation(),n=e.getSubdividedColor(s.getColorParams()),o=e.getSubdividedPicking(),a=e.getSubdividedSize(s.getRadiusParams());c.push(new TS({position:i.position,normal:r.binormal,dir:r.normal,color:n.color,size:a.size,picking:o.picking},s.getBufferParams()))}},t.getSelection()),{bufferList:c,polymerList:u}},t.prototype.updateData=function(t,e){t=t||{};var i=0,r=e.polymerList.length;for(i=0;i<r;++i){var n={},o=new qw(e.polymerList[i],this.getSplineParams());if(t.position){var a=o.getSubdividedPosition(),s=o.getSubdividedOrientation();Object.assign(n,{position:a.position,normal:s.binormal,dir:s.normal})}if(t.radius||t.scale){var c=o.getSubdividedSize(this.getRadiusParams());Object.assign(n,{size:c.size})}if(t.color){var u=o.getSubdividedColor(this.getColorParams());Object.assign(n,{color:u.color})}e.bufferList[i].setAttributes(n)}},t.prototype.setParameters=function(t){var e={};return t&&t.tension&&Object.assign(e,{position:!0}),r.prototype.setParameters.call(this,t,e,!1),this},t}(pw);ed.add("ribbon",CS);var IS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="rocket",this.parameters=Object.assign({localAngle:{type:"integer",max:180,min:0,rebuild:!0},centerDist:{type:"number",precision:1,max:10,min:0,rebuild:!0},ssBorder:{type:"boolean",rebuild:!0},radialSegments:!0,openEnded:!0,disableImpostor:!0},this.parameters),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorScheme=bl(e.colorScheme,"sstruc"),e.radiusSize=bl(e.radiusSize,1.5),e.radiusScale=bl(e.radiusScale,1),e.openEnded=bl(e.openEnded,!1),e.useInteriorColor=bl(e.useInteriorColor,!0),this.localAngle=bl(e.localAngle,30),this.centerDist=bl(e.centerDist,2.5),this.ssBorder=bl(e.ssBorder,!1),r.prototype.init.call(this,e)},t.prototype.createData=function(t){var r=this,n=0,o=[],a=[];this.structure.eachPolymer(function(t){if(!(t.residueCount<4||t.isNucleic())){var e=new eb(t),i=e.getAxis(r.localAngle,r.centerDist,r.ssBorder,r.getColorParams(),r.getRadiusParams());n+=i.size.length,o.push(i),a.push(e)}},t.getSelection());var e={begin:new Float32Array(3*n),end:new Float32Array(3*n),size:new Float32Array(n),color:new Float32Array(3*n),picking:{}},i=new Float32Array(n),s=0;return o.forEach(function(t){e.begin.set(t.begin,3*s),e.end.set(t.end,3*s),e.size.set(t.size,s),e.color.set(t.color,3*s),i.set(t.picking.array,s),s+=t.size.length}),n&&(e.picking=new hv(i,t.getStructure())),{bufferList:[new Gw({position1:e.begin,position2:e.end,color:e.color,color2:e.color,radius:e.size,picking:e.picking},this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))],axisList:o,helixbundleList:a,axisData:e}},t.prototype.updateData=function(i,r){var n=this;if((i=i||{}).position)this.build();else{var t={};if(i.color||i.radius){var o=0;r.helixbundleList.forEach(function(t){var e=t.getAxis(n.localAngle,n.centerDist,n.ssBorder,n.getColorParams(),n.getRadiusParams());i.color&&r.axisData.color.set(e.color,3*o),(i.radius||i.scale)&&r.axisData.size.set(e.size,o),o+=e.size.length}),i.color&&Object.assign(t,{color:r.axisData.color,color2:r.axisData.color}),(i.radius||i.scale)&&Object.assign(t,{radius:r.axisData.size})}r.bufferList[0].setAttributes(t)}},t}(pw);ed.add("rocket",IS);var OS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="rope",this.parameters=Object.assign({smooth:{type:"integer",max:15,min:0,rebuild:!0}},this.parameters,{aspectRatio:null,smoothSheet:null})}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.aspectRatio=1,e.tension=bl(e.tension,.5),e.radiusScale=bl(e.radiusScale,5),e.smoothSheet=!1,this.smooth=bl(e.smooth,2),r.prototype.init.call(this,e)},t.prototype.getSpline=function(t){var e=new tb(t);return new qw(t,this.getSplineParams({directional:!1,positionIterator:e.getCenterIterator(this.smooth)}))},t}(Qw);ed.add("rope",OS);var LS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="spacefill",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.useInteriorColor=bl(e.useInteriorColor,!0),r.prototype.init.call(this,e)},t.prototype.createData=function(t){return{bufferList:[new Px(t.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,dullInterior:!0,disableImpostor:this.disableImpostor}))]}},t.prototype.updateData=function(t,e){var i=e.sview.getAtomData(this.getAtomParams(t)),r={};t&&!t.position||Object.assign(r,{position:i.position}),t&&!t.color||Object.assign(r,{color:i.color}),t&&!t.radius||Object.assign(r,{radius:i.radius}),e.bufferList[0].setAttributes(r)},t}(pw);function RS(t){return 3*(t.position.length/3-1)*2}ed.add("spacefill",LS);var DS=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,{position:new Float32Array(RS(t)),color:new Float32Array(RS(t))},e),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag",this.setAttributes(t)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.setAttributes=function(t){var e,i,r,n,o=this.geometry.attributes;if(t.position&&(e=t.position,r=o.position.array,o.position.needsUpdate=!0),t.color&&(i=t.color,n=o.color.array,o.color.needsUpdate=!0),e||i)for(var a,s,c=this.size-1,u=0;u<c;++u)s=(a=3*u)*2,e&&(r[s]=e[a],r[s+1]=e[a+1],r[s+2]=e[a+2],r[s+3]=e[a+3],r[s+4]=e[a+4],r[s+5]=e[a+5]),i&&(n[s]=i[a],n[s+1]=i[a+1],n[s+2]=i[a+2],n[s+3]=i[a+3],n[s+4]=i[a+4],n[s+5]=i[a+5]);else Yp.warn("TraceBuffer.prototype.setAttributes no data")},t}(dy),kS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="trace",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorScheme=bl(e.colorScheme,"chainname"),e.colorScale=bl(e.colorScale,"RdYlBu"),"low"===e.quality?this.subdiv=3:"medium"===e.quality?this.subdiv=6:"high"===e.quality?this.subdiv=12:this.subdiv=bl(e.subdiv,6),this.tension=bl(e.tension,NaN),this.smoothSheet=bl(e.smoothSheet,!1),r.prototype.init.call(this,e)},t.prototype.getSplineParams=function(t){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!1,smoothSheet:this.smoothSheet},t)},t.prototype.getAtomRadius=function(t){return t.isTrace()?.1:0},t.prototype.createData=function(t){var n=this,o=[],a=[];return this.structure.eachPolymer(function(t){if(!(t.residueCount<4)){a.push(t);var e=new qw(t,n.getSplineParams()),i=e.getSubdividedPosition(),r=e.getSubdividedColor(n.getColorParams());o.push(new DS(Object.assign({},i,r),n.getBufferParams()))}},t.getSelection()),{bufferList:o,polymerList:a}},t.prototype.updateData=function(t,e){t=t||{};var i=0,r=e.polymerList.length;for(i=0;i<r;++i){var n={},o=new qw(e.polymerList[i],this.getSplineParams());if(t.position){var a=o.getSubdividedPosition();Object.assign(n,{position:a.position})}if(t.color){var s=o.getSubdividedColor(this.getColorParams());Object.assign(n,{color:s.color})}e.bufferList[i].setAttributes(n)}},t.prototype.setParameters=function(t){var e={};return t&&t.tension&&Object.assign(e,{position:!0}),r.prototype.setParameters.call(this,t,e,!1),this},t}(pw);ed.add("trace",kS);var BS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="tube",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.aspectRatio=1,e.radiusScale=bl(e.radiusScale,2),"low"===e.quality&&(this.radialSegments=5),r.prototype.init.call(this,e)},t.prototype.getSplineParams=function(){return r.prototype.getSplineParams.call(this,{directional:!1})},t}(Qw);ed.add("tube",BS);var NS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="unitcell",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0},this.parameters,{assembly:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{},i=.5;this.structure.unitcell&&(i=Math.cbrt(this.structure.unitcell.volume)/200),e.radiusSize=bl(e.radiusSize,i),e.colorValue=bl(e.colorValue,"orange"),e.useInteriorColor=bl(e.useInteriorColor,!0),r.prototype.init.call(this,e)},t.prototype.getUnitcellData=function(t){return t.unitcell.getData(t)},t.prototype.create=function(){var t=this.structureView.getStructure();if(t.unitcell){var e=this.getUnitcellData(t);this.sphereBuffer=new Px(e.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new Gw(e.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})}},t.prototype.createData=function(t){},t.prototype.updateData=function(t,e){var i=e.sview.getStructure();if(i.unitcell){var r=this.getUnitcellData(i),n={},o={};t&&!t.position||(Object.assign(n,{position:r.vertex.position}),Object.assign(o,{position1:r.edge.position1,position2:r.edge.position2})),t&&!t.color||(Object.assign(n,{color:r.vertex.color}),Object.assign(o,{color:r.edge.color,color2:r.edge.color2})),t&&!t.radius||(Object.assign(n,{radius:r.vertex.radius}),Object.assign(o,{radius:r.edge.radius})),this.sphereBuffer.setAttributes(n),this.cylinderBuffer.setAttributes(o)}},t}(pw);ed.add("unitcell",NS);var FS=function(r){function t(t,e,i){r.call(this,t,e,i),this.type="validation",this.parameters=Object.assign({},this.parameters,{radiusType:null,radiusSize:null,radiusScale:null}),this.init(i)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.init=function(t){var e=t||{};e.colorValue=bl(e.colorValue,"#f0027f"),e.useInteriorColor=bl(e.useInteriorColor,!0),r.prototype.init.call(this,e)},t.prototype.createData=function(t){if(t.validation){var e=t.validation.getClashData({structure:t,color:this.colorValue});return{bufferList:[new Gw(e,this.getBufferParams({openEnded:!1}))]}}},t}(pw);ed.add("validation",FS);var zS=new ri,US=new ri,jS=new ri,GS=new ri(0,1,0);var VS=Object.assign({radialSegments:60,openEnded:!1},ly),HS=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,{position:new Float32Array(t.position1.length),color:t.color,picking:t.picking},e,function(t){void 0===t&&(t={});var e=new Qs(1,1,bl(t.radialSegments,60),1,bl(t.openEnded,!1));return e.applyMatrix((new ei).makeRotationX(-Math.PI/2)),e}(e)),this.updateNormals=!0,this._position=new Float32Array(t.position1.length),this.setAttributes(t,!0)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return VS},t.prototype.applyPositionTransform=function(t,e,i){US.fromArray(this._position1,i),jS.fromArray(this._position2,i),t.lookAt(US,jS,GS);var r=this._radius[e];zS.set(r,r,US.distanceTo(jS)),t.scale(zS)},t.prototype.setAttributes=function(t,e){void 0===t&&(t={}),t.position1&&t.position2&&(Ud(t.position1,t.position2,this._position),this._position1=t.position1,this._position2=t.position2,t.position=this._position),t.radius&&(this._radius=t.radius),i.prototype.setAttributes.call(this,t,e)},Object.defineProperties(t.prototype,e),t}(yx);ad.add("cone",HS);var $S=function(t){void 0===t&&(t=[]),this.geometryList=t};$S.prototype.computeBoundingBox=function(){var e=this;this.boundingBox?this.boundingBox.empty():this.boundingBox=new Pi,this.geometryList.forEach(function(t){t.boundingBox||t.computeBoundingBox(),e.boundingBox.union(t.boundingBox)})};var WS=Object.assign({aspectRatio:1.5,radialSegments:50,openEnded:!1,disableImpostor:!1},ly),XS=function(t,e){void 0===e&&(e={}),this.group=new ya,this.wireframeGroup=new ya,this.pickingGroup=new ya,this.visible=!0,this.parameters=xl(e,this.defaultParameters),this.splitPosition=new Float32Array(t.position1.length),this.cylinderRadius=new Float32Array(t.radius.length);var i=this.makeAttributes(t),r={radialSegments:this.parameters.radialSegments,openEnded:this.parameters.openEnded,disableImpostor:this.parameters.disableImpostor};this.cylinderBuffer=new Gw(i.cylinder,r),this.coneBuffer=new HS(i.cone,r),this.geometry=new $S([this.cylinderBuffer.geometry,this.coneBuffer.geometry]),this.matrix=bl(e.matrix,new ei),this.picking=t.picking},qS={defaultParameters:{configurable:!0},matrix:{configurable:!0},pickable:{configurable:!0}};qS.defaultParameters.get=function(){return WS},qS.matrix.set=function(t){dy.prototype.setMatrix.call(this,t)},qS.matrix.get=function(){return this.group.matrix.clone()},qS.pickable.get=function(){return!!this.picking},XS.prototype.makeAttributes=function(t){void 0===t&&(t={});var e,i,r=this.splitPosition,n=this.cylinderRadius,o=this.parameters.aspectRatio,a={},s={};if(t.radius){for(e=0,i=n.length;e<i;++e)n[e]=t.radius[e]/o;a.radius=n,s.radius=t.radius}if(t.position1&&t.position2){var c=new ri,u=new ri,h=new ri,l=new ri;for(e=0,i=r.length;e<i;e+=3){c.fromArray(t.position1,e),u.fromArray(t.position2,e),h.subVectors(c,u);var p=h.length(),d=n[e/3]*o*2,f=Math.min(p,d);h.setLength(f),l.copy(u).add(h),l.toArray(r,e)}a.position1=t.position1,a.position2=r,s.position1=r,s.position2=t.position2}return t.color&&(a.color=t.color,a.color2=t.color,s.color=t.color),{cylinder:a,cone:s}},XS.prototype.getMesh=function(){return(new ya).add(this.cylinderBuffer.getMesh(),this.coneBuffer.getMesh())},XS.prototype.getWireframeMesh=function(){return(new ya).add(this.cylinderBuffer.getWireframeMesh(),this.coneBuffer.getWireframeMesh())},XS.prototype.getPickingMesh=function(){return(new ya).add(this.cylinderBuffer.getPickingMesh(),this.coneBuffer.getPickingMesh())},XS.prototype.setAttributes=function(t){void 0===t&&(t={});var e=this.makeAttributes(t);this.cylinderBuffer.setAttributes(e.cylinder),this.coneBuffer.setAttributes(e.cone)},XS.prototype.setParameters=function(t){void 0===t&&(t={}),(t=Object.assign({},t))&&void 0!==t.matrix&&(this.matrix=t.matrix),delete t.matrix,t&&void 0!==t.wireframe&&(this.parameters.wireframe=t.wireframe,this.setVisibility(this.visible)),this.cylinderBuffer.setParameters(t),this.coneBuffer.setParameters(t)},XS.prototype.setVisibility=function(t){dy.prototype.setVisibility.call(this,t)},XS.prototype.dispose=function(){this.cylinderBuffer.dispose(),this.coneBuffer.dispose()},Object.defineProperties(XS.prototype,qS),ad.add("arrow",XS);var YS=new ri,ZS=new ri,KS=new ri,JS=new ri(0,0,0),QS=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e,new Xr(1,1,1)),this.updateNormals=!0,this.setAttributes(t,!0)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.applyPositionTransform=function(t,e,i){ZS.fromArray(this._heightAxis,i),KS.fromArray(this._depthAxis,i),t.lookAt(JS,ZS,KS),YS.set(this._size[e],KS.length(),ZS.length()),t.scale(YS)},t.prototype.setAttributes=function(t,e){void 0===t&&(t={}),t.size&&(this._size=t.size),t.heightAxis&&(this._heightAxis=t.heightAxis),t.depthAxis&&(this._depthAxis=t.depthAxis),i.prototype.setAttributes.call(this,t,e)},t}(yx);ad.add("box",QS);var tA=new ri,eA=new ri,iA=new ri,rA=new ri(0,0,0),nA=Object.assign({sphereDetail:2},ly),oA=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e,new es(1,bl(e.sphereDetail,2))),this.updateNormals=!0,this.setAttributes(t,!0)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return nA},t.prototype.applyPositionTransform=function(t,e,i){eA.fromArray(this._majorAxis,i),iA.fromArray(this._minorAxis,i),t.lookAt(rA,eA,iA),tA.set(this._radius[e],iA.length(),eA.length()),t.scale(tA)},t.prototype.setAttributes=function(t,e){void 0===t&&(t={}),t.radius&&(this._radius=t.radius),t.majorAxis&&(this._majorAxis=t.majorAxis),t.minorAxis&&(this._minorAxis=t.minorAxis),i.prototype.setAttributes.call(this,t,e)},Object.defineProperties(t.prototype,e),t}(yx);ad.add("ellipsoid",oA);var aA=new ri,sA=new ri,cA=new ri,uA=new ri(0,0,0),hA=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e,new Qa(1,0)),this.updateNormals=!0,this.setAttributes(t,!0)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.applyPositionTransform=function(t,e,i){sA.fromArray(this._heightAxis,i),cA.fromArray(this._depthAxis,i),t.lookAt(uA,sA,cA),aA.set(this._size[e],cA.length(),sA.length()),t.scale(aA)},t.prototype.setAttributes=function(t,e){void 0===t&&(t={}),t.size&&(this._size=t.size),t.heightAxis&&(this._heightAxis=t.heightAxis),t.depthAxis&&(this._depthAxis=t.depthAxis),i.prototype.setAttributes.call(this,t,e)},t}(yx);ad.add("octahedron",hA);var lA=new ri,pA=new ri,dA=new ri,fA=new ri(0,0,0),mA=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e,new Ka(1,0)),this.updateNormals=!0,this.setAttributes(t,!0)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.applyPositionTransform=function(t,e,i){pA.fromArray(this._heightAxis,i),dA.fromArray(this._depthAxis,i),t.lookAt(fA,pA,dA),lA.set(this._size[e],dA.length(),pA.length()),t.scale(lA)},t.prototype.setAttributes=function(t,e){void 0===t&&(t={}),t.size&&(this._size=t.size),t.heightAxis&&(this._heightAxis=t.heightAxis),t.depthAxis&&(this._depthAxis=t.depthAxis),i.prototype.setAttributes.call(this,t,e)},t}(yx);ad.add("tetrahedron",mA);var gA=new ri,vA=new ri,yA=new ri,bA=new ri(0,0,0),xA=Object.assign({radiusRatio:.2,radialSegments:16,tubularSegments:32},ly),_A=function(i){function t(t,e){void 0===e&&(e={}),i.call(this,t,e,new us(1,bl(e.radiusRatio,.2),bl(e.radialSegments,16),bl(e.tubularSegments,32))),this.updateNormals=!0,this.setAttributes(t,!0)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={defaultParameters:{configurable:!0}};return e.defaultParameters.get=function(){return xA},t.prototype.applyPositionTransform=function(t,e,i){vA.fromArray(this._majorAxis,i),yA.fromArray(this._minorAxis,i),t.lookAt(bA,vA,yA);var r=this._radius[e];gA.set(r,r,r),t.scale(gA)},t.prototype.setAttributes=function(t,e){void 0===t&&(t={}),t.radius&&(this._radius=t.radius),t.majorAxis&&(this._majorAxis=t.majorAxis),t.minorAxis&&(this._minorAxis=t.minorAxis),i.prototype.setAttributes.call(this,t,e)},Object.defineProperties(t.prototype,e),t}(yx);ad.add("torus",_A);var wA=function(t,e){var i=e||{};this.streamer=t,this.name=bl(i.name,""),this.path=bl(i.path,"")},SA={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0},isJson:{configurable:!0},isXml:{configurable:!0}};SA.type.get=function(){return""},SA.__objName.get=function(){return""},SA.isBinary.get=function(){return!1},SA.isJson.get=function(){return!1},SA.isXml.get=function(){return!1},wA.prototype.parse=function(){var t=this;return this.streamer.read().then(function(){return t._beforeParse(),t._parse(),t._afterParse(),t[t.__objName]})},wA.prototype._parse=function(){},wA.prototype._beforeParse=function(){},wA.prototype._afterParse=function(){de.Debug&&Yp.log(this[this.__objName])},Object.defineProperties(wA.prototype,SA);var AA=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.firstModelOnly=bl(i.firstModelOnly,!1),this.asTrajectory=bl(i.asTrajectory,!1),this.cAlphaOnly=bl(i.cAlphaOnly,!1),this.structure=new cx(this.name,this.path),this.structureBuilder=new yb(this.structure)}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0}};return e.type.get=function(){return"structure"},e.__objName.get=function(){return"structure"},Object.defineProperties(t.prototype,e),t}(wA);var MA=function(e,i,t,r,n){void 0===t&&(t=""),void 0===n&&(n=[]),this.structure=e,this.index=i,this.description=t,this.entityType=function(t){switch(t=t.toLowerCase()){case"polymer":return 1;case"non-polymer":return 2;case"macrolide":return 3;case"water":return 4;default:return 0}}(r||""),(this.chainIndexList=n).forEach(function(t){e.chainStore.entityIndex[t]=i})},EA={type:{configurable:!0}};EA.type.get=function(){return function(t){switch(t){case 1:return"polymer";case 2:return"non-polymer";case 3:return"macrolide";case 4:return"water";default:return}}(this.entityType)},MA.prototype.getEntityType=function(){return this.entityType},MA.prototype.isPolymer=function(){return 1===this.entityType},MA.prototype.isNonPolymer=function(){return 2===this.entityType},MA.prototype.isMacrolide=function(){return 3===this.entityType},MA.prototype.isWater=function(){return 4===this.entityType},MA.prototype.eachChain=function(e){var i=this.structure.getChainProxy();this.chainIndexList.forEach(function(t){i.index=t,e(i)})},Object.defineProperties(MA.prototype,EA);var PA={a:1,b:1,c:1,alpha:90,beta:90,gamma:90,spacegroup:"P 1"},TA=function(t){void 0===t&&(t=PA),this.cartToFrac=new ei,this.fracToCart=new ei,this.a=t.a,this.b=t.b,this.c=t.c,this.alpha=t.alpha,this.beta=t.beta,this.gamma=t.gamma,this.spacegroup=t.spacegroup;var e=Gl(this.alpha),i=Gl(this.beta),r=Gl(this.gamma),n=Math.cos(e),o=Math.cos(i),a=Math.cos(r),s=Math.sin(i),c=Math.sin(r);if(this.volume=this.a*this.b*this.c*Math.sqrt(1-n*n-o*o-a*a+2*n*o*a),void 0===t.cartToFrac){var u=this.a*this.b*c/this.volume,h=(o*a-n)/(s*c);this.fracToCart.set(this.a,0,0,0,this.b*a,this.b*c,0,0,this.c*o,-this.c*s*h,1/u,0,0,0,0,1).transpose(),this.cartToFrac.getInverse(this.fracToCart)}else this.cartToFrac.copy(t.cartToFrac),this.fracToCart.getInverse(this.cartToFrac)};TA.prototype.getPosition=function(t){var r=new Float32Array(24);if(t.unitcell){var n=t.unitcell,o=t.center.clone().applyMatrix4(n.cartToFrac).floor(),a=new ri,s=0,e=function(t,e,i){a.set(t,e,i).add(o).applyMatrix4(n.fracToCart).toArray(r,s),s+=3};e(0,0,0),e(1,0,0),e(0,1,0),e(0,0,1),e(1,1,0),e(1,0,1),e(0,1,1),e(1,1,1)}return r},TA.prototype.getCenter=function(t){return function(t,e){void 0===e&&(e=new ri);for(var i=t.length,r=0;r<i;r+=3)e.x+=t[r],e.y+=t[r+1],e.z+=t[r+2];return e.divideScalar(i/3),e}(this.getPosition(t))},TA.prototype.getData=function(t,e){void 0===e&&(e={});var i=bl(e.colorValue,"orange"),r=bl(e.radius,Math.cbrt(this.volume)/200),n=new ki(i),o=new ri,a=this.getPosition(t),s=Vd(8,n.r,n.g,n.b),c=Gd(8,r),u=new Float32Array(36),h=new Float32Array(36),l=Vd(12,n.r,n.g,n.b),p=Gd(12,r),d=0;function f(t,e){o.fromArray(a,3*t).toArray(u,d),o.fromArray(a,3*e).toArray(h,d),d+=3}f(0,1),f(0,2),f(0,3),f(1,4),f(1,5),f(2,6),f(3,5),f(4,7),f(5,7),f(2,4),f(7,6),f(3,6);var m=new Ev(this,t);return{vertex:{position:a,color:s,radius:c,picking:m},edge:{position1:u,position2:h,color:l,color2:l,radius:p,picking:m}}};var CA={1:"h",2:"h",3:"i",4:"h",5:"g",6:"h",7:"h",8:"h",9:"h",10:"h",0:"h"},IA=["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"],OA=["MOL_ID","MOLECULE","CHAIN","FRAGMENT","SYNONYM","EC","ENGINEERED","MUTATION","OTHER_DETAILS"],LA=/\s+/;function RA(t,e,i){var r=""+t;return e&&(r+=":"+e),i&&(r+="^"+i),r}var DA=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.hex=bl(i.hex,!1)}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0}};return e.type.get=function(){return"pdb"},t.prototype._parse=function(){de.Debug&&Yp.time("PdbParser._parse "+this.name);var it=!1,t=this.streamer.peekLines(1)[0],e=t.substr(62,4),i=t.substr(72,4);e===i&&i.trim()&&(it=!0);var rt,nt,ot,at,st,ct,ut,ht,lt,pt,dt,ft,mt,gt,vt,yt,bt,xt,_t,wt,St,At,Mt,Et,Pt,Tt,Ct,It,Ot,Lt,Rt,Dt,kt,Bt="pqr"===this.type,Nt="pdbqt"===this.type,Ft=this.structure,zt=this.structureBuilder,Ut=this.hex,jt=10,Gt=10,Vt=this.firstModelOnly,Ht=this.asTrajectory,$t=this.cAlphaOnly,Wt=Ft.frames,Xt=Ft.boxes,qt=!1,Yt=Ft.biomolDict,Zt={},Kt={},Jt={},Qt=[],te={},ee={},ie={},re={},r={helices:[],sheets:[]},ne=r.helices,oe=r.sheets,ae=Ft.atomMap,se=Ft.atomStore;se.resize(Math.round(this.streamer.data.length/80)),(Bt||Nt)&&se.addField("partialCharge",1,"float32"),Bt&&se.addField("radius",1,"float32");var ce=Ft.getAtomProxy(),ue=Ft.getAtomProxy(),he=0,le=0,pe=!0;this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r,n=t;n<e;++n)if(ct=i[n],"ATOM  "===(ut=ct.substr(0,6))||"HETATM"===ut){if(pe&&(Ht?(qt?(rt=new Float32Array(3*se.count),Wt.push(rt)):rt=[],nt=0):Vt||(Zt={}),Ct=(Tt=1).toString(),pe=!(It=!0)),Vt&&0<le)continue;var o=void 0,a=void 0,s=void 0,c=void 0,u=void 0;if(Bt){if(u=10===(c=ct.split(LA)).length?1:0,gt=c[2],$t&&"CA"!==gt)continue;o=parseFloat(c[6-u]),a=parseFloat(c[7-u]),s=parseFloat(c[8-u])}else{if(gt=ct.substr(12,4).trim(),$t&&"CA"!==gt)continue;o=parseFloat(ct.substr(30,8)),a=parseFloat(ct.substr(38,8)),s=parseFloat(ct.substr(46,8))}if(Ht){var h=3*nt;if(rt[h+0]=o,rt[h+1]=a,rt[h+2]=s,nt+=1,qt)continue}var l=void 0;Bt?(ht=parseInt(c[1]),l="",vt="H"===ct[0]?1:0,lt=u?"":c[4],pt=parseInt(c[5-u]),mt="",dt=c[3],bt="",ft=1):(ht=parseInt(ct.substr(6,5),jt),Ut&&99999===ht&&(jt=16),vt="H"===ct[0]?1:0,lt=ct[21].trim(),pt=parseInt(ct.substr(22,4),Gt),Ut&&9999===pt&&(Gt=16),mt=ct[26].trim(),dt=ct.substr(17,4).trim()||"MOL",yt=parseFloat(ct.substr(60,6)),bt=ct[16].trim(),ft=parseFloat(ct.substr(54,6)),it||(Nt?l=ct.substr(12,2).trim():(l=ct.substr(76,2).trim(),lt||(lt=ct.substr(72,4).trim())))),se.growIfFull(),se.atomTypeId[he]=ae.add(gt,l),se.x[he]=o,se.y[he]=a,se.z[he]=s,se.serial[he]=ht,se.altloc[he]=bt.charCodeAt(0),se.occupancy[he]=isNaN(ft)?0:ft,Bt?(se.partialCharge[he]=parseFloat(c[9-u]),se.radius[he]=parseFloat(c[10-u])):(se.bfactor[he]=isNaN(yt)?0:yt,Nt&&(se.partialCharge[he]=parseFloat(ct.substr(70,6))));var p=RA(pt,lt,mt);!vt||ee[p]||IA.includes(dt)?It||Ot===lt||(Ct=(Tt+=1).toString()):Ot===lt&&Rt===dt&&(Pg.includes(dt)||Lt===pt&&Dt===mt)||(Ct=(Tt+=1).toString(),Lt=pt,Rt=dt,Dt=mt),zt.addAtom(le,lt,Ct,dt,pt,vt,void 0,mt),Zt[ht]=he,he+=1,It=!1,Ot=lt}else if("CONECT"===ut){var d=Zt[parseInt(ct.substr(6,5))],f=[11,16,21,26],m={};if(void 0===d)continue;for(var g=0;g<4;++g){var v=parseInt(ct.substr(f[g],5));if(!Number.isNaN(v)&&void 0!==(v=Zt[v]))if(d<v?(ce.index=d,ue.index=v):(ce.index=v,ue.index=d),void 0!==m[v])Ft.bondStore.bondOrder[m[v]]+=1;else{var y=ce.index+"|"+ue.index;void 0===Jt[y]&&(Jt[y]=!0,m[v]=Ft.bondStore.count,Ft.bondStore.addBond(ce,ue,1))}}}else if("HELIX "===ut){xt=ct[19].trim(),_t=parseInt(ct.substr(21,4)),wt=ct[25].trim(),St=ct[31].trim(),At=parseInt(ct.substr(33,4)),Mt=ct[37].trim();var b=parseInt(ct.substr(39,1));b=(CA[b]||CA[0]).charCodeAt(0),ne.push([xt,_t,wt,St,At,Mt,b])}else if("SHEET "===ut)xt=ct[21].trim(),_t=parseInt(ct.substr(22,4)),wt=ct[26].trim(),St=ct[32].trim(),At=parseInt(ct.substr(33,4)),Mt=ct[37].trim(),oe.push([xt,_t,wt,St,At,Mt]);else if("HETNAM"===ut)te[ct.substr(11,3)]=ct.substr(15).trim();else if("SEQRES"===ut){var x=ct[11].trim();x!==kt&&(re[x]=[],kt=x),(r=re[x]).push.apply(r,ct.substr(19).trim().split(LA))}else if("MODRES"===ut){var _=ct.substr(12,3).trim(),w=ct[16].trim(),S=ct[22].trim(),A=parseInt(ct.substr(18,4).trim()),M=RA(A,w,S);ee[M]={resname:_,chainname:w,inscode:S,resno:A}}else if("COMPND"===ut){var E=ct.substr(10,70).trim(),P=E.indexOf(":"),T=E.substring(0,P),C=void 0;OA.includes(T)?(Pt=T,C=E.substring(P+2)):C=E,C=C.replace(/;$/,""),"MOL_ID"===Pt?(Et={chainList:[],name:""},Qt.push(Et)):"MOLECULE"===Pt?(Et.name&&(Et.name+=" "),Et.name+=C):"CHAIN"===Pt&&Array.prototype.push.apply(Et.chainList,C.split(/\s*,\s*/))}else if(ct.startsWith("TER")){var I=Ft.getChainProxy(Ft.chainStore.count-1);ie[I.chainname]=I.index,Ct=(Tt+=1).toString(),It=!0}else if("REMARK"===ut&&"350"===ct.substr(7,3)){if("BIOMOLECULE:"===ct.substr(11,12)){var O=ct.substr(23).trim();/^(0|[1-9][0-9]*)$/.test(O)&&(O="BU"+O),ot=new fb(O),Yt[O]=ot}else if("BIOMT"===ct.substr(13,5)){var L=ct.split(/\s+/),R=parseInt(ct[18])-1;0===R&&(st=new ei,at.matrixList.push(st));var D=st.elements;D[0+R]=parseFloat(L[4]),D[4+R]=parseFloat(L[5]),D[8+R]=parseFloat(L[6]),D[12+R]=parseFloat(L[7])}else if("APPLY THE FOLLOWING TO CHAINS:"===ct.substr(11,30)||"                   AND CHAINS:"===ct.substr(11,30)){"APPLY"===ct.substr(11,5)&&(at=ot.addPart());for(var k=ct.substr(41,30).split(","),B=0,N=k.length;B<N;++B){var F=k[B].trim();F&&at.chainList.push(F)}}}else if("HEADER"===ut)Ft.id=ct.substr(62,4);else if("TITLE "===ut)Ft.title+=(Ft.title?" ":"")+ct.substr(10,70).trim();else if("MODEL "===ut)pe=!0;else if("ENDMDL"===ut||"END"===ct.trim()){if(pe)continue;Ht&&!qt&&(Wt.push(new Float32Array(rt)),qt=!0),le+=1,pe=!0}else if("MTRIX"===ct.substr(0,5)){if("1"===ct[59])continue;ot&&"NCS"===ot.name||(ot=new fb("NCS"),Yt.NCS=ot,at=ot.addPart());var z=ct.split(/\s+/),U=parseInt(ct[5])-1;0===U&&(st=new ei,at.matrixList.push(st));var j=st.elements;j[0+U]=parseFloat(z[2]),j[4+U]=parseFloat(z[3]),j[8+U]=parseFloat(z[4]),j[12+U]=parseFloat(z[5])}else if("ORIGX"===ct.substr(0,5)){Kt.origx||(Kt.origx=new ei);var G=ct.split(/\s+/),V=parseInt(ct[5])-1,H=Kt.origx.elements;H[0+V]=parseFloat(G[1]),H[4+V]=parseFloat(G[2]),H[8+V]=parseFloat(G[3]),H[12+V]=parseFloat(G[4])}else if("SCALE"===ct.substr(0,5)){Kt.scale||(Kt.scale=new ei);var $=ct.split(/\s+/),W=parseInt(ct[5])-1,X=Kt.scale.elements;X[0+W]=parseFloat($[1]),X[4+W]=parseFloat($[2]),X[8+W]=parseFloat($[3]),X[12+W]=parseFloat($[4])}else if("CRYST1"===ut){var q=parseFloat(ct.substr(6,9)),Y=parseFloat(ct.substr(15,9)),Z=parseFloat(ct.substr(24,9)),K=parseFloat(ct.substr(33,7)),J=parseFloat(ct.substr(40,7)),Q=parseFloat(ct.substr(47,7)),tt=ct.substr(55,11).trim(),et=new Float32Array(9);et[0]=q,et[4]=Y,et[8]=Z,Xt.push(et),0===le&&(Kt.a=q,Kt.b=Y,Kt.c=Z,Kt.alpha=K,Kt.beta=J,Kt.gamma=Q,Kt.spacegroup=tt)}}(0,t.length,t)}),zt.finalize();var n=Qt.length;if(n){Ft.eachChain(function(t){t.entityIndex=n}),Qt.forEach(function(t,e){var i=t.chainList.map(function(t){return ie[t]});Ft.entityList.push(new MA(Ft,e,t.name,"polymer",i))});var o=Qt.length,a=Ft.getResidueProxy(),s={};Ft.eachChain(function(t){t.entityIndex===n&&(a.index=t.residueOffset,s[a.resname]||(s[a.resname]=[]),s[a.resname].push(t.index))}),Object.keys(s).forEach(function(t){var e=s[t],i="non-polymer",r=te[t]||t;Pg.includes(t)&&(i=r="water"),Ft.entityList.push(new MA(Ft,o,r,i,e)),o+=1})}void 0!==Kt.a?Ft.unitcell=new TA(Kt):Ft.unitcell=void 0,(ne.length||oe.length)&&bb(Ft,r),Ft.finalizeAtoms(),it||Ab(Ft),Mb(Ft),Ft.finalizeBonds(),ne.length||oe.length||_b(Ft),Ib(Ft),de.Debug&&Yp.timeEnd("PdbParser._parse "+this.name)},Object.defineProperties(t.prototype,e),t}(AA);id.add("pdb",DA),id.add("pdb1",DA),id.add("ent",DA);var kA=/\s+/,BA=/'((?:(?!'\s).)*)'|"((?:(?!"\s).)*)"|(\S+)/g,NA=/"/g,FA=/^['"]+|['"]+$/g;function zA(t){return!t||t[0]!==t[t.length-1]||"'"!==t[0]&&'"'!==t[0]?t:t.substring(1,t.length-1)}function UA(e,t){Array.isArray(e[t])||Object.keys(e).forEach(function(t){e[t]=[e[t]]})}function jA(t){return"?"!==t}function GA(t,e){return jA(t)?t:e}function VA(t){switch(t.toLowerCase()){case"?":case"sing":return 1;case"doub":return 2;case"trip":return 3;case"quad":return 4}return 0}var HA=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"cif"},e.prototype._parse=function(){Yp.time("CifParser._parse "+this.name);var R,D,k,B,N,F,z,U,j,G,V,H,$,W,X,q,Y,Z,K,J,Q,tt=this.structure,et=this.structureBuilder,it=this.firstModelOnly,rt=this.asTrajectory,nt=this.cAlphaOnly,ot=tt.frames,at={},st={},ct={},ut=!1,ht=null,lt=!1,pt=!1,dt=!1,ft=[],mt=null,gt=null,vt=null,yt=null,bt=[],xt=tt.atomMap,_t=tt.atomStore;_t.resize(this.streamer.data.length/100);var wt,St=0,At=0;if(this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r)if(k=i[r],((B=k.trim())||ut||pt)&&"#"!==B[0])if("data_"===B.substring(0,5))at.data=B.substring(5).trim();else if(";"===B[0])ut?(pt?(mt===ft.length&&(mt=0),ft[mt].push(ht),mt+=1):!1===vt?at[gt]=ht:at[gt][vt]=ht,ut=!1,ht=null):(ut=!0,ht=B.substring(1));else if("loop_"===B)dt=pt=!0,ft.length=0,bt.length=0,mt=0;else if("_"===B[0]){var n,o,a;if(pt&&!dt&&(pt=!1),pt)o=(n=B.split("."))[0].substring(1),a=n[1],1===n.length?(a=!1,at[o]||(at[o]=[]),ft.push(at[o])):(at[o]||(at[o]={}),at[o][a]?de.Debug&&Yp.warn(o,a,"already exists"):(at[o][a]=[],ft.push(at[o][a]),bt.push(a))),gt=o,vt=a,yt=!0;else{var s=B.match(BA),c=s[0],u=s[1];o=(n=c.split("."))[0].substring(1),a=n[1],1===n.length?(a=!1,at[o]=u):(at[o]||(at[o]={}),at[o][a]?de.Debug&&Yp.warn(o,a,"already exists"):at[o][a]=u),u||(lt=!0),gt=o,vt=a}}else if(ut)ht+=k;else if(pt){if(!B)continue;if("atom_site"===gt){var h=B.split(kA);yt&&(N=bt.indexOf("auth_asym_id"),F=bt.indexOf("auth_seq_id"),z=bt.indexOf("label_atom_id"),U=bt.indexOf("label_comp_id"),j=bt.indexOf("label_asym_id"),G=bt.indexOf("label_entity_id"),V=bt.indexOf("label_alt_id"),Y=bt.indexOf("Cartn_x"),Z=bt.indexOf("Cartn_y"),K=bt.indexOf("Cartn_z"),$=bt.indexOf("id"),W=bt.indexOf("type_symbol"),H=bt.indexOf("group_PDB"),J=bt.indexOf("B_iso_or_equiv"),X=bt.indexOf("pdbx_PDB_model_num"),q=bt.indexOf("pdbx_PDB_ins_code"),Q=bt.indexOf("occupancy"),yt=!1,wt=parseInt(h[X]),rt&&(R=[],D=0));var l=parseInt(h[X]);if(wt!==l&&(rt&&(0===At&&ot.push(new Float32Array(R)),R=new Float32Array(3*_t.count),ot.push(R),D=0),At+=1),wt=l,it&&0<At)continue;var p=h[z].replace(NA,"");if(nt&&"CA"!==p)continue;var d=parseFloat(h[Y]),f=parseFloat(h[Z]),m=parseFloat(h[K]);if(rt){var g=3*D;if(R[g+0]=d,R[g+1]=f,R[g+2]=m,D+=1,0<At)continue}var v=h[U],y=parseInt(h[F]),b=h[q];b="?"===b?"":b;var x=h[N],_=h[j],w="H"===h[H][0]?1:0,S=h[W],A=parseFloat(h[J]),M=parseFloat(h[Q]),E=h[V];if(E="."===E?"":E,_t.growIfFull(),_t.atomTypeId[St]=xt.add(p,S),_t.x[St]=d,_t.y[St]=f,_t.z[St]=m,_t.serial[St]=parseInt(h[$]),_t.bfactor[St]=isNaN(A)?0:A,_t.occupancy[St]=isNaN(M)?0:M,_t.altloc[St]=E.charCodeAt(0),et.addAtom(At,x,_,v,y,w,void 0,b),de.Debug){var P=st[_];void 0!==P&&P!==x&&de.Debug&&Yp.warn(P,x)}st[_]=x;var T=h[G];ct[T]||(ct[T]=new Set),ct[T].add(tt.chainStore.count-1),St+=1}else{var C=B.match(BA),I=C.length;mt===ft.length&&(mt=0);for(var O=0;O<I;++O)ft[mt+O].push(C[O]);mt+=I}dt=!1}else if("'"===B[0]&&"'"===B[B.length-1]){var L=B.substring(1,B.length-1);!1===vt?at[gt]=L:at[gt][vt]=L}else lt?!1===vt?at[gt]=B:at[gt][vt]=B:de.Debug&&Yp.log("CifParser._parse: unknown state",B);else lt=pt=ut=!1,ft.length=0,yt=vt=gt=mt=null,bt.length=0}(0,t.length,t)}),at.chem_comp&&at.chem_comp_atom)!function(t,e,i){var r,n,o=e.atomStore,a=e.atomMap,s=t.chem_comp,c=t.chem_comp_atom,u=t.chem_comp_bond;s&&(s.name&&(e.title=s.name.trim().replace(FA,"")),s.id&&(e.id=s.id.trim().replace(FA,"")));var h={};if(c){var l,p,d,f;for(UA(c,"comp_id"),n=c.comp_id.length,r=0;r<n;++r)o.growIfFull(),l=c.atom_id[r].replace(NA,""),p=c.type_symbol[r],h[l]=r,o.atomTypeId[r]=a.add(l,p),o.x[r]=c.model_Cartn_x[r],o.y[r]=c.model_Cartn_y[r],o.z[r]=c.model_Cartn_z[r],o.serial[r]=r,d=c.pdbx_component_comp_id[r],f=c.pdbx_residue_numbering?c.pdbx_residue_numbering[r]:1,i.addAtom(0,"","",d,f,!0);for(r=0;r<n;++r){var m=r+n;o.growIfFull(),l=c.atom_id[r].replace(NA,""),p=c.type_symbol[r],o.atomTypeId[m]=a.add(l,p),o.x[m]=c.pdbx_model_Cartn_x_ideal[r],o.y[m]=c.pdbx_model_Cartn_y_ideal[r],o.z[m]=c.pdbx_model_Cartn_z_ideal[r],o.serial[m]=m,d=c.pdbx_component_comp_id[r],f=c.pdbx_residue_numbering?c.pdbx_residue_numbering[r]:1,i.addAtom(1,"","",d,f,!0)}}if(c&&u){var g,v,y;UA(u,"comp_id"),n=u.comp_id.length;var b=c.comp_id.length,x=e.getAtomProxy(),_=e.getAtomProxy();for(r=0;r<n;++r)g=u.atom_id_1[r].replace(NA,""),v=u.atom_id_2[r].replace(NA,""),y=VA(u.value_order[r]),x.index=h[g],_.index=h[v],e.bondStore.growIfFull(),e.bondStore.addBond(x,_,y),x.index+=b,_.index+=b,e.bondStore.growIfFull(),e.bondStore.addBond(x,_,y)}}(at,tt,et),et.finalize(),tt.finalizeAtoms(),tt.finalizeBonds(),Db(tt);else if(at.atom_site_type_symbol&&at.atom_site_label&&at.atom_site_fract_x)!function(t,e,c){var u=e.atomStore,i=e.atomMap;t.data&&(e.id=t.data,e.name=t.data),e.unitcell=new TA({a:parseFloat(t.cell_length_a),b:parseFloat(t.cell_length_b),c:parseFloat(t.cell_length_c),alpha:parseFloat(t.cell_angle_alpha),beta:parseFloat(t.cell_angle_beta),gamma:parseFloat(t.cell_angle_gamma),spacegroup:zA(t["symmetry_space_group_name_H-M"])});for(var h=new ri,r=new ri,l=t.atom_site_type_symbol.length,n=0;n<l;++n){u.growIfFull();var o=t.atom_site_label[n],a=t.atom_site_type_symbol[n];u.atomTypeId[n]=i.add(o,a),h.set(t.atom_site_fract_x[n],t.atom_site_fract_y[n],t.atom_site_fract_z[n]),h.applyMatrix4(e.unitcell.fracToCart),r.add(h),u.x[n]=h.x,u.y[n]=h.y,u.z[n]=h.z,t.atom_site_occupancy&&(u.occupancy[n]=parseFloat(t.atom_site_occupancy[n])),u.serial[n]=n,c.addAtom(0,"","","HET",1,!0)}r.divideScalar(l),e.center=r,Ib(e);var p=new ri,d=new ri,f=e.biomolDict.SUPERCELL.partList[0].matrixList,m=l;function g(t){return i.get(u.atomTypeId[t]).covalent}for(var v=new ei,s=function(a){var s=g(a);h.set(u.x[a],u.y[a],u.z[a]),f.forEach(function(t){if(!v.equals(t)){p.copy(h),p.applyMatrix4(t);for(var e=0;e<l;++e){d.set(u.x[e],u.y[e],u.z[e]);var i=p.distanceToSquared(d),r=g(e)+s,n=r+.3,o=r-.5;if(i<n*n&&o*o<i)return u.growIfFull(),u.atomTypeId[m]=u.atomTypeId[a],u.x[m]=p.x,u.y[m]=p.y,u.z[m]=p.z,u.occupancy[m]=u.occupancy[a],u.serial[m]=m,u.altloc[m]="A".charCodeAt(0),c.addAtom(0,"","","HET",1,!0),void(m+=1)}}})},y=0;y<l;++y)s(y)}(at,tt,et),et.finalize(),tt.finalizeAtoms(),Mb(tt),tt.finalizeBonds();else{var t=function(t,e,i){var r,n,o,a,s=[],c=[],u=t.struct_conf;if(u)for(UA(u,"id"),r=0,n=u.beg_auth_seq_id.length;r<n;++r){var h=parseInt(u.pdbx_PDB_helix_class[r]);Number.isNaN(h)||(o=u.pdbx_beg_PDB_ins_code[r],a=u.pdbx_end_PDB_ins_code[r],s.push([i[u.beg_label_asym_id[r]],parseInt(u.beg_auth_seq_id[r]),GA(o,""),i[u.end_label_asym_id[r]],parseInt(u.end_auth_seq_id[r]),GA(a,""),(CA[h]||CA[0]).charCodeAt(0)]))}var l=t.struct_sheet_range;if(l)for(UA(l,"id"),r=0,n=l.beg_auth_seq_id.length;r<n;++r)o=l.pdbx_beg_PDB_ins_code[r],a=l.pdbx_end_PDB_ins_code[r],c.push([i[l.beg_label_asym_id[r]],parseInt(l.beg_auth_seq_id[r]),GA(o,""),i[l.end_label_asym_id[r]],parseInt(l.end_auth_seq_id[r]),GA(a,"")]);return!(!u&&!l)&&{helices:s,sheets:c}}(at,0,st);if(function(t,e,p){var o={},d=e.biomolDict;if(t.pdbx_struct_oper_list){var n=t.pdbx_struct_oper_list;UA(n,"id"),n.id.forEach(function(t,e){var i=new ei,r=i.elements;r[0]=parseFloat(n["matrix[1][1]"][e]),r[1]=parseFloat(n["matrix[1][2]"][e]),r[2]=parseFloat(n["matrix[1][3]"][e]),r[4]=parseFloat(n["matrix[2][1]"][e]),r[5]=parseFloat(n["matrix[2][2]"][e]),r[6]=parseFloat(n["matrix[2][3]"][e]),r[8]=parseFloat(n["matrix[3][1]"][e]),r[9]=parseFloat(n["matrix[3][2]"][e]),r[10]=parseFloat(n["matrix[3][3]"][e]),r[3]=parseFloat(n["vector[1]"][e]),r[7]=parseFloat(n["vector[2]"][e]),r[11]=parseFloat(n["vector[3]"][e]),i.transpose(),o[t]=i})}if(t.pdbx_struct_assembly_gen){var f=t.pdbx_struct_assembly_gen;UA(f,"assembly_id");var m=function(t){var n={};return t.replace(/[()']/g,"").split(",").forEach(function(t){if(t.includes("-"))for(var e=t.split("-"),i=parseInt(e[0]),r=parseInt(e[1]);i<=r;++i)n[i]=o[i];else n[t]=o[t]}),n};f.assembly_id.forEach(function(t,e){var r={},i=f.oper_expression[e].replace(/['"]\(|['"]/g,"");if(i.includes(")(")||0<i.indexOf("(")){i=i.split("(");var n=m(i[0]),o=m(i[1]);Object.keys(n).forEach(function(i){Object.keys(o).forEach(function(t){var e=new ei;e.multiplyMatrices(n[i],o[t]),r[i+"x"+t]=e})})}else r=m(i);var a=[];for(var s in r)a.push(r[s]);var c=t;/^(0|[1-9][0-9]*)$/.test(c)&&(c="BU"+c);for(var u=f.asym_id_list[e].split(","),h=0,l=u.length;h<l;++h)u[h]=p[u[h]];void 0===d[c]&&(d[c]=new fb(c)),d[c].addPart(a,u)})}if(t.struct_ncs_oper){var a=t.struct_ncs_oper;UA(a,"id"),d.NCS=new fb("NCS");var s=d.NCS.addPart();a.id.forEach(function(t,e){if("given"!==a.code[e]){var i=new ei,r=i.elements;r[0]=parseFloat(a["matrix[1][1]"][e]),r[1]=parseFloat(a["matrix[1][2]"][e]),r[2]=parseFloat(a["matrix[1][3]"][e]),r[4]=parseFloat(a["matrix[2][1]"][e]),r[5]=parseFloat(a["matrix[2][2]"][e]),r[6]=parseFloat(a["matrix[2][3]"][e]),r[8]=parseFloat(a["matrix[3][1]"][e]),r[9]=parseFloat(a["matrix[3][2]"][e]),r[10]=parseFloat(a["matrix[3][3]"][e]),r[3]=parseFloat(a["vector[1]"][e]),r[7]=parseFloat(a["vector[2]"][e]),r[11]=parseFloat(a["vector[3]"][e]),i.transpose(),s.matrixList.push(i)}}),0===s.matrixList.length&&delete d.NCS}var i={};if(t.cell){var r=t.cell,c=parseFloat(r.length_a),u=parseFloat(r.length_b),h=parseFloat(r.length_c),l=new Float32Array(9);l[0]=c,l[4]=u,l[8]=h,e.boxes.push(l),i.a=c,i.b=u,i.c=h,i.alpha=parseFloat(r.angle_alpha),i.beta=parseFloat(r.angle_beta),i.gamma=parseFloat(r.angle_gamma)}t.symmetry&&(i.spacegroup=zA(t.symmetry["space_group_name_H-M"]));var g=new ei;if(t.database_PDB_matrix){var v=t.database_PDB_matrix,y=g.elements;y[0]=parseFloat(v["origx[1][1]"]),y[1]=parseFloat(v["origx[1][2]"]),y[2]=parseFloat(v["origx[1][3]"]),y[4]=parseFloat(v["origx[2][1]"]),y[5]=parseFloat(v["origx[2][2]"]),y[6]=parseFloat(v["origx[2][3]"]),y[8]=parseFloat(v["origx[3][1]"]),y[9]=parseFloat(v["origx[3][2]"]),y[10]=parseFloat(v["origx[3][3]"]),y[3]=parseFloat(v["origx_vector[1]"]),y[7]=parseFloat(v["origx_vector[2]"]),y[11]=parseFloat(v["origx_vector[3]"]),g.transpose(),i.origx=g}var b=new ei;if(t.atom_sites){var x=t.atom_sites,_=b.elements;_[0]=parseFloat(x["fract_transf_matrix[1][1]"]),_[1]=parseFloat(x["fract_transf_matrix[1][2]"]),_[2]=parseFloat(x["fract_transf_matrix[1][3]"]),_[4]=parseFloat(x["fract_transf_matrix[2][1]"]),_[5]=parseFloat(x["fract_transf_matrix[2][2]"]),_[6]=parseFloat(x["fract_transf_matrix[2][3]"]),_[8]=parseFloat(x["fract_transf_matrix[3][1]"]),_[9]=parseFloat(x["fract_transf_matrix[3][2]"]),_[10]=parseFloat(x["fract_transf_matrix[3][3]"]),_[3]=parseFloat(x["fract_transf_vector[1]"]),_[7]=parseFloat(x["fract_transf_vector[2]"]),_[11]=parseFloat(x["fract_transf_vector[3]"]),b.transpose(),i.scale=b}void 0!==i.a?e.unitcell=new TA(i):e.unitcell=void 0}(at,tt,st),function(t,e,i){var r=t.struct_conn;if(r){UA(r,"id");for(var n=/"/g,o=e.getAtomProxy(),a=e.getAtomProxy(),s={},c=0,u=r.id.length;c<u;++c){var h=r.conn_type_id[c];if("hydrog"!==h&&"mismat"!==h&&"saltbr"!==h&&"1_555"===r.ptnr1_symmetry[c]&&"1_555"===r.ptnr2_symmetry[c]){var l=r.pdbx_ptnr1_PDB_ins_code[c],p=r.pdbx_ptnr1_label_alt_id[c],d=r.ptnr1_auth_seq_id[c]+(jA(l)?"^"+l:"")+":"+i[r.ptnr1_label_asym_id[c]]+"."+r.ptnr1_label_atom_id[c].replace(n,"")+(jA(p)?"%"+p:""),f=s[d];if(!f){var m=new Lp(d);if(m.selection.error){de.Debug&&Yp.warn("invalid selection for connection",d);continue}f=e.getAtomIndices(m),s[d]=f}var g=r.pdbx_ptnr2_PDB_ins_code[c],v=r.pdbx_ptnr2_label_alt_id[c],y=r.ptnr2_auth_seq_id[c]+(jA(g)?"^"+g:"")+":"+i[r.ptnr2_label_asym_id[c]]+"."+r.ptnr2_label_atom_id[c].replace(n,"")+(jA(v)?"%"+v:""),b=s[y];if(!b){var x=new Lp(y);if(x.selection.error){de.Debug&&Yp.warn("invalid selection for connection",y);continue}b=e.getAtomIndices(x),s[y]=b}var _=f.length,w=b.length;if(w<_){var S=_;_=w,w=S;var A=f;f=b,b=A}if(0!==_&&0!==w)for(var M=0;M<w;++M)o.index=f[M%_],a.index=b[M],o&&a?e.bondStore.addBond(o,a,VA(r.pdbx_value_order[c])):Yp.log("atoms for connection not found");else de.Debug&&Yp.warn("no atoms found for",d,y)}}}}(at,tt,st),function(t,e,i){if(t.entity){UA(t.entity,"id");for(var r=t.entity,n=r.id.length,o=0;o<n;++o){var a=r.pdbx_description[o],s=r.type[o],c=Array.from(i[r.id[o]]);e.entityList[o]=new MA(e,o,a,s,c)}}}(at,tt,ct),at.struct&&at.struct.title&&(tt.title=at.struct.title.trim().replace(FA,"")),at.entry&&at.entry.id&&(tt.id=at.entry.id.trim().replace(FA,"")),at.pdbx_audit_revision_history){if(at.pdbx_audit_revision_history.revision_date){UA(at.pdbx_audit_revision_history,"revision_date");var e=at.pdbx_audit_revision_history.revision_date.filter(jA);e.length&&(tt.header.releaseDate=e[0])}if(at.pdbx_database_status.recvd_initial_deposition_date){UA(at.pdbx_database_status,"recvd_initial_deposition_date");var i=at.pdbx_database_status.recvd_initial_deposition_date.filter(jA);i.length&&(tt.header.depositionDate=i[0])}}else if(at.database_PDB_rev){if(at.database_PDB_rev.date){UA(at.database_PDB_rev,"date");var r=at.database_PDB_rev.date.filter(jA);r.length&&(tt.header.releaseDate=r[0])}if(at.database_PDB_rev.date_original){UA(at.database_PDB_rev,"date_original");var n=at.database_PDB_rev.date_original.filter(jA);n.length&&(tt.header.depositionDate=n[0])}}at.reflns&&at.reflns.d_resolution_high?jA(at.reflns.d_resolution_high)&&(tt.header.resolution=parseFloat(at.reflns.d_resolution_high)):at.refine&&at.refine.ls_d_res_high&&jA(at.refine.ls_d_res_high)&&(tt.header.resolution=parseFloat(at.refine.ls_d_res_high)),at.refine&&at.refine.ls_R_factor_R_free&&jA(at.refine.ls_R_factor_R_free)&&(tt.header.rFree=parseFloat(at.refine.ls_R_factor_R_free)),at.refine&&at.refine.ls_R_factor_R_work&&jA(at.refine.ls_R_factor_R_work)&&(tt.header.rWork=parseFloat(at.refine.ls_R_factor_R_work)),at.exptl&&at.exptl.method&&(UA(at.exptl,"method"),tt.header.experimentalMethods=at.exptl.method.map(function(t){return t.replace(FA,"")})),et.finalize(),tt.finalizeAtoms(),Mb(tt),tt.finalizeBonds(),t?bb(tt,t):_b(tt),Ib(tt),tt.extraData.cif=at}de.Debug&&Yp.timeEnd("CifParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(AA);id.add("cif",HA),id.add("mcif",HA),id.add("mmcif",HA);var $A=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"gro"},e.prototype._parse=function(){de.Debug&&Yp.time("GroParser._parse "+this.name);var p,d,t=this.structure,f=this.structureBuilder,m=this.firstModelOnly,g=this.asTrajectory,v=this.cAlphaOnly,y=t.frames,b=t.boxes,e=this.streamer.peekLines(3);t.title=e[0].trim();var x,_,w,S,A=5+(e[2].length-e[2].lastIndexOf(".")-1),M=20,E=20+A,P=20+2*A,T=parseInt(e[1]),C=T+3,I=t.atomMap,O=t.atomStore;O.resize(T);var L=0,R=0,D=0;this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=++D-1,o=i[r];if(o)if(n%C==0)g&&(p=new Float32Array(3*T),y.push(p),d=0);else if(n%C==1);else if(n%C==C-1){var a=o.trim().split(/\s+/),s=new Float32Array(9);if(s[0]=10*parseFloat(a[0]),s[4]=10*parseFloat(a[1]),s[8]=10*parseFloat(a[2]),b.push(s),m)return;R+=1}else{if(x=o.substr(10,5).trim(),v&&"CA"!==x)continue;var c=10*parseFloat(o.substr(M,A)),u=10*parseFloat(o.substr(E,A)),h=10*parseFloat(o.substr(P,A));if(g){var l=3*d;if(p[l+0]=c,p[l+1]=u,p[l+2]=h,d+=1,C<n)continue}_=o.substr(5,5).trim(),w=parseInt(o.substr(0,5)),S=parseInt(o.substr(15,5)),O.growIfFull(),O.atomTypeId[L]=I.add(x),O.x[L]=c,O.y[L]=u,O.z[L]=h,O.serial[L]=S,f.addAtom(R,"","",_,w,0,"l"),L+=1}}}(0,t.length,t)}),f.finalize(),t.finalizeAtoms(),Ab(t),Mb(t),t.finalizeBonds(),_b(t),de.Debug&&Yp.timeEnd("GroParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(AA);id.add("gro",$A);var WA=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"].concat(["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"]);function XA(t,e,i){return e?new t(e.buffer,e.byteOffset,e.byteLength/(i||1)):void 0}function qA(t){return XA(DataView,t)}function YA(t){return XA(Int8Array,t)}function ZA(t){return XA(Int32Array,t,4)}function KA(t,e){var i=t.length/2;e||(e=new Int16Array(i));for(var r=0,n=0;r<i;++r,n+=2)e[r]=t[n]<<8^t[n+1]<<0;return e}function JA(t,e){var i=t.length/4;e||(e=new Int32Array(i));for(var r=0,n=0;r<i;++r,n+=4)e[r]=t[n]<<24^t[n+1]<<16^t[n+2]<<8^t[n+3]<<0;return e}function QA(t,e,i){var r=t.length,n=1/e;i||(i=new Float32Array(r));for(var o=0;o<r;++o)i[o]=t[o]*n;return i}function tM(t,e){var i,r;if(!e){var n=0;for(i=0,r=t.length;i<r;i+=2)n+=t[i+1];e=new t.constructor(n)}var o=0;for(i=0,r=t.length;i<r;i+=2)for(var a=t[i],s=t[i+1],c=0;c<s;++c)e[o]=a,++o;return e}function eM(t,e){var i=t.length;e||(e=new t.constructor(i)),i&&(e[0]=t[0]);for(var r=1;r<i;++r)e[r]=t[r]+e[r-1];return e}function iM(t,e){var i,r,n=t instanceof Int8Array?127:32767,o=-n-1,a=t.length;if(!e){var s=0;for(i=0;i<a;++i)t[i]<n&&t[i]>o&&++s;e=new Int32Array(s)}for(r=i=0;i<a;){for(var c=0;t[i]===n||t[i]===o;)c+=t[i],++i;c+=t[i],++i,e[r]=c,++r}return e}function rM(t,e,i){return QA(iM(t,ZA(i)),e,i)}function nM(t,e,i){var r,n,o,a=iM(t,ZA(i));return n=e,o=XA(Float32Array,r=a,4),QA(eM(r,ZA(o)),n,o)}function oM(n){var o=0,r=new DataView(n.buffer);function a(t){for(var e={},i=0;i<t;i++){e[h()]=h()}return e}function s(t){var e=n.subarray(o,o+t);return o+=t,e}function c(t){var e=n.subarray(o,o+t);o+=t;if(65535<t){for(var i=[],r=0;r<e.length;r+=65535)i.push(String.fromCharCode.apply(null,e.subarray(r,r+65535)));return i.join("")}return String.fromCharCode.apply(null,e)}function u(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=h();return e}function h(){var t,e,i=n[o];if(0==(128&i))return o++,i;if(128==(240&i))return o++,a(e=15&i);if(144==(240&i))return o++,u(e=15&i);if(160==(224&i))return o++,c(e=31&i);if(224==(224&i))return t=r.getInt8(o),o++,t;switch(i){case 192:return o++,null;case 194:return o++,!1;case 195:return o++,!0;case 196:return e=r.getUint8(o+1),o+=2,s(e);case 197:return e=r.getUint16(o+1),o+=3,s(e);case 198:return e=r.getUint32(o+1),o+=5,s(e);case 202:return t=r.getFloat32(o+1),o+=5,t;case 203:return t=r.getFloat64(o+1),o+=9,t;case 204:return t=n[o+1],o+=2,t;case 205:return t=r.getUint16(o+1),o+=3,t;case 206:return t=r.getUint32(o+1),o+=5,t;case 208:return t=r.getInt8(o+1),o+=2,t;case 209:return t=r.getInt16(o+1),o+=3,t;case 210:return t=r.getInt32(o+1),o+=5,t;case 217:return e=r.getUint8(o+1),o+=2,c(e);case 218:return e=r.getUint16(o+1),o+=3,c(e);case 219:return e=r.getUint32(o+1),o+=5,c(e);case 220:return e=r.getUint16(o+1),o+=3,u(e);case 221:return e=r.getUint32(o+1),o+=5,u(e);case 222:return e=r.getUint16(o+1),o+=3,a(e);case 223:return e=r.getUint32(o+1),o+=5,a(e)}throw new Error("Unknown type 0x"+i.toString(16))}return h()}function aM(t,e,i,r){switch(t){case 1:return function(t,e){var i=t.length;e||(e=new Float32Array(i/4));for(var r=qA(e),n=qA(t),o=0,a=0,s=i/4;o<s;++o,a+=4)r.setFloat32(a,n.getFloat32(a),!0);return e}(e);case 2:return YA(e);case 3:return KA(e);case 4:return JA(e);case 5:return XA(Uint8Array,e);case 6:return tM(JA(e),new Uint8Array(i));case 7:return tM(JA(e));case 8:return eM(tM(JA(e)),s);case 9:return n=JA(e),o=JA(r)[0],QA(tM(n,ZA(a)),o,a);case 10:return nM(KA(e),JA(r)[0]);case 11:return QA(KA(e),JA(r)[0]);case 12:return rM(KA(e),JA(r)[0]);case 13:return rM(YA(e),JA(r)[0]);case 14:return iM(KA(e));case 15:return iM(YA(e))}var n,o,a,s}function sM(c,t){var u=(t=t||{}).ignoreFields,h={};return WA.forEach(function(t){var e,i,r,n,o,a=!!u&&-1!==u.indexOf(t),s=c[t];a||void 0===s||(s instanceof Uint8Array?h[t]=aM.apply(null,(i=qA(e=s),r=i.getInt32(0),n=i.getInt32(4),o=e.subarray(8,12),[r,e=e.subarray(12),n,o])):h[t]=s)}),h}var cM={0:"i".charCodeAt(0),1:"s".charCodeAt(0),2:"h".charCodeAt(0),3:"e".charCodeAt(0),4:"g".charCodeAt(0),5:"b".charCodeAt(0),6:"t".charCodeAt(0),7:"l".charCodeAt(0),"-1":"".charCodeAt(0)},uM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"mmtf"},i.isBinary.get=function(){return!0},e.prototype._parse=function(){var t,e,i,r,n;de.Debug&&Yp.time("MmtfParser._parse "+this.name);var o,a,s,c,u,h,l=this.structure,p=sM(oM(this.streamer.data));if(["depositionDate","releaseDate","resolution","rFree","rWork","experimentalMethods"].forEach(function(t){void 0!==p[t]&&(l.header[t]=p[t])}),l.id=p.structureId,l.title=p.title,l.atomStore.addField("formalCharge",1,"int8"),this.firstModelOnly||this.asTrajectory){for(u=1,t=s=0,e=c=p.chainsPerModel[0];t<e;++t)s+=p.groupsPerChain[t];for(t=a=0,e=s;t<e;++t)a+=(n=p.groupList[p.groupTypeList[t]]).atomNameList.length;o=p.numBonds,h=[c]}else o=p.numBonds,a=p.numAtoms,s=p.numGroups,c=p.numChains,u=p.numModels,h=p.chainsPerModel;if(o+=s,this.asTrajectory)for(t=0,e=p.numModels;t<e;++t){var d=new Float32Array(3*a),f=a*t;for(i=0;i<a;++i){var m=3*i,g=i+f;d[m]=p.xCoordList[g],d[m+1]=p.yCoordList[g],d[m+2]=p.zCoordList[g]}l.frames.push(d)}var v=new Uint32Array(o),y=new Uint32Array(o),b=new Uint8Array(o),x=new Uint32Array(a),_=new Int8Array(a),w=new Uint32Array(s),S=new Uint32Array(s),A=new Uint16Array(s),M=new Uint16Array(c),E=new Uint32Array(c),P=new Uint32Array(c),T=new Uint32Array(u),C=new Uint32Array(u),I=0;for(t=0,e=u;t<e;++t){var O=h[t];for(T[t]=I,C[t]=O,i=0;i<O;++i)M[i+I]=t;I+=O}var L=p.groupsPerChain,R=0;for(t=0,e=c;t<e;++t){var D=L[t];for(E[t]=R,P[t]=D,i=0;i<D;++i)w[i+R]=t;R+=D}var k=0,B=0;for(t=0,e=s;t<e;++t){var N=(n=p.groupList[p.groupTypeList[t]]).atomNameList.length,F=n.formalChargeList,z=n.bondAtomList,U=n.bondOrderList;for(i=0,r=U.length;i<r;++i)v[B]=k+z[2*i],y[B]=k+z[2*i+1],b[B]=U[i],B+=1;for(S[t]=k,A[t]=N,i=0;i<N;++i)x[k]=t,_[k]=F[i],k+=1}var j=p.bondAtomList;if(j)for(p.bondOrderList&&b.set(p.bondOrderList,B),t=0,e=j.length;t<e;t+=2){var G=j[t],V=j[t+1];G<a&&V<a&&(v[B]=G,y[B]=V,B+=1)}l.bondStore.length=b.length,l.bondStore.count=B,l.bondStore.atomIndex1=v,l.bondStore.atomIndex2=y,l.bondStore.bondOrder=b,l.atomStore.length=a,l.atomStore.count=a,l.atomStore.residueIndex=x,l.atomStore.atomTypeId=new Uint16Array(a),l.atomStore.x=p.xCoordList.subarray(0,a),l.atomStore.y=p.yCoordList.subarray(0,a),l.atomStore.z=p.zCoordList.subarray(0,a),l.atomStore.serial=p.atomIdList.subarray(0,a),l.atomStore.bfactor=p.bFactorList.subarray(0,a),l.atomStore.altloc=p.altLocList.subarray(0,a),l.atomStore.occupancy=p.occupancyList.subarray(0,a),l.atomStore.formalCharge=_,l.residueStore.length=s,l.residueStore.count=s,l.residueStore.chainIndex=w,l.residueStore.residueTypeId=p.groupTypeList,l.residueStore.atomOffset=S,l.residueStore.atomCount=A,l.residueStore.resno=p.groupIdList.subarray(0,s),l.residueStore.sstruc=p.secStructList.subarray(0,s),l.residueStore.inscode=p.insCodeList.subarray(0,s),l.chainStore.length=c,l.chainStore.count=c,l.chainStore.entityIndex=new Uint16Array(c),l.chainStore.modelIndex=M,l.chainStore.residueOffset=E,l.chainStore.residueCount=P,l.chainStore.chainname=p.chainNameList.subarray(0,4*c),l.chainStore.chainid=p.chainIdList.subarray(0,4*c),l.modelStore.length=u,l.modelStore.count=u,l.modelStore.chainOffset=T,l.modelStore.chainCount=C;var H={};for(t=0,e=p.groupList.length;t<e;++t){var $=p.groupList[t],W=[];for(i=0,r=$.atomNameList.length;i<r;++i){var X=$.elementList[i].toUpperCase(),q=$.atomNameList[i];W.push(l.atomMap.add(q,X))}var Y=$.chemCompType.toUpperCase(),Z=hg.includes(Y),K=$.bondOrderList.length,J=new Array(K),Q=new Array(K);for(i=0;i<K;++i)J[i]=$.bondAtomList[2*i],Q[i]=$.bondAtomList[2*i+1];var tt={atomIndices1:J,atomIndices2:Q,bondOrders:$.bondOrderList};H[t]=l.residueMap.add($.groupName,W,Z,Y,tt)}for(t=0,e=s;t<e;++t)l.residueStore.residueTypeId[t]=H[l.residueStore.residueTypeId[t]];for(t=0,e=l.atomStore.count;t<e;++t){var et=l.atomStore.residueIndex[t],it=l.residueMap.list[l.residueStore.residueTypeId[et]],rt=l.residueStore.atomOffset[et];l.atomStore.atomTypeId[t]=it.atomTypeIdList[t-rt]}if(p.secStructList){var nt=p.secStructList.length;for(t=0,e=l.residueStore.count;t<e;++t){var ot=cM[l.residueStore.sstruc[t%nt]];void 0!==ot&&(l.residueStore.sstruc[t]=ot)}}if(p.entityList&&p.entityList.forEach(function(t,e){l.entityList[e]=new MA(l,e,t.description,t.type,t.chainIndexList)}),p.bioAssemblyList&&p.bioAssemblyList.forEach(function(t,e){var i=e+1,n=new fb(""+i);l.biomolDict["BU"+i]=n;var o={};t.transformList.forEach(function(t){var e=(new ei).fromArray(t.matrix).transpose(),i=t.chainIndexList.map(function(t){for(var e="",i=0;i<4;++i){var r=p.chainNameList[4*t+i];if(!r)break;e+=String.fromCharCode(r)}return e}),r=o[i.toString()];r?r.matrixList.push(e):o[i.toString()]=n.addPart([e],i)})}),p.ncsOperatorList){var at=new fb("NCS"),st=at.addPart();p.ncsOperatorList.forEach(function(t){var e=(new ei).fromArray(t).transpose();st.matrixList.push(e)}),0<st.matrixList.length&&(l.biomolDict.NCS=at)}var ct=p.unitCell;ct&&Array.isArray(ct)&&ct[0]?l.unitcell=new TA({a:ct[0],b:ct[1],c:ct[2],alpha:ct[3],beta:ct[4],gamma:ct[5],spacegroup:p.spaceGroup}):l.unitcell=void 0,Cb(l,!0),Tb(l,!0),l.finalizeAtoms(),l.finalizeBonds(),Ib(l),de.Debug&&Yp.timeEnd("MmtfParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(AA);id.add("mmtf",uM);var hM=/\s+/,lM={1:1,2:2,3:3,am:1,ar:1,du:1,un:1,nc:0},pM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"mol2"},e.prototype._parse=function(){de.Debug&&Yp.time("Mol2Parser._parse "+this.name);var b,x,_=this.structure,w=this.structureBuilder,S=this.firstModelOnly,A=this.asTrajectory,M=_.frames,E=!1,P=_.atomMap,T=_.atomStore;T.resize(Math.round(this.streamer.data.length/60)),T.addField("partialCharge",1,"float32");var C=0,I=0,O=0,L=-1,R=0,D=0,k=1,B=2,N=3,F=_.getAtomProxy(),z=_.getAtomProxy();this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=i[r].trim();if(""!==n&&"#"!==n[0])if("@"===n[0])"@<TRIPOS>MOLECULE"===n?(D=k,I=0,++L):"@<TRIPOS>ATOM"===n?(D=B,O=T.count,A&&(x=0,b=new Float32Array(3*R),M.push(b),0<L&&(E=!0))):D="@<TRIPOS>BOND"===n?N:0;else if(D===k){if(0===I)_.title=n,_.id=n;else if(1===I){var o=n.split(hM);R=parseInt(o[0])}++I}else if(D===B){var a=n.split(hM);if(S&&0<L)continue;var s=parseFloat(a[2]),c=parseFloat(a[3]),u=parseFloat(a[4]);if(A){var h=3*x;if(b[h+0]=s,b[h+1]=c,b[h+2]=u,x+=1,E)continue}var l=a[0],p=a[1],d=a[5].split(".")[0],f=a[6]?parseInt(a[6]):1,m=a[7]?a[7]:"",g=a[8]?parseFloat(a[8]):0;T.growIfFull(),T.atomTypeId[C]=P.add(p,d),T.x[C]=s,T.y[C]=c,T.z[C]=u,T.serial[C]=l,T.partialCharge[C]=g,w.addAtom(L,"","",m,f,1),C+=1}else if(D===N){if(S&&0<L)continue;if(A&&0<L)continue;var v=n.split(hM);F.index=parseInt(v[1])-1+O,z.index=parseInt(v[2])-1+O;var y=lM[v[3]];_.bondStore.addBond(F,z,y)}}}(0,t.length,t)}),w.finalize(),_.finalizeAtoms(),Ab(_),Tb(_,!0),Cb(_,!0),_.finalizeBonds(),Db(_),_b(_),de.Debug&&Yp.timeEnd("Mol2Parser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(AA);id.add("mol2",pM);var dM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"pdbqt"},Object.defineProperties(e.prototype,i),e}(DA);id.add("pdbqt",dM);var fM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"pqr"},Object.defineProperties(e.prototype,i),e}(DA);id.add("pqr",fM);var mM=/> <(.+)>/,gM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"sdf"},e.prototype._parse=function(){de.Debug&&Yp.time("SdfParser._parse "+this.name);var v=this.structure,y=this.structureBuilder,b=this.firstModelOnly,x=this.asTrajectory,t=this.streamer.peekLines(2);v.id=t[0].trim(),v.title=t[1].trim();var _,w,S=v.frames,A=!1,M=v.atomMap,E=v.atomStore;E.resize(Math.round(this.streamer.data.length/50)),E.addField("formalCharge",1,"int8");var P,T,C,I,O,L,R,D=v.getAtomProxy(),k=v.getAtomProxy(),B=0,N=0,F=0,z=0,U=[],j=!1,G={};v.extraData.sdf=U,this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=i[r];if("$$$$"===n.substr(0,4))N=-1,++F,z=E.count,U.push(G),j=!(G={});else if(3===N)T=parseInt(n.substr(0,3)),C=parseInt(n.substr(3,3)),R=(L=O=(I=4)+T)+C,x&&(w=0,_=new Float32Array(3*T),S.push(_),0<F&&(A=!0));else if(I<=N&&N<O){if(b&&0<F)continue;var o=parseFloat(n.substr(0,10)),a=parseFloat(n.substr(10,10)),s=parseFloat(n.substr(20,10));if(x){var c=3*w;if(_[c+0]=o,_[c+1]=a,_[c+2]=s,w+=1,A)continue}var u=n.substr(31,3).trim(),h=u+(B+1);E.growIfFull(),E.atomTypeId[B]=M.add(h,u),E.x[B]=o,E.y[B]=a,E.z[B]=s,E.serial[B]=B,E.formalCharge[B]=0,y.addAtom(F,"","","HET",1,1),B+=1}else if(L<=N&&N<R){if(b&&0<F)continue;if(x&&0<F)continue;D.index=parseInt(n.substr(0,3))-1+z,k.index=parseInt(n.substr(3,3))-1+z;var l=parseInt(n.substr(6,3));v.bondStore.addBond(D,k,l)}else if(n.match(/M {2}CHG/))for(var p=parseInt(n.substr(6,3)),d=0,f=10;d<p;++d,f+=8){var m=parseInt(n.substr(f,3))-1+z,g=parseInt(n.substr(f+4,3));E.formalCharge[m]=g}else(P=n.match(mM))?(j=P[1],G[j]=[]):!1!==j&&n&&G[j].push(n);++N}}(0,t.length,t)}),y.finalize(),v.finalizeAtoms(),v.finalizeBonds(),Db(v),de.Debug&&Yp.timeEnd("SdfParser._parse "+this.name)},e.prototype._postProcess=function(){Db(this.structure)},Object.defineProperties(e.prototype,i),e}(AA);id.add("sdf",gM),id.add("sd",gM),id.add("mol",gM);function vM(t,e,i){return parseInt(t.substr(e,i).trim())}var yM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"prmtop"},e.prototype._parse=function(){de.Debug&&Yp.time("PrmtopParser._parse "+this.name);var t=this.structure,e=this.structureBuilder,i=t.atomMap,E=t.atomStore;E.addField("partialCharge",1,"float32"),E.addField("radius",1,"float32");var P,T,C,I,O,L,R,D,k,B,N,F=[],z={},U=["NATOM","NTYPES","NBONH","MBONA","NTHETH","MTHETA","NPHIH","MPHIA","NHPARM","NPARM","NNB","NRES","NBONA","NTHETA","NPHIA","NUMBND","NUMANG","NPTRA","NATYP","NPHB","IFPERT","NBPER","NGPER","NDPER","MBPER","MGPER","MDPER","IFBOX","NMXRS","IFCAP","NUMEXTRA","NCOPY"];U.forEach(function(t){z[t]=0}),this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=i[r],o=n.trim();if(o)if(n.startsWith("%FORMAT"));else if(n.startsWith("%FLAG")){var a=n.substr(5).trim();B=0,"TITLE"===a?k=0:"POINTERS"===a?k=1:"ATOM_NAME"===a?k=2:"CHARGE"===a?k=3:"MASS"===a?k=4:"RESIDUE_LABEL"===a?k=5:"RESIDUE_POINTER"===a?k=6:"BONDS_INC_HYDROGEN"===a?(N=0,k=7):"BONDS_WITHOUT_HYDROGEN"===a?(N=z.NBONH,k=8):k="RADII"===a?9:void 0}else if(0===k)F.push(o);else if(1===k){for(var s=Math.min(B+10,32),c=0;B<s;++c,++B)z[U[B]]=parseInt(n.substr(8*c,8).trim());P=new Array(z.NATOM),T=new Float32Array(z.NATOM),C=new Float32Array(z.NATOM),E.resize(z.NATOM);var u=z.NBONH+z.MBONA;I=new Uint32Array(u),O=new Uint32Array(u),L=new Uint8Array(u),R=new Array(z.NRES),D=new Uint32Array(z.NRES)}else if(2===k)for(var h=Math.min(B+20,z.NATOM),l=0;B<h;++l,++B)P[B]=n.substr(4*l,4).trim();else if(3===k)for(var p=Math.min(B+5,z.NATOM),d=0;B<p;++d,++B)T[B]=parseFloat(n.substr(16*d,16))/18.2223;else if(4===k);else if(5===k)for(var f=Math.min(B+20,z.NRES),m=0;B<f;++m,++B)R[B]=n.substr(4*m,4).trim();else if(6===k)for(var g=Math.min(B+10,z.NRES),v=0;B<g;++v,++B)D[B]=vM(n,8*v,8);else if(7===k)for(var y=Math.min(B+10,3*z.NBONH),b=0;B<y;++b,++B){var x=B%3;0===x&&(I[N]=vM(n,8*b,8)/3),1===x&&(O[N]=vM(n,8*b,8)/3,L[N]=1,++N)}else if(8===k)for(var _=Math.min(B+10,3*z.MBONA),w=0;B<_;++w,++B){var S=B%3;0===S&&(I[N]=vM(n,8*w,8)/3),1===S&&(O[N]=vM(n,8*w,8)/3,L[N]=1,++N)}else if(9===k)for(var A=Math.min(B+5,z.NATOM),M=0;B<A;++M,++B)C[B]=parseFloat(n.substr(16*M,16))}}(0,t.length,t)}),t.title=F.join(" ");for(var r=z.NATOM,n=0,o=R[0],a=1,s=0;s<r;++s)s+1===D[n+1]&&(o=R[++n],a=n+1),E.atomTypeId[s]=i.add(P[s]),E.serial[s]=s+1,e.addAtom(0,"","",o,a);E.partialCharge.set(T),E.radius.set(C),t.bondStore.length=L.length,t.bondStore.count=L.length,t.bondStore.atomIndex1=I,t.bondStore.atomIndex2=O,t.bondStore.bondOrder=L,e.finalize(),t.finalizeAtoms(),t.finalizeBonds(),Tb(t,!0),Cb(t,!0,!0),Ab(t,!0),Db(t),de.Debug&&Yp.timeEnd("PrmtopParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(AA);id.add("prmtop",yM),id.add("parm7",yM);var bM=/\s+/,xM=/(^\*|REMARK)*/,_M=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"psf"},e.prototype._parse=function(){de.Debug&&Yp.time("PsfParser._parse "+this.name);var t=this.structure,v=this.structureBuilder,y=t.atomMap,b=t.atomStore;b.addField("partialCharge",1,"float32");var x,_,w,S,A,M,E=[],P=0,T=0,C=0;this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=i[r].trim();if(n)if(2===x){var o=n.split(bM),a=parseInt(o[0]),s=o[1],c=parseInt(o[2]),u=o[3],h=o[4],l=parseFloat(o[6]);s!==w&&(_=Sb(T),++T),b.growIfFull(),b.atomTypeId[P]=y.add(h),b.serial[P]=a,b.partialCharge[P]=l,v.addAtom(0,_,_,u,c),P+=1,w=s}else if(3===x)for(var p=n.split(bM),d=0,f=p.length;d<f;d+=2)S[C]=parseInt(p[d])-1,A[C]=parseInt(p[d+1])-1,M[C]=1,C+=1;else if(1===x)E.push(n.replace(xM,"").trim());else if(4===x);else if(5===x);else if(6===x);else if(n.includes("!NATOM")){x=2;var m=parseInt(n.split(bM)[0]);b.resize(m)}else if(n.includes("!NBOND")){x=3;var g=parseInt(n.split(bM)[0]);S=new Uint32Array(g),A=new Uint32Array(g),M=new Uint8Array(g)}else n.includes("!NTITLE")?x=1:n.includes("!NTHETA")?x=4:n.includes("!NPHI")?x=5:n.includes("!NIMPHI")&&(x=6);else x=void 0}}(0,t.length,t)}),t.title=E.join(" "),t.bondStore.length=M.length,t.bondStore.count=C,t.bondStore.atomIndex1=S,t.bondStore.atomIndex2=A,t.bondStore.bondOrder=M,v.finalize(),t.finalizeAtoms(),t.finalizeBonds(),Tb(t,!0),Cb(t,!0,!0),Db(t),de.Debug&&Yp.timeEnd("PsfParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(AA);id.add("psf",_M);var wM=/\[ (.+) \]/,SM=/\s+/,AM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"top"},e.prototype._parse=function(){de.Debug&&Yp.time("TopParser._parse "+this.name);var d=this.structure,s=this.structureBuilder,c=d.atomMap,u=d.bondStore,h=d.atomStore;h.addField("partialCharge",1,"float32");var f,m,g=[],v={};this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=i[r],o=n.trim();if(o&&"*"!==o[0]&&";"!==o[0]){if(o.startsWith("#include"))throw new Error("TopParser: #include statements not allowed");var a=n.match(wM);if(null===a){var s=o.indexOf(";");if(-1!==s&&(o=o.substring(0,s).trim()),2===m){var c=o.split(SM)[0];v[c]=f}else if(3===m){var u=o.split(SM);f.atoms.push([parseInt(u[2]),u[3],u[4],parseFloat(u[6])])}else if(4===m){var h=o.split(SM);f.bonds.push([parseInt(h[0]),parseInt(h[1])])}else if(0===m)d.title=o;else if(1===m){var l=o.split(SM);g.push([l[0],parseInt(l[1])])}}else{var p=a[1];"moleculetype"===p?(m=2,f={atoms:[],bonds:[]}):m="atoms"===p?3:"bonds"===p?4:"system"===p?0:"molecules"===p?1:void 0}}}}(0,t.length,t)});var n=0,o=0;g.forEach(function(t){var e=t[0],i=t[1],r=v[e];n+=i*r.atoms.length,o+=i*r.bonds.length}),h.resize(n),u.resize(o);var l,p=0,y=0,b=0,x=0,_=0,w=0;g.forEach(function(t){for(var e=t[0],i=t[1],r=v[e],a=Sb(x),n=function(t){l=-1;var o=Pg.includes(e)?a:Sb(b);r.atoms.forEach(function(t){var e=t[0],i=t[1],r=t[2],n=t[3];e!==l&&++y,h.atomTypeId[p]=c.add(r),h.serial[p]=p+1,h.partialCharge[p]=n,s.addAtom(0,a,o,i,y+1),++p,l=e}),r.bonds.forEach(function(t){u.atomIndex1[_]=w+t[0]-1,u.atomIndex2[_]=w+t[1]-1,++_}),++b,w+=r.atoms.length},o=0;o<i;++o)n();++x}),u.count=o,s.finalize(),d.finalizeAtoms(),d.finalizeBonds(),Tb(d,!0),Cb(d,!0,!0),Db(d),de.Debug&&Yp.timeEnd("TopParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(AA);id.add("top",AM);var MM=function(i){function t(t,e){i.call(this,t,e),this.frames=new e_(this.name,this.path)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0}};return e.type.get=function(){return"trajectory"},e.__objName.get=function(){return"frames"},Object.defineProperties(t.prototype,e),t}(wA),EM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dcd"},i.isBinary.get=function(){return!0},e.prototype._parse=function(){de.Debug&&Yp.time("DcdParser._parse "+this.name);var t=Rl(this.streamer.data),e=new DataView(t),i=this.frames,r=i.coordinates,n=i.boxes,o={},a=0,s=new Int32Array(t,0,23),c=s[0]!==e.getInt32(0);if(84!==s[0])for(var u=t.byteLength,h=0;h<u;h+=4)e.setFloat32(h,e.getFloat32(h),!0);84!==s[0]&&Yp.error("dcd bad format, header block start"),"CORD"!==String.fromCharCode(e.getUint8(4),e.getUint8(5),e.getUint8(6),e.getUint8(7))&&Yp.error("dcd bad format, format string");var l=!1,p=!1,d=!1;0!==s[22]&&(l=!0,0!==s[12]&&(p=!0),1===s[13]&&(d=!0)),o.NSET=s[2],o.ISTART=s[3],o.NSAVC=s[4],o.NAMNF=s[10],o.DELTA=l?e.getFloat32(44,c):e.getFloat64(44,c),84!==s[22]&&Yp.error("dcd bad format, header block end"),a=a+84+8;var f=e.getInt32(a,c),m=a+1;if((f-4)%80!=0&&Yp.error("dcd bad format, title block start"),o.TITLE=Il(new Uint8Array(t,m,f)),e.getInt32(m+f+4-1,c)!==f&&Yp.error("dcd bad format, title block end"),a=a+f+8,4!==e.getInt32(a,c)&&Yp.error("dcd bad format, natom block start"),o.NATOM=e.getInt32(a+4,c),4!==e.getInt32(a+8,c)&&Yp.error("dcd bad format, natom block end"),a=a+4+8,0<o.NAMNF)Yp.error("dcd format with fixed atoms unsupported, aborting");else{for(var g=o.NATOM,v=4*g,y=0,b=o.NSET;y<b;++y){if(p){a+=4;var x=new Float32Array(9);x[0]=e.getFloat64(a,c),x[4]=e.getFloat64(a+16,c),x[8]=e.getFloat64(a+40,c),n.push(x),a+=48,a+=4}for(var _=new Float32Array(3*g),w=0;w<3;++w){e.getInt32(a,c)!==v&&Yp.error("dcd bad format, coord block start",y,w),a+=4;for(var S=new Float32Array(t,a,g),A=0;A<g;++A)_[3*A+w]=S[A];a+=v,e.getInt32(a,c)!==v&&Yp.error("dcd bad format, coord block end",y,w),a+=4}if(r.push(_),d)a+=4+e.getInt32(a,c)+4}o.DELTA&&(i.deltaTime=20.45482949774598*o.DELTA),1<=o.ISTART&&(i.timeOffset=(o.ISTART-1)*i.deltaTime),de.Debug&&Yp.timeEnd("DcdParser._parse "+this.name)}},Object.defineProperties(e.prototype,i),e}(MM);function PM(t,e){if(t)throw new TypeError("Not a valid NetCDF v3.x file: "+e)}function TM(t){t.offset%4!=0&&t.skip(4-t.offset%4)}function CM(t){var e=t.readUint32(),i=t.readChars(e);return TM(t),i}id.add("dcd",EM);var IM={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function OM(t){switch(Number(t)){case IM.BYTE:return"byte";case IM.CHAR:return"char";case IM.SHORT:return"short";case IM.INT:return"int";case IM.FLOAT:return"float";case IM.DOUBLE:return"double";default:return"undefined"}}function LM(t){switch(Number(t)){case IM.BYTE:case IM.CHAR:return 1;case IM.SHORT:return 2;case IM.INT:case IM.FLOAT:return 4;case IM.DOUBLE:return 8;default:return-1}}function RM(t){switch(String(t)){case"byte":return IM.BYTE;case"char":return IM.CHAR;case"short":return IM.SHORT;case"int":return IM.INT;case"float":return IM.FLOAT;case"double":return IM.DOUBLE;default:return-1}}function DM(t,e){if(1!==t){for(var i=new Array(t),r=0;r<t;r++)i[r]=e();return i}return e()}function kM(t,e,i){switch(e){case IM.BYTE:return t.readBytes(i);case IM.CHAR:return function(t){if(0===t.charCodeAt(t.length-1))return t.substring(0,t.length-1);return t}(t.readChars(i));case IM.SHORT:return DM(i,t.readInt16.bind(t));case IM.INT:return DM(i,t.readInt32.bind(t));case IM.FLOAT:return DM(i,t.readFloat32.bind(t));case IM.DOUBLE:return DM(i,t.readFloat64.bind(t));default:return void PM(!0,"non valid type "+e)}}var BM=0,NM=10,FM=11,zM=12;function UM(t,e){var i={recordDimension:{length:t.readUint32()}};i.version=e;var r=function(t){var e,i,r,n=t.readUint32();{if(n===BM)return PM(t.readUint32()!==BM,"wrong empty tag for list of dimensions"),[];PM(n!==NM,"wrong tag for list of dimensions");var o=t.readUint32();e=new Array(o);for(var a=0;a<o;a++){var s=CM(t),c=t.readUint32();0===c&&(i=a,r=s),e[a]={name:s,size:c}}return{dimensions:e,recordId:i,recordName:r}}}(t);i.recordDimension.id=r.recordId,i.recordDimension.name=r.recordName,i.dimensions=r.dimensions,i.globalAttributes=jM(t);var n=function(t,e,i){var r,n=t.readUint32(),o=0;{if(n===BM)return PM(t.readUint32()!==BM,"wrong empty tag for list of variables"),[];PM(n!==FM,"wrong tag for list of variables");var a=t.readUint32();r=new Array(a);for(var s=0;s<a;s++){for(var c=CM(t),u=t.readUint32(),h=new Array(u),l=0;l<u;l++)h[l]=t.readUint32();var p=jM(t),d=t.readUint32();PM(d<1&&6<d,"non valid type "+d);var f=t.readUint32(),m=t.readUint32();2===i&&(PM(0<m,"offsets larger than 4GB not supported"),m=t.readUint32()),h[0]===e&&(o+=f),r[s]={name:c,dimensions:h,attributes:p,type:OM(d),size:f,offset:m,record:h[0]===e}}}return{variables:r,recordStep:o}}(t,r.recordId,e);return i.variables=n.variables,i.recordDimension.recordStep=n.recordStep,i}function jM(t){var e,i=t.readUint32();if(i===BM)return PM(t.readUint32()!==BM,"wrong empty tag for list of attributes"),[];PM(i!==zM,"wrong tag for list of attributes");var r=t.readUint32();e=new Array(r);for(var n=0;n<r;n++){var o=CM(t),a=t.readUint32();PM(a<1||6<a,"non valid type "+a);var s=kM(t,a,t.readUint32());TM(t),e[n]={name:o,type:OM(a),value:s}}return e}var GM=function(t){var e=new Sd(t);e.setBigEndian(),PM("CDF"!==e.readChars(3),"should start with CDF");var i=e.readByte();PM(2<i,"unknown version"),this.header=UM(e,i),this.buffer=e},VM={version:{configurable:!0},recordDimension:{configurable:!0},dimensions:{configurable:!0},globalAttributes:{configurable:!0},variables:{configurable:!0}};VM.version.get=function(){return 1===this.header.version?"classic format":"64-bit offset format"},VM.recordDimension.get=function(){return this.header.recordDimension},VM.dimensions.get=function(){return this.header.dimensions},VM.globalAttributes.get=function(){return this.header.globalAttributes},VM.variables.get=function(){return this.header.variables},GM.prototype.hasDataVariable=function(e){return-1!==this.header.variables.findIndex(function(t){return t.name===e})},GM.prototype.getDataVariable=function(e){var t;return PM(void 0===(t="string"==typeof e?this.header.variables.find(function(t){return t.name===e}):e),"variable not found"),this.buffer.seek(t.offset),t.record?function(t,e,i){for(var r=RM(e.type),n=e.size?e.size/LM(r):1,o=i.length,a=new Array(o),s=i.recordStep,c=0;c<o;c++){var u=t.offset;a[c]=kM(t,r,n),t.seek(u+s)}return a}(this.buffer,t,this.header.recordDimension):function(t,e){for(var i=RM(e.type),r=e.size/LM(i),n=new Array(r),o=0;o<r;o++)n[o]=kM(t,i,1);return n}(this.buffer,t)},Object.defineProperties(GM.prototype,VM);var HM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"nctraj"},i.isBinary.get=function(){return!0},e.prototype._parse=function(){de.Debug&&Yp.time("NctrajParser._parse "+this.name);var t=new GM(this.streamer.data),e=this.frames,i=e.coordinates,r=e.boxes,n=e.times;t.getDataVariable("coordinates").forEach(function(t){i.push(new Float32Array(t))}),t.hasDataVariable("cell_lengths")&&t.getDataVariable("cell_lengths").forEach(function(t){r.push(new Float32Array(t))}),t.hasDataVariable("time")&&t.getDataVariable("time").forEach(function(t){n.push(t)}),1<=n.length&&(e.timeOffset=n[0]),2<=n.length&&(e.deltaTime=n[1]-n[0]),de.Debug&&Yp.timeEnd("NctrajParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(MM);id.add("nctraj",HM),id.add("ncdf",HM),id.add("nc",HM);var $M=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"trr"},i.isBinary.get=function(){return!0},e.prototype._parse=function(){de.Debug&&Yp.time("TrrParser._parse "+this.name);for(var t=Rl(this.streamer.data),e=new DataView(t),i=this.frames,r=i.coordinates,n=i.boxes,o=i.times,a=0;;){a+=8;var s=e.getInt32(a);a+=4,a+=s;var c=e.getInt32(a+8),u=e.getInt32(a+12),h=e.getInt32(a+16),l=e.getInt32(a+28),p=e.getInt32(a+32),d=e.getInt32(a+36),f=e.getInt32(a+40);a+=52;var m=c/9,g=3*f;if(8===m?o.push(e.getFloat64(a)):o.push(e.getFloat32(a)),a+=2*m,c){var v=new Float32Array(9);if(8===m)for(var y=0;y<9;++y)v[y]=10*e.getFloat64(a),a+=8;else for(var b=0;b<9;++b)v[b]=10*e.getFloat32(a),a+=4;n.push(v)}if(a+=u,a+=h,l){var x=void 0;if(8===m){x=new Float32Array(g);for(var _=0;_<g;++_)x[_]=10*e.getFloat64(a),a+=8}else{for(var w=new Uint32Array(t,a,g),S=0;S<g;++S){var A=w[S];w[S]=(255&A)<<24|(65280&A)<<8|A>>8&65280|A>>24&255}x=new Float32Array(t,a,g);for(var M=0;M<g;++M)x[M]*=10,a+=4}r.push(x)}if(a+=p,(a+=d)>=t.byteLength)break}1<=o.length&&(i.timeOffset=o[0]),2<=o.length&&(i.deltaTime=o[1]-o[0]),de.Debug&&Yp.timeEnd("TrrParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(MM);id.add("trr",$M);var WM=new Uint32Array([0,0,0,0,0,0,0,0,0,8,10,12,16,20,25,32,40,50,64,80,101,128,161,203,256,322,406,512,645,812,1024,1290,1625,2048,2580,3250,4096,5060,6501,8192,10321,13003,16384,20642,26007,32768,41285,52015,65536,82570,104031,131072,165140,208063,262144,330280,416127,524287,660561,832255,1048576,1321122,1664510,2097152,2642245,3329021,4194304,5284491,6658042,8388607,10568983,13316085,16777216]);function XM(t){for(var e=1,i=0;e<=t&&i<32;)i++,e<<=1;return i}var qM=new Uint8Array(32);function YM(t,e){var i=1,r=0;qM[0]=1;for(var n=0;n<t;n++){var o=void 0,a=0;for(o=0;o<i;o++)a+=qM[o]*e[n],qM[o]=255&a,a>>=8;for(;0!==a;)qM[o++]=255&a,a>>=8;i=o}var s=1;for(i--;qM[i]>=s;)r++,s*=2;return r+8*i}function ZM(t,e,i,r){for(var n=(1<<i)-1,o=r[1],a=r[2],s=t[0],c=0;8<=i;)c|=(a=a<<8|e[s++])>>o<<i-8,i-=8;return 0<i&&(o<i&&(o+=8,a=a<<8|e[s++]),c|=a>>(o-=i)&(1<<i)-1),c&=n,t[0]=s,t[1]=o,t[2]=a,c}var KM=new Int32Array(32);function JM(t,e,i,r,n,o,a){var s=0;for(KM[1]=0,KM[2]=0,KM[3]=0;8<r;)KM[s++]=ZM(t,e,8,a),r-=8;0<r&&(KM[s++]=ZM(t,e,r,a));for(var c=i-1;0<c;c--){for(var u=0,h=s-1;0<=h;h--){var l=(u=u<<8|KM[h])/n[c]|0;u-=(KM[h]=l)*n[c]}o[c]=u}o[0]=KM[0]|KM[1]<<8|KM[2]<<16|KM[3]<<24}var QM=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"xtc"},i.isBinary.get=function(){return!0},e.prototype._parse=function(){de.Debug&&Yp.time("XtcParser._parse "+this.name);for(var t=Rl(this.streamer.data),e=new DataView(t),i=this.frames,r=i.coordinates,n=i.boxes,o=i.times,a=new Int32Array(6),s=new Int32Array(3),c=new Int32Array(3),u=new Uint32Array(3),h=new Float32Array(3),l=new Float32Array(3),p=0,d=new Int32Array(3),f=new Uint32Array(d.buffer);;){var m=void 0,g=e.getInt32(p+4);p+=12;var v=3*g;o.push(e.getFloat32(p)),p+=4;for(var y=new Float32Array(9),b=0;b<9;++b)y[b]=10*e.getFloat32(p),p+=4;if(n.push(y),g<=9){m=new Float32Array(g);for(var x=0;x<g;++x)m[x]=e.getFloat32(p),p+=4}else{d[0]=d[1]=d[2]=0,s[0]=s[1]=s[2]=0,u[0]=u[1]=u[2]=0,c[0]=c[1]=c[2]=0,h[0]=h[1]=h[2]=0,l[0]=l[1]=l[2]=0,m=new Float32Array(v);var _=0,w=e.getInt32(p);p+=4;var S=e.getFloat32(p);p+=4,a[0]=e.getInt32(p),a[1]=e.getInt32(p+4),a[2]=e.getInt32(p+8),a[3]=e.getInt32(p+12),a[4]=e.getInt32(p+16),a[5]=e.getInt32(p+20),s[0]=a[3]-a[0]+1,s[1]=a[4]-a[1]+1,s[2]=a[5]-a[2]+1,p+=24;var A=void 0;16777215<(s[0]|s[1]|s[2])?(c[0]=XM(s[0]),c[1]=XM(s[1]),c[2]=XM(s[2]),A=0):A=YM(3,s);var M=e.getInt32(p);p+=4;var E=M-1,P=WM[E=E<9?9:E]/2|0,T=WM[M]/2|0;u[0]=u[1]=u[2]=WM[M];var C=4*Math.ceil(e.getInt32(p)/4);p+=4;var I=1/S,O=0,L=0,R=new Uint8Array(t,p);for(h[0]=h[1]=h[2]=0;L<w;){0===A?(h[0]=ZM(d,R,c[0],f),h[1]=ZM(d,R,c[1],f),h[2]=ZM(d,R,c[2],f)):JM(d,R,3,A,s,h,f),L++,h[0]+=a[0],h[1]+=a[1],h[2]+=a[2],l[0]=h[0],l[1]=h[1],l[2]=h[2];var D=0;if(1===ZM(d,R,1,f)&&(O=ZM(d,R,5,f),O-=D=O%3,D--),0<O){h[0]=h[1]=h[2]=0;for(var k=0;k<O;k+=3){if(JM(d,R,3,M,u,h,f),L++,h[0]+=l[0]-T,h[1]+=l[1]-T,h[2]+=l[2]-T,0===k){var B=h[0];h[0]=l[0],l[0]=B,B=h[1],h[1]=l[1],l[1]=B,B=h[2],h[2]=l[2],l[2]=B,m[_++]=l[0]*I,m[_++]=l[1]*I,m[_++]=l[2]*I}else l[0]=h[0],l[1]=h[1],l[2]=h[2];m[_++]=h[0]*I,m[_++]=h[1]*I,m[_++]=h[2]*I}}else m[_++]=h[0]*I,m[_++]=h[1]*I,m[_++]=h[2]*I;if(M+=D,D<0?(T=P,P=9<M?WM[M-1]/2|0:0):0<D&&(P=T,T=WM[M]/2|0),u[0]=u[1]=u[2]=WM[M],0===u[0]||0===u[1]||0===u[2])return void console.error("(xdrfile error) Undefined error.")}p+=C}for(var N=0;N<v;N++)m[N]*=10;if(r.push(m),p>=t.byteLength)break}1<=o.length&&(i.timeOffset=o[0]),2<=o.length&&(i.deltaTime=o[1]-o[0]),de.Debug&&Yp.timeEnd("XtcParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(MM);id.add("xtc",QM);var tE=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.volume=new ay(this.name,this.path),this.voxelSize=bl(i.voxelSize,1)}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0}};return e.type.get=function(){return"volume"},e.__objName.get=function(){return"volume"},t.prototype._afterParse=function(){this.volume.setMatrix(this.getMatrix()),r.prototype._afterParse.call(this)},t.prototype.getMatrix=function(){return new ei},Object.defineProperties(t.prototype,e),t}(wA),eE=/\s+/,iE=/-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,rE=.529177210859,nE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"cube"},e.prototype._parse=function(){de.Debug&&Yp.time("CubeParser._parse "+this.name);var t=this.volume,r=this.streamer.peekLines(6),c={},e=rE*this.voxelSize;function i(t,e){var i=r[t].trim().split(eE)[e];return parseFloat(i)}c.atomCount=Math.abs(i(2,0)),c.originX=i(2,1)*rE,c.originY=i(2,2)*rE,c.originZ=i(2,3)*rE,c.NVX=i(3,0),c.NVY=i(4,0),c.NVZ=i(5,0),c.basisX=new ri(i(3,1),i(3,2),i(3,3)).multiplyScalar(e),c.basisY=new ri(i(4,1),i(4,2),i(4,3)).multiplyScalar(e),c.basisZ=new ri(i(5,1),i(5,2),i(5,3)).multiplyScalar(e);var u=new Float32Array(c.NVX*c.NVY*c.NVZ),h=0,l=0,p=0<i(2,0)?0:1;this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=i[r].trim();if(""!==n&&l>=c.atomCount+6+p)for(var o=n.match(iE),a=0,s=o.length;a<s;++a)u[h]=parseFloat(o[a]),++h;++l}}(0,t.length,t)}),t.header=c,t.setData(u,c.NVZ,c.NVY,c.NVX),de.Debug&&Yp.timeEnd("CubeParser._parse "+this.name)},e.prototype.getMatrix=function(){var t=this.volume.header,e=new ei;return e.multiply((new ei).makeTranslation(t.originX,t.originY,t.originZ)),e.multiply((new ei).makeBasis(t.basisZ,t.basisY,t.basisX)),e},Object.defineProperties(e.prototype,i),e}(tE);id.add("cub",nE),id.add("cube",nE);var oE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dsn6"},i.isBinary.get=function(){return!0},e.prototype._parse=function(){de.Debug&&Yp.time("Dsn6Parser._parse "+this.name);var t,e,i=this.volume,r={},n=Rl(this.streamer.data),o=new Int16Array(n),a=new Uint8Array(n),s=String.fromCharCode.apply(null,a.subarray(0,512));if(s.startsWith(":-)"))r.xStart=parseInt(s.substr(10,5)),r.yStart=parseInt(s.substr(15,5)),r.zStart=parseInt(s.substr(20,5)),r.xExtent=parseInt(s.substr(32,5)),r.yExtent=parseInt(s.substr(38,5)),r.zExtent=parseInt(s.substr(42,5)),r.xRate=parseInt(s.substr(52,5)),r.yRate=parseInt(s.substr(58,5)),r.zRate=parseInt(s.substr(62,5)),r.xlen=parseFloat(s.substr(73,10))*this.voxelSize,r.ylen=parseFloat(s.substr(83,10))*this.voxelSize,r.zlen=parseFloat(s.substr(93,10))*this.voxelSize,r.alpha=parseFloat(s.substr(103,10)),r.beta=parseFloat(s.substr(113,10)),r.gamma=parseFloat(s.substr(123,10)),t=parseFloat(s.substr(138,12))/100,e=parseInt(s.substr(155,8)),r.sigma=100*parseFloat(s.substr(170,12));else{if(100!==o[18])for(var c=0,u=o.length;c<u;++c){var h=o[c];o[c]=(255&h)<<8|h>>8&255}r.xStart=o[0],r.yStart=o[1],r.zStart=o[2],r.xExtent=o[3],r.yExtent=o[4],r.zExtent=o[5],r.xRate=o[6],r.yRate=o[7],r.zRate=o[8];var l=1/o[17],p=l*this.voxelSize;r.xlen=o[9]*p,r.ylen=o[10]*p,r.zlen=o[11]*p,r.alpha=o[12]*l,r.beta=o[13]*l,r.gamma=o[14]*l,t=o[15]/100,e=o[16],r.gamma=o[14]*l}i.header=r,de.Debug&&Yp.log(r,t,e);for(var d=new Float32Array(r.xExtent*r.yExtent*r.zExtent),f=512,m=Math.ceil(r.xExtent/8),g=Math.ceil(r.yExtent/8),v=Math.ceil(r.zExtent/8),y=0;y<v;++y)for(var b=0;b<g;++b)for(var x=0;x<m;++x)for(var _=0;_<8;++_)for(var w=8*y+_,S=0;S<8;++S)for(var A=8*b+S,M=0;M<8;++M){var E=8*x+M;if(!(E<r.xExtent&&A<r.yExtent&&w<r.zExtent)){f+=8-M;break}d[(E*r.yExtent+A)*r.zExtent+w]=(a[f]-e)/t,++f}i.setData(d,r.zExtent,r.yExtent,r.xExtent),r.sigma&&i.setStats(void 0,void 0,void 0,r.sigma),de.Debug&&Yp.timeEnd("Dsn6Parser._parse "+this.name)},e.prototype.getMatrix=function(){var t=this.volume.header,e=[t.xlen,0,0],i=[t.ylen*Math.cos(Math.PI/180*t.gamma),t.ylen*Math.sin(Math.PI/180*t.gamma),0],r=[t.zlen*Math.cos(Math.PI/180*t.beta),t.zlen*(Math.cos(Math.PI/180*t.alpha)-Math.cos(Math.PI/180*t.gamma)*Math.cos(Math.PI/180*t.beta))/Math.sin(Math.PI/180*t.gamma),0];r[2]=Math.sqrt(t.zlen*t.zlen*Math.sin(Math.PI/180*t.beta)*Math.sin(Math.PI/180*t.beta)-r[1]*r[1]);var n=[[],e,i,r],o=[0,t.xRate,t.yRate,t.zRate],a=[0,1,2,3],s=new ei;return s.set(n[a[1]][0]/o[a[1]],n[a[2]][0]/o[a[2]],n[a[3]][0]/o[a[3]],0,n[a[1]][1]/o[a[1]],n[a[2]][1]/o[a[2]],n[a[3]][1]/o[a[3]],0,n[a[1]][2]/o[a[1]],n[a[2]][2]/o[a[2]],n[a[3]][2]/o[a[3]],0,0,0,0,1),s.multiply((new ei).makeRotationY(Gl(90))),s.multiply((new ei).makeTranslation(-t.zStart,t.yStart,t.xStart)),s.multiply((new ei).makeScale(-1,1,1)),s},Object.defineProperties(e.prototype,i),e}(tE);id.add("dsn6",oE),id.add("brix",oE);var aE=/\s+/,sE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"dx"},e.prototype._parse=function(){de.Debug&&Yp.time("DxParser._parse "+this.name);var t=this.volume,e=this.streamer.peekLines(30),i=this.parseHeaderLines(e),r=this.volume.header,c=i.dataLineStart,u=r.nx*r.ny*r.nz,h=new Float32Array(u),l=0,p=0;this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){if(l<u&&c<p){var n=i[r].trim();if(""!==n)for(var o=n.split(aE),a=0,s=o.length;a<s;++a)h[l]=parseFloat(o[a]),++l}++p}}(0,t.length,t)}),t.setData(h,r.nz,r.ny,r.nx),de.Debug&&Yp.timeEnd("DxParser._parse "+this.name)},e.prototype.parseHeaderLines=function(t){for(var e={},i=t.length,r=0,n=0,o=0,a=0;a<i;++a){var s=void 0,c=t[a];if(c.startsWith("object 1"))s=c.split(aE),e.nx=parseInt(s[5]),e.ny=parseInt(s[6]),e.nz=parseInt(s[7]);else if(c.startsWith("origin"))s=c.split(aE),e.xmin=parseFloat(s[1]),e.ymin=parseFloat(s[2]),e.zmin=parseFloat(s[3]);else if(c.startsWith("delta"))s=c.split(aE),0===o?e.hx=parseFloat(s[1])*this.voxelSize:1===o?e.hy=parseFloat(s[2])*this.voxelSize:2===o&&(e.hz=parseFloat(s[3])*this.voxelSize),o+=1;else if(c.startsWith("object 3")){r=a,n+=c.length+1;break}n+=c.length+1}return this.volume.header=e,{dataLineStart:r,headerByteCount:n}},e.prototype.getMatrix=function(){var t=this.volume.header,e=new ei;return e.multiply((new ei).makeRotationY(Gl(90))),e.multiply((new ei).makeTranslation(-t.zmin,t.ymin,t.xmin)),e.multiply((new ei).makeScale(-t.hz,t.hy,t.hx)),e},Object.defineProperties(e.prototype,i),e}(tE);id.add("dx",sE);var cE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dxbin"},i.isBinary.get=function(){return!0},e.prototype._parse=function(){de.Debug&&Yp.time("DxbinParser._parse "+this.name);for(var t=Rl(this.streamer.data),e=function(t,e,i){void 0===e&&(e=10485760),void 0===i&&(i="\n");for(var r="",n=[],o=0;o<t.length;o+=e){var a=Il(t.subarray(o,o+e)),s=a.lastIndexOf(i);if(-1===s)r+=a;else{var c=r+a.substr(0,s);n=n.concat(c.split(i)),r=s===a.length-i.length?"":a.substr(s+i.length)}}return""!==r&&n.push(r),n}(new Uint8Array(t,0,1e3)),i=this.parseHeaderLines(e),r=this.volume.header,n=i.headerByteCount,o=r.nx*r.ny*r.nz,a=new DataView(t),s=new Float32Array(o),c=0;c<o;++c)s[c]=a.getFloat64(8*c+n,!0);this.volume.setData(s,r.nz,r.ny,r.nx),de.Debug&&Yp.timeEnd("DxbinParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(sE);id.add("dxbin",cE);var uE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"mrc"},i.isBinary.get=function(){return!0},e.prototype._parse=function(){de.Debug&&Yp.time("MrcParser._parse "+this.name);var t,e=this.volume,i={},r=Rl(this.streamer.data),n=new Int32Array(r,0,56),o=new Float32Array(r,0,56),a=new DataView(r);if(i.MAP=String.fromCharCode(a.getUint8(208),a.getUint8(209),a.getUint8(210),a.getUint8(211)),i.MACHST=[a.getUint8(212),a.getUint8(213)],17===i.MACHST[0]&&17===i.MACHST[1])for(var s=r.byteLength,c=0;c<s;c+=4)a.setFloat32(c,a.getFloat32(c),!0);if(i.NX=n[0],i.NY=n[1],i.NZ=n[2],i.MODE=n[3],i.NXSTART=n[4],i.NYSTART=n[5],i.NZSTART=n[6],i.MX=n[7],i.MY=n[8],i.MZ=n[9],i.xlen=o[10]*this.voxelSize,i.ylen=o[11]*this.voxelSize,i.zlen=o[12]*this.voxelSize,i.alpha=o[13],i.beta=o[14],i.gamma=o[15],i.MAPC=n[16],i.MAPR=n[17],i.MAPS=n[18],i.DMIN=o[19],i.DMAX=o[20],i.DMEAN=o[21],i.ISPG=n[22],i.NSYMBT=n[23],i.LSKFLG=n[24],i.originX=o[49],i.originY=o[50],i.originZ=o[51],i.ARMS=o[54],2===(e.header=i).MODE)t=new Float32Array(r,1024+i.NSYMBT,i.NX*i.NY*i.NZ);else if(0===i.MODE){if(t=new Float32Array(new Int8Array(r,1024+i.NSYMBT,i.NX*i.NY*i.NZ)),-128===n[39]&&127===n[40])for(var u=(i.DMAX-i.DMIN)/255,h=.5*(i.DMIN+i.DMAX+u),l=0,p=t.length;l<p;++l)t[l]=u*t[l]+h}else Yp.error("MrcParser unknown mode",i.MODE);e.setData(t,i.NX,i.NY,i.NZ),0!==i.ARMS&&e.setStats(i.DMIN,i.DMAX,i.DMEAN,i.ARMS),de.Debug&&Yp.timeEnd("MrcParser._parse "+this.name)},e.prototype.getMatrix=function(){var t=this.volume.header,e=[t.xlen,0,0],i=[t.ylen*Math.cos(Math.PI/180*t.gamma),t.ylen*Math.sin(Math.PI/180*t.gamma),0],r=[t.zlen*Math.cos(Math.PI/180*t.beta),t.zlen*(Math.cos(Math.PI/180*t.alpha)-Math.cos(Math.PI/180*t.gamma)*Math.cos(Math.PI/180*t.beta))/Math.sin(Math.PI/180*t.gamma),0];r[2]=Math.sqrt(t.zlen*t.zlen*Math.sin(Math.PI/180*t.beta)*Math.sin(Math.PI/180*t.beta)-r[1]*r[1]);var n=[[],e,i,r],o=[0,t.MX,t.MY,t.MZ],a=[0,t.MAPC,t.MAPR,t.MAPS],s=new ei;return s.set(n[a[1]][0]/o[a[1]],n[a[2]][0]/o[a[2]],n[a[3]][0]/o[a[3]],0,n[a[1]][1]/o[a[1]],n[a[2]][1]/o[a[2]],n[a[3]][1]/o[a[3]],0,n[a[1]][2]/o[a[1]],n[a[2]][2]/o[a[2]],n[a[3]][2]/o[a[3]],0,0,0,0,1),s.setPosition(new ri(t.originX,t.originY,t.originZ)),s.multiply((new ei).makeTranslation(t.NXSTART,t.NYSTART,t.NZSTART)),s},Object.defineProperties(e.prototype,i),e}(tE);id.add("mrc",uE),id.add("ccp4",uE),id.add("map",uE);var hE=/\s+/;function lE(t){return t.trim().split(hE).map(parseFloat)}var pE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"xplor"},e.prototype._parse=function(){de.Debug&&Yp.time("XplorParser._parse "+this.name);var t,e=this.volume,i=this.streamer.peekLines(8),u={},h=(t=i[2].startsWith("REMARKS")?parseInt(i[1].substring(0,8))+2:5)+3,r=lE(i[t]);u.NA=r[0],u.AMIN=r[1],u.AMAX=r[2],u.NB=r[3],u.BMIN=r[4],u.BMAX=r[5],u.NC=r[6],u.CMIN=r[7],u.CMAX=r[8];var n=lE(i[t+1]);u.a=n[0]*this.voxelSize,u.b=n[1]*this.voxelSize,u.c=n[2]*this.voxelSize,u.alpha=n[3],u.beta=n[4],u.gamma=n[5];var o=u.AMAX-u.AMIN+1,a=u.BMAX-u.BMIN+1,s=u.CMAX-u.CMIN+1,l=o*a*s,p=new Float32Array(l),d=Math.ceil(1+o*a/6),f=0,m=0;this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=i[r];if(h<=m&&(m-h)%d!=0&&f<l)for(var o=0;o<6;++o){var a=parseFloat(n.substr(12*o,12));if(isNaN(a))break;p[f++]=a}else if(f===l){var s=n.trim();if(s&&"-9999"!==s){var c=lE(n);u.RAVE=c[0],u.RSIGMA=c[1]}}++m}}(0,t.length,t)}),e.header=u,e.setData(p,o,a,s),0!==u.RAVE&&1!==u.RSIGMA&&e.setStats(void 0,void 0,u.RAVE,u.RSIGMA),de.Debug&&Yp.timeEnd("XplorParser._parse "+this.name)},e.prototype.getMatrix=function(){var t=this.volume.header,e=[t.a,0,0],i=[t.b*Math.cos(Math.PI/180*t.gamma),t.b*Math.sin(Math.PI/180*t.gamma),0],r=[t.c*Math.cos(Math.PI/180*t.beta),t.c*(Math.cos(Math.PI/180*t.alpha)-Math.cos(Math.PI/180*t.gamma)*Math.cos(Math.PI/180*t.beta))/Math.sin(Math.PI/180*t.gamma),0];r[2]=Math.sqrt(t.c*t.c*Math.sin(Math.PI/180*t.beta)*Math.sin(Math.PI/180*t.beta)-r[1]*r[1]);var n=[[],e,i,r],o=[0,t.NA,t.NB,t.NC],a=[0,1,2,3],s=new ei;return s.set(n[a[1]][0]/o[a[1]],n[a[2]][0]/o[a[2]],n[a[3]][0]/o[a[3]],0,n[a[1]][1]/o[a[1]],n[a[2]][1]/o[a[2]],n[a[3]][1]/o[a[3]],0,n[a[1]][2]/o[a[1]],n[a[2]][2]/o[a[2]],n[a[3]][2]/o[a[3]],0,0,0,0,1),s.multiply((new ei).makeTranslation(t.AMIN,t.BMIN,t.CMIN)),s},Object.defineProperties(e.prototype,i),e}(tE);function dE(t,e,i){var r,n,o;t/=360,e/=100,i/=100;var a=Math.floor(6*t),s=6*t-a,c=i*(1-e),u=i*(1-s*e),h=i*(1-(1-s)*e);switch(a%6){case 0:r=i,n=h,o=c;break;case 1:r=u,n=i,o=c;break;case 2:r=c,n=i,o=h;break;case 3:r=c,n=u,o=i;break;case 4:r=h,n=c,o=i;break;case 5:r=i,n=c,o=u}return[r,n,o]}id.add("xplor",pE),id.add("cns",pE);var fE={red:dE(0,100,100),orange:dE(20,100,100),gold:dE(40,100,100),yellow:dE(60,100,100),lime:dE(80,100,100),green:dE(120,80,100),sea:dE(150,100,100),cyan:dE(180,100,85),sky:dE(210,75,95),blue:dE(240,70,100),purple:dE(275,75,100),magenta:dE(300,95,100),hotpink:dE(335,100,100),pink:dE(350,55,100),peach:dE(25,75,100),lilac:dE(275,55,100),pinktint:dE(340,30,100),peachtint:dE(25,50,100),yellowtint:dE(60,50,100),greentint:dE(135,40,100),bluetint:dE(220,40,100),lilactint:dE(275,35,100),white:dE(0,0,100),gray:dE(0,0,50),brown:dE(20,45,75),deadwhite:[1,1,1],deadblack:[0,0,0],invisible:[0,0,0]},mE=/[\s,]+/,gE=/[^{}\s]*{[^{}]+}|[^{}\s]+/g,vE=/^{+|}+$/g,yE=/^['"]+|['"]+$/g,bE=/\s*=\s*/g;function xE(t){for(var e,i,r,n=[],o=(t=t.replace(bE,"=")).match(gE),a=1;a<o.length;++a){var s=o[a];if("{"===s[0])e=s.substring(1,s.length-1);else{var c=s.split("=");2===c.length&&("color"===c[0]?i=fE[c[1]]:"width"===c[0]?r=parseInt(c[1]):"master"===c[0]&&n.push(c[1].replace(vE,"")))}}return{listName:e,listColor:i,listMasters:n,listWidth:r}}function _E(t){for(var e,i,r,n=(t=t.trim()).indexOf("{"),o=t.indexOf("}"),a=t.substr(o+1).split(mE),s=t.substr(n+1,o-1),c=[parseFloat(a[a.length-3]),parseFloat(a[a.length-2]),parseFloat(a[a.length-1])],u=4;u<=a.length;u++){var h=a[a.length-u];h in fE&&(e=fE[a[a.length-u]]),h.startsWith("width")&&(i=parseInt(h.substring(5))),h.startsWith("r=")&&(r=parseFloat(h.split("=")[1]))}return{label:s,position:c,color:e,radius:r,width:i}}function wE(t){var e=t.indexOf("{"),i=t.indexOf("}");return t.substring(-1!==e?e+1:0,-1!==i?i:void 0).trim()}function SE(t){for(var e,i={},r=(t=t.replace(bE,"=")).match(gE),n=1;n<r.length;++n){var o=r[n];if("{"===o[0])e=o.substring(1,o.length-1);else{var a=o.split("=");2===a.length?i[a[0]]=a[1].replace(vE,""):i[a[0]]=!0}}return[e,i]}var AE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"kin"},i.__objName.get=function(){return"kinemage"},e.prototype._parse=function(){de.Debug&&Yp.time("KinParser._parse "+this.name);var ut={kinemage:void 0,onewidth:void 0,"1viewid":void 0,pdbfile:void 0,texts:[],text:"",captions:[],caption:"",groupDict:{},subgroupDict:{},masterDict:{},pointmasterDict:{},dotLists:[],vectorLists:[],ballLists:[],ribbonLists:[]};this.kinemage=ut;var ht,lt,pt,dt,ft,mt,gt,vt,yt,bt,xt,_t,wt,St,At,Mt,Et,Pt,Tt,Ct,It,Ot,Lt,Rt=!1,Dt="",kt=!1,Bt="",Nt=!1,Ft="",zt=!1,Ut="",jt=!1,Gt=!1;if(this.streamer.eachChunkOfLines(function(t){!function(t,e,i){for(var r=t;r<e;++r){var n=i[r];if("@"===n[0]&&(Gt=jt=zt=Nt=kt=Rt=!1),n)if(n.startsWith("@dotlist")){var o=xE(n),a=o.listColor,s=o.listName,c=o.listMasters;Rt=!0,Dt="",lt=[],pt=[],dt=[],ht=a,ut.dotLists.push({name:s,masterArray:c,labelArray:lt,positionArray:pt,colorArray:dt})}else if(n.startsWith("@vectorlist")){var u=xE(n),h=u.listMasters,l=u.listName,p=u.listWidth,d=u.listColor;h&&h.forEach(function(t){ut.masterDict[t]||(ut.masterDict[t]={indent:!1,visible:!1})}),kt=!0,Bt="",mt=ft=null,yt=[],bt=[],xt=[],_t=[],wt=[],St=[],gt=d,vt=[],p&&vt.push(p),ut.vectorLists.push({name:l,masterArray:h,label1Array:yt,label2Array:bt,position1Array:xt,position2Array:_t,color1Array:wt,color2Array:St,width:vt})}else if(n.startsWith("@balllist")){var f=xE(n),m=f.listName,g=f.listColor,v=f.listMasters;v&&v.forEach(function(t){ut.masterDict[t]||(ut.masterDict[t]={indent:!1,visible:!1})}),Nt=!0,Ft="",Et=[],At=[],Pt=[],Tt=[],Mt=g,ut.ballLists.push({name:m,masterArray:v,labelArray:Et,radiusArray:At,positionArray:Pt,colorArray:Tt})}else if(n.startsWith("@ribbonlist")){var y=xE(n),b=y.listMasters,x=y.listName,_=y.listColor;b&&b.forEach(function(t){ut.masterDict[t]||(ut.masterDict[t]={indent:!1,visible:!1})}),zt=!0,Ut="",It=[],Ot=[],Lt=[],Ct=_,ut.ribbonLists.push({name:x,masterArray:b,labelArray:It,positionArray:Ot,colorArray:Lt})}else if(n.startsWith("@text"))jt=!0,ut.texts.push(n.substr(5));else if(n.startsWith("@caption"))Gt=!0,ut.captions.push(n.substr(8));else if(Rt){var w=_E(n),S=w.label,A=w.color,M=w.position;'"'===S?S=Dt:Dt=S,void 0===A&&(A=ht),lt.push(S),pt.push.apply(pt,M),dt.push.apply(dt,A)}else if(kt){var E=n.indexOf("{"),P=n.indexOf("{",E+1),T=void 0,C=void 0;-1===P?C=T=n:(T=n.substr(0,P),C=n.substr(P));var I=_E(T),O=I.label,L=I.color,R=I.width,D=I.position;if('"'===O?O=Bt:Bt=O,void 0===L&&(L=gt),R&&vt.push(R),yt.push(O),xt.push.apply(xt,D),wt.push.apply(wt,L),-1===P&&ft)bt.push(Bt),_t.push.apply(_t,ft),St.push.apply(St,mt),Bt=O,ft=D,mt=L;else{var k=_E(C),B=k.label,N=k.color,F=k.position;'"'===B?B=Bt:Bt=B,void 0===N&&(N=gt),bt.push(B),_t.push.apply(_t,F),St.push.apply(St,N),ft=F,mt=N}}else if(Nt){var z=_E(n),U=z.label,j=z.radius,G=z.color,V=z.position;'"'===U?U=Ft:Ft=U,void 0===j&&(j=1),void 0===G&&(G=Mt),Et.push(U),At.push(j),Pt.push.apply(Pt,V),Tt.push.apply(Tt,G)}else if(zt){var H=_E(n),$=H.label,W=H.color,X=H.position;'"'===$?$=Ut:Ut=$,void 0===W&&(W=Ct),It.push($),Ot.push.apply(Ot,X),Lt.push.apply(Lt,W)}else if(jt)ut.texts.push(n);else if(Gt)ut.captions.push(n);else if(n.startsWith("@kinemage"))ut.kinemage=parseInt(n.substr(9).trim());else if(n.startsWith("@onewidth"))ut.onewidth=!0;else if(n.startsWith("@1viewid"))ut["1viewid"]=wE(n);else if(n.startsWith("@pdbfile"))ut.pdbfile=wE(n);else if(n.startsWith("@group")){var q=SE(n),Y=q[0],Z=q[1];for(var K in ut.groupDict[Y]||(ut.groupDict[Y]={dominant:!1,animate:!1}),Z)ut.groupDict[Y][K]=Z[K]}else if(n.startsWith("@subgroup")){var J=SE(n),Q=J[0],tt=J[1];for(var et in ut.subgroupDict[Q]||(ut.subgroupDict[Q]={dominant:!1,animate:!1,master:void 0}),tt)ut.subgroupDict[Q][et]=tt[et]}else if(n.startsWith("@master")){var it=wE(n),rt=-1===(ct=(st=n).indexOf("}"))?void 0:st.substr(ct+1).trim();ut.masterDict[it]||(ut.masterDict[it]={indent:!1,visible:!1}),"on"===rt?ut.masterDict[it].visible=!0:"off"===rt?ut.masterDict[it].visible=!1:"indent"===rt&&(ut.masterDict[it].indent=!0)}else if(n.startsWith("@pointmaster")){var nt=SE(n),ot=nt[0],at=nt[1];ut.pointmasterDict[ot]={id:Object.keys(at)[0].replace(yE,"")}}else console.log(n);else zt=Nt=kt=Rt=!1}var st,ct}(0,t.length,t)}),ut.text=ut.texts.join("\n").trim(),ut.caption=ut.captions.join("\n").trim(),ut.ribbonLists){var e=[];ut.ribbonLists.forEach(function(t){e.push(function(t){for(var e=t.labelArray,i=t.positionArray,r=t.colorArray,n=[],o=0;o<3*(e.length-2);++o)n[o]=e[o-2*Math.floor(o/3)];for(var a=[],s=0;s<9*(i.length/3-2);++s)a[s]=i[s-6*Math.floor(s/9)];for(var c=[],u=0;u<9*(r.length/3-2);++u)c[u]=r[u-6*Math.floor(u/9)];return{name:t.name,masterArray:t.masterArray,labelArray:n,positionArray:a,colorArray:c}}(t))}),ut.ribbonLists=e}de.Debug&&Yp.timeEnd("KinParser._parse "+this.name)},Object.defineProperties(e.prototype,i),e}(wA);id.add("kin",AE);var ME=function(i){function t(t,e){i.call(this,t,e),this.loader=this.getLoader(),this.surface=new ry(this.name,this.path)}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0}};return e.type.get=function(){return"surface"},e.__objName.get=function(){return"surface"},t.prototype._parse=function(){var t=this.loader.parse(this.streamer.asText());this.surface.fromGeometry(t)},Object.defineProperties(t.prototype,e),t}(wA),EE=function(){this.regexp={vertex_pattern:/^v\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,normal_pattern:/^vn\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,uv_pattern:/^vt\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};EE.prototype={constructor:EE,setPath:function(t){this.path=t},_createParserState:function(){var t={objects:[],object:{},vertices:[],normals:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);this.object={name:t||"",geometry:{vertices:[],normals:[]},fromDeclaration:!1!==e},this.objects.push(this.object)},parseVertexIndex:function(t,e){var i=parseInt(t,10);return 3*(0<=i?i-1:i+e/3)},parseNormalIndex:function(t,e){var i=parseInt(t,10);return 3*(0<=i?i-1:i+e/3)},addVertex:function(t,e,i){var r=this.vertices,n=this.object.geometry.vertices;n.push(r[t+0]),n.push(r[t+1]),n.push(r[t+2]),n.push(r[e+0]),n.push(r[e+1]),n.push(r[e+2]),n.push(r[i+0]),n.push(r[i+1]),n.push(r[i+2])},addVertexLine:function(t){var e=this.vertices,i=this.object.geometry.vertices;i.push(e[t+0]),i.push(e[t+1]),i.push(e[t+2])},addNormal:function(t,e,i){var r=this.normals,n=this.object.geometry.normals;n.push(r[t+0]),n.push(r[t+1]),n.push(r[t+2]),n.push(r[e+0]),n.push(r[e+1]),n.push(r[e+2]),n.push(r[i+0]),n.push(r[i+1]),n.push(r[i+2])},addFace:function(t,e,i,r,n,o,a,s){var c,u=this.vertices.length,h=this.parseVertexIndex(t,u),l=this.parseVertexIndex(e,u),p=this.parseVertexIndex(i,u);if(void 0===r?this.addVertex(h,l,p):(c=this.parseVertexIndex(r,u),this.addVertex(h,l,c),this.addVertex(l,p,c)),void 0!==n){var d=this.normals.length;h=this.parseNormalIndex(n,d),l=n===o?h:this.parseNormalIndex(o,d),p=n===a?h:this.parseNormalIndex(a,d),void 0===r?this.addNormal(h,l,p):(c=this.parseNormalIndex(s,d),this.addNormal(h,l,c),this.addNormal(l,p,c))}},addLineGeometry:function(t){this.object.geometry.type="Line";for(var e=this.vertices.length,i=0,r=t.length;i<r;i++)this.addVertexLine(this.parseVertexIndex(t[i],e))}};return t.startObject("",!1),t},parse:function(t){var e,i,r=this,n=this._createParserState();-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));var o=t.split("\n"),a="",s="",c="",u=[],h="function"==typeof"".trimLeft;for(e=0,i=o.length;e<i;e++)if(a=o[e],0!==(a=h?a.trimLeft():a.trim()).length&&"#"!==(s=a.charAt(0)))if("v"===s){if(" "===(c=a.charAt(1))&&null!==(u=r.regexp.vertex_pattern.exec(a)))n.vertices.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3]));else if("n"===c&&null!==(u=r.regexp.normal_pattern.exec(a)))n.normals.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3]));else if("t"!==c||null===r.regexp.uv_pattern.exec(a))throw new Error("Unexpected vertex/normal/uv line: '"+a+"'")}else if("f"===s)if(null!==(u=r.regexp.face_vertex_uv_normal.exec(a)))n.addFace(u[1],u[4],u[7],u[10],u[3],u[6],u[9],u[12]);else if(null!==r.regexp.face_vertex_uv.exec(a));else if(null!==(u=r.regexp.face_vertex_normal.exec(a)))n.addFace(u[1],u[3],u[5],u[7],u[2],u[4],u[6],u[8]);else{if(null===(u=r.regexp.face_vertex.exec(a)))throw new Error("Unexpected face line: '"+a+"'");n.addFace(u[1],u[2],u[3],u[4])}else if("l"===s){var l=a.substring(1).trim().split(" "),p=[],d=[];if(-1===a.indexOf("/"))p=l;else for(var f=0,m=l.length;f<m;f++){var g=l[f].split("/");""!==g[0]&&p.push(g[0]),""!==g[1]&&d.push(g[1])}n.addLineGeometry(p,d)}else if(null!==(u=r.regexp.object_pattern.exec(a))){var v=u[0].substr(1).trim();n.startObject(v)}else if(r.regexp.material_use_pattern.test(a));else if(r.regexp.material_library_pattern.test(a));else if(null===r.regexp.smoothing_pattern.exec(a)){if("\0"===a)continue;throw new Error("Unexpected line: '"+a+"'")}var y=[];for(e=0,i=n.objects.length;e<i;e++){var b=n.objects[e].geometry;if(0!==b.vertices.length){var x=new $r;x.addAttribute("position",new wr(new Float32Array(b.vertices),3)),0<b.normals.length?x.addAttribute("normal",new wr(new Float32Array(b.normals),3)):x.computeVertexNormals(),y.push(x)}}return y}};var PE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"obj"},e.prototype.getLoader=function(){return new EE},Object.defineProperties(e.prototype,i),e}(ME);id.add("obj",PE);var TE=function(){this.propertyNameMapping={}};TE.prototype={constructor:TE,setPropertyNameMapping:function(t){this.propertyNameMapping=t},bin2str:function(t){for(var e=new Uint8Array(t),i="",r=0;r<t.byteLength;r++)i+=String.fromCharCode(e[r]);return i},isASCII:function(t){return"ascii"===this.parseHeader(this.bin2str(t)).format},parse:function(t){return t instanceof ArrayBuffer?this.isASCII(t)?this.parseASCII(this.bin2str(t)):this.parseBinary(t):this.parseASCII(t)},parseHeader:function(t){var e="",i=0,r=/ply([\s\S]*)end_header\s/.exec(t);null!==r&&(e=r[1],i=r[0].length);var n,o,a,s,c,u,h={comments:[],elements:[],headerLength:i},l=e.split("\n");for(var p=0;p<l.length;p++){var d=l[p];if(""!==(d=d.trim()))switch(o=(a=d.split(/\s+/)).shift(),d=a.join(" "),o){case"format":h.format=a[0],h.version=a[1];break;case"comment":h.comments.push(d);break;case"element":void 0!==n&&h.elements.push(n),(n={}).name=a[0],n.count=parseInt(a[1]),n.properties=[];break;case"property":n.properties.push((s=a,c=this.propertyNameMapping,u=void 0,"list"===(u={type:s[0]}).type?(u.name=s[3],u.countType=s[1],u.itemType=s[2]):u.name=s[1],u.name in c&&(u.name=c[u.name]),u));break;default:console.log("unhandled",o,a)}}return void 0!==n&&h.elements.push(n),h},parseASCIINumber:function(t,e){switch(e){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(t);case"float":case"double":case"float32":case"float64":return parseFloat(t)}},parseASCIIElement:function(t,e){for(var i=e.split(/\s+/),r={},n=0;n<t.length;n++)if("list"===t[n].type){for(var o=[],a=this.parseASCIINumber(i.shift(),t[n].countType),s=0;s<a;s++)o.push(this.parseASCIINumber(i.shift(),t[n].itemType));r[t[n].name]=o}else r[t[n].name]=this.parseASCIINumber(i.shift(),t[n].type);return r},parseASCII:function(t){var e,i=new _r,r=this.parseHeader(t),n="";null!==(e=/end_header\s([\s\S]*)$/.exec(t))&&(n=e[1]);var o=n.split("\n"),a=0,s=0;i.useColor=!1;for(var c=0;c<o.length;c++){var u=o[c];if(""!==(u=u.trim())){s>=r.elements[a].count&&(a++,s=0);var h=this.parseASCIIElement(r.elements[a].properties,u);this.handleElement(i,r.elements[a].name,h),s++}}return this.postProcess(i)},postProcess:function(t){if(t.useColor){for(var e=0;e<t.faces.length;e++)t.faces[e].vertexColors=[t.colors[t.faces[e].a],t.colors[t.faces[e].b],t.colors[t.faces[e].c]];t.elementsNeedUpdate=!0}return t.computeBoundingSphere(),t},handleElement:function(t,e,i){if("vertex"===e){if(t.vertices.push(new ri(i.x,i.y,i.z)),"red"in i&&"green"in i&&"blue"in i){t.useColor=!0;var r=new ki;r.setRGB(i.red/255,i.green/255,i.blue/255),t.colors.push(r)}}else if("face"===e){var n=i.vertex_indices;3===n.length?t.faces.push(new pr(n[0],n[1],n[2])):4===n.length&&t.faces.push(new pr(n[0],n[1],n[3]),new pr(n[1],n[2],n[3]))}},binaryRead:function(t,e,i,r){switch(i){case"int8":case"char":return[t.getInt8(e),1];case"uint8":case"uchar":return[t.getUint8(e),1];case"int16":case"short":return[t.getInt16(e,r),2];case"uint16":case"ushort":return[t.getUint16(e,r),2];case"int32":case"int":return[t.getInt32(e,r),4];case"uint32":case"uint":return[t.getUint32(e,r),4];case"float32":case"float":return[t.getFloat32(e,r),4];case"float64":case"double":return[t.getFloat64(e,r),8]}},binaryReadElement:function(t,e,i,r){for(var n,o={},a=0,s=0;s<i.length;s++)if("list"===i[s].type){var c=[],u=(n=this.binaryRead(t,e+a,i[s].countType,r))[0];a+=n[1];for(var h=0;h<u;h++)n=this.binaryRead(t,e+a,i[s].itemType,r),c.push(n[0]),a+=n[1];o[i[s].name]=c}else n=this.binaryRead(t,e+a,i[s].type,r),o[i[s].name]=n[0],a+=n[1];return[o,a]},parseBinary:function(t){for(var e,i=new _r,r=this.parseHeader(this.bin2str(t)),n="binary_little_endian"===r.format,o=new DataView(t,r.headerLength),a=0,s=0;s<r.elements.length;s++)for(var c=0;c<r.elements[s].count;c++){a+=(e=this.binaryReadElement(o,a,r.elements[s].properties,n))[1];var u=e[0];this.handleElement(i,r.elements[s].name,u)}return this.postProcess(i)}};var CE=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={type:{configurable:!0}};return i.type.get=function(){return"ply"},e.prototype.getLoader=function(){return new TE},Object.defineProperties(e.prototype,i),e}(ME);id.add("ply",CE);var IE=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.delimiter=bl(i.delimiter,","),this.comment=bl(i.comment,"#"),this.columnNames=bl(i.columnNames,!1),this.table={name:this.name,path:this.path,columnNames:[],data:[]}}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0}};return e.type.get=function(){return"csv"},e.__objName.get=function(){return"table"},t.prototype._parse=function(){var o=this,a=this.table.data,s=new RegExp("\\s*"+this.delimiter+"\\s*"),c=0;this.streamer.eachChunkOfLines(function(t){for(var e=t.length,i=0;i<e;++i){var r=t[i].trim();if(!r.startsWith(o.comment)){var n=r.split(s);0===c?o.table.columnNames=n:r&&a.push(n),++c}}})},Object.defineProperties(t.prototype,e),t}(wA);id.add("csv",IE);var OE=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.string=bl(i.string,!1),this.json={name:this.name,path:this.path,data:{}}}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0},isJson:{configurable:!0}};return e.type.get=function(){return"json"},e.__objName.get=function(){return"json"},e.isJson.get=function(){return!0},t.prototype._parse=function(){this.streamer.isBinary()||this.string?this.json.data=JSON.parse(this.streamer.asText()):this.json.data=this.streamer.data},Object.defineProperties(t.prototype,e),t}(wA);id.add("json",OE);var LE=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.msgpack={name:this.name,path:this.path,data:void 0}}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return e.type.get=function(){return"msgpack"},e.__objName.get=function(){return"msgpack"},e.isBinary.get=function(){return!0},t.prototype._parse=function(){de.Debug&&Yp.time("MsgpackParser._parse "+this.name),this.msgpack.data=oM(this.streamer.data),de.Debug&&Yp.timeEnd("MsgpackParser._parse "+this.name)},Object.defineProperties(t.prototype,e),t}(wA);id.add("msgpack",LE);var RE=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.netcdf={name:this.name,path:this.path,data:void 0}}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return e.type.get=function(){return"netcdf"},e.__objName.get=function(){return"netcdf"},e.isBinary.get=function(){return!0},t.prototype._parse=function(){de.Debug&&Yp.time("NetcdfParser._parse "+this.name),this.netcdf.data=new GM(this.streamer.data),de.Debug&&Yp.timeEnd("NetcdfParser._parse "+this.name)},Object.defineProperties(t.prototype,e),t}(wA);id.add("netcdf",RE);var DE=function(i){function t(t,e){i.call(this,t,e),this.text={name:this.name,path:this.path,data:""}}i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0}};return e.type.get=function(){return"text"},e.__objName.get=function(){return"text"},t.prototype._parse=function(){this.text.data=this.streamer.asText()},Object.defineProperties(t.prototype,e),t}(wA);id.add("txt",DE),id.add("text",DE);var kE=/^['"]|['"]$/g,BE=/^<([\w-:.]+)\s*/,NE=/^([^<]*)/,FE=/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/;function zE(i){return i=i.trim().replace(/<!--[\s\S]*?-->/g,""),{declaration:function(){if(s(/^<\?xml\s*/)){for(var t={attributes:{}};!c()&&!u("?>");){var e=a();if(!e)return t;t.attributes[e.name]=e.value}return s(/\?>\s*/),t}}(),root:function t(){var e=s(BE);if(e){for(var i,r,n={name:e[1],attributes:{},children:[]};!(c()||u(">")||u("?>")||u("/>"));){var o=a();if(!o)return n;n.attributes[o.name]=o.value}if(s(/^\s*\/>\s*/))return n;for(s(/\??>\s*/),n.content=(i=s(NE))?i[1]:"";r=t();)n.children.push(r);return s(/^<\/[\w-:.]+>\s*/),n}}()};function a(){var t,e=s(FE);if(e)return{name:e[1],value:(t=e[2],t.replace(kE,""))}}function s(t){var e=i.match(t);if(e)return i=i.slice(e[0].length),e}function c(){return 0===i.length}function u(t){return 0===i.indexOf(t)}}var UE=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.useDomParser=bl(i.useDomParser,!1),this.xml={name:this.name,path:this.path,data:{}}}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={type:{configurable:!0},__objName:{configurable:!0},isXml:{configurable:!0}};return e.type.get=function(){return"xml"},e.__objName.get=function(){return"xml"},e.isXml.get=function(){return!0},t.prototype.__xmlParser=function(t){return zE(t)},t.prototype.__domParser=function(t){return(new window.DOMParser).parseFromString(t,"text/xml")},t.prototype._parse=function(){de.Debug&&Yp.time("XmlParser._parse "+this.name),this.useDomParser?this.streamer.data instanceof Document?this.xml.data=this.streamer.data:this.xml.data=this.__domParser(this.streamer.asText()):this.xml.data=this.__xmlParser(this.streamer.asText()),de.Debug&&Yp.timeEnd("XmlParser._parse "+this.name)},Object.defineProperties(t.prototype,e),t}(wA);function jE(t,e){var i=t.getNamedItem(e);return null!==i?i.value:""}function GE(t,e,i){void 0===i&&(i=!1);var r=jE(t,"icode").trim(),n=jE(t,"chain").trim(),o=jE(t,"altcode"),a=jE(t,"resnum");return r&&(a+="^"+r),n&&(a+=":"+n),e&&(a+="."+e),i&&o.trim()&&(a+="%"+o),a+="/"+(parseInt(jE(t,"model"))-1)}function VE(t,e,i){void 0===t[e]?t[e]=i:t[e]|=i}function HE(t,e){return null!==t&&t.value===e}function $E(t,e,i){for(var r=0,n=e.getElementsByTagName("clash"),o=0,a=n.length;o<a;++o)if(t[jE(n[o].attributes,"cid")]){r+=1;break}return 0<e.getElementsByTagName("angle-outlier").length&&(r+=1),0<e.getElementsByTagName("bond-outlier").length&&(r+=1),0<e.getElementsByTagName("plane-outlier").length&&(r+=1),HE(i.getNamedItem("rota"),"OUTLIER")&&(r+=1),HE(i.getNamedItem("rama"),"OUTLIER")&&(r+=1),HE(i.getNamedItem("RNApucker"),"outlier")&&(r+=1),r}id.add("xml",UE);var WE=function(t,e){this.name=t,this.path=e,this.rsrzDict={},this.rsccDict={},this.rciDict={},this.clashDict={},this.clashArray=[],this.geoDict={},this.geoAtomDict={},this.atomDict={},this.clashSele="NONE"},XE={type:{configurable:!0}};XE.type.get=function(){return"validation"},WE.prototype.fromXml=function(t){de.Debug&&Yp.time("Validation.fromXml");var e,i,r,n=this.rsrzDict,o=this.rsccDict,a=this.rciDict,s=this.clashDict,c=this.clashArray,u=this.geoDict,h=this.geoAtomDict,l=this.atomDict,p=t.getElementsByTagName("Entry");if(1===p.length){var d=p[0].getElementsByTagName("chemical_shift_list");if(1===d.length)for(var f=d[0].getElementsByTagName("random_coil_index"),m=0,g=f.length;m<g;++m){var v=f[m].attributes;a[(r=void 0,i=jE(e=v,"chain").trim(),r="["+jE(e,"rescode")+"]"+jE(e,"resnum"),i&&(r+=":"+i),r)]=parseFloat(jE(v,"value"))}}var y=t.getElementsByTagName("ModelledSubgroup"),b={},x=[];de.Debug&&Yp.time("Validation.fromXml#clashDict");for(var _=0,w=y.length;_<w;++_){var S=y[_],A=S.attributes,M=GE(A);null!==A.getNamedItem("rsrz")&&(n[M]=parseFloat(jE(A,"rsrz"))),null!==A.getNamedItem("rscc")&&(o[M]=parseFloat(jE(A,"rscc")));var E=t.createAttribute("sele");E.value=M,A.setNamedItem(E);for(var P=S.getElementsByTagName("clash"),T=0,C=P.length;T<C;++T){var I=P[T].attributes,O=jE(I,"atom");if("H"!==Rb(O)){var L=jE(I,"cid"),R=GE(A,O,!0);if(l[R]=!0,void 0===b[L])b[L]={sele1:R,res1:M};else{var D=b[L];D.res1!==M&&(D.sele2=R,D.res2=M,x.push(D.res1,M),s[L]=D,c.push(D))}}}}de.Debug&&Yp.timeEnd("Validation.fromXml#clashDict");for(var k=0,B=y.length;k<B;++k){var N=y[k],F=N.attributes,z=jE(F,"sele");if("."!==jE(F,"seq")){var U=$E(s,N,F);0<U&&(u[z]=U)}else{var j=N.getElementsByTagName("clash"),G=N.getElementsByTagName("mog-bond-outlier"),V=N.getElementsByTagName("mog-angle-outlier");if(0<G.length||0<V.length||0<j.length){var H={};h[z]=H;for(var $=0,W=j.length;$<W;++$){var X=j[$].attributes;s[jE(X,"cid")]&&VE(H,jE(X,"atom"),1)}for(var q=0,Y=G.length;q<Y;++q){jE(G[q].attributes,"atoms").split(",").forEach(function(t){VE(H,t,2)})}for(var Z=0,K=V.length;Z<K;++Z){jE(V[Z].attributes,"atoms").split(",").forEach(function(t){VE(H,t,4)})}}}}this.clashSele=x.length?x.join(" OR "):"NONE",de.Debug&&Yp.timeEnd("Validation.fromXml")},WE.prototype.getClashData=function(t){de.Debug&&Yp.time("Validation.getClashData");var e=t||{},i=e.structure,o=i.atomSet,r=new ki(bl(e.color,"#f0027f")),a=i.getAtomProxy(),s=i.getAtomProxy(),c=new ri,u=new ri,h=new ri,n=this.clashArray,l=n.length,p=new Float32Array(3*l),d=new Float32Array(3*l),f=Vd(l,r.r,r.g,r.b),m=new Float32Array(l),g=new Float32Array(l);de.Debug&&Yp.time("Validation.getClashData#atomDict");var v=this.atomDict;i.eachAtom(function(t){var e,i,r,n,o,a,s=(i=(e=t).inscode,r=e.chainname,n=e.atomname,o=e.altloc,a=e.resno+"",i&&(a+="^"+i),r&&(a+=":"+r),n&&(a+="."+n),o&&(a+="%"+o),a+="/"+e.modelIndex);!0===v[s]&&(v[s]=t.index)}),de.Debug&&Yp.timeEnd("Validation.getClashData#atomDict");var y=0;return n.forEach(function(t,e){if(a.index=v[t.sele1],s.index=v[t.sele2],void 0!==a.index&&void 0!==s.index&&o.isSet(a.index,s.index)){c.subVectors(s,a).setLength(a.vdw),u.copy(a).add(c),c.subVectors(a,s).setLength(s.vdw),h.copy(s).add(c);var i=a.distanceTo(s)/2,r=Math.sqrt(a.vdw*a.vdw-i*i),n=Math.sqrt(s.vdw*s.vdw-i*i);u.toArray(p,3*y),h.toArray(d,3*y),m[y]=(r+n)/2,g[y]=e,++y}}),de.Debug&&Yp.timeEnd("Validation.getClashData"),{position1:p.subarray(0,3*y),position2:d.subarray(0,3*y),color:f.subarray(0,3*y),color2:f.subarray(0,3*y),radius:m.subarray(0,y),picking:new mv(g.subarray(0,y),this,i)}},Object.defineProperties(WE.prototype,XE);var qE=function(r){function t(t,e){var i=e||{};r.call(this,t,i),this.useDomParser=!0,this.validation=new WE(this.name,this.path)}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={__objName:{configurable:!0},isXml:{configurable:!0}};return e.__objName.get=function(){return"validation"},e.isXml.get=function(){return!0},t.prototype._parse=function(){r.prototype._parse.call(this),de.Debug&&Yp.time("ValidationParser._parse "+this.name),this.validation.fromXml(this.xml.data),de.Debug&&Yp.timeEnd("ValidationParser._parse "+this.name)},Object.defineProperties(t.prototype,e),t}(UE);function YE(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}function ZE(t,e,i,r,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+r),n);else for(var o=0;o<r;o++)t[n+o]=e[i+o]}function KE(t,e,i,r){for(var n=65535&t|0,o=t>>>16&65535|0,a=0;0!==i;){for(i-=a=2e3<i?2e3:i;o=o+(n=n+e[r++]|0)|0,--a;);n%=65521,o%=65521}return n|o<<16|0}id.add("validation",qE);var JE=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();function QE(t,e,i,r){var n=JE,o=r+i;t^=-1;for(var a=r;a<o;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}var tP=30,eP=12;function iP(t,e){var i,r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b,x,_,w,S,A,M,E;i=t.state,r=t.next_in,M=t.input,n=r+(t.avail_in-5),o=t.next_out,E=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),c=i.dmax,u=i.wsize,h=i.whave,l=i.wnext,p=i.window,d=i.hold,f=i.bits,m=i.lencode,g=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{f<15&&(d+=M[r++]<<f,f+=8,d+=M[r++]<<f,f+=8),b=m[d&v];e:for(;;){if(d>>>=x=b>>>24,f-=x,0===(x=b>>>16&255))E[o++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=m[(65535&b)+(d&(1<<x)-1)];continue e}if(32&x){i.mode=eP;break t}t.msg="invalid literal/length code",i.mode=tP;break t}_=65535&b,(x&=15)&&(f<x&&(d+=M[r++]<<f,f+=8),_+=d&(1<<x)-1,d>>>=x,f-=x),f<15&&(d+=M[r++]<<f,f+=8,d+=M[r++]<<f,f+=8),b=g[d&y];i:for(;;){if(d>>>=x=b>>>24,f-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=g[(65535&b)+(d&(1<<x)-1)];continue i}t.msg="invalid distance code",i.mode=tP;break t}if(w=65535&b,f<(x&=15)&&(d+=M[r++]<<f,(f+=8)<x&&(d+=M[r++]<<f,f+=8)),c<(w+=d&(1<<x)-1)){t.msg="invalid distance too far back",i.mode=tP;break t}if(d>>>=x,f-=x,(x=o-a)<w){if(h<(x=w-x)&&i.sane){t.msg="invalid distance too far back",i.mode=tP;break t}if(A=p,(S=0)===l){if(S+=u-x,x<_){for(_-=x;E[o++]=p[S++],--x;);S=o-w,A=E}}else if(l<x){if(S+=u+l-x,(x-=l)<_){for(_-=x;E[o++]=p[S++],--x;);if(S=0,l<_){for(_-=x=l;E[o++]=p[S++],--x;);S=o-w,A=E}}}else if(S+=l-x,x<_){for(_-=x;E[o++]=p[S++],--x;);S=o-w,A=E}for(;2<_;)E[o++]=A[S++],E[o++]=A[S++],E[o++]=A[S++],_-=3;_&&(E[o++]=A[S++],1<_&&(E[o++]=A[S++]))}else{for(S=o-w;E[o++]=E[S++],E[o++]=E[S++],E[o++]=E[S++],2<(_-=3););_&&(E[o++]=E[S++],1<_&&(E[o++]=E[S++]))}break}}break}}while(r<n&&o<s);r-=_=f>>3,d&=(1<<(f-=_<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=o<s?s-o+257:257-(o-s),i.hold=d,i.bits=f}var rP=15,nP=852,oP=592,aP=0,sP=1,cP=2,uP=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],hP=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],lP=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],pP=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function dP(t,e,i,r,n,o,a,s){var c,u,h,l,p,d,f,m,g,v=s.bits,y=0,b=0,x=0,_=0,w=0,S=0,A=0,M=0,E=0,P=0,T=null,C=0,I=new Uint16Array(rP+1),O=new Uint16Array(rP+1),L=null,R=0;for(y=0;y<=rP;y++)I[y]=0;for(b=0;b<r;b++)I[e[i+b]]++;for(w=v,_=rP;1<=_&&0===I[_];_--);if(_<w&&(w=_),0===_)return n[o++]=20971520,n[o++]=20971520,s.bits=1,0;for(x=1;x<_&&0===I[x];x++);for(w<x&&(w=x),y=M=1;y<=rP;y++)if(M<<=1,(M-=I[y])<0)return-1;if(0<M&&(t===aP||1!==_))return-1;for(O[1]=0,y=1;y<rP;y++)O[y+1]=O[y]+I[y];for(b=0;b<r;b++)0!==e[i+b]&&(a[O[e[i+b]]++]=b);if(t===aP?(T=L=a,d=19):t===sP?(T=uP,C-=257,L=hP,R-=257,d=256):(T=lP,L=pP,d=-1),y=x,p=o,A=b=P=0,h=-1,l=(E=1<<(S=w))-1,t===sP&&nP<E||t===cP&&oP<E)return 1;for(;;){for(f=y-A,a[b]<d?(m=0,g=a[b]):a[b]>d?(m=L[R+a[b]],g=T[C+a[b]]):(m=96,g=0),c=1<<y-A,x=u=1<<S;n[p+(P>>A)+(u-=c)]=f<<24|m<<16|g|0,0!==u;);for(c=1<<y-1;P&c;)c>>=1;if(0!==c?(P&=c-1,P+=c):P=0,b++,0==--I[y]){if(y===_)break;y=e[i+a[b]]}if(w<y&&(P&l)!==h){for(0===A&&(A=w),p+=x,M=1<<(S=y-A);S+A<_&&!((M-=I[S+A])<=0);)S++,M<<=1;if(E+=1<<S,t===sP&&nP<E||t===cP&&oP<E)return 1;n[h=P&l]=w<<24|S<<16|p-o|0}}return 0!==P&&(n[p+P]=y-A<<24|64<<16|0),s.bits=w,0}var fP=0,mP=1,gP=2,vP=4,yP=5,bP=6,xP=0,_P=1,wP=2,SP=-2,AP=-3,MP=-4,EP=-5,PP=8,TP=1,CP=2,IP=3,OP=4,LP=5,RP=6,DP=7,kP=8,BP=9,NP=10,FP=11,zP=12,UP=13,jP=14,GP=15,VP=16,HP=17,$P=18,WP=19,XP=20,qP=21,YP=22,ZP=23,KP=24,JP=25,QP=26,tT=27,eT=28,iT=29,rT=30,nT=31,oT=32,aT=852,sT=592;function cT(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function uT(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function hT(t){var e,i,r;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,(i=t)&&i.state?(r=i.state,i.total_in=i.total_out=r.total=0,i.msg="",r.wrap&&(i.adler=1&r.wrap),r.mode=TP,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(aT),r.distcode=r.distdyn=new Int32Array(sT),r.sane=1,r.back=-1,xP):SP):SP}function lT(t,e){var i,r,n,o,a,s;return t?(r=new uT,(t.state=r).window=null,o=e,(i=(n=t)&&n.state?(s=n.state,o<0?(a=0,o=-o):(a=1+(o>>4),o<48&&(o&=15)),o&&(o<8||15<o)?SP:(null!==s.window&&s.wbits!==o&&(s.window=null),s.wrap=a,s.wbits=o,hT(n))):SP)!==xP&&(t.state=null),i):SP}var pT,dT,fT=!0;function mT(t){if(fT){var e;for(pT=new Int32Array(512),dT=new Int32Array(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(dP(mP,t.lens,0,288,pT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;dP(gP,t.lens,0,32,dT,0,t.work,{bits:5}),fT=!1}t.lencode=pT,t.lenbits=9,t.distcode=dT,t.distbits=5}function gT(t,e,i,r){var n,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(ZE(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(n=o.wsize-o.wnext)&&(n=r),ZE(o.window,e,i-r,n,o.wnext),(r-=n)?(ZE(o.window,e,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0}function vT(t,e){var i,r,n,o,a,s,c,u,h,l,p,d,f,m,g,v,y,b,x,_,w,S,A,M,E=0,P=new Uint8Array(4),T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return SP;(i=t.state).mode===zP&&(i.mode=UP),a=t.next_out,n=t.output,c=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,u=i.hold,h=i.bits,l=s,p=c,S=xP;t:for(;;)switch(i.mode){case TP:if(0===i.wrap){i.mode=UP;break}for(;h<16;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(2&i.wrap&&35615===u){P[i.check=0]=255&u,P[1]=u>>>8&255,i.check=QE(i.check,P,2,0),h=u=0,i.mode=CP;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",i.mode=rT;break}if((15&u)!==PP){t.msg="unknown compression method",i.mode=rT;break}if(h-=4,w=8+(15&(u>>>=4)),0===i.wbits)i.wbits=w;else if(w>i.wbits){t.msg="invalid window size",i.mode=rT;break}i.dmax=1<<w,t.adler=i.check=1,i.mode=512&u?NP:zP,h=u=0;break;case CP:for(;h<16;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(i.flags=u,(255&i.flags)!==PP){t.msg="unknown compression method",i.mode=rT;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=rT;break}i.head&&(i.head.text=u>>8&1),512&i.flags&&(P[0]=255&u,P[1]=u>>>8&255,i.check=QE(i.check,P,2,0)),h=u=0,i.mode=IP;case IP:for(;h<32;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}i.head&&(i.head.time=u),512&i.flags&&(P[0]=255&u,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,i.check=QE(i.check,P,4,0)),h=u=0,i.mode=OP;case OP:for(;h<16;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}i.head&&(i.head.xflags=255&u,i.head.os=u>>8),512&i.flags&&(P[0]=255&u,P[1]=u>>>8&255,i.check=QE(i.check,P,2,0)),h=u=0,i.mode=LP;case LP:if(1024&i.flags){for(;h<16;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}i.length=u,i.head&&(i.head.extra_len=u),512&i.flags&&(P[0]=255&u,P[1]=u>>>8&255,i.check=QE(i.check,P,2,0)),h=u=0}else i.head&&(i.head.extra=null);i.mode=RP;case RP:if(1024&i.flags&&(s<(d=i.length)&&(d=s),d&&(i.head&&(w=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),ZE(i.head.extra,r,o,d,w)),512&i.flags&&(i.check=QE(i.check,r,d,o)),s-=d,o+=d,i.length-=d),i.length))break t;i.length=0,i.mode=DP;case DP:if(2048&i.flags){if(0===s)break t;for(d=0;w=r[o+d++],i.head&&w&&i.length<65536&&(i.head.name+=String.fromCharCode(w)),w&&d<s;);if(512&i.flags&&(i.check=QE(i.check,r,d,o)),s-=d,o+=d,w)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=kP;case kP:if(4096&i.flags){if(0===s)break t;for(d=0;w=r[o+d++],i.head&&w&&i.length<65536&&(i.head.comment+=String.fromCharCode(w)),w&&d<s;);if(512&i.flags&&(i.check=QE(i.check,r,d,o)),s-=d,o+=d,w)break t}else i.head&&(i.head.comment=null);i.mode=BP;case BP:if(512&i.flags){for(;h<16;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(u!==(65535&i.check)){t.msg="header crc mismatch",i.mode=rT;break}h=u=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=zP;break;case NP:for(;h<32;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}t.adler=i.check=cT(u),h=u=0,i.mode=FP;case FP:if(0===i.havedict)return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,i.hold=u,i.bits=h,wP;t.adler=i.check=1,i.mode=zP;case zP:if(e===yP||e===bP)break t;case UP:if(i.last){u>>>=7&h,h-=7&h,i.mode=tT;break}for(;h<3;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}switch(i.last=1&u,h-=1,3&(u>>>=1)){case 0:i.mode=jP;break;case 1:if(mT(i),i.mode=XP,e===bP){u>>>=2,h-=2;break t}break;case 2:i.mode=HP;break;case 3:t.msg="invalid block type",i.mode=rT}u>>>=2,h-=2;break;case jP:for(u>>>=7&h,h-=7&h;h<32;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",i.mode=rT;break}if(i.length=65535&u,h=u=0,i.mode=GP,e===bP)break t;case GP:i.mode=VP;case VP:if(d=i.length){if(s<d&&(d=s),c<d&&(d=c),0===d)break t;ZE(n,r,o,d,a),s-=d,o+=d,c-=d,a+=d,i.length-=d;break}i.mode=zP;break;case HP:for(;h<14;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(i.nlen=257+(31&u),u>>>=5,h-=5,i.ndist=1+(31&u),u>>>=5,h-=5,i.ncode=4+(15&u),u>>>=4,h-=4,286<i.nlen||30<i.ndist){t.msg="too many length or distance symbols",i.mode=rT;break}i.have=0,i.mode=$P;case $P:for(;i.have<i.ncode;){for(;h<3;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}i.lens[T[i.have++]]=7&u,u>>>=3,h-=3}for(;i.have<19;)i.lens[T[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},S=dP(fP,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,S){t.msg="invalid code lengths set",i.mode=rT;break}i.have=0,i.mode=WP;case WP:for(;i.have<i.nlen+i.ndist;){for(;v=(E=i.lencode[u&(1<<i.lenbits)-1])>>>16&255,y=65535&E,!((g=E>>>24)<=h);){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(y<16)u>>>=g,h-=g,i.lens[i.have++]=y;else{if(16===y){for(M=g+2;h<M;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(u>>>=g,h-=g,0===i.have){t.msg="invalid bit length repeat",i.mode=rT;break}w=i.lens[i.have-1],d=3+(3&u),u>>>=2,h-=2}else if(17===y){for(M=g+3;h<M;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}h-=g,w=0,d=3+(7&(u>>>=g)),u>>>=3,h-=3}else{for(M=g+7;h<M;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}h-=g,w=0,d=11+(127&(u>>>=g)),u>>>=7,h-=7}if(i.have+d>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=rT;break}for(;d--;)i.lens[i.have++]=w}}if(i.mode===rT)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=rT;break}if(i.lenbits=9,A={bits:i.lenbits},S=dP(mP,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,S){t.msg="invalid literal/lengths set",i.mode=rT;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},S=dP(gP,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,S){t.msg="invalid distances set",i.mode=rT;break}if(i.mode=XP,e===bP)break t;case XP:i.mode=qP;case qP:if(6<=s&&258<=c){t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,i.hold=u,i.bits=h,iP(t,p),a=t.next_out,n=t.output,c=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,u=i.hold,h=i.bits,i.mode===zP&&(i.back=-1);break}for(i.back=0;v=(E=i.lencode[u&(1<<i.lenbits)-1])>>>16&255,y=65535&E,!((g=E>>>24)<=h);){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(v&&0==(240&v)){for(b=g,x=v,_=y;v=(E=i.lencode[_+((u&(1<<b+x)-1)>>b)])>>>16&255,y=65535&E,!(b+(g=E>>>24)<=h);){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}u>>>=b,h-=b,i.back+=b}if(u>>>=g,h-=g,i.back+=g,i.length=y,0===v){i.mode=QP;break}if(32&v){i.back=-1,i.mode=zP;break}if(64&v){t.msg="invalid literal/length code",i.mode=rT;break}i.extra=15&v,i.mode=YP;case YP:if(i.extra){for(M=i.extra;h<M;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}i.length+=u&(1<<i.extra)-1,u>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ZP;case ZP:for(;v=(E=i.distcode[u&(1<<i.distbits)-1])>>>16&255,y=65535&E,!((g=E>>>24)<=h);){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(0==(240&v)){for(b=g,x=v,_=y;v=(E=i.distcode[_+((u&(1<<b+x)-1)>>b)])>>>16&255,y=65535&E,!(b+(g=E>>>24)<=h);){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}u>>>=b,h-=b,i.back+=b}if(u>>>=g,h-=g,i.back+=g,64&v){t.msg="invalid distance code",i.mode=rT;break}i.offset=y,i.extra=15&v,i.mode=KP;case KP:if(i.extra){for(M=i.extra;h<M;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}i.offset+=u&(1<<i.extra)-1,u>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=rT;break}i.mode=JP;case JP:if(0===c)break t;if(d=p-c,i.offset>d){if((d=i.offset-d)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=rT;break}d>i.wnext?(d-=i.wnext,f=i.wsize-d):f=i.wnext-d,d>i.length&&(d=i.length),m=i.window}else m=n,f=a-i.offset,d=i.length;for(c<d&&(d=c),c-=d,i.length-=d;n[a++]=m[f++],--d;);0===i.length&&(i.mode=qP);break;case QP:if(0===c)break t;n[a++]=i.length,c--,i.mode=qP;break;case tT:if(i.wrap){for(;h<32;){if(0===s)break t;s--,u|=r[o++]<<h,h+=8}if(p-=c,t.total_out+=p,i.total+=p,p&&(t.adler=i.check=i.flags?QE(i.check,n,p,a-p):KE(i.check,n,p,a-p)),p=c,(i.flags?u:cT(u))!==i.check){t.msg="incorrect data check",i.mode=rT;break}h=u=0}i.mode=eT;case eT:if(i.wrap&&i.flags){for(;h<32;){if(0===s)break t;s--,u+=r[o++]<<h,h+=8}if(u!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=rT;break}h=u=0}i.mode=iT;case iT:S=_P;break t;case rT:S=AP;break t;case nT:return MP;case oT:default:return SP}return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,i.hold=u,i.bits=h,(i.wsize||p!==t.avail_out&&i.mode<rT&&(i.mode<tT||e!==vP))&&gT(t,t.output,t.next_out,p-t.avail_out),l-=t.avail_in,p-=t.avail_out,t.total_in+=l,t.total_out+=p,i.total+=p,i.wrap&&p&&(t.adler=i.check=i.flags?QE(i.check,n,p,t.next_out-p):KE(i.check,n,p,t.next_out-p)),t.data_type=i.bits+(i.last?64:0)+(i.mode===zP?128:0)+(i.mode===XP||i.mode===GP?256:0),(0===l&&0===p||e===vP)&&S===xP&&(S=EP),S}var yT=!0,bT=!0;try{String.fromCharCode.apply(null,[0])}catch(t){yT=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){bT=!1}for(var xT=new Uint8Array(256),_T=0;_T<256;_T++)xT[_T]=252<=_T?6:248<=_T?5:240<=_T?4:224<=_T?3:192<=_T?2:1;function wT(t){var e,i,r,n,o,a=t.length,s=0;for(n=0;n<a;n++)55296==(64512&(i=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(r=t.charCodeAt(n+1)))&&(i=65536+(i-55296<<10)+(r-56320),n++),s+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(s),n=o=0;o<s;n++)55296==(64512&(i=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(r=t.charCodeAt(n+1)))&&(i=65536+(i-55296<<10)+(r-56320),n++),i<128?e[o++]=i:(i<2048?e[o++]=192|i>>>6:(i<65536?e[o++]=224|i>>>12:(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63),e[o++]=128|i>>>6&63),e[o++]=128|63&i);return e}function ST(t,e){var i,r,n,o,a=e||t.length,s=new Array(2*a);for(i=r=0;i<a;)if((n=t[i++])<128)s[r++]=n;else if(4<(o=xT[n]))s[r++]=65533,i+=o-1;else{for(n&=2===o?31:3===o?15:7;1<o&&i<a;)n=n<<6|63&t[i++],o--;1<o?s[r++]=65533:n<65536?s[r++]=n:(n-=65536,s[r++]=55296|n>>10&1023,s[r++]=56320|1023&n)}return function(t,e){if(e<65537&&(t.subarray&&bT||!t.subarray&&yT))return String.fromCharCode.apply(null,YE(t,e));for(var i="",r=0;r<e;r++)i+=String.fromCharCode(t[r]);return i}(s,r)}function AT(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+xT[t[i]]>e?i:e}xT[254]=xT[254]=1;var MT=0,ET={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function PT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function TT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var CT=Object.prototype.toString;function IT(t){if(!(this instanceof IT))return new IT(t);this.options=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}}return t}({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PT,this.strm.avail_out=0;var i,r,n,o=lT(this.strm,e.windowBits);if(o!==MT)throw new Error(ET[o]);this.header=new TT,i=this.strm,r=this.header,i&&i.state&&(0==(2&(n=i.state).wrap)||((n.head=r).done=!1))}IT.prototype.push=function(t,e){var i,r,n,o,a,s,c,u,h,l,p=this.strm,d=this.options.chunkSize,f=this.options.dictionary,m=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?p.input=function(t){for(var e=new Uint8Array(t.length),i=0,r=e.length;i<r;i++)e[i]=t.charCodeAt(i);return e}(t):"[object ArrayBuffer]"===CT.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new Uint8Array(d),p.next_out=0,p.avail_out=d),2===(i=vT(p,0))&&f&&(s="string"==typeof f?wT(f):"[object ArrayBuffer]"===CT.call(f)?new Uint8Array(f):f,c=this.strm,h=void 0,l=(u=s).length,i=c&&c.state?0!==(h=c.state).wrap&&h.mode!==FP?SP:h.mode===FP&&KE(1,u,l,0)!==h.check?AP:gT(c,u,l,l)?(h.mode=nT,MP):(h.havedict=1,xP):SP),-5===i&&!0===m&&(i=MT,m=!1),1!==i&&i!==MT)return this.onEnd(i),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&1!==i&&(0!==p.avail_in||4!==r&&2!==r)||("string"===this.options.to?(n=AT(p.output,p.next_out),o=p.next_out-n,a=ST(p.output,n),p.next_out=o,p.avail_out=d-o,o&&ZE(p.output,p.output,n,o,0),this.onData(a)):this.onData(YE(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((0<p.avail_in||0===p.avail_out)&&1!==i);return 1===i&&(r=4),4===r?(i=function(t){if(!t||!t.state)return SP;var e=t.state;return e.window&&(e.window=null),t.state=null,xP}(this.strm),this.onEnd(i),this.ended=!0,i===MT):2!==r||(this.onEnd(MT),!(p.avail_out=0))},IT.prototype.onData=function(t){this.chunks.push(t)},IT.prototype.onEnd=function(t){t===MT&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=function(t){var e,i,r,n,o,a;for(e=r=0,i=t.length;e<i;e++)r+=t[e].length;for(a=new Uint8Array(r),e=n=0,i=t.length;e<i;e++)o=t[e],a.set(o,n),n+=o.length;return a}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},nd.add("gz",function(e){var i;e instanceof ArrayBuffer&&(e=new Uint8Array(e));try{i=function(t,e){var i=new IT(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}(e)}catch(t){i=e}return i});var OT=function(){},LT="//mmtf.rcsb.org/v1.0/",RT=LT+"full/",DT=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.getUrl=function(t){var e,i=md(t),r=i.name.substr(0,4);return!["pdb","cif"].includes(i.ext)||!1!==i.compressed&&"gz"!==i.compressed?"mmtf"===i.ext?e=i.base.endsWith(".bb")?"//mmtf.rcsb.org/v1.0/reduced/"+r:RT+r:(i.ext&&Yp.warn("unsupported ext",i.ext),e=RT+r):e="//files.rcsb.org/download/"+i.path,wl()+e},e.prototype.getExt=function(t){var e=md(t).ext;return e||"mmtf"},e}(OT);td.add("rcsb",new DT);var kT="//pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/",BT="/SDF?record_type=3d",NT=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.getUrl=function(t){var e,i=md(t),r=i.name;return i.ext&&"sdf"!==i.ext&&Yp.warn("unsupported ext",i.ext),e=kT+r+BT,wl()+e},e.prototype.getExt=function(t){var e=md(t).ext;return e||"sdf"},e}(OT);td.add("pubchem",new NT);var FT=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.getUrl=function(t){return t},e.prototype.getExt=function(t){return md(t).ext},e}(OT);td.add("ftp",new FT),td.add("http",new FT),td.add("https",new FT);var zT=/^((http|https|ftp):)*\/\//,UT=function(e){function t(t){void 0===t&&(t=""),e.call(this),this.baseUrl=t}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.getUrl=function(t){var e,i,r,n,o=md(t),a=this.baseUrl+o.path;return zT.test(this.baseUrl)||(e=a,i=window.location,r=i.pathname,n=r.substring(0,r.lastIndexOf("/")+1),a=i.origin+n+e),a},t.prototype.getExt=function(t){return md(t).ext},t}(OT),jT=function(e){function t(t){void 0===t&&(t=""),e.call(this),this.baseUrl=t}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.getListing=function(e){void 0===e&&(e="");var t=this.baseUrl+"dir/"+e;return"/"!==t[t.length-1]&&(t+="/"),vd(t,{ext:"json"}).then(function(t){return{path:e,data:t.data}})},t.prototype.getUrl=function(t){var e=md(t);return this.baseUrl+"file/"+e.path+e.query},t.prototype.getCountUrl=function(t){var e=md(t);return this.baseUrl+"traj/numframes/"+e.path+e.query},t.prototype.getFrameUrl=function(t,e){var i=md(t);return this.baseUrl+"traj/frame/"+e+"/"+i.path+i.query},t.prototype.getFrameParams=function(t,e){return"atomIndices="+e.join(";")},t.prototype.getPathUrl=function(t,e){var i=md(t);return this.baseUrl+"traj/path/"+e+"/"+i.path+i.query},t.prototype.getExt=function(t){return md(t).ext},t}(OT);function GT(t,e){return{type:"integer",max:t,min:e}}function VT(t,e,i){return{type:"number",precision:t,max:e,min:i}}function HT(t,e,i){return{type:"range",step:t,max:e,min:i}}function $T(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return{type:"select",options:t.reduce(function(t,e){var i;return Object.assign({},t,((i={})[e]=e,i))},{})}}var WT={backgroundColor:{type:"color"},quality:$T("auto","low","medium","high"),sampleLevel:HT(1,5,-1),impostor:{type:"boolean"},workerDefault:{type:"boolean"},rotateSpeed:VT(1,10,0),zoomSpeed:VT(1,10,0),panSpeed:VT(1,10,0),clipNear:HT(1,100,0),clipFar:HT(1,100,0),clipDist:GT(200,0),clipMode:$T("scene","camera"),clipScale:$T("relative","absolute"),fogNear:HT(1,100,0),fogFar:HT(1,100,0),fogMode:$T("scene","camera"),fogScale:$T("relative","absolute"),cameraType:$T("perspective","orthographic","stereo"),cameraEyeSep:VT(3,1,.01),cameraFov:HT(1,120,15),lightColor:{type:"color"},lightIntensity:VT(2,10,0),ambientColor:{type:"color"},ambientIntensity:VT(2,10,0),hoverTimeout:GT(1e4,-1),tooltip:{type:"boolean"},mousePreset:$T.apply(void 0,Object.keys(Ay))};window.Promise||(window.Promise=s),de.Version="2.0.0-dev.37",de.StaticDatasource=UT,de.MdsrvDatasource=jT,de.Colormaker=ip,de.Selection=Lp,de.PdbWriter=xd,de.SdfWriter=_d,de.StlWriter=Ad,de.Stage=E_,de.Collection=Zx,de.ComponentCollection=w_,de.RepresentationCollection=Jx,de.Component=qx,de.ShapeComponent=P_,de.StructureComponent=b_,de.SurfaceComponent=x_,de.VolumeComponent=__,de.Assembly=fb,de.TrajectoryPlayer=o_,de.Superposition=r_,de.Frames=e_,de.Queue=am,de.Counter=Md,de.BufferRepresentation=mx,de.ArrowBuffer=XS,de.BoxBuffer=QS,de.ConeBuffer=HS,de.CylinderBuffer=Gw,de.EllipsoidBuffer=oA,de.MeshBuffer=my,de.OctahedronBuffer=hA,de.PointBuffer=Ix,de.SphereBuffer=Px,de.TetrahedronBuffer=mA,de.TextBuffer=Aw,de.TorusBuffer=_A,de.WidelineBuffer=Pw,de.Shape=dx,de.Structure=cx,de.Kdtree=ub,de.SpatialHash=Zm,de.MolecularSurface=SS,de.Volume=ay,de.MouseActions=Sy,de.KeyActions=Py,de.setDebug=function(t){de.Debug=t},de.MeasurementDefaultParams=Zp,de.setMeasurementDefaultParams=function(t){void 0===t&&(t={}),Object.assign(Zp,t)},de.ScriptExtensions=Kp,de.ColormakerRegistry=Qp,de.DatasourceRegistry=td,de.DecompressorRegistry=nd,de.ParserRegistry=id,de.RepresentationRegistry=ed,de.setListingDatasource=function(t){de.ListingDatasource=t},de.setTrajectoryDatasource=function(t){de.TrajectoryDatasource=t},de.autoLoad=vd,de.getDataInfo=gd,de.getFileInfo=md,de.superpose=v_,de.guessElement=Rb,de.concatStructures=function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];de.Debug&&Yp.time("concatStructures");var r=new cx(t,""),n=new yb(r),o=r.atomStore,a=r.atomMap;o.addField("formalCharge",1,"int8"),o.addField("partialCharge",1,"float32");var s={},c=0,u=0,h=0;e.forEach(function(t){t.eachAtom(function(t){o.growIfFull(),o.atomTypeId[c]=a.add(t.atomname,t.element),o.x[c]=t.x,o.y[c]=t.y,o.z[c]=t.z,o.serial[c]=t.serial,o.formalCharge[c]=t.formalCharge,o.partialCharge[c]=t.partialCharge,o.altloc[c]=t.altloc,o.occupancy[c]=t.occupancy,o.bfactor[c]=t.bfactor,n.addAtom(t.modelIndex+h,t.chainname,t.chainid,t.resname,t.resno,1===t.hetero,t.sstruc,t.inscode),s[t.index+u]=c,c+=1}),u+=t.atomStore.count,h+=t.modelStore.count});var l=r.bondStore,p=r.getAtomProxy(),d=r.getAtomProxy();return u=0,e.forEach(function(t){t.eachBond(function(t){p.index=s[t.atomIndex1+u],d.index=s[t.atomIndex2+u],l.addBond(p,d,t.bondOrder)}),u+=t.atomStore.count}),n.finalize(),Cb(r,!0),Tb(r,!0),r.finalizeAtoms(),r.finalizeBonds(),Db(r),de.Debug&&Yp.timeEnd("concatStructures"),r},de.flatten=function t(e,i){i=bl(i,[]);for(var r=0;r<e.length;r++)Array.isArray(e[r])?t(e[r],i):i.push(e[r]);return i},de.throttle=function(i,r,n){var o,a,s,c=null,u=0;function h(){u=!1===n.leading?0:Date.now(),c=null,s=i.apply(o,a),c||(o=a=null)}return n||(n={}),function(){var t=Date.now();u||!1!==n.leading||(u=t);var e=r-(t-u);return o=this,a=arguments,e<=0||r<e?(c&&(clearTimeout(c),c=null),u=t,s=i.apply(o,a),c||(o=a=null)):c||!1===n.trailing||(c=setTimeout(h,e)),s}},de.download=Ml,de.getQuery=yl,de.uniqueArray=Cl,de.LeftMouseButton=1,de.MiddleMouseButton=2,de.RightMouseButton=3,de.Signal=op,de.Matrix3=ni,de.Matrix4=ei,de.Vector2=ti,de.Vector3=ri,de.Box3=Pi,de.Quaternion=ii,de.Euler=Gi,de.Plane=Ci,de.Color=ki,de.UIStageParameters=WT,Object.defineProperty(de,"__esModule",{value:!0})});
</script>
        <script type="text/javascript">NGL.specialOps = {
    'note': `This is a monkeypatch to allow HTML control of the structure using the markup defined in https://michelanglo.sgc.ox.ac.uk/docs/markup
/* This script adds to NGL the following...

* NGL.stageIds an object taht stores id: stages
* NGL.getStage(id) is a getter for this.
* NGL.specialOps
** NGL.specialOps.showDomain(id, selection, color, view), which focuses stage to show the given selection with the given color
** NGL.specialOps.showResidue(id, selection, color, radius, view), which focuses on the selection and their neighbourhood by n radius
** NGL.specialOps.showClash(id, selection, color, radius, tolerance, view) which shows the clashes that selection may have
** NGL.specialOps.slowOrient deals with the view if provided for these previous three.
** NGL.specialOps.showTitle(id,text) shows the title.
** NGL.specialOps.multiLoader(id, proteins, backgroundColor, startIndex), see below about proteins object
** NGL.specialOps.postInitialise() gets called by load if the stage was not set via multiLoader
** NGL.specialOps.load(option)
** NGL.specialOps.removeImg() switches the image off
** NGL.specialOps._run_loadFx() and a few others.
* NGL.Stage extra prototypes
** NGL.Stage.prototype.getComponentByType allowing stage objects to return a list of components. e.g. .getComponentsByType('structure') to select the protein.
** NGL.Stage.prototype.getComponentByType allowing stage objects to return the first component. e.g. .getComponentByType('structure') to select the protein. If there is none, it raises an error.
** NGL.Stage.prototype.removeComponentsbyName array version.
** NGL.Stage.prototype.removeClashes removes clashes and the rotation.
* $.prototype.protein to enable a link --will run on click.
NB. this file ends with $('[data-toggle="protein"]').protein(); to activate all links.

proteins is an array of {name: 'unique_name', type: 'rcsb' (default) | 'url' | 'data', value: xxx, 'ext': 'pdb' (default), loadFx: xxx}
where the optional loadFx is a function that is run on loading.
`, version: '1.1'
};

NGL.specialOps.version = '0.4.0';

NGL.stageIds = {};

NGL.getStage = function (id) {
    // returns a stage stored in stageIds ...
    // unless somehow a stage was given.
    if (id === undefined) {
        if (myData) {
            id = myData.ids[0];
        } else {
            id = 'viewport';
        }
    }
    if (typeof id === 'string') {
        id = id.replace('#', '');
        if (id in NGL.stageIds) {
            return NGL.stageIds[id];
        } else if ($('#' + id + ' img').length !== 0) {
            if (NGL.Debug) {
                console.log('You have not activated the stage yet!');
            }
            NGL.specialOps.load(0, false, id);
        } else if (window.stage !== undefined) {
            if (NGL.Debug) {
                console.log('No stored stage in .stageIds, but there is a window.stage...');
            }
            return window.stage;
        } else {
            if (NGL.Debug) {
                console.log('No stored stage in .stageIds nor is a window.stage...');
            }
            return undefined;
        }
    } else if (id.compList !== undefined) { //it's an Stage
        return id;

    } else if (id.stage !== undefined) { //it's an Component
        return id.stage;
    } else {
        if (NGL.Debug) {
            console.log('No idea what this is.');
        }
    }
};

///////////////////////////// NGL.SpecialOps ///////////////

NGL.specialOps.colorDefaults = {'domain': 'green', 'residue': 'hotpink'};

/// show series.

NGL.specialOps.slowOrient = function (id, view, selection) {
    let protein = NGL.getStage(id).getComponentByType('structure');
    //wrapper for a string view.
    if (view === false) {
        // pass. orient is disabled.
    } else if ((view === undefined) && (selection === null)) {
        protein.autoView(2000);
    } else if ((view === undefined) && (selection !== null)) {
        protein.autoView(selection, 2000);
    } else if (typeof view !== 'string') {
        protein.autoView(2000);
        NGL.getStage(id).animationControls.orient(view, 2000);
    } else { //array.
        protein.autoView(2000);
        NGL.getStage(id).animationControls.orient(JSON.parse(view), 2000);
    }
};

NGL.specialOps.enableClickToShow = function(id) {
    // this allows users to see what residues they clicked.
    if (window.myData.clicks === undefined) {window.myData.clicks = {}}
    if (window.myData.clicks[id] === undefined) {window.myData.clicks[id] = {residues: new Set(), representation: undefined};}
    if (window.myData.clicks[id].active === undefined) {
        window.myData.clicks[id].active = true;
        NGL.getStage(id).signals.clicked.add(pickingProxy => {
        // for testing: NGL.getStage().compList[0].structure.getAtomProxy(50)
        if (pickingProxy && (pickingProxy.atom || pickingProxy.bond )){
            const atom = pickingProxy.atom || pickingProxy.closestBondAtom;
            const name = atom.qualifiedName().match(/(\d+\:\w)\..{1,5}/)[1]; //"[PRO]1114:A.C"
            // Check if clicked atom is in array
            if (myData.clicks[id].residues.has(name)) {
                myData.clicks[id].residues.delete(name);
            } else {
                myData.clicks[id].residues.add(name);
            }
            if (myData.clicks[id].representation !== undefined) pickingProxy.component.removeRepresentation(myData.clicks[id].representation);
            const seleName = Array.from(myData.clicks[id].residues).join(' or ');
            if (myData.clicks[id].residues.size !== 0) {
            myData.clicks[id].representation = pickingProxy.component.addRepresentation("hyperball", { sele: seleName})
            NGL.specialOps.showTitle('viewport','Clicked: '+name);
            }
            }
    });
    }

};

NGL.specialOps.showDomain = function (id, selection, color, view, keepPrevious) {
    if (NGL.debug) {
        console.log('Show domain ' + selection)
    }
    // Prepare
    NGL.specialOps.postInitialise(); //worst case schenario prevention.
    color = color || NGL.specialOps.colorDefaults['domain'];
    //selection = typeof selection === "string" ? new NGL.Selection(selection) : selection;
    let proteins = NGL.getStage(id).getComponentsByType('structure');
    if (!keepPrevious) {
        NGL.getStage(id).removeClashes();
        proteins.map(protein => protein.removeAllRepresentations());
    }
    // Color in!
    let schemeId = NGL.ColormakerRegistry.addSelectionScheme([[color, selection], ["white", "*"]]);
    myData.current_cartoonScheme = schemeId;
    let prop = {color: schemeId, smoothSheet: true};
    // determine span
    if (keepPrevious && !! selection) {
        prop['sele'] = selection;
    }
    proteins.map(protein => protein.addRepresentation("cartoon", prop));
    NGL.specialOps.slowOrient(id, view, selection);
};

NGL.specialOps.showResidue = function (id, selection, color, radius, view, label, cartoonScheme, keepPrevious) { //'chainid'
    if (NGL.debug) {
        console.log('Show residues ' + selection)
    }
    //try the selection (its better to crash now than after clearing the scene...)
    // Prepare
    NGL.specialOps.postInitialise(); //worst case schenario prevention.
    // defaults
    color = color || NGL.specialOps.colorDefaults['residue'];
    radius = radius || 4;
    //selection = typeof selection === "string" ? new NGL.Selection(selection) : selection;
    //get protein
    let proteins = NGL.getStage(id).getComponentsByType('structure');
    let firstExpandedSelection = proteins.map(protein => {
        // corner case that there is no cartoon.
        if (protein.reprList.length === 0) {
            /* so if it is undefined (default) and there is a current Scheme it is set to that but if for some reason there is
            no current scheme and or cartoonScheme is none or false it goes white (as before).
            else the user has specified something like chainid.
            */
            let prop = {smoothSheet: true};
            // determine color
            if (((cartoonScheme === 'previous') || (cartoonScheme === undefined)) && (myData.current_cartoonScheme)) {
                prop['color'] = myData.current_cartoonScheme;
                protein.addRepresentation("cartoon", prop);
            } else if ((cartoonScheme === undefined) || (cartoonScheme === false) || (cartoonScheme === 'false') || (cartoonScheme === 'none')) {
                prop['color'] = NGL.ColormakerRegistry.addSelectionScheme([["white", "*"]]);
            } else {
                prop['color'] = cartoonScheme;
            }
            protein.addRepresentation("cartoon", prop);
        }
        // Remove all bar cartoon-like representation
        ['ball+stick', 'contact', 'label', 'hyperball', 'licorice', 'line', 'point', 'spacefill', 'surface', 'tube'].map(function (value) {
            protein.stage.getRepresentationsByName(value).forEach(function (o) {
                if (!keepPrevious) {
                    protein.removeRepresentation(o);
                }
            }); //.forEach representation
        }); //.map representation name
        //remove clashes
        if (!keepPrevious) {
            NGL.getStage(id).removeClashes();
        }
        var schemeId = NGL.ColormakerRegistry.addSelectionScheme([
            [color, '_C'], ["blue", '_N'], ["red", '_O'], ["white", '_H'], ["yellow", '_S'], ["orange", "*"] //this is such a weird way of doing it.
        ]);
        const expanded = NGL.specialOps.expandSelection(protein, selection, radius);
        protein.addRepresentation("licorice", {sele: expanded});
        protein.addRepresentation("hyperball", {sele: selection.toString(), color: schemeId});
        protein.addRepresentation("contact", {
            masterModelIndex: 0,
            weakHydrogenBond: true,
            maxHbondDonPlaneAngle: 35,
            sele: expanded
        });
        if (!!label) {
            protein.addRepresentation('label', {
                sele: selection.toString(),
                color: color,
                showBackground: true,
                backgroundColor: 'white',
                labelGrouping: 'residue'
            });
        }
        return expanded;
    })[0];
    //reorient.
    NGL.specialOps.slowOrient(id, view, firstExpandedSelection);
};

NGL.specialOps.showClash = function (id, selection, color, radius, tolerance, view, label, cartoonScheme, keepPrevious) {
    // This find and shows clashes at a given seletion. it calls getClash to find them and then addSpikyball to add them.
    // Prepare
    NGL.specialOps.postInitialise(); //worst case schenario prevention.
    radius = radius || 4;
    NGL.specialOps.showResidue(id, selection, color, radius, view, label, cartoonScheme, keepPrevious);
    let proteins = NGL.getStage(id).getComponentsByType('structure');
    proteins.map(protein => NGL.specialOps.getClash(protein, selection)
        .map(position => NGL.specialOps.addSpikyball(protein.stage, position)));
};

NGL.specialOps.showSurface = function (id, selection, view, keepPrevious) {
    if (NGL.debug) {
        console.log('Show surface ' + selection)
    }
    // Prepare
    NGL.specialOps.postInitialise(); //worst case schenario prevention.
    selection = selection || "polymer";
    var color = 'electrostatic'; //not changeable for now.
    var proteins = NGL.getStage(id).getComponentsByType('structure');
    proteins.map(protein => {
        protein.addRepresentation("surface", {
            sele: selection,
            colorScheme: color,
            colorDomain: [-0.3, 0.3],
            surfaceType: "av"
        });
    });

    NGL.specialOps.slowOrient(id, view, selection);
};

NGL.specialOps.showBlur = function (id, selection, color, radius, view, scale, label, keepPrevious) {
    if (NGL.debug) {
        console.log('Show surface ' + selection)
    }
    // Prepare
    NGL.specialOps.postInitialise(); //worst case schenario prevention.
    let proteins = NGL.getStage(id).getComponentsByType('structure');
    NGL.getStage(id).removeClashes();
    proteins.map(protein => {
        if (!keepPrevious) {
            protein.removeAllRepresentations();
        }
        let bfactors = protein.structure.atomStore.bfactor;
        //console.log(scale);
        //console.log(bfactors.length / bfactors.reduce((a,b)=> a+b, 0));
        scale = scale || bfactors.length / bfactors.reduce((a, b) => a + b, 0);
        protein.addRepresentation("tube", {
            sele: "polymer",
            radiusType: "bfactor",
            radiusScale: scale,
            color: "bfactor",
            colorScale: "RdYlBu"
        });
    });
    if (selection) {
        NGL.specialOps.showResidue(id, selection, color, radius, view, label, undefined, true);
        //cartoonScheme must/cannot not be implemented!
    } else {
        NGL.specialOps.slowOrient(id, view);
    }
};

NGL.specialOps.doubleLoader = function (stage, partner, resolve) {
    let N_proteins = stage.getComponentsByType('structure').length;
    if (N_proteins === 0) {
        throw 'no protein.'
    } else if (N_proteins === 1) {
        //load the partner
        if (NGL.debug) {
            console.log(partner);
            console.log(window[partner]);
        }
        let m = myData.proteins.filter((prot) => prot.name === partner || prot.value === partner)[0];
        let p;
        window.myData.partner = partner;
        if (m.type === 'data') {
            let pdbblock = m.isVariable === undefined ? m.value : window[partner];
            p = stage.loadFile(new Blob([pdbblock, {type: 'text/plain'}]), {ext: 'pdb', firstModelOnly: true});
        } else if (m.type === 'rcsb') {
            p = stage.loadFile('rcsb://' + m.value);
        } else if (m.type === 'url') {
            p = stage.loadFile(m.value, {ext: 'pdb', firstModelOnly: true});
        } else {
            throw 'Unknown type ' + m.type
        }
        p.then(mutProtein => {
            let proteins = stage.getComponentsByType('structure');
            return resolve(proteins[0], mutProtein);
        });
    } else if (window.myData.partner !== partner) {
        stage.removeComponent(stage.compList[1]);
        return NGL.specialOps.doubleLoader(stage, partner, resolve);
    } else {
        let proteins = stage.getComponentsByType('structure');
        return resolve(proteins[0], proteins[1]);
    }
};

NGL.specialOps.splitColor = function (color) {
    let wtColor = 0x00c78e;
    let mutColor = 0xff5733;
    if (color !== undefined) {
        if (typeof (color) === 'string' && color.includes(' ')) {
            wtColor = color.split(/\W/)[0];
            mutColor = color.split(/\W/)[1];
        } else {
            wtColor = color;
            mutColor = color;
        }
    }
    return [wtColor, mutColor];
};

NGL.specialOps.showOverlay = function (id, partner, selection, color, radius, view, label, keepPrevious) {
    if (keepPrevious) {
        alert('Cannot use overlay in multiselection mode.')
    }
    // to do. deal with color.
    // Prepare
    let [wtColor, mutColor] = NGL.specialOps.splitColor(color);
    radius = radius || 4;
    NGL.specialOps.postInitialise(); //worst case schenario prevention.
    const stage = NGL.getStage(id);
    stage.removeClashes();

    const commonChange = (protein, scheme) => {
        protein.removeAllRepresentations();
        protein.addRepresentation("cartoon", {color: scheme, sele: '*'});
        protein.addRepresentation("hyperball", {color: scheme, sele: selection});
        const expanded = NGL.specialOps.expandSelection(protein, selection, radius);
        protein.addRepresentation("licorice", {sele: expanded});
        protein.addRepresentation("contact", {
            masterModelIndex: 0,
            weakHydrogenBond: true,
            maxHbondDonPlaneAngle: 35,
            sele: expanded
        });
    };

    const wildtypeChange = (wtProtein) => {
        let wtScheme = NGL.specialOps.schemeMaker(wtColor);
        commonChange(wtProtein, wtScheme);
    };
    const mutChange = (mutProtein) => {
        let mutScheme = NGL.specialOps.schemeMaker(mutColor);
        commonChange(mutProtein, mutScheme);
        NGL.specialOps.getClash(mutProtein, selection)
            .map(position => NGL.specialOps.addSpikyball(mutProtein.stage, position));
    };
    NGL.specialOps.doubleLoader(stage, partner, (wt, mt) => {
        mutChange(mt);
        wildtypeChange(wt);
        if (!!view) {
            NGL.specialOps.slowOrient(id, view);
        } else {
            wt.autoView(selection, 2000);
        }
        if (!!label) {
            NGL.specialOps.showTitle(id, label);
        }
    });

};


NGL.specialOps.showDomainOverlay = function (id, partner, selection, color, view, label, keepPrevious) {
    if (keepPrevious) {
        alert('Cannot use overlay in multiselection mode.')
    }
    // to do. deal with color.
    // Prepare
    let [wtColor, mutColor] = NGL.specialOps.splitColor(color);
    const change = (protein, color, selection) => {
        protein.removeAllRepresentations();
        protein.addRepresentation("cartoon", {color: 'white', sele: `not (${selection})`, smoothSheet: true});
        protein.addRepresentation("cartoon", {color: color, sele: selection, smoothSheet: true});
    };

    NGL.specialOps.postInitialise(); //worst case schenario prevention.
    const stage = NGL.getStage(id);
    stage.removeClashes();
    NGL.specialOps.doubleLoader(stage, partner, (wt, mt) => {
        change(mt, mutColor, selection);
        change(wt, wtColor, selection);
        if (!!view) {
            NGL.specialOps.slowOrient(id, view);
        } else {
            wt.autoView(selection, 2000);
        }
    });
};

///  other.

NGL.specialOps.isValid = (id, sele) => NGL.getStage(id).getComponentByType('structure').structure.getView(new NGL.Selection(sele)).atomCount > 0;

NGL.specialOps.expandSelection = (protein, selection, radius) => {

    let selector = new NGL.Selection(selection.toString());
    const atomSet = protein.structure.getAtomSetWithinSelection(selector, parseFloat(radius));
    // expand selection to complete groups
    const atomSet2 = protein.structure.getAtomSetWithinGroup(atomSet);
    return atomSet2.toSeleString() + ' and not (' + selection.toString() + ' and not (.C or .N)';
};

NGL.specialOps.getClash = function (protein, selection, tolerance) {
    tolerance = tolerance || 1; //how much is the wiggle room. 0.2 &Aring; is probs good.
    // Find what clashes in the conponent protein.
    let clashPositions = [];
    protein.structure.getView(new NGL.Selection(selection.toString()))
        .eachAtom(function (atom) {
            protein.structure.eachAtom(function (neighbour) {
                if ([atom.distanceTo(neighbour) < atom.vdw + neighbour.vdw - tolerance, //distance is too close
                    !atom.hasBondTo(neighbour),  //they are not bonded.
                    atom.residueIndex !== neighbour.residueIndex, //they are not intra-residue
                    !(atom.atomname === 'C' && neighbour.atomname === 'N' && parseInt(atom.residueIndex) === parseInt(neighbour.residueIndex) - 1), // not a C-N bond at C-term
                    !(atom.atomname === 'N' && neighbour.atomname === 'C' && parseInt(atom.residueIndex) - 1 === parseInt(neighbour.residueIndex)), // not a C-N bond at N-term
                ].every((s) => !!s)) {
                    //take note to create the ball
                    clashPositions.push([atom.x / 2 + neighbour.x / 2, atom.y / 2 + neighbour.y / 2, atom.z / 2 + neighbour.z / 2]);
                    if (NGL.Debug) {
                        console.log('Clash between ' + atom.atomname + ' of residue (' + atom.vdw.toString() + ' &Aring;) ' + atom.residueIndex + ' and ' +
                            neighbour.atomname + ' of residue ' + neighbour.residueIndex + ' (' + atom.vdw.toString() + ' &Aring;). Distance: ' + atom.distanceTo(neighbour).toString() + ' cutoff: ' + (atom.vdw + neighbour.vdw - tolerance).toString());
                    }
                } //end if
            }); //end neigh atom
        }); //end this atom
    return clashPositions;
};

NGL.specialOps.addSpikyball = function (stage, position) {
    //position is x, y, z
    const refmesh = [-0.01, 0.17, 0.34, -0.08, 0.08, 0.11, -0.06, 0.04, 0.13, 0.19,
        0.15, -0.29, 0.05, 0.0, -0.16, 0.02, 0.04, -0.15, 0.01, -0.15,
        -0.35, 0.0, -0.15, -0.35, 0.0, 0.0, -0.16, 0.33, 0.17, 0.08,
        0.33, 0.16, 0.09, 0.15, 0.04, -0.02, 0.19, -0.18, 0.27, 0.05,
        -0.14, 0.07, 0.09, -0.11, 0.05, -0.01, 0.15, 0.35, -0.01, 0.16,
        0.34, -0.06, 0.04, 0.13, 0.01, -0.15, -0.35, 0.05, 0.0, -0.16,
        0.06, -0.04, -0.13, 0.33, 0.17, 0.08, 0.13, 0.08, -0.04, 0.11,
        0.11, 0.0, 0.19, -0.18, 0.27, 0.19, -0.18, 0.28, 0.02, -0.11,
        0.1, -0.01, 0.15, 0.35, -0.05, 0.0, 0.16, 0.0, 0.0, 0.16,
        0.01, -0.17, -0.34, 0.01, -0.16, -0.34, 0.06, -0.04, -0.13, 0.32,
        0.18, 0.1, 0.32, 0.18, 0.09, 0.11, 0.11, 0.0, 0.01, -0.17,
        -0.34, 0.08, -0.08, -0.11, 0.04, -0.11, -0.1, 0.32, 0.18, 0.1,
        0.08, 0.14, 0.02, 0.08, 0.11, 0.07, 0.01, 0.15, 0.35, 0.0,
        0.15, 0.35, 0.0, 0.0, 0.16, 0.01, 0.15, 0.35, 0.05, 0.0,
        0.16, 0.06, 0.04, 0.13, 0.32, 0.17, 0.12, 0.32, 0.18, 0.11,
        0.08, 0.11, 0.07, -0.32, 0.17, 0.12, -0.32, 0.16, 0.12, -0.11,
        0.04, 0.1, 0.0, -0.18, -0.33, 0.0, -0.18, -0.34, 0.04, -0.11,
        -0.1, 0.32, 0.17, 0.12, 0.08, 0.08, 0.11, 0.11, 0.04, 0.1,
        -0.32, 0.17, 0.12, -0.08, 0.08, 0.11, -0.08, 0.11, 0.07, 0.0,
        -0.18, -0.33, 0.0, -0.14, -0.09, -0.04, -0.11, -0.1, 0.32, -0.17,
        -0.12, 0.32, -0.18, -0.11, 0.08, -0.11, -0.07, 0.33, 0.15, 0.11,
        0.32, 0.16, 0.12, 0.11, 0.04, 0.1, -0.32, 0.18, 0.1, -0.32,
        0.18, 0.11, -0.08, 0.11, 0.07, 0.32, -0.17, -0.12, 0.08, -0.08,
        -0.11, 0.11, -0.04, -0.1, 0.33, 0.15, 0.11, 0.13, 0.0, 0.09,
        0.15, 0.0, 0.05, -0.32, 0.18, 0.1, -0.08, 0.14, 0.02, -0.11,
        0.11, 0.0, 0.33, -0.15, -0.11, 0.32, -0.16, -0.12, 0.11, -0.04,
        -0.1, -0.33, 0.17, 0.08, -0.32, 0.18, 0.09, -0.11, 0.11, 0.0,
        0.33, -0.15, -0.11, 0.13, 0.0, -0.09, 0.15, 0.0, -0.05, 0.33,
        0.15, 0.09, 0.33, 0.15, 0.1, 0.15, 0.0, 0.05, -0.33, 0.17,
        0.08, -0.13, 0.08, -0.04, -0.15, 0.04, -0.02, 0.33, 0.15, 0.09,
        0.17, 0.0, 0.0, 0.15, 0.04, -0.02, 0.33, -0.15, -0.09, 0.33,
        -0.15, -0.1, 0.15, 0.0, -0.05, -0.19, -0.15, 0.29, -0.19, -0.16,
        0.29, -0.02, -0.04, 0.15, -0.33, 0.15, 0.09, -0.33, 0.16, 0.09,
        -0.15, 0.04, -0.02, 0.33, -0.15, -0.09, 0.17, 0.0, 0.0, 0.15,
        -0.04, 0.02, -0.19, -0.15, 0.29, -0.05, 0.0, 0.16, -0.09, 0.0,
        0.13, -0.33, 0.15, 0.09, -0.17, 0.0, 0.0, -0.15, 0.0, 0.05,
        0.33, -0.17, -0.08, 0.33, -0.16, -0.09, 0.15, -0.04, 0.02, -0.21,
        -0.15, 0.27, -0.2, -0.15, 0.28, -0.09, 0.0, 0.13, 0.33, -0.17,
        -0.08, 0.13, -0.08, 0.04, 0.11, -0.11, 0.0, -0.21, -0.15, 0.27,
        -0.13, 0.0, 0.1, -0.13, -0.04, 0.07, -0.33, 0.15, 0.11, -0.33,
        0.15, 0.1, -0.15, 0.0, 0.05, -0.33, 0.15, 0.11, -0.13, 0.0,
        0.09, -0.11, 0.04, 0.1, -0.21, -0.17, 0.26, -0.21, -0.16, 0.27,
        -0.13, -0.04, 0.07, -0.21, 0.17, -0.26, -0.21, 0.16, -0.27, -0.13,
        0.04, -0.07, 0.32, -0.18, -0.1, 0.32, -0.18, -0.09, 0.11, -0.11,
        0.0, -0.21, -0.17, 0.26, -0.13, -0.08, 0.04, -0.09, -0.11, 0.05,
        -0.21, 0.17, -0.26, -0.13, 0.08, -0.04, -0.09, 0.11, -0.05, 0.32,
        -0.18, -0.1, 0.08, -0.14, -0.02, 0.08, -0.11, -0.07, 0.0, -0.38,
        -0.01, 0.0, -0.38, -0.01, -0.04, -0.14, -0.05, -0.19, -0.18, 0.27,
        -0.2, -0.18, 0.27, -0.09, -0.11, 0.05, -0.19, 0.18, -0.27, -0.2,
        0.18, -0.27, -0.09, 0.11, -0.05, -0.19, -0.18, 0.27, -0.05, -0.14,
        0.07, -0.02, -0.11, 0.1, -0.19, 0.18, -0.27, -0.05, 0.14, -0.07,
        -0.02, 0.11, -0.1, -0.01, -0.38, 0.0, -0.01, -0.38, 0.0, -0.06,
        -0.14, 0.02, 0.0, -0.38, -0.01, 0.0, -0.14, -0.08, 0.04, -0.14,
        -0.05, -0.18, 0.17, -0.28, -0.19, 0.18, -0.28, -0.02, 0.11, -0.1,
        0.0, 0.38, -0.01, 0.0, 0.39, 0.0, 0.01, 0.38, 0.0, -0.01,
        0.38, 0.0, 0.0, 0.39, 0.0, 0.0, 0.38, -0.01, 0.0, 0.38,
        0.01, 0.0, 0.39, 0.0, -0.01, 0.38, 0.0, 0.0, 0.38, 0.01,
        0.0, 0.39, 0.0, 0.0, 0.38, 0.01, 0.01, 0.38, 0.0, 0.0,
        0.39, 0.0, 0.0, 0.38, 0.01, 0.0, 0.18, 0.34, 0.0, 0.17,
        0.35, 0.01, 0.16, 0.34, 0.0, 0.18, 0.34, 0.0, 0.17, 0.35,
        0.0, 0.18, 0.34, -0.01, 0.16, 0.34, 0.0, 0.17, 0.35, 0.0,
        0.18, 0.34, 0.0, 0.15, 0.35, 0.0, 0.17, 0.35, -0.01, 0.16,
        0.34, 0.01, 0.16, 0.34, 0.0, 0.17, 0.35, 0.0, 0.15, 0.35,
        -0.32, 0.18, 0.11, -0.33, 0.17, 0.1, -0.32, 0.16, 0.12, -0.32,
        0.18, 0.09, -0.33, 0.17, 0.1, -0.32, 0.18, 0.11, -0.33, 0.16,
        0.09, -0.33, 0.17, 0.1, -0.32, 0.18, 0.09, -0.33, 0.15, 0.1,
        -0.33, 0.17, 0.1, -0.33, 0.16, 0.09, -0.32, 0.16, 0.12, -0.33,
        0.17, 0.1, -0.33, 0.15, 0.1, -0.2, 0.18, -0.27, -0.2, 0.17,
        -0.28, -0.21, 0.16, -0.27, -0.19, 0.18, -0.28, -0.2, 0.17, -0.28,
        -0.2, 0.18, -0.27, -0.19, 0.16, -0.29, -0.2, 0.17, -0.28, -0.19,
        0.18, -0.28, -0.2, 0.15, -0.28, -0.2, 0.17, -0.28, -0.19, 0.16,
        -0.29, -0.21, 0.16, -0.27, -0.2, 0.17, -0.28, -0.2, 0.15, -0.28,
        0.19, 0.18, -0.28, 0.2, 0.17, -0.28, 0.19, 0.16, -0.29, 0.2,
        0.18, -0.27, 0.2, 0.17, -0.28, 0.19, 0.18, -0.28, 0.21, 0.16,
        -0.27, 0.2, 0.17, -0.28, 0.2, 0.18, -0.27, 0.2, 0.15, -0.28,
        0.2, 0.17, -0.28, 0.21, 0.16, -0.27, 0.19, 0.16, -0.29, 0.2,
        0.17, -0.28, 0.2, 0.15, -0.28, 0.32, 0.18, 0.09, 0.33, 0.17,
        0.1, 0.33, 0.16, 0.09, 0.32, 0.18, 0.11, 0.33, 0.17, 0.1,
        0.32, 0.18, 0.09, 0.32, 0.16, 0.12, 0.33, 0.17, 0.1, 0.32,
        0.18, 0.11, 0.33, 0.15, 0.1, 0.33, 0.17, 0.1, 0.32, 0.16,
        0.12, 0.33, 0.16, 0.09, 0.33, 0.17, 0.1, 0.33, 0.15, 0.1,
        -0.2, -0.15, 0.28, -0.2, -0.17, 0.28, -0.19, -0.16, 0.29, -0.21,
        -0.16, 0.27, -0.2, -0.17, 0.28, -0.2, -0.15, 0.28, -0.2, -0.18,
        0.27, -0.2, -0.17, 0.28, -0.21, -0.16, 0.27, -0.19, -0.18, 0.28,
        -0.2, -0.17, 0.28, -0.2, -0.18, 0.27, -0.19, -0.16, 0.29, -0.2,
        -0.17, 0.28, -0.19, -0.18, 0.28, -0.33, -0.16, -0.09, -0.33, -0.17,
        -0.1, -0.32, -0.18, -0.09, -0.33, -0.15, -0.1, -0.33, -0.17, -0.1,
        -0.33, -0.16, -0.09, -0.32, -0.16, -0.12, -0.33, -0.17, -0.1, -0.33,
        -0.15, -0.1, -0.32, -0.18, -0.11, -0.33, -0.17, -0.1, -0.32, -0.16,
        -0.12, -0.32, -0.18, -0.09, -0.33, -0.17, -0.1, -0.32, -0.18, -0.11,
        -0.01, -0.16, -0.34, 0.0, -0.17, -0.35, 0.0, -0.18, -0.34, 0.0,
        -0.15, -0.35, 0.0, -0.17, -0.35, -0.01, -0.16, -0.34, 0.01, -0.16,
        -0.34, 0.0, -0.17, -0.35, 0.0, -0.15, -0.35, 0.0, -0.18, -0.34,
        0.0, -0.17, -0.35, 0.01, -0.16, -0.34, 0.0, -0.18, -0.34, 0.0,
        -0.17, -0.35, 0.0, -0.18, -0.34, 0.32, -0.16, -0.12, 0.33, -0.17,
        -0.1, 0.32, -0.18, -0.11, 0.33, -0.15, -0.1, 0.33, -0.17, -0.1,
        0.32, -0.16, -0.12, 0.33, -0.16, -0.09, 0.33, -0.17, -0.1, 0.33,
        -0.15, -0.1, 0.32, -0.18, -0.09, 0.33, -0.17, -0.1, 0.33, -0.16,
        -0.09, 0.32, -0.18, -0.11, 0.33, -0.17, -0.1, 0.32, -0.18, -0.09,
        0.2, -0.18, 0.27, 0.2, -0.17, 0.28, 0.19, -0.18, 0.28, 0.21,
        -0.16, 0.27, 0.2, -0.17, 0.28, 0.2, -0.18, 0.27, 0.2, -0.15,
        0.28, 0.2, -0.17, 0.28, 0.21, -0.16, 0.27, 0.19, -0.16, 0.29,
        0.2, -0.17, 0.28, 0.2, -0.15, 0.28, 0.19, -0.18, 0.28, 0.2,
        -0.17, 0.28, 0.19, -0.16, 0.29, 0.01, -0.38, 0.0, 0.0, -0.39,
        0.0, 0.0, -0.38, -0.01, 0.0, -0.38, 0.01, 0.0, -0.39, 0.0,
        0.01, -0.38, 0.0, -0.01, -0.38, 0.0, 0.0, -0.39, 0.0, 0.0,
        -0.38, 0.01, 0.0, -0.38, -0.01, 0.0, -0.39, 0.0, -0.01, -0.38,
        0.0, 0.0, -0.38, -0.01, 0.0, -0.39, 0.0, 0.0, -0.38, -0.01,
        -0.15, 0.04, -0.02, -0.15, 0.04, -0.02, -0.17, 0.0, 0.0, 0.17,
        0.0, 0.0, 0.17, 0.0, 0.0, 0.15, -0.04, 0.02, -0.05, 0.0,
        0.16, -0.05, 0.0, 0.16, -0.09, 0.0, 0.13, -0.17, 0.0, 0.0,
        -0.17, 0.0, 0.0, -0.15, 0.0, 0.05, 0.15, -0.04, 0.02, 0.15,
        -0.04, 0.02, 0.13, -0.08, 0.04, -0.09, 0.0, 0.13, -0.09, 0.0,
        0.13, -0.13, 0.0, 0.1, 0.13, -0.08, 0.04, 0.13, -0.08, 0.04,
        0.11, -0.11, 0.0, -0.13, 0.0, 0.1, -0.13, 0.0, 0.1, -0.13,
        -0.04, 0.07, -0.15, 0.0, 0.05, -0.15, 0.0, 0.05, -0.13, 0.0,
        0.09, -0.13, 0.0, 0.09, -0.13, 0.0, 0.09, -0.11, 0.04, 0.1,
        -0.13, -0.04, 0.07, -0.13, -0.04, 0.07, -0.13, -0.08, 0.04, -0.13,
        0.04, -0.07, -0.13, 0.04, -0.07, -0.13, 0.08, -0.04, 0.11, -0.11,
        0.0, 0.11, -0.11, 0.0, 0.08, -0.14, -0.02, -0.13, -0.08, 0.04,
        -0.13, -0.08, 0.04, -0.09, -0.11, 0.05, -0.13, 0.08, -0.04, -0.13,
        0.08, -0.04, -0.09, 0.11, -0.05, 0.08, -0.14, -0.02, 0.08, -0.14,
        -0.02, 0.08, -0.11, -0.07, -0.09, -0.11, 0.05, -0.09, -0.11, 0.05,
        -0.05, -0.14, 0.07, -0.09, 0.11, -0.05, -0.09, 0.11, -0.05, -0.05,
        0.14, -0.07, -0.05, -0.14, 0.07, -0.05, -0.14, 0.07, -0.02, -0.11,
        0.1, -0.05, 0.14, -0.07, -0.05, 0.14, -0.07, -0.02, 0.11, -0.1,
        -0.02, 0.11, -0.1, -0.02, 0.11, -0.1, 0.0, 0.08, -0.14, 0.06,
        0.14, -0.02, 0.06, 0.14, -0.02, 0.05, 0.14, -0.07, -0.02, -0.11,
        0.1, -0.02, -0.11, 0.1, 0.0, -0.08, 0.14, -0.04, -0.14, -0.05,
        -0.04, -0.14, -0.05, 0.0, -0.14, -0.08, 0.0, 0.08, -0.14, 0.0,
        0.08, -0.14, -0.02, 0.04, -0.15, 0.05, 0.14, -0.07, 0.05, 0.14,
        -0.07, 0.0, 0.14, -0.07, 0.0, -0.08, 0.14, 0.0, -0.08, 0.14,
        -0.02, -0.04, 0.15, -0.06, -0.14, 0.02, -0.06, -0.14, 0.02, -0.08,
        -0.14, -0.02, -0.11, -0.11, 0.0, -0.11, -0.11, 0.0, -0.13, -0.08,
        0.04, -0.02, 0.04, -0.15, -0.02, 0.04, -0.15, -0.05, 0.0, -0.16,
        0.0, 0.14, -0.07, 0.0, 0.14, -0.07, -0.05, 0.14, -0.07, 0.0,
        -0.14, -0.08, 0.0, -0.14, -0.08, 0.04, -0.14, -0.05, -0.13, -0.08,
        0.04, -0.13, -0.08, 0.04, -0.15, -0.04, 0.02, -0.05, 0.0, -0.16,
        -0.05, 0.0, -0.16, -0.09, 0.0, -0.13, -0.05, 0.14, -0.07, -0.05,
        0.14, -0.07, -0.06, 0.14, -0.02, -0.05, -0.14, 0.07, -0.05, -0.14,
        0.07, -0.06, -0.14, 0.02, -0.15, -0.04, 0.02, -0.15, -0.04, 0.02,
        -0.17, 0.0, 0.0, -0.06, 0.14, -0.02, -0.06, 0.14, -0.02, -0.08,
        0.14, 0.02, -0.08, -0.14, -0.02, -0.08, -0.14, -0.02, -0.04, -0.14,
        -0.05, -0.17, 0.0, 0.0, -0.17, 0.0, 0.0, -0.15, 0.0, -0.05,
        -0.09, 0.0, -0.13, -0.09, 0.0, -0.13, -0.13, 0.0, -0.1, -0.08,
        0.14, 0.02, -0.08, 0.14, 0.02, -0.04, 0.14, 0.05, -0.13, 0.0,
        -0.1, -0.13, 0.0, -0.1, -0.13, 0.04, -0.07, -0.15, 0.0, -0.05,
        -0.15, 0.0, -0.05, -0.13, 0.0, -0.09, 0.0, -0.14, 0.07, 0.0,
        -0.14, 0.07, -0.05, -0.14, 0.07, 0.02, 0.04, -0.15, 0.02, 0.04,
        -0.15, 0.0, 0.08, -0.14, -0.04, 0.14, 0.05, -0.04, 0.14, 0.05,
        0.0, 0.14, 0.08, -0.13, 0.0, -0.09, -0.13, 0.0, -0.09, -0.11,
        -0.04, -0.1, 0.0, 0.08, -0.14, 0.0, 0.08, -0.14, 0.02, 0.11,
        -0.1, 0.0, 0.14, 0.08, 0.0, 0.14, 0.08, 0.04, 0.14, 0.05,
        -0.11, -0.04, -0.1, -0.11, -0.04, -0.1, -0.08, -0.08, -0.11, 0.05,
        -0.14, 0.07, 0.05, -0.14, 0.07, 0.0, -0.14, 0.07, 0.02, 0.11,
        -0.1, 0.02, 0.11, -0.1, 0.05, 0.14, -0.07, -0.08, -0.08, -0.11,
        -0.08, -0.08, -0.11, -0.08, -0.11, -0.07, 0.0, -0.08, 0.14, 0.0,
        -0.08, 0.14, 0.02, -0.11, 0.1, 0.05, 0.14, -0.07, 0.05, 0.14,
        -0.07, 0.09, 0.11, -0.05, 0.04, 0.14, 0.05, 0.04, 0.14, 0.05,
        0.08, 0.14, 0.02, 0.08, -0.14, -0.02, 0.08, -0.14, -0.02, 0.06,
        -0.14, 0.02, 0.08, 0.14, 0.02, 0.08, 0.14, 0.02, 0.06, 0.14,
        -0.02, 0.09, 0.11, -0.05, 0.09, 0.11, -0.05, 0.13, 0.08, -0.04,
        0.21, -0.15, 0.27, 0.21, -0.16, 0.27, 0.13, -0.04, 0.07, 0.19,
        0.15, -0.29, 0.2, 0.15, -0.28, 0.09, 0.0, -0.13, -0.01, -0.15,
        -0.35, -0.05, 0.0, -0.16, 0.0, 0.0, -0.16, -0.01, 0.17, 0.34,
        0.0, 0.18, 0.34, -0.04, 0.11, 0.1, -0.01, -0.15, -0.35, -0.01,
        -0.16, -0.34, -0.06, -0.04, -0.13, 0.21, -0.17, 0.26, 0.2, -0.18,
        0.27, 0.09, -0.11, 0.05, 0.0, 0.18, 0.33, 0.0, 0.14, 0.09,
        -0.04, 0.11, 0.1, 0.19, -0.15, 0.29, 0.2, -0.15, 0.28, 0.09,
        0.0, 0.13, 0.21, 0.15, -0.27, 0.13, 0.0, -0.1, 0.09, 0.0,
        -0.13, -0.01, -0.17, -0.34, -0.08, -0.08, -0.11, -0.06, -0.04, -0.13,
        0.0, 0.18, 0.33, 0.0, 0.18, 0.34, 0.04, 0.11, 0.1, 0.21,
        -0.17, 0.26, 0.13, -0.08, 0.04, 0.13, -0.04, 0.07, 0.21, 0.15,
        -0.27, 0.21, 0.16, -0.27, 0.13, 0.04, -0.07, -0.01, -0.17, -0.34,
        0.0, -0.18, -0.34, -0.04, -0.11, -0.1, -0.32, -0.18, -0.1, -0.08,
        -0.14, -0.02, -0.11, -0.11, 0.0, 0.01, 0.17, 0.34, 0.08, 0.08,
        0.11, 0.04, 0.11, 0.1, 0.01, -0.38, 0.0, 0.0, -0.38, -0.01,
        0.04, -0.14, -0.05, 0.21, 0.17, -0.26, 0.13, 0.08, -0.04, 0.13,
        0.04, -0.07, -0.32, -0.18, -0.1, -0.32, -0.18, -0.11, -0.08, -0.11,
        -0.07, 0.01, 0.17, 0.34, 0.01, 0.16, 0.34, 0.06, 0.04, 0.13,
        0.21, -0.15, 0.27, 0.13, 0.0, 0.1, 0.09, 0.0, 0.13, 0.21,
        0.17, -0.26, 0.2, 0.18, -0.27, 0.09, 0.11, -0.05, 0.01, 0.38,
        0.0, 0.08, 0.14, 0.02, 0.06, 0.14, -0.02, 0.01, -0.38, 0.01,
        0.01, -0.38, 0.0, 0.06, -0.14, 0.02, 0.01, 0.38, 0.0, 0.0,
        0.38, 0.01, 0.04, 0.14, 0.05, 0.19, -0.15, 0.29, 0.05, 0.0,
        0.16, 0.02, -0.04, 0.15, 0.19, 0.18, -0.27, 0.05, 0.14, -0.07,
        0.09, 0.11, -0.05, -0.32, -0.17, -0.12, -0.08, -0.08, -0.11, -0.08,
        -0.11, -0.07, 0.19, 0.18, -0.27, 0.19, 0.18, -0.28, 0.02, 0.11,
        -0.1, -0.32, -0.17, -0.12, -0.32, -0.16, -0.12, -0.11, -0.04, -0.1,
        0.18, -0.17, 0.28, 0.19, -0.16, 0.29, 0.02, -0.04, 0.15, 0.0,
        0.38, 0.01, 0.0, 0.14, 0.08, 0.04, 0.14, 0.05, 0.18, 0.17,
        -0.28, 0.0, 0.08, -0.14, 0.02, 0.11, -0.1, -0.33, -0.15, -0.11,
        -0.13, 0.0, -0.09, -0.11, -0.04, -0.1, 0.0, 0.38, 0.01, 0.0,
        0.38, 0.01, -0.04, 0.14, 0.05, 0.01, -0.38, 0.0, 0.08, -0.14,
        -0.02, 0.06, -0.14, 0.02, 0.18, 0.17, -0.28, 0.19, 0.16, -0.29,
        0.02, 0.04, -0.15, -0.33, -0.15, -0.11, -0.33, -0.15, -0.1, -0.15,
        0.0, -0.05, 0.18, -0.17, 0.28, 0.0, -0.08, 0.14, 0.02, -0.11,
        0.1, -0.21, 0.15, -0.27, -0.13, 0.0, -0.1, -0.13, 0.04, -0.07,
        -0.01, 0.38, 0.0, -0.08, 0.14, 0.02, -0.04, 0.14, 0.05, 0.01,
        -0.38, 0.01, 0.05, -0.14, 0.07, 0.0, -0.14, 0.07, -0.21, 0.15,
        -0.27, -0.2, 0.15, -0.28, -0.09, 0.0, -0.13, -0.33, -0.15, -0.09,
        -0.17, 0.0, 0.0, -0.15, 0.0, -0.05, -0.01, 0.38, 0.0, -0.01,
        0.38, 0.0, -0.06, 0.14, -0.02, -0.33, -0.15, -0.09, -0.33, -0.16,
        -0.09, -0.15, -0.04, 0.02, -0.01, 0.38, -0.01, -0.05, 0.14, -0.07,
        -0.06, 0.14, -0.02, -0.01, -0.38, 0.01, 0.0, -0.38, 0.01, 0.0,
        -0.14, 0.07, -0.19, 0.15, -0.29, -0.05, 0.0, -0.16, -0.09, 0.0,
        -0.13, -0.33, -0.17, -0.08, -0.13, -0.08, 0.04, -0.15, -0.04, 0.02,
        -0.01, 0.38, -0.01, 0.0, 0.38, -0.01, 0.0, 0.14, -0.07, -0.19,
        0.15, -0.29, -0.19, 0.16, -0.29, -0.02, 0.04, -0.15, -0.33, -0.17,
        -0.08, -0.32, -0.18, -0.09, -0.11, -0.11, 0.0, -0.01, -0.38, 0.0,
        -0.08, -0.14, -0.02, -0.04, -0.14, -0.05, -0.18, -0.17, 0.28, 0.0,
        -0.08, 0.14, -0.02, -0.04, 0.15, 0.01, 0.38, -0.01, 0.05, 0.14,
        -0.07, 0.0, 0.14, -0.07, -0.18, 0.17, -0.28, 0.0, 0.08, -0.14,
        -0.02, 0.04, -0.15, -0.18, -0.17, 0.28, -0.19, -0.18, 0.28, -0.02,
        -0.11, 0.1, 0.01, 0.38, -0.01, 0.01, 0.38, 0.0, 0.06, 0.14,
        -0.02, -0.01, -0.38, 0.01, -0.05, -0.14, 0.07, -0.06, -0.14, 0.02,
        0.06, -0.14, 0.02, 0.06, -0.14, 0.02, 0.05, -0.14, 0.07, 0.08,
        0.14, 0.02, 0.08, 0.14, 0.02, 0.06, 0.14, -0.02, 0.09, 0.11,
        -0.05, 0.09, 0.11, -0.05, 0.13, 0.08, -0.04, 0.05, -0.14, 0.07,
        0.05, -0.14, 0.07, 0.0, -0.14, 0.07, 0.06, 0.04, 0.13, 0.06,
        0.04, 0.13, 0.08, 0.08, 0.11, -0.08, -0.11, -0.07, -0.08, -0.11,
        -0.07, -0.08, -0.14, -0.02, 0.13, 0.08, -0.04, 0.13, 0.08, -0.04,
        0.13, 0.04, -0.07, 0.08, 0.08, 0.11, 0.08, 0.08, 0.11, 0.04,
        0.11, 0.1, -0.08, -0.14, -0.02, -0.08, -0.14, -0.02, -0.11, -0.11,
        0.0, 0.0, -0.14, 0.07, 0.0, -0.14, 0.07, -0.05, -0.14, 0.07,
        -0.04, -0.11, -0.1, -0.04, -0.11, -0.1, -0.08, -0.08, -0.11, 0.13,
        0.04, -0.07, 0.13, 0.04, -0.07, 0.13, 0.0, -0.1, -0.05, -0.14,
        0.07, -0.05, -0.14, 0.07, -0.06, -0.14, 0.02, 0.04, 0.11, 0.1,
        0.04, 0.11, 0.1, 0.0, 0.14, 0.09, -0.08, -0.08, -0.11, -0.08,
        -0.08, -0.11, -0.06, -0.04, -0.13, 0.13, 0.0, -0.1, 0.13, 0.0,
        -0.1, 0.09, 0.0, -0.13, 0.0, 0.14, 0.09, 0.0, 0.14, 0.09,
        -0.04, 0.11, 0.1, -0.06, -0.14, 0.02, -0.06, -0.14, 0.02, -0.08,
        -0.14, -0.02, -0.06, -0.04, -0.13, -0.06, -0.04, -0.13, -0.05, 0.0,
        -0.16, -0.08, -0.14, -0.02, -0.08, -0.14, -0.02, -0.04, -0.14, -0.05,
        -0.04, 0.11, 0.1, -0.04, 0.11, 0.1, -0.08, 0.08, 0.11, -0.05,
        0.0, -0.16, -0.05, 0.0, -0.16, 0.0, 0.0, -0.16, 0.09, 0.0,
        -0.13, 0.09, 0.0, -0.13, 0.05, 0.0, -0.16, -0.08, 0.08, 0.11,
        -0.08, 0.08, 0.11, -0.06, 0.04, 0.13, 0.05, 0.0, -0.16, 0.05,
        0.0, -0.16, 0.02, 0.04, -0.15, 0.0, 0.0, -0.16, 0.0, 0.0,
        -0.16, 0.05, 0.0, -0.16, 0.15, 0.04, -0.02, 0.15, 0.04, -0.02,
        0.13, 0.08, -0.04, -0.04, -0.14, -0.05, -0.04, -0.14, -0.05, 0.0,
        -0.14, -0.08, -0.06, 0.04, 0.13, -0.06, 0.04, 0.13, -0.05, 0.0,
        0.16, 0.05, 0.0, -0.16, 0.05, 0.0, -0.16, 0.06, -0.04, -0.13,
        0.13, 0.08, -0.04, 0.13, 0.08, -0.04, 0.11, 0.11, 0.0, 0.0,
        -0.14, -0.08, 0.0, -0.14, -0.08, 0.04, -0.14, -0.05, -0.05, 0.0,
        0.16, -0.05, 0.0, 0.16, 0.0, 0.0, 0.16, 0.06, -0.04, -0.13,
        0.06, -0.04, -0.13, 0.08, -0.08, -0.11, 0.11, 0.11, 0.0, 0.11,
        0.11, 0.0, 0.08, 0.14, 0.02, 0.08, -0.08, -0.11, 0.08, -0.08,
        -0.11, 0.04, -0.11, -0.1, 0.08, 0.14, 0.02, 0.08, 0.14, 0.02,
        0.08, 0.11, 0.07, 0.0, 0.0, 0.16, 0.0, 0.0, 0.16, 0.05,
        0.0, 0.16, 0.05, 0.0, 0.16, 0.05, 0.0, 0.16, 0.06, 0.04,
        0.13, 0.08, 0.11, 0.07, 0.08, 0.11, 0.07, 0.08, 0.08, 0.11,
        -0.11, 0.04, 0.1, -0.11, 0.04, 0.1, -0.08, 0.08, 0.11, 0.04,
        -0.11, -0.1, 0.04, -0.11, -0.1, 0.0, -0.14, -0.09, 0.08, 0.08,
        0.11, 0.08, 0.08, 0.11, 0.11, 0.04, 0.1, -0.08, 0.08, 0.11,
        -0.08, 0.08, 0.11, -0.08, 0.11, 0.07, 0.0, -0.14, -0.09, 0.0,
        -0.14, -0.09, -0.04, -0.11, -0.1, 0.08, -0.11, -0.07, 0.08, -0.11,
        -0.07, 0.08, -0.08, -0.11, 0.11, 0.04, 0.1, 0.11, 0.04, 0.1,
        0.13, 0.0, 0.09, -0.08, 0.11, 0.07, -0.08, 0.11, 0.07, -0.08,
        0.14, 0.02, 0.08, -0.08, -0.11, 0.08, -0.08, -0.11, 0.11, -0.04,
        -0.1, 0.13, 0.0, 0.09, 0.13, 0.0, 0.09, 0.15, 0.0, 0.05,
        -0.08, 0.14, 0.02, -0.08, 0.14, 0.02, -0.11, 0.11, 0.0, 0.11,
        -0.04, -0.1, 0.11, -0.04, -0.1, 0.13, 0.0, -0.09, -0.11, 0.11,
        0.0, -0.11, 0.11, 0.0, -0.13, 0.08, -0.04, 0.13, 0.0, -0.09,
        0.13, 0.0, -0.09, 0.15, 0.0, -0.05, 0.15, 0.0, 0.05, 0.15,
        0.0, 0.05, 0.17, 0.0, 0.0, -0.13, 0.08, -0.04, -0.13, 0.08,
        -0.04, -0.15, 0.04, -0.02, 0.17, 0.0, 0.0, 0.17, 0.0, 0.0,
        0.15, 0.04, -0.02, 0.15, 0.0, -0.05, 0.15, 0.0, -0.05, 0.17,
        0.0, 0.0, -0.02, -0.04, 0.15, -0.02, -0.04, 0.15, -0.05, 0.0,
        0.16, -0.15, 0.04, -0.02, -0.15, 0.04, -0.02, -0.17, 0.0, 0.0,
        -0.02, -0.04, 0.15, -0.02, -0.04, 0.15, -0.05, 0.0, 0.16, 0.15,
        0.0, -0.05, 0.15, 0.0, -0.05, 0.17, 0.0, 0.0, 0.17, 0.0,
        0.0, 0.17, 0.0, 0.0, 0.15, 0.04, -0.02, -0.13, 0.08, -0.04,
        -0.13, 0.08, -0.04, -0.15, 0.04, -0.02, 0.15, 0.0, 0.05, 0.15,
        0.0, 0.05, 0.17, 0.0, 0.0, 0.13, 0.0, -0.09, 0.13, 0.0,
        -0.09, 0.15, 0.0, -0.05, -0.11, 0.11, 0.0, -0.11, 0.11, 0.0,
        -0.13, 0.08, -0.04, 0.11, -0.04, -0.1, 0.11, -0.04, -0.1, 0.13,
        0.0, -0.09, -0.08, 0.14, 0.02, -0.08, 0.14, 0.02, -0.11, 0.11,
        0.0, 0.13, 0.0, 0.09, 0.13, 0.0, 0.09, 0.15, 0.0, 0.05,
        0.08, -0.08, -0.11, 0.08, -0.08, -0.11, 0.11, -0.04, -0.1, -0.08,
        0.11, 0.07, -0.08, 0.11, 0.07, -0.08, 0.14, 0.02, 0.11, 0.04,
        0.1, 0.11, 0.04, 0.1, 0.13, 0.0, 0.09, 0.08, -0.11, -0.07,
        0.08, -0.11, -0.07, 0.08, -0.08, -0.11, 0.0, -0.14, -0.09, 0.0,
        -0.14, -0.09, -0.04, -0.11, -0.1, -0.08, 0.08, 0.11, -0.08, 0.08,
        0.11, -0.08, 0.11, 0.07, 0.08, 0.08, 0.11, 0.08, 0.08, 0.11,
        0.11, 0.04, 0.1, 0.04, -0.11, -0.1, 0.04, -0.11, -0.1, 0.0,
        -0.14, -0.09, -0.11, 0.04, 0.1, -0.11, 0.04, 0.1, -0.08, 0.08,
        0.11, 0.08, 0.11, 0.07, 0.08, 0.11, 0.07, 0.08, 0.08, 0.11,
        0.02, -0.11, 0.1, 0.02, -0.11, 0.1, 0.05, -0.14, 0.07, 0.05,
        0.0, 0.16, 0.05, 0.0, 0.16, 0.06, 0.04, 0.13, 0.05, -0.14,
        0.07, 0.05, -0.14, 0.07, 0.09, -0.11, 0.05, 0.0, 0.0, 0.16,
        0.0, 0.0, 0.16, 0.05, 0.0, 0.16, 0.08, 0.14, 0.02, 0.08,
        0.14, 0.02, 0.08, 0.11, 0.07, 0.08, -0.08, -0.11, 0.08, -0.08,
        -0.11, 0.04, -0.11, -0.1, 0.11, 0.11, 0.0, 0.11, 0.11, 0.0,
        0.08, 0.14, 0.02, 0.13, -0.04, 0.07, 0.13, -0.04, 0.07, 0.13,
        0.0, 0.1, 0.06, -0.04, -0.13, 0.06, -0.04, -0.13, 0.08, -0.08,
        -0.11, -0.05, 0.0, 0.16, -0.05, 0.0, 0.16, 0.0, 0.0, 0.16,
        0.13, 0.08, -0.04, 0.13, 0.08, -0.04, 0.11, 0.11, 0.0, 0.09,
        -0.11, 0.05, 0.09, -0.11, 0.05, 0.13, -0.08, 0.04, 0.05, 0.0,
        -0.16, 0.05, 0.0, -0.16, 0.06, -0.04, -0.13, -0.06, 0.04, 0.13,
        -0.06, 0.04, 0.13, -0.05, 0.0, 0.16, 0.15, 0.04, -0.02, 0.15,
        0.04, -0.02, 0.13, 0.08, -0.04, 0.09, 0.0, 0.13, 0.09, 0.0,
        0.13, 0.05, 0.0, 0.16, 0.0, 0.0, -0.16, 0.0, 0.0, -0.16,
        0.05, 0.0, -0.16, 0.05, 0.0, -0.16, 0.05, 0.0, -0.16, 0.02,
        0.04, -0.15, 0.13, -0.08, 0.04, 0.13, -0.08, 0.04, 0.13, -0.04,
        0.07, -0.08, 0.08, 0.11, -0.08, 0.08, 0.11, -0.06, 0.04, 0.13,
        0.09, 0.0, -0.13, 0.09, 0.0, -0.13, 0.05, 0.0, -0.16, -0.05,
        0.0, -0.16, -0.05, 0.0, -0.16, 0.0, 0.0, -0.16, -0.04, 0.11,
        0.1, -0.04, 0.11, 0.1, -0.08, 0.08, 0.11, 0.04, -0.14, -0.05,
        0.04, -0.14, -0.05, 0.08, -0.14, -0.02, -0.06, -0.04, -0.13, -0.06,
        -0.04, -0.13, -0.05, 0.0, -0.16, 0.13, 0.0, 0.1, 0.13, 0.0,
        0.1, 0.09, 0.0, 0.13, 0.0, 0.14, 0.09, 0.0, 0.14, 0.09,
        -0.04, 0.11, 0.1, 0.13, 0.0, -0.1, 0.13, 0.0, -0.1, 0.09,
        0.0, -0.13, 0.06, -0.14, 0.02, 0.06, -0.14, 0.02, 0.05, -0.14,
        0.07, -0.08, -0.08, -0.11, -0.08, -0.08, -0.11, -0.06, -0.04, -0.13,
        0.04, 0.11, 0.1, 0.04, 0.11, 0.1, 0.0, 0.14, 0.09, 0.13,
        0.04, -0.07, 0.13, 0.04, -0.07, 0.13, 0.0, -0.1, 0.05, 0.0,
        0.16, 0.05, 0.0, 0.16, 0.02, -0.04, 0.15, -0.04, -0.11, -0.1,
        -0.04, -0.11, -0.1, -0.08, -0.08, -0.11, -0.08, -0.14, -0.02, -0.08,
        -0.14, -0.02, -0.11, -0.11, 0.0, 0.08, 0.08, 0.11, 0.08, 0.08,
        0.11, 0.04, 0.11, 0.1, 0.13, 0.08, -0.04, 0.13, 0.08, -0.04,
        0.13, 0.04, -0.07, 0.02, -0.04, 0.15, 0.02, -0.04, 0.15, 0.0,
        -0.08, 0.14, -0.08, -0.11, -0.07, -0.08, -0.11, -0.07, -0.08, -0.14,
        -0.02, 0.04, -0.11, -0.1, 0.08, -0.11, -0.07, 0.04, -0.14, -0.05,
        0.04, -0.11, -0.1, 0.08, -0.08, -0.11, 0.08, -0.11, -0.07, 0.04,
        -0.14, -0.05, 0.08, -0.11, -0.07, 0.08, -0.14, -0.02, 0.08, -0.14,
        -0.02, 0.08, -0.14, -0.02, 0.04, -0.14, -0.05, 0.04, -0.11, -0.1,
        0.04, -0.14, -0.05, 0.0, -0.14, -0.08, 0.04, -0.11, -0.1, 0.0,
        -0.14, -0.08, 0.0, -0.14, -0.09, 0.04, 0.14, 0.05, 0.04, 0.14,
        0.05, 0.08, 0.14, 0.02, 0.05, 0.14, -0.07, 0.05, 0.14, -0.07,
        0.09, 0.11, -0.05, -0.08, -0.08, -0.11, -0.08, -0.08, -0.11, -0.08,
        -0.11, -0.07, 0.08, -0.14, -0.02, 0.08, -0.14, -0.02, 0.06, -0.14,
        0.02, 0.02, 0.11, -0.1, 0.02, 0.11, -0.1, 0.05, 0.14, -0.07,
        -0.11, -0.04, -0.1, -0.11, -0.04, -0.1, -0.08, -0.08, -0.11, 0.04,
        -0.14, -0.05, 0.04, -0.14, -0.05, 0.08, -0.14, -0.02, 0.0, 0.14,
        0.08, 0.0, 0.14, 0.08, 0.04, 0.14, 0.05, 0.0, -0.08, 0.14,
        0.0, -0.08, 0.14, 0.02, -0.11, 0.1, 0.0, 0.08, -0.14, 0.0,
        0.08, -0.14, 0.02, 0.11, -0.1, -0.13, 0.0, -0.09, -0.13, 0.0,
        -0.09, -0.11, -0.04, -0.1, -0.04, 0.14, 0.05, -0.04, 0.14, 0.05,
        0.0, 0.14, 0.08, 0.02, -0.04, 0.15, 0.02, -0.04, 0.15, 0.0,
        -0.08, 0.14, 0.02, 0.04, -0.15, 0.02, 0.04, -0.15, 0.0, 0.08,
        -0.14, -0.15, 0.0, -0.05, -0.15, 0.0, -0.05, -0.13, 0.0, -0.09,
        -0.13, 0.0, -0.1, -0.13, 0.0, -0.1, -0.13, 0.04, -0.07, -0.08,
        0.14, 0.02, -0.08, 0.14, 0.02, -0.04, 0.14, 0.05, -0.09, 0.0,
        -0.13, -0.09, 0.0, -0.13, -0.13, 0.0, -0.1, -0.17, 0.0, 0.0,
        -0.17, 0.0, 0.0, -0.15, 0.0, -0.05, -0.06, 0.14, -0.02, -0.06,
        0.14, -0.02, -0.08, 0.14, 0.02, 0.05, 0.0, 0.16, 0.05, 0.0,
        0.16, 0.02, -0.04, 0.15, -0.15, -0.04, 0.02, -0.15, -0.04, 0.02,
        -0.17, 0.0, 0.0, 0.09, 0.0, 0.13, 0.09, 0.0, 0.13, 0.05,
        0.0, 0.16, -0.05, 0.14, -0.07, -0.05, 0.14, -0.07, -0.06, 0.14,
        -0.02, -0.05, 0.0, -0.16, -0.05, 0.0, -0.16, -0.09, 0.0, -0.13,
        -0.13, -0.08, 0.04, -0.13, -0.08, 0.04, -0.15, -0.04, 0.02, 0.0,
        0.14, -0.07, 0.0, 0.14, -0.07, -0.05, 0.14, -0.07, 0.13, 0.0,
        0.1, 0.13, 0.0, 0.1, 0.09, 0.0, 0.13, -0.02, 0.04, -0.15,
        -0.02, 0.04, -0.15, -0.05, 0.0, -0.16, -0.11, -0.11, 0.0, -0.11,
        -0.11, 0.0, -0.13, -0.08, 0.04, 0.13, -0.04, 0.07, 0.13, -0.04,
        0.07, 0.13, 0.0, 0.1, 0.0, -0.08, 0.14, 0.0, -0.08, 0.14,
        -0.02, -0.04, 0.15, 0.05, 0.14, -0.07, 0.05, 0.14, -0.07, 0.0,
        0.14, -0.07, 0.0, 0.08, -0.14, 0.0, 0.08, -0.14, -0.02, 0.04,
        -0.15, -0.02, -0.11, 0.1, -0.02, -0.11, 0.1, 0.0, -0.08, 0.14,
        0.06, 0.14, -0.02, 0.06, 0.14, -0.02, 0.05, 0.14, -0.07, 0.13,
        -0.08, 0.04, 0.13, -0.08, 0.04, 0.13, -0.04, 0.07, -0.02, 0.11,
        -0.1, -0.02, 0.11, -0.1, 0.0, 0.08, -0.14, 0.09, -0.11, 0.05,
        0.09, -0.11, 0.05, 0.13, -0.08, 0.04, -0.05, 0.14, -0.07, -0.05,
        0.14, -0.07, -0.02, 0.11, -0.1, -0.05, -0.14, 0.07, -0.05, -0.14,
        0.07, -0.02, -0.11, 0.1, 0.05, -0.14, 0.07, 0.05, -0.14, 0.07,
        0.09, -0.11, 0.05, -0.09, 0.11, -0.05, -0.09, 0.11, -0.05, -0.05,
        0.14, -0.07, -0.09, -0.11, 0.05, -0.09, -0.11, 0.05, -0.05, -0.14,
        0.07, 0.02, -0.11, 0.1, 0.02, -0.11, 0.1, 0.05, -0.14, 0.07,
        0.08, -0.14, -0.02, 0.08, -0.14, -0.02, 0.08, -0.11, -0.07, -0.13,
        0.08, -0.04, -0.13, 0.08, -0.04, -0.09, 0.11, -0.05, -0.13, -0.08,
        0.04, -0.13, -0.08, 0.04, -0.09, -0.11, 0.05, 0.11, -0.11, 0.0,
        0.11, -0.11, 0.0, 0.08, -0.14, -0.02, -0.13, 0.04, -0.07, -0.13,
        0.04, -0.07, -0.13, 0.08, -0.04, -0.13, -0.04, 0.07, -0.13, -0.04,
        0.07, -0.13, -0.08, 0.04, -0.13, 0.0, 0.09, -0.13, 0.0, 0.09,
        -0.11, 0.04, 0.1, -0.15, 0.0, 0.05, -0.15, 0.0, 0.05, -0.13,
        0.0, 0.09, -0.13, 0.0, 0.1, -0.13, 0.0, 0.1, -0.13, -0.04,
        0.07, 0.13, -0.08, 0.04, 0.13, -0.08, 0.04, 0.11, -0.11, 0.0,
        -0.09, 0.0, 0.13, -0.09, 0.0, 0.13, -0.13, 0.0, 0.1, 0.15,
        -0.04, 0.02, 0.15, -0.04, 0.02, 0.13, -0.08, 0.04, -0.17, 0.0,
        0.0, -0.17, 0.0, 0.0, -0.15, 0.0, 0.05, -0.05, 0.0, 0.16,
        -0.05, 0.0, 0.16, -0.09, 0.0, 0.13, 0.17, 0.0, 0.0, 0.17,
        0.0, 0.0, 0.15, -0.04, 0.02, 0.06, 0.04, 0.13, 0.06, 0.04,
        0.13, 0.08, 0.08, 0.11, -0.04, 0.11, 0.1, 0.0, 0.14, 0.08,
        -0.04, 0.14, 0.05, -0.08, 0.11, 0.07, -0.08, 0.08, 0.11, -0.04,
        0.11, 0.1, -0.04, 0.14, 0.05, -0.08, 0.14, 0.02, -0.08, 0.14,
        0.02, -0.04, 0.14, 0.05, -0.08, 0.14, 0.02, -0.08, 0.11, 0.07,
        -0.08, 0.08, 0.11, -0.08, 0.08, 0.11, -0.04, 0.11, 0.1, -0.04,
        0.11, 0.1, 0.0, 0.14, 0.09, 0.0, 0.14, 0.08, -0.09, 0.11,
        -0.05, -0.13, 0.08, -0.04, -0.11, 0.11, 0.0, -0.06, 0.14, -0.02,
        -0.05, 0.14, -0.07, -0.05, 0.14, -0.07, -0.06, 0.14, -0.02, -0.05,
        0.14, -0.07, -0.09, 0.11, -0.05, -0.13, 0.08, -0.04, -0.13, 0.08,
        -0.04, -0.11, 0.11, 0.0, -0.06, 0.14, -0.02, -0.11, 0.11, 0.0,
        -0.08, 0.14, 0.02, -0.06, 0.14, -0.02, -0.08, 0.14, 0.02, -0.08,
        0.14, 0.02, 0.02, 0.11, -0.1, 0.0, 0.08, -0.14, -0.02, 0.11,
        -0.1, 0.0, 0.14, -0.07, 0.05, 0.14, -0.07, 0.05, 0.14, -0.07,
        0.0, 0.14, -0.07, 0.05, 0.14, -0.07, 0.02, 0.11, -0.1, 0.0,
        0.08, -0.14, 0.0, 0.08, -0.14, -0.02, 0.11, -0.1, 0.0, 0.14,
        -0.07, -0.02, 0.11, -0.1, -0.05, 0.14, -0.07, 0.0, 0.14, -0.07,
        -0.05, 0.14, -0.07, -0.05, 0.14, -0.07, 0.11, 0.11, 0.0, 0.13,
        0.08, -0.04, 0.09, 0.11, -0.05, 0.06, 0.14, -0.02, 0.08, 0.14,
        0.02, 0.08, 0.14, 0.02, 0.06, 0.14, -0.02, 0.08, 0.14, 0.02,
        0.11, 0.11, 0.0, 0.13, 0.08, -0.04, 0.13, 0.08, -0.04, 0.09,
        0.11, -0.05, 0.06, 0.14, -0.02, 0.09, 0.11, -0.05, 0.05, 0.14,
        -0.07, 0.06, 0.14, -0.02, 0.05, 0.14, -0.07, 0.05, 0.14, -0.07,
        0.04, 0.14, 0.05, 0.0, 0.14, 0.08, 0.04, 0.11, 0.1, 0.0,
        0.14, 0.08, 0.0, 0.14, 0.09, 0.04, 0.11, 0.1, 0.04, 0.11,
        0.1, 0.08, 0.08, 0.11, 0.08, 0.08, 0.11, 0.04, 0.11, 0.1,
        0.08, 0.08, 0.11, 0.08, 0.11, 0.07, 0.04, 0.14, 0.05, 0.08,
        0.11, 0.07, 0.08, 0.14, 0.02, 0.04, 0.14, 0.05, 0.08, 0.14,
        0.02, 0.08, 0.14, 0.02, -0.06, 0.04, 0.13, -0.08, 0.08, 0.11,
        -0.08, 0.08, 0.11, -0.06, 0.04, 0.13, -0.11, 0.04, 0.1, -0.09,
        0.0, 0.13, -0.06, 0.04, 0.13, -0.08, 0.08, 0.11, -0.11, 0.04,
        0.1, -0.09, 0.0, 0.13, -0.11, 0.04, 0.1, -0.13, 0.0, 0.09,
        -0.13, 0.0, 0.09, -0.13, 0.0, 0.1, -0.09, 0.0, 0.13, -0.09,
        0.0, 0.13, -0.05, 0.0, 0.16, -0.05, 0.0, 0.16, -0.15, -0.04,
        0.02, -0.13, -0.08, 0.04, -0.13, -0.04, 0.07, -0.15, 0.0, 0.05,
        -0.17, 0.0, 0.0, -0.17, 0.0, 0.0, -0.15, 0.0, 0.05, -0.17,
        0.0, 0.0, -0.15, -0.04, 0.02, -0.13, -0.08, 0.04, -0.13, -0.08,
        0.04, -0.13, -0.04, 0.07, -0.15, 0.0, 0.05, -0.13, -0.04, 0.07,
        -0.13, 0.0, 0.1, -0.15, 0.0, 0.05, -0.13, 0.0, 0.1, -0.13,
        0.0, 0.09, -0.06, -0.04, -0.13, -0.08, -0.08, -0.11, -0.11, -0.04,
        -0.1, -0.09, 0.0, -0.13, -0.05, 0.0, -0.16, -0.05, 0.0, -0.16,
        -0.09, 0.0, -0.13, -0.05, 0.0, -0.16, -0.06, -0.04, -0.13, -0.08,
        -0.08, -0.11, -0.08, -0.08, -0.11, -0.11, -0.04, -0.1, -0.09, 0.0,
        -0.13, -0.11, -0.04, -0.1, -0.13, 0.0, -0.09, -0.09, 0.0, -0.13,
        -0.13, 0.0, -0.09, -0.13, 0.0, -0.1, 0.09, 0.0, -0.13, 0.11,
        -0.04, -0.1, 0.06, -0.04, -0.13, 0.09, 0.0, -0.13, 0.13, 0.0,
        -0.09, 0.11, -0.04, -0.1, 0.06, -0.04, -0.13, 0.11, -0.04, -0.1,
        0.08, -0.08, -0.11, 0.08, -0.08, -0.11, 0.08, -0.08, -0.11, 0.06,
        -0.04, -0.13, 0.09, 0.0, -0.13, 0.06, -0.04, -0.13, 0.05, 0.0,
        -0.16, 0.09, 0.0, -0.13, 0.05, 0.0, -0.16, 0.05, 0.0, -0.16,
        -0.15, 0.04, -0.02, -0.13, 0.08, -0.04, -0.13, 0.08, -0.04, -0.15,
        0.04, -0.02, -0.13, 0.04, -0.07, -0.15, 0.0, -0.05, -0.15, 0.04,
        -0.02, -0.13, 0.08, -0.04, -0.13, 0.04, -0.07, -0.15, 0.0, -0.05,
        -0.13, 0.04, -0.07, -0.13, 0.0, -0.1, -0.13, 0.0, -0.1, -0.13,
        0.0, -0.09, -0.15, 0.0, -0.05, -0.15, 0.0, -0.05, -0.17, 0.0,
        0.0, -0.17, 0.0, 0.0, -0.02, 0.04, -0.15, 0.0, 0.08, -0.14,
        0.02, 0.04, -0.15, 0.0, 0.0, -0.16, -0.05, 0.0, -0.16, -0.02,
        0.04, -0.15, 0.02, 0.04, -0.15, 0.05, 0.0, -0.16, 0.0, 0.0,
        -0.16, 0.0, 0.08, -0.14, 0.0, 0.08, -0.14, 0.02, 0.04, -0.15,
        0.05, 0.0, -0.16, 0.05, 0.0, -0.16, 0.0, 0.0, -0.16, 0.0,
        0.0, -0.16, -0.05, 0.0, -0.16, -0.05, 0.0, -0.16, 0.15, 0.0,
        -0.05, 0.13, 0.0, -0.1, 0.13, 0.04, -0.07, 0.15, 0.04, -0.02,
        0.17, 0.0, 0.0, 0.15, 0.0, -0.05, 0.13, 0.04, -0.07, 0.13,
        0.08, -0.04, 0.13, 0.08, -0.04, 0.13, 0.04, -0.07, 0.13, 0.08,
        -0.04, 0.15, 0.04, -0.02, 0.17, 0.0, 0.0, 0.17, 0.0, 0.0,
        0.15, 0.0, -0.05, 0.15, 0.0, -0.05, 0.13, 0.0, -0.09, 0.13,
        0.0, -0.1, 0.0, 0.0, 0.16, -0.02, -0.04, 0.15, 0.02, -0.04,
        0.15, 0.0, 0.0, 0.16, -0.05, 0.0, 0.16, -0.02, -0.04, 0.15,
        0.02, -0.04, 0.15, -0.02, -0.04, 0.15, 0.0, -0.08, 0.14, 0.0,
        -0.08, 0.14, 0.0, -0.08, 0.14, 0.02, -0.04, 0.15, 0.0, 0.0,
        0.16, 0.02, -0.04, 0.15, 0.05, 0.0, 0.16, 0.0, 0.0, 0.16,
        0.05, 0.0, 0.16, 0.05, 0.0, 0.16, 0.09, 0.0, 0.13, 0.13,
        0.0, 0.09, 0.11, 0.04, 0.1, 0.06, 0.04, 0.13, 0.05, 0.0,
        0.16, 0.09, 0.0, 0.13, 0.11, 0.04, 0.1, 0.08, 0.08, 0.11,
        0.08, 0.08, 0.11, 0.11, 0.04, 0.1, 0.08, 0.08, 0.11, 0.06,
        0.04, 0.13, 0.05, 0.0, 0.16, 0.05, 0.0, 0.16, 0.09, 0.0,
        0.13, 0.09, 0.0, 0.13, 0.13, 0.0, 0.1, 0.13, 0.0, 0.09,
        0.15, 0.0, 0.05, 0.13, -0.04, 0.07, 0.15, -0.04, 0.02, 0.15,
        0.0, 0.05, 0.13, 0.0, 0.1, 0.13, -0.04, 0.07, 0.15, -0.04,
        0.02, 0.13, -0.04, 0.07, 0.13, -0.08, 0.04, 0.13, -0.08, 0.04,
        0.13, -0.08, 0.04, 0.15, -0.04, 0.02, 0.15, 0.0, 0.05, 0.15,
        -0.04, 0.02, 0.17, 0.0, 0.0, 0.15, 0.0, 0.05, 0.17, 0.0,
        0.0, 0.17, 0.0, 0.0, -0.09, -0.11, 0.05, -0.13, -0.08, 0.04,
        -0.13, -0.08, 0.04, -0.09, -0.11, 0.05, -0.11, -0.11, 0.0, -0.06,
        -0.14, 0.02, -0.09, -0.11, 0.05, -0.13, -0.08, 0.04, -0.11, -0.11,
        0.0, -0.06, -0.14, 0.02, -0.11, -0.11, 0.0, -0.08, -0.14, -0.02,
        -0.08, -0.14, -0.02, -0.08, -0.14, -0.02, -0.06, -0.14, 0.02, -0.06,
        -0.14, 0.02, -0.05, -0.14, 0.07, -0.05, -0.14, 0.07, 0.11, -0.11,
        0.0, 0.13, -0.08, 0.04, 0.13, -0.08, 0.04, 0.11, -0.11, 0.0,
        0.09, -0.11, 0.05, 0.06, -0.14, 0.02, 0.11, -0.11, 0.0, 0.13,
        -0.08, 0.04, 0.09, -0.11, 0.05, 0.06, -0.14, 0.02, 0.09, -0.11,
        0.05, 0.05, -0.14, 0.07, 0.05, -0.14, 0.07, 0.05, -0.14, 0.07,
        0.06, -0.14, 0.02, 0.06, -0.14, 0.02, 0.08, -0.14, -0.02, 0.08,
        -0.14, -0.02, -0.08, -0.11, -0.07, -0.08, -0.08, -0.11, -0.04, -0.11,
        -0.1, -0.04, -0.14, -0.05, -0.08, -0.14, -0.02, -0.08, -0.11, -0.07,
        -0.08, -0.08, -0.11, -0.08, -0.08, -0.11, -0.04, -0.11, -0.1, -0.04,
        -0.11, -0.1, 0.0, -0.14, -0.09, 0.0, -0.14, -0.08, -0.04, -0.11,
        -0.1, 0.0, -0.14, -0.08, -0.04, -0.14, -0.05, -0.04, -0.14, -0.05,
        -0.08, -0.14, -0.02, -0.08, -0.14, -0.02, -0.02, -0.11, 0.1, -0.05,
        -0.14, 0.07, 0.0, -0.14, 0.07, 0.02, -0.11, 0.1, 0.0, -0.08,
        0.14, -0.02, -0.11, 0.1, -0.05, -0.14, 0.07, -0.05, -0.14, 0.07,
        0.0, -0.14, 0.07, 0.0, -0.14, 0.07, 0.05, -0.14, 0.07, 0.05,
        -0.14, 0.07, 0.0, -0.14, 0.07, 0.05, -0.14, 0.07, 0.02, -0.11,
        0.1, 0.02, -0.11, 0.1, 0.0, -0.08, 0.14, 0.0, -0.08, 0.14,
        -0.01, 0.16, 0.34, -0.01, 0.17, 0.34, -0.06, 0.04, 0.13, 0.19,
        0.16, -0.29, 0.19, 0.15, -0.29, 0.02, 0.04, -0.15, 0.05, 0.0,
        -0.16, 0.01, -0.15, -0.35, 0.0, 0.0, -0.16, 0.13, 0.08, -0.04,
        0.33, 0.17, 0.08, 0.15, 0.04, -0.02, 0.2, -0.18, 0.27, 0.19,
        -0.18, 0.27, 0.09, -0.11, 0.05, -0.05, 0.0, 0.16, -0.01, 0.15,
        0.35, -0.06, 0.04, 0.13, 0.01, -0.16, -0.34, 0.01, -0.15, -0.35,
        0.06, -0.04, -0.13, 0.32, 0.18, 0.09, 0.33, 0.17, 0.08, 0.11,
        0.11, 0.0, 0.05, -0.14, 0.07, 0.19, -0.18, 0.27, 0.02, -0.11,
        0.1, 0.0, 0.15, 0.35, -0.01, 0.15, 0.35, 0.0, 0.0, 0.16,
        0.08, -0.08, -0.11, 0.01, -0.17, -0.34, 0.06, -0.04, -0.13, 0.08,
        0.14, 0.02, 0.32, 0.18, 0.1, 0.11, 0.11, 0.0, 0.0, -0.18,
        -0.34, 0.01, -0.17, -0.34, 0.04, -0.11, -0.1, 0.32, 0.18, 0.11,
        0.32, 0.18, 0.1, 0.08, 0.11, 0.07, 0.05, 0.0, 0.16, 0.01,
        0.15, 0.35, 0.0, 0.0, 0.16, 0.01, 0.16, 0.34, 0.01, 0.15,
        0.35, 0.06, 0.04, 0.13, 0.08, 0.08, 0.11, 0.32, 0.17, 0.12,
        0.08, 0.11, 0.07, -0.08, 0.08, 0.11, -0.32, 0.17, 0.12, -0.11,
        0.04, 0.1, 0.0, -0.14, -0.09, 0.0, -0.18, -0.33, 0.04, -0.11,
        -0.1, 0.32, 0.16, 0.12, 0.32, 0.17, 0.12, 0.11, 0.04, 0.1,
        -0.32, 0.18, 0.11, -0.32, 0.17, 0.12, -0.08, 0.11, 0.07, 0.0,
        -0.18, -0.34, 0.0, -0.18, -0.33, -0.04, -0.11, -0.1, 0.08, -0.08,
        -0.11, 0.32, -0.17, -0.12, 0.08, -0.11, -0.07, 0.13, 0.0, 0.09,
        0.33, 0.15, 0.11, 0.11, 0.04, 0.1, -0.08, 0.14, 0.02, -0.32,
        0.18, 0.1, -0.08, 0.11, 0.07, 0.32, -0.16, -0.12, 0.32, -0.17,
        -0.12, 0.11, -0.04, -0.1, 0.33, 0.15, 0.1, 0.33, 0.15, 0.11,
        0.15, 0.0, 0.05, -0.32, 0.18, 0.09, -0.32, 0.18, 0.1, -0.11,
        0.11, 0.0, 0.13, 0.0, -0.09, 0.33, -0.15, -0.11, 0.11, -0.04,
        -0.1, -0.13, 0.08, -0.04, -0.33, 0.17, 0.08, -0.11, 0.11, 0.0,
        0.33, -0.15, -0.1, 0.33, -0.15, -0.11, 0.15, 0.0, -0.05, 0.17,
        0.0, 0.0, 0.33, 0.15, 0.09, 0.15, 0.0, 0.05, -0.33, 0.16,
        0.09, -0.33, 0.17, 0.08, -0.15, 0.04, -0.02, 0.33, 0.16, 0.09,
        0.33, 0.15, 0.09, 0.15, 0.04, -0.02, 0.17, 0.0, 0.0, 0.33,
        -0.15, -0.09, 0.15, 0.0, -0.05, -0.05, 0.0, 0.16, -0.19, -0.15,
        0.29, -0.02, -0.04, 0.15, -0.17, 0.0, 0.0, -0.33, 0.15, 0.09,
        -0.15, 0.04, -0.02, 0.33, -0.16, -0.09, 0.33, -0.15, -0.09, 0.15,
        -0.04, 0.02, -0.2, -0.15, 0.28, -0.19, -0.15, 0.29, -0.09, 0.0,
        0.13, -0.33, 0.15, 0.1, -0.33, 0.15, 0.09, -0.15, 0.0, 0.05,
        0.13, -0.08, 0.04, 0.33, -0.17, -0.08, 0.15, -0.04, 0.02, -0.13,
        0.0, 0.1, -0.21, -0.15, 0.27, -0.09, 0.0, 0.13, 0.32, -0.18,
        -0.09, 0.33, -0.17, -0.08, 0.11, -0.11, 0.0, -0.21, -0.16, 0.27,
        -0.21, -0.15, 0.27, -0.13, -0.04, 0.07, -0.13, 0.0, 0.09, -0.33,
        0.15, 0.11, -0.15, 0.0, 0.05, -0.32, 0.16, 0.12, -0.33, 0.15,
        0.11, -0.11, 0.04, 0.1, -0.13, -0.08, 0.04, -0.21, -0.17, 0.26,
        -0.13, -0.04, 0.07, -0.13, 0.08, -0.04, -0.21, 0.17, -0.26, -0.13,
        0.04, -0.07, 0.08, -0.14, -0.02, 0.32, -0.18, -0.1, 0.11, -0.11,
        0.0, -0.2, -0.18, 0.27, -0.21, -0.17, 0.26, -0.09, -0.11, 0.05,
        -0.2, 0.18, -0.27, -0.21, 0.17, -0.26, -0.09, 0.11, -0.05, 0.32,
        -0.18, -0.11, 0.32, -0.18, -0.1, 0.08, -0.11, -0.07, 0.0, -0.14,
        -0.08, 0.0, -0.38, -0.01, -0.04, -0.14, -0.05, -0.05, -0.14, 0.07,
        -0.19, -0.18, 0.27, -0.09, -0.11, 0.05, -0.05, 0.14, -0.07, -0.19,
        0.18, -0.27, -0.09, 0.11, -0.05, -0.19, -0.18, 0.28, -0.19, -0.18,
        0.27, -0.02, -0.11, 0.1, -0.19, 0.18, -0.28, -0.19, 0.18, -0.27,
        -0.02, 0.11, -0.1, -0.08, -0.14, -0.02, -0.01, -0.38, 0.0, -0.06,
        -0.14, 0.02, 0.0, -0.38, -0.01, 0.0, -0.38, -0.01, 0.04, -0.14,
        -0.05, 0.0, 0.08, -0.14, -0.18, 0.17, -0.28, -0.02, 0.11, -0.1,
        0.01, 0.38, -0.01, 0.0, 0.38, -0.01, 0.01, 0.38, 0.0, -0.01,
        0.38, -0.01, -0.01, 0.38, 0.0, 0.0, 0.38, -0.01, -0.01, 0.38,
        0.0, 0.0, 0.38, 0.01, -0.01, 0.38, 0.0, 0.0, 0.38, 0.01,
        0.0, 0.38, 0.01, 0.0, 0.38, 0.01, 0.01, 0.38, 0.0, 0.01,
        0.38, 0.0, 0.0, 0.38, 0.01, 0.01, 0.17, 0.34, 0.0, 0.18,
        0.34, 0.01, 0.16, 0.34, 0.0, 0.18, 0.33, 0.0, 0.18, 0.34,
        0.0, 0.18, 0.34, -0.01, 0.17, 0.34, -0.01, 0.16, 0.34, 0.0,
        0.18, 0.34, -0.01, 0.15, 0.35, 0.0, 0.15, 0.35, -0.01, 0.16,
        0.34, 0.01, 0.15, 0.35, 0.01, 0.16, 0.34, 0.0, 0.15, 0.35,
        -0.32, 0.17, 0.12, -0.32, 0.18, 0.11, -0.32, 0.16, 0.12, -0.32,
        0.18, 0.1, -0.32, 0.18, 0.09, -0.32, 0.18, 0.11, -0.33, 0.17,
        0.08, -0.33, 0.16, 0.09, -0.32, 0.18, 0.09, -0.33, 0.15, 0.09,
        -0.33, 0.15, 0.1, -0.33, 0.16, 0.09, -0.33, 0.15, 0.11, -0.32,
        0.16, 0.12, -0.33, 0.15, 0.1, -0.21, 0.17, -0.26, -0.2, 0.18,
        -0.27, -0.21, 0.16, -0.27, -0.19, 0.18, -0.27, -0.19, 0.18, -0.28,
        -0.2, 0.18, -0.27, -0.18, 0.17, -0.28, -0.19, 0.16, -0.29, -0.19,
        0.18, -0.28, -0.19, 0.15, -0.29, -0.2, 0.15, -0.28, -0.19, 0.16,
        -0.29, -0.21, 0.15, -0.27, -0.21, 0.16, -0.27, -0.2, 0.15, -0.28,
        0.18, 0.17, -0.28, 0.19, 0.18, -0.28, 0.19, 0.16, -0.29, 0.19,
        0.18, -0.27, 0.2, 0.18, -0.27, 0.19, 0.18, -0.28, 0.21, 0.17,
        -0.26, 0.21, 0.16, -0.27, 0.2, 0.18, -0.27, 0.21, 0.15, -0.27,
        0.2, 0.15, -0.28, 0.21, 0.16, -0.27, 0.19, 0.15, -0.29, 0.19,
        0.16, -0.29, 0.2, 0.15, -0.28, 0.33, 0.17, 0.08, 0.32, 0.18,
        0.09, 0.33, 0.16, 0.09, 0.32, 0.18, 0.1, 0.32, 0.18, 0.11,
        0.32, 0.18, 0.09, 0.32, 0.17, 0.12, 0.32, 0.16, 0.12, 0.32,
        0.18, 0.11, 0.33, 0.15, 0.11, 0.33, 0.15, 0.1, 0.32, 0.16,
        0.12, 0.33, 0.15, 0.09, 0.33, 0.16, 0.09, 0.33, 0.15, 0.1,
        -0.19, -0.15, 0.29, -0.2, -0.15, 0.28, -0.19, -0.16, 0.29, -0.21,
        -0.15, 0.27, -0.21, -0.16, 0.27, -0.2, -0.15, 0.28, -0.21, -0.17,
        0.26, -0.2, -0.18, 0.27, -0.21, -0.16, 0.27, -0.19, -0.18, 0.27,
        -0.19, -0.18, 0.28, -0.2, -0.18, 0.27, -0.18, -0.17, 0.28, -0.19,
        -0.16, 0.29, -0.19, -0.18, 0.28, -0.33, -0.17, -0.08, -0.33, -0.16,
        -0.09, -0.32, -0.18, -0.09, -0.33, -0.15, -0.09, -0.33, -0.15, -0.1,
        -0.33, -0.16, -0.09, -0.33, -0.15, -0.11, -0.32, -0.16, -0.12, -0.33,
        -0.15, -0.1, -0.32, -0.17, -0.12, -0.32, -0.18, -0.11, -0.32, -0.16,
        -0.12, -0.32, -0.18, -0.1, -0.32, -0.18, -0.09, -0.32, -0.18, -0.11,
        -0.01, -0.17, -0.34, -0.01, -0.16, -0.34, 0.0, -0.18, -0.34, -0.01,
        -0.15, -0.35, 0.0, -0.15, -0.35, -0.01, -0.16, -0.34, 0.01, -0.15,
        -0.35, 0.01, -0.16, -0.34, 0.0, -0.15, -0.35, 0.01, -0.17, -0.34,
        0.0, -0.18, -0.34, 0.01, -0.16, -0.34, 0.0, -0.18, -0.33, 0.0,
        -0.18, -0.34, 0.0, -0.18, -0.34, 0.32, -0.17, -0.12, 0.32, -0.16,
        -0.12, 0.32, -0.18, -0.11, 0.33, -0.15, -0.11, 0.33, -0.15, -0.1,
        0.32, -0.16, -0.12, 0.33, -0.15, -0.09, 0.33, -0.16, -0.09, 0.33,
        -0.15, -0.1, 0.33, -0.17, -0.08, 0.32, -0.18, -0.09, 0.33, -0.16,
        -0.09, 0.32, -0.18, -0.1, 0.32, -0.18, -0.11, 0.32, -0.18, -0.09,
        0.19, -0.18, 0.27, 0.2, -0.18, 0.27, 0.19, -0.18, 0.28, 0.21,
        -0.17, 0.26, 0.21, -0.16, 0.27, 0.2, -0.18, 0.27, 0.21, -0.15,
        0.27, 0.2, -0.15, 0.28, 0.21, -0.16, 0.27, 0.19, -0.15, 0.29,
        0.19, -0.16, 0.29, 0.2, -0.15, 0.28, 0.18, -0.17, 0.28, 0.19,
        -0.18, 0.28, 0.19, -0.16, 0.29, 0.01, -0.38, 0.0, 0.01, -0.38,
        0.0, 0.0, -0.38, -0.01, 0.01, -0.38, 0.01, 0.0, -0.38, 0.01,
        0.01, -0.38, 0.0, -0.01, -0.38, 0.01, -0.01, -0.38, 0.0, 0.0,
        -0.38, 0.01, -0.01, -0.38, 0.0, 0.0, -0.38, -0.01, -0.01, -0.38,
        0.0, 0.0, -0.38, -0.01, 0.0, -0.38, -0.01, 0.0, -0.38, -0.01,
        -0.17, 0.0, 0.0, -0.15, 0.04, -0.02, -0.17, 0.0, 0.0, 0.15,
        -0.04, 0.02, 0.17, 0.0, 0.0, 0.15, -0.04, 0.02, -0.09, 0.0,
        0.13, -0.05, 0.0, 0.16, -0.09, 0.0, 0.13, -0.15, 0.0, 0.05,
        -0.17, 0.0, 0.0, -0.15, 0.0, 0.05, 0.13, -0.08, 0.04, 0.15,
        -0.04, 0.02, 0.13, -0.08, 0.04, -0.13, 0.0, 0.1, -0.09, 0.0,
        0.13, -0.13, 0.0, 0.1, 0.11, -0.11, 0.0, 0.13, -0.08, 0.04,
        0.11, -0.11, 0.0, -0.13, -0.04, 0.07, -0.13, 0.0, 0.1, -0.13,
        -0.04, 0.07, -0.13, 0.0, 0.09, -0.15, 0.0, 0.05, -0.13, 0.0,
        0.09, -0.11, 0.04, 0.1, -0.13, 0.0, 0.09, -0.11, 0.04, 0.1,
        -0.13, -0.08, 0.04, -0.13, -0.04, 0.07, -0.13, -0.08, 0.04, -0.13,
        0.08, -0.04, -0.13, 0.04, -0.07, -0.13, 0.08, -0.04, 0.08, -0.14,
        -0.02, 0.11, -0.11, 0.0, 0.08, -0.14, -0.02, -0.09, -0.11, 0.05,
        -0.13, -0.08, 0.04, -0.09, -0.11, 0.05, -0.09, 0.11, -0.05, -0.13,
        0.08, -0.04, -0.09, 0.11, -0.05, 0.08, -0.11, -0.07, 0.08, -0.14,
        -0.02, 0.08, -0.11, -0.07, -0.05, -0.14, 0.07, -0.09, -0.11, 0.05,
        -0.05, -0.14, 0.07, -0.05, 0.14, -0.07, -0.09, 0.11, -0.05, -0.05,
        0.14, -0.07, -0.02, -0.11, 0.1, -0.05, -0.14, 0.07, -0.02, -0.11,
        0.1, -0.02, 0.11, -0.1, -0.05, 0.14, -0.07, -0.02, 0.11, -0.1,
        0.0, 0.08, -0.14, -0.02, 0.11, -0.1, 0.0, 0.08, -0.14, 0.05,
        0.14, -0.07, 0.06, 0.14, -0.02, 0.05, 0.14, -0.07, 0.0, -0.08,
        0.14, -0.02, -0.11, 0.1, 0.0, -0.08, 0.14, 0.0, -0.14, -0.08,
        -0.04, -0.14, -0.05, 0.0, -0.14, -0.08, -0.02, 0.04, -0.15, 0.0,
        0.08, -0.14, -0.02, 0.04, -0.15, 0.0, 0.14, -0.07, 0.05, 0.14,
        -0.07, 0.0, 0.14, -0.07, -0.02, -0.04, 0.15, 0.0, -0.08, 0.14,
        -0.02, -0.04, 0.15, -0.08, -0.14, -0.02, -0.06, -0.14, 0.02, -0.08,
        -0.14, -0.02, -0.13, -0.08, 0.04, -0.11, -0.11, 0.0, -0.13, -0.08,
        0.04, -0.05, 0.0, -0.16, -0.02, 0.04, -0.15, -0.05, 0.0, -0.16,
        -0.05, 0.14, -0.07, 0.0, 0.14, -0.07, -0.05, 0.14, -0.07, 0.04,
        -0.14, -0.05, 0.0, -0.14, -0.08, 0.04, -0.14, -0.05, -0.15, -0.04,
        0.02, -0.13, -0.08, 0.04, -0.15, -0.04, 0.02, -0.09, 0.0, -0.13,
        -0.05, 0.0, -0.16, -0.09, 0.0, -0.13, -0.06, 0.14, -0.02, -0.05,
        0.14, -0.07, -0.06, 0.14, -0.02, -0.06, -0.14, 0.02, -0.05, -0.14,
        0.07, -0.06, -0.14, 0.02, -0.17, 0.0, 0.0, -0.15, -0.04, 0.02,
        -0.17, 0.0, 0.0, -0.08, 0.14, 0.02, -0.06, 0.14, -0.02, -0.08,
        0.14, 0.02, -0.04, -0.14, -0.05, -0.08, -0.14, -0.02, -0.04, -0.14,
        -0.05, -0.15, 0.0, -0.05, -0.17, 0.0, 0.0, -0.15, 0.0, -0.05,
        -0.13, 0.0, -0.1, -0.09, 0.0, -0.13, -0.13, 0.0, -0.1, -0.04,
        0.14, 0.05, -0.08, 0.14, 0.02, -0.04, 0.14, 0.05, -0.13, 0.04,
        -0.07, -0.13, 0.0, -0.1, -0.13, 0.04, -0.07, -0.13, 0.0, -0.09,
        -0.15, 0.0, -0.05, -0.13, 0.0, -0.09, -0.05, -0.14, 0.07, 0.0,
        -0.14, 0.07, -0.05, -0.14, 0.07, 0.0, 0.08, -0.14, 0.02, 0.04,
        -0.15, 0.0, 0.08, -0.14, 0.0, 0.14, 0.08, -0.04, 0.14, 0.05,
        0.0, 0.14, 0.08, -0.11, -0.04, -0.1, -0.13, 0.0, -0.09, -0.11,
        -0.04, -0.1, 0.02, 0.11, -0.1, 0.0, 0.08, -0.14, 0.02, 0.11,
        -0.1, 0.04, 0.14, 0.05, 0.0, 0.14, 0.08, 0.04, 0.14, 0.05,
        -0.08, -0.08, -0.11, -0.11, -0.04, -0.1, -0.08, -0.08, -0.11, 0.0,
        -0.14, 0.07, 0.05, -0.14, 0.07, 0.0, -0.14, 0.07, 0.05, 0.14,
        -0.07, 0.02, 0.11, -0.1, 0.05, 0.14, -0.07, -0.08, -0.11, -0.07,
        -0.08, -0.08, -0.11, -0.08, -0.11, -0.07, 0.02, -0.11, 0.1, 0.0,
        -0.08, 0.14, 0.02, -0.11, 0.1, 0.09, 0.11, -0.05, 0.05, 0.14,
        -0.07, 0.09, 0.11, -0.05, 0.08, 0.14, 0.02, 0.04, 0.14, 0.05,
        0.08, 0.14, 0.02, 0.06, -0.14, 0.02, 0.08, -0.14, -0.02, 0.06,
        -0.14, 0.02, 0.06, 0.14, -0.02, 0.08, 0.14, 0.02, 0.06, 0.14,
        -0.02, 0.13, 0.08, -0.04, 0.09, 0.11, -0.05, 0.13, 0.08, -0.04,
        0.13, 0.0, 0.1, 0.21, -0.15, 0.27, 0.13, -0.04, 0.07, 0.05,
        0.0, -0.16, 0.19, 0.15, -0.29, 0.09, 0.0, -0.13, 0.0, -0.15,
        -0.35, -0.01, -0.15, -0.35, 0.0, 0.0, -0.16, -0.08, 0.08, 0.11,
        -0.01, 0.17, 0.34, -0.04, 0.11, 0.1, -0.05, 0.0, -0.16, -0.01,
        -0.15, -0.35, -0.06, -0.04, -0.13, 0.13, -0.08, 0.04, 0.21, -0.17,
        0.26, 0.09, -0.11, 0.05, 0.0, 0.18, 0.34, 0.0, 0.18, 0.33,
        -0.04, 0.11, 0.1, 0.05, 0.0, 0.16, 0.19, -0.15, 0.29, 0.09,
        0.0, 0.13, 0.2, 0.15, -0.28, 0.21, 0.15, -0.27, 0.09, 0.0,
        -0.13, -0.01, -0.16, -0.34, -0.01, -0.17, -0.34, -0.06, -0.04, -0.13,
        0.0, 0.14, 0.09, 0.0, 0.18, 0.33, 0.04, 0.11, 0.1, 0.21,
        -0.16, 0.27, 0.21, -0.17, 0.26, 0.13, -0.04, 0.07, 0.13, 0.0,
        -0.1, 0.21, 0.15, -0.27, 0.13, 0.04, -0.07, -0.08, -0.08, -0.11,
        -0.01, -0.17, -0.34, -0.04, -0.11, -0.1, -0.32, -0.18, -0.09, -0.32,
        -0.18, -0.1, -0.11, -0.11, 0.0, 0.0, 0.18, 0.34, 0.01, 0.17,
        0.34, 0.04, 0.11, 0.1, 0.08, -0.14, -0.02, 0.01, -0.38, 0.0,
        0.04, -0.14, -0.05, 0.21, 0.16, -0.27, 0.21, 0.17, -0.26, 0.13,
        0.04, -0.07, -0.08, -0.14, -0.02, -0.32, -0.18, -0.1, -0.08, -0.11,
        -0.07, 0.08, 0.08, 0.11, 0.01, 0.17, 0.34, 0.06, 0.04, 0.13,
        0.2, -0.15, 0.28, 0.21, -0.15, 0.27, 0.09, 0.0, 0.13, 0.13,
        0.08, -0.04, 0.21, 0.17, -0.26, 0.09, 0.11, -0.05, 0.01, 0.38,
        0.0, 0.01, 0.38, 0.0, 0.06, 0.14, -0.02, 0.05, -0.14, 0.07,
        0.01, -0.38, 0.01, 0.06, -0.14, 0.02, 0.08, 0.14, 0.02, 0.01,
        0.38, 0.0, 0.04, 0.14, 0.05, 0.19, -0.16, 0.29, 0.19, -0.15,
        0.29, 0.02, -0.04, 0.15, 0.2, 0.18, -0.27, 0.19, 0.18, -0.27,
        0.09, 0.11, -0.05, -0.32, -0.18, -0.11, -0.32, -0.17, -0.12, -0.08,
        -0.11, -0.07, 0.05, 0.14, -0.07, 0.19, 0.18, -0.27, 0.02, 0.11,
        -0.1, -0.08, -0.08, -0.11, -0.32, -0.17, -0.12, -0.11, -0.04, -0.1,
        0.0, -0.08, 0.14, 0.18, -0.17, 0.28, 0.02, -0.04, 0.15, 0.0,
        0.38, 0.01, 0.0, 0.38, 0.01, 0.04, 0.14, 0.05, 0.19, 0.18,
        -0.28, 0.18, 0.17, -0.28, 0.02, 0.11, -0.1, -0.32, -0.16, -0.12,
        -0.33, -0.15, -0.11, -0.11, -0.04, -0.1, 0.0, 0.14, 0.08, 0.0,
        0.38, 0.01, -0.04, 0.14, 0.05, 0.01, -0.38, 0.0, 0.01, -0.38,
        0.0, 0.06, -0.14, 0.02, 0.0, 0.08, -0.14, 0.18, 0.17, -0.28,
        0.02, 0.04, -0.15, -0.13, 0.0, -0.09, -0.33, -0.15, -0.11, -0.15,
        0.0, -0.05, 0.19, -0.18, 0.28, 0.18, -0.17, 0.28, 0.02, -0.11,
        0.1, -0.21, 0.16, -0.27, -0.21, 0.15, -0.27, -0.13, 0.04, -0.07,
        0.0, 0.38, 0.01, -0.01, 0.38, 0.0, -0.04, 0.14, 0.05, 0.0,
        -0.38, 0.01, 0.01, -0.38, 0.01, 0.0, -0.14, 0.07, -0.13, 0.0,
        -0.1, -0.21, 0.15, -0.27, -0.09, 0.0, -0.13, -0.33, -0.15, -0.1,
        -0.33, -0.15, -0.09, -0.15, 0.0, -0.05, -0.08, 0.14, 0.02, -0.01,
        0.38, 0.0, -0.06, 0.14, -0.02, -0.17, 0.0, 0.0, -0.33, -0.15,
        -0.09, -0.15, -0.04, 0.02, -0.01, 0.38, 0.0, -0.01, 0.38, -0.01,
        -0.06, 0.14, -0.02, -0.05, -0.14, 0.07, -0.01, -0.38, 0.01, 0.0,
        -0.14, 0.07, -0.2, 0.15, -0.28, -0.19, 0.15, -0.29, -0.09, 0.0,
        -0.13, -0.33, -0.16, -0.09, -0.33, -0.17, -0.08, -0.15, -0.04, 0.02,
        -0.05, 0.14, -0.07, -0.01, 0.38, -0.01, 0.0, 0.14, -0.07, -0.05,
        0.0, -0.16, -0.19, 0.15, -0.29, -0.02, 0.04, -0.15, -0.13, -0.08,
        0.04, -0.33, -0.17, -0.08, -0.11, -0.11, 0.0, 0.0, -0.38, -0.01,
        -0.01, -0.38, 0.0, -0.04, -0.14, -0.05, -0.19, -0.16, 0.29, -0.18,
        -0.17, 0.28, -0.02, -0.04, 0.15, 0.0, 0.38, -0.01, 0.01, 0.38,
        -0.01, 0.0, 0.14, -0.07, -0.19, 0.16, -0.29, -0.18, 0.17, -0.28,
        -0.02, 0.04, -0.15, 0.0, -0.08, 0.14, -0.18, -0.17, 0.28, -0.02,
        -0.11, 0.1, 0.05, 0.14, -0.07, 0.01, 0.38, -0.01, 0.06, 0.14,
        -0.02, -0.01, -0.38, 0.0, -0.01, -0.38, 0.01, -0.06, -0.14, 0.02,
        0.05, -0.14, 0.07, 0.06, -0.14, 0.02, 0.05, -0.14, 0.07, 0.06,
        0.14, -0.02, 0.08, 0.14, 0.02, 0.06, 0.14, -0.02, 0.13, 0.08,
        -0.04, 0.09, 0.11, -0.05, 0.13, 0.08, -0.04, 0.0, -0.14, 0.07,
        0.05, -0.14, 0.07, 0.0, -0.14, 0.07, 0.08, 0.08, 0.11, 0.06,
        0.04, 0.13, 0.08, 0.08, 0.11, -0.08, -0.14, -0.02, -0.08, -0.11,
        -0.07, -0.08, -0.14, -0.02, 0.13, 0.04, -0.07, 0.13, 0.08, -0.04,
        0.13, 0.04, -0.07, 0.04, 0.11, 0.1, 0.08, 0.08, 0.11, 0.04,
        0.11, 0.1, -0.11, -0.11, 0.0, -0.08, -0.14, -0.02, -0.11, -0.11,
        0.0, -0.05, -0.14, 0.07, 0.0, -0.14, 0.07, -0.05, -0.14, 0.07,
        -0.08, -0.08, -0.11, -0.04, -0.11, -0.1, -0.08, -0.08, -0.11, 0.13,
        0.0, -0.1, 0.13, 0.04, -0.07, 0.13, 0.0, -0.1, -0.06, -0.14,
        0.02, -0.05, -0.14, 0.07, -0.06, -0.14, 0.02, 0.0, 0.14, 0.09,
        0.04, 0.11, 0.1, 0.0, 0.14, 0.09, -0.06, -0.04, -0.13, -0.08,
        -0.08, -0.11, -0.06, -0.04, -0.13, 0.09, 0.0, -0.13, 0.13, 0.0,
        -0.1, 0.09, 0.0, -0.13, -0.04, 0.11, 0.1, 0.0, 0.14, 0.09,
        -0.04, 0.11, 0.1, -0.08, -0.14, -0.02, -0.06, -0.14, 0.02, -0.08,
        -0.14, -0.02, -0.05, 0.0, -0.16, -0.06, -0.04, -0.13, -0.05, 0.0,
        -0.16, -0.04, -0.14, -0.05, -0.08, -0.14, -0.02, -0.04, -0.14, -0.05,
        -0.08, 0.08, 0.11, -0.04, 0.11, 0.1, -0.08, 0.08, 0.11, 0.0,
        0.0, -0.16, -0.05, 0.0, -0.16, 0.0, 0.0, -0.16, 0.05, 0.0,
        -0.16, 0.09, 0.0, -0.13, 0.05, 0.0, -0.16, -0.06, 0.04, 0.13,
        -0.08, 0.08, 0.11, -0.06, 0.04, 0.13, 0.02, 0.04, -0.15, 0.05,
        0.0, -0.16, 0.02, 0.04, -0.15, 0.05, 0.0, -0.16, 0.0, 0.0,
        -0.16, 0.05, 0.0, -0.16, 0.13, 0.08, -0.04, 0.15, 0.04, -0.02,
        0.13, 0.08, -0.04, 0.0, -0.14, -0.08, -0.04, -0.14, -0.05, 0.0,
        -0.14, -0.08, -0.05, 0.0, 0.16, -0.06, 0.04, 0.13, -0.05, 0.0,
        0.16, 0.06, -0.04, -0.13, 0.05, 0.0, -0.16, 0.06, -0.04, -0.13,
        0.11, 0.11, 0.0, 0.13, 0.08, -0.04, 0.11, 0.11, 0.0, 0.04,
        -0.14, -0.05, 0.0, -0.14, -0.08, 0.04, -0.14, -0.05, 0.0, 0.0,
        0.16, -0.05, 0.0, 0.16, 0.0, 0.0, 0.16, 0.08, -0.08, -0.11,
        0.06, -0.04, -0.13, 0.08, -0.08, -0.11, 0.08, 0.14, 0.02, 0.11,
        0.11, 0.0, 0.08, 0.14, 0.02, 0.04, -0.11, -0.1, 0.08, -0.08,
        -0.11, 0.04, -0.11, -0.1, 0.08, 0.11, 0.07, 0.08, 0.14, 0.02,
        0.08, 0.11, 0.07, 0.05, 0.0, 0.16, 0.0, 0.0, 0.16, 0.05,
        0.0, 0.16, 0.06, 0.04, 0.13, 0.05, 0.0, 0.16, 0.06, 0.04,
        0.13, 0.08, 0.08, 0.11, 0.08, 0.11, 0.07, 0.08, 0.08, 0.11,
        -0.08, 0.08, 0.11, -0.11, 0.04, 0.1, -0.08, 0.08, 0.11, 0.0,
        -0.14, -0.09, 0.04, -0.11, -0.1, 0.0, -0.14, -0.09, 0.11, 0.04,
        0.1, 0.08, 0.08, 0.11, 0.11, 0.04, 0.1, -0.08, 0.11, 0.07,
        -0.08, 0.08, 0.11, -0.08, 0.11, 0.07, -0.04, -0.11, -0.1, 0.0,
        -0.14, -0.09, -0.04, -0.11, -0.1, 0.08, -0.08, -0.11, 0.08, -0.11,
        -0.07, 0.08, -0.08, -0.11, 0.13, 0.0, 0.09, 0.11, 0.04, 0.1,
        0.13, 0.0, 0.09, -0.08, 0.14, 0.02, -0.08, 0.11, 0.07, -0.08,
        0.14, 0.02, 0.11, -0.04, -0.1, 0.08, -0.08, -0.11, 0.11, -0.04,
        -0.1, 0.15, 0.0, 0.05, 0.13, 0.0, 0.09, 0.15, 0.0, 0.05,
        -0.11, 0.11, 0.0, -0.08, 0.14, 0.02, -0.11, 0.11, 0.0, 0.13,
        0.0, -0.09, 0.11, -0.04, -0.1, 0.13, 0.0, -0.09, -0.13, 0.08,
        -0.04, -0.11, 0.11, 0.0, -0.13, 0.08, -0.04, 0.15, 0.0, -0.05,
        0.13, 0.0, -0.09, 0.15, 0.0, -0.05, 0.17, 0.0, 0.0, 0.15,
        0.0, 0.05, 0.17, 0.0, 0.0, -0.15, 0.04, -0.02, -0.13, 0.08,
        -0.04, -0.15, 0.04, -0.02, 0.15, 0.04, -0.02, 0.17, 0.0, 0.0,
        0.15, 0.04, -0.02, 0.17, 0.0, 0.0, 0.15, 0.0, -0.05, 0.17,
        0.0, 0.0, -0.05, 0.0, 0.16, -0.02, -0.04, 0.15, -0.05, 0.0,
        0.16, -0.17, 0.0, 0.0, -0.15, 0.04, -0.02, -0.17, 0.0, 0.0,
        -0.05, 0.0, 0.16, -0.02, -0.04, 0.15, -0.05, 0.0, 0.16, 0.17,
        0.0, 0.0, 0.15, 0.0, -0.05, 0.17, 0.0, 0.0, 0.15, 0.04,
        -0.02, 0.17, 0.0, 0.0, 0.15, 0.04, -0.02, -0.15, 0.04, -0.02,
        -0.13, 0.08, -0.04, -0.15, 0.04, -0.02, 0.17, 0.0, 0.0, 0.15,
        0.0, 0.05, 0.17, 0.0, 0.0, 0.15, 0.0, -0.05, 0.13, 0.0,
        -0.09, 0.15, 0.0, -0.05, -0.13, 0.08, -0.04, -0.11, 0.11, 0.0,
        -0.13, 0.08, -0.04, 0.13, 0.0, -0.09, 0.11, -0.04, -0.1, 0.13,
        0.0, -0.09, -0.11, 0.11, 0.0, -0.08, 0.14, 0.02, -0.11, 0.11,
        0.0, 0.15, 0.0, 0.05, 0.13, 0.0, 0.09, 0.15, 0.0, 0.05,
        0.11, -0.04, -0.1, 0.08, -0.08, -0.11, 0.11, -0.04, -0.1, -0.08,
        0.14, 0.02, -0.08, 0.11, 0.07, -0.08, 0.14, 0.02, 0.13, 0.0,
        0.09, 0.11, 0.04, 0.1, 0.13, 0.0, 0.09, 0.08, -0.08, -0.11,
        0.08, -0.11, -0.07, 0.08, -0.08, -0.11, -0.04, -0.11, -0.1, 0.0,
        -0.14, -0.09, -0.04, -0.11, -0.1, -0.08, 0.11, 0.07, -0.08, 0.08,
        0.11, -0.08, 0.11, 0.07, 0.11, 0.04, 0.1, 0.08, 0.08, 0.11,
        0.11, 0.04, 0.1, 0.0, -0.14, -0.09, 0.04, -0.11, -0.1, 0.0,
        -0.14, -0.09, -0.08, 0.08, 0.11, -0.11, 0.04, 0.1, -0.08, 0.08,
        0.11, 0.08, 0.08, 0.11, 0.08, 0.11, 0.07, 0.08, 0.08, 0.11,
        0.05, -0.14, 0.07, 0.02, -0.11, 0.1, 0.05, -0.14, 0.07, 0.06,
        0.04, 0.13, 0.05, 0.0, 0.16, 0.06, 0.04, 0.13, 0.09, -0.11,
        0.05, 0.05, -0.14, 0.07, 0.09, -0.11, 0.05, 0.05, 0.0, 0.16,
        0.0, 0.0, 0.16, 0.05, 0.0, 0.16, 0.08, 0.11, 0.07, 0.08,
        0.14, 0.02, 0.08, 0.11, 0.07, 0.04, -0.11, -0.1, 0.08, -0.08,
        -0.11, 0.04, -0.11, -0.1, 0.08, 0.14, 0.02, 0.11, 0.11, 0.0,
        0.08, 0.14, 0.02, 0.13, 0.0, 0.1, 0.13, -0.04, 0.07, 0.13,
        0.0, 0.1, 0.08, -0.08, -0.11, 0.06, -0.04, -0.13, 0.08, -0.08,
        -0.11, 0.0, 0.0, 0.16, -0.05, 0.0, 0.16, 0.0, 0.0, 0.16,
        0.11, 0.11, 0.0, 0.13, 0.08, -0.04, 0.11, 0.11, 0.0, 0.13,
        -0.08, 0.04, 0.09, -0.11, 0.05, 0.13, -0.08, 0.04, 0.06, -0.04,
        -0.13, 0.05, 0.0, -0.16, 0.06, -0.04, -0.13, -0.05, 0.0, 0.16,
        -0.06, 0.04, 0.13, -0.05, 0.0, 0.16, 0.13, 0.08, -0.04, 0.15,
        0.04, -0.02, 0.13, 0.08, -0.04, 0.05, 0.0, 0.16, 0.09, 0.0,
        0.13, 0.05, 0.0, 0.16, 0.05, 0.0, -0.16, 0.0, 0.0, -0.16,
        0.05, 0.0, -0.16, 0.02, 0.04, -0.15, 0.05, 0.0, -0.16, 0.02,
        0.04, -0.15, 0.13, -0.04, 0.07, 0.13, -0.08, 0.04, 0.13, -0.04,
        0.07, -0.06, 0.04, 0.13, -0.08, 0.08, 0.11, -0.06, 0.04, 0.13,
        0.05, 0.0, -0.16, 0.09, 0.0, -0.13, 0.05, 0.0, -0.16, 0.0,
        0.0, -0.16, -0.05, 0.0, -0.16, 0.0, 0.0, -0.16, -0.08, 0.08,
        0.11, -0.04, 0.11, 0.1, -0.08, 0.08, 0.11, 0.08, -0.14, -0.02,
        0.04, -0.14, -0.05, 0.08, -0.14, -0.02, -0.05, 0.0, -0.16, -0.06,
        -0.04, -0.13, -0.05, 0.0, -0.16, 0.09, 0.0, 0.13, 0.13, 0.0,
        0.1, 0.09, 0.0, 0.13, -0.04, 0.11, 0.1, 0.0, 0.14, 0.09,
        -0.04, 0.11, 0.1, 0.09, 0.0, -0.13, 0.13, 0.0, -0.1, 0.09,
        0.0, -0.13, 0.05, -0.14, 0.07, 0.06, -0.14, 0.02, 0.05, -0.14,
        0.07, -0.06, -0.04, -0.13, -0.08, -0.08, -0.11, -0.06, -0.04, -0.13,
        0.0, 0.14, 0.09, 0.04, 0.11, 0.1, 0.0, 0.14, 0.09, 0.13,
        0.0, -0.1, 0.13, 0.04, -0.07, 0.13, 0.0, -0.1, 0.02, -0.04,
        0.15, 0.05, 0.0, 0.16, 0.02, -0.04, 0.15, -0.08, -0.08, -0.11,
        -0.04, -0.11, -0.1, -0.08, -0.08, -0.11, -0.11, -0.11, 0.0, -0.08,
        -0.14, -0.02, -0.11, -0.11, 0.0, 0.04, 0.11, 0.1, 0.08, 0.08,
        0.11, 0.04, 0.11, 0.1, 0.13, 0.04, -0.07, 0.13, 0.08, -0.04,
        0.13, 0.04, -0.07, 0.0, -0.08, 0.14, 0.02, -0.04, 0.15, 0.0,
        -0.08, 0.14, -0.08, -0.14, -0.02, -0.08, -0.11, -0.07, -0.08, -0.14,
        -0.02, 0.04, -0.11, -0.1, 0.08, -0.08, -0.11, 0.08, -0.08, -0.11,
        0.08, 0.14, 0.02, 0.04, 0.14, 0.05, 0.08, 0.14, 0.02, 0.09,
        0.11, -0.05, 0.05, 0.14, -0.07, 0.09, 0.11, -0.05, -0.08, -0.11,
        -0.07, -0.08, -0.08, -0.11, -0.08, -0.11, -0.07, 0.06, -0.14, 0.02,
        0.08, -0.14, -0.02, 0.06, -0.14, 0.02, 0.05, 0.14, -0.07, 0.02,
        0.11, -0.1, 0.05, 0.14, -0.07, -0.08, -0.08, -0.11, -0.11, -0.04,
        -0.1, -0.08, -0.08, -0.11, 0.08, -0.14, -0.02, 0.04, -0.14, -0.05,
        0.08, -0.14, -0.02, 0.04, 0.14, 0.05, 0.0, 0.14, 0.08, 0.04,
        0.14, 0.05, 0.02, -0.11, 0.1, 0.0, -0.08, 0.14, 0.02, -0.11,
        0.1, 0.02, 0.11, -0.1, 0.0, 0.08, -0.14, 0.02, 0.11, -0.1,
        -0.11, -0.04, -0.1, -0.13, 0.0, -0.09, -0.11, -0.04, -0.1, 0.0,
        0.14, 0.08, -0.04, 0.14, 0.05, 0.0, 0.14, 0.08, 0.0, -0.08,
        0.14, 0.02, -0.04, 0.15, 0.0, -0.08, 0.14, 0.0, 0.08, -0.14,
        0.02, 0.04, -0.15, 0.0, 0.08, -0.14, -0.13, 0.0, -0.09, -0.15,
        0.0, -0.05, -0.13, 0.0, -0.09, -0.13, 0.04, -0.07, -0.13, 0.0,
        -0.1, -0.13, 0.04, -0.07, -0.04, 0.14, 0.05, -0.08, 0.14, 0.02,
        -0.04, 0.14, 0.05, -0.13, 0.0, -0.1, -0.09, 0.0, -0.13, -0.13,
        0.0, -0.1, -0.15, 0.0, -0.05, -0.17, 0.0, 0.0, -0.15, 0.0,
        -0.05, -0.08, 0.14, 0.02, -0.06, 0.14, -0.02, -0.08, 0.14, 0.02,
        0.02, -0.04, 0.15, 0.05, 0.0, 0.16, 0.02, -0.04, 0.15, -0.17,
        0.0, 0.0, -0.15, -0.04, 0.02, -0.17, 0.0, 0.0, 0.05, 0.0,
        0.16, 0.09, 0.0, 0.13, 0.05, 0.0, 0.16, -0.06, 0.14, -0.02,
        -0.05, 0.14, -0.07, -0.06, 0.14, -0.02, -0.09, 0.0, -0.13, -0.05,
        0.0, -0.16, -0.09, 0.0, -0.13, -0.15, -0.04, 0.02, -0.13, -0.08,
        0.04, -0.15, -0.04, 0.02, -0.05, 0.14, -0.07, 0.0, 0.14, -0.07,
        -0.05, 0.14, -0.07, 0.09, 0.0, 0.13, 0.13, 0.0, 0.1, 0.09,
        0.0, 0.13, -0.05, 0.0, -0.16, -0.02, 0.04, -0.15, -0.05, 0.0,
        -0.16, -0.13, -0.08, 0.04, -0.11, -0.11, 0.0, -0.13, -0.08, 0.04,
        0.13, 0.0, 0.1, 0.13, -0.04, 0.07, 0.13, 0.0, 0.1, -0.02,
        -0.04, 0.15, 0.0, -0.08, 0.14, -0.02, -0.04, 0.15, 0.0, 0.14,
        -0.07, 0.05, 0.14, -0.07, 0.0, 0.14, -0.07, -0.02, 0.04, -0.15,
        0.0, 0.08, -0.14, -0.02, 0.04, -0.15, 0.0, -0.08, 0.14, -0.02,
        -0.11, 0.1, 0.0, -0.08, 0.14, 0.05, 0.14, -0.07, 0.06, 0.14,
        -0.02, 0.05, 0.14, -0.07, 0.13, -0.04, 0.07, 0.13, -0.08, 0.04,
        0.13, -0.04, 0.07, 0.0, 0.08, -0.14, -0.02, 0.11, -0.1, 0.0,
        0.08, -0.14, 0.13, -0.08, 0.04, 0.09, -0.11, 0.05, 0.13, -0.08,
        0.04, -0.02, 0.11, -0.1, -0.05, 0.14, -0.07, -0.02, 0.11, -0.1,
        -0.02, -0.11, 0.1, -0.05, -0.14, 0.07, -0.02, -0.11, 0.1, 0.09,
        -0.11, 0.05, 0.05, -0.14, 0.07, 0.09, -0.11, 0.05, -0.05, 0.14,
        -0.07, -0.09, 0.11, -0.05, -0.05, 0.14, -0.07, -0.05, -0.14, 0.07,
        -0.09, -0.11, 0.05, -0.05, -0.14, 0.07, 0.05, -0.14, 0.07, 0.02,
        -0.11, 0.1, 0.05, -0.14, 0.07, 0.08, -0.11, -0.07, 0.08, -0.14,
        -0.02, 0.08, -0.11, -0.07, -0.09, 0.11, -0.05, -0.13, 0.08, -0.04,
        -0.09, 0.11, -0.05, -0.09, -0.11, 0.05, -0.13, -0.08, 0.04, -0.09,
        -0.11, 0.05, 0.08, -0.14, -0.02, 0.11, -0.11, 0.0, 0.08, -0.14,
        -0.02, -0.13, 0.08, -0.04, -0.13, 0.04, -0.07, -0.13, 0.08, -0.04,
        -0.13, -0.08, 0.04, -0.13, -0.04, 0.07, -0.13, -0.08, 0.04, -0.11,
        0.04, 0.1, -0.13, 0.0, 0.09, -0.11, 0.04, 0.1, -0.13, 0.0,
        0.09, -0.15, 0.0, 0.05, -0.13, 0.0, 0.09, -0.13, -0.04, 0.07,
        -0.13, 0.0, 0.1, -0.13, -0.04, 0.07, 0.11, -0.11, 0.0, 0.13,
        -0.08, 0.04, 0.11, -0.11, 0.0, -0.13, 0.0, 0.1, -0.09, 0.0,
        0.13, -0.13, 0.0, 0.1, 0.13, -0.08, 0.04, 0.15, -0.04, 0.02,
        0.13, -0.08, 0.04, -0.15, 0.0, 0.05, -0.17, 0.0, 0.0, -0.15,
        0.0, 0.05, -0.09, 0.0, 0.13, -0.05, 0.0, 0.16, -0.09, 0.0,
        0.13, 0.15, -0.04, 0.02, 0.17, 0.0, 0.0, 0.15, -0.04, 0.02,
        0.08, 0.08, 0.11, 0.06, 0.04, 0.13, 0.08, 0.08, 0.11, -0.04,
        0.14, 0.05, -0.08, 0.11, 0.07, -0.04, 0.11, 0.1, -0.06, 0.14,
        -0.02, -0.09, 0.11, -0.05, -0.11, 0.11, 0.0, 0.0, 0.14, -0.07,
        0.02, 0.11, -0.1, -0.02, 0.11, -0.1, 0.06, 0.14, -0.02, 0.11,
        0.11, 0.0, 0.09, 0.11, -0.05, 0.04, 0.14, 0.05, 0.04, 0.11,
        0.1, 0.08, 0.11, 0.07, -0.09, 0.0, 0.13, -0.05, 0.0, 0.16,
        -0.06, 0.04, 0.13, -0.15, 0.0, 0.05, -0.15, -0.04, 0.02, -0.13,
        -0.04, 0.07, -0.09, 0.0, -0.13, -0.06, -0.04, -0.13, -0.11, -0.04,
        -0.1, 0.09, 0.0, -0.13, 0.13, 0.0, -0.1, 0.13, 0.0, -0.09,
        -0.15, 0.0, -0.05, -0.17, 0.0, 0.0, -0.15, 0.04, -0.02, -0.02,
        0.04, -0.15, 0.02, 0.04, -0.15, 0.0, 0.0, -0.16, 0.13, 0.04,
        -0.07, 0.15, 0.04, -0.02, 0.15, 0.0, -0.05, 0.0, 0.0, 0.16,
        -0.05, 0.0, 0.16, -0.05, 0.0, 0.16, 0.11, 0.04, 0.1, 0.06,
        0.04, 0.13, 0.09, 0.0, 0.13, 0.15, 0.0, 0.05, 0.13, 0.0,
        0.09, 0.13, 0.0, 0.1, -0.06, -0.14, 0.02, -0.05, -0.14, 0.07,
        -0.09, -0.11, 0.05, 0.06, -0.14, 0.02, 0.08, -0.14, -0.02, 0.11,
        -0.11, 0.0, -0.08, -0.11, -0.07, -0.04, -0.11, -0.1, -0.04, -0.14,
        -0.05, -0.02, -0.11, 0.1, 0.0, -0.14, 0.07, 0.02, -0.11, 0.1];

    const fullposition = refmesh.map((v, i) => position[i % 3] + v);
    const fullcolor = refmesh.map((v, i) => i % 3 ? 0 : 1); //return color[i % 3]
    let shape = new NGL.Shape("clash");
    let meshBuffer = new NGL.MeshBuffer({
        position: new Float32Array(fullposition),
        color: new Float32Array(fullcolor)
    });
    shape.addBuffer(meshBuffer);
    let shapeComp = stage.addComponentFromObject(shape);
    shapeComp.addRepresentation("buffer");
    if (!myData.spinningTimer) {
        myData.spinningTimer = [];
    }
    myData.spinningTimer.push(setInterval(function () {
        try {
            shapeComp.controls.spin([1, 0, 0], 30)
        } catch (e) {
            //pass. it dissapeared ungracefully!
        }

    }, 100));
    //spikyball made and added.
};

NGL.specialOps.hardReset = function () {  //when the page is faux-refreshed.
    Object.entries(NGL.stageIds).forEach(([k, v]) => $('#' + k).children().detach());
    window.myData = undefined;
    NGL.stageIds = {};
    window.stage = undefined;
    if (NGL.Debug) {
        console.log('HARD RESET.');
    }
};

NGL.specialOps.removeImg = function (id) {
    id = id || myData.ids[0];
    var img = '#' + id + ' img';
    if (!!$(img).length) { //there is an image. Remove and get the sizes
        var w = $(img).width();
        var h = $(img).height();
        $(img).detach();
        $('#' + id).css('width', w).css('height', h);
    }
};

NGL.specialOps._run_loadFx = function (protein, fx) {
    if (typeof fx === 'function') {
        fx(protein)
    } else if (typeof fx === 'string') {
        var fxname = fx.replace(/\W/g, '');
        if (window[fxname] !== undefined) {
            setTimeout(() => window[fxname](protein), 100)
        } else {
            setTimeout(() => NGL.specialOps._run_loadFx(protein, fxname), 500)
        } //ansync issue.
    } //prevent XSS
    else {
        //blank? chainbow.
        protein.addRepresentation("cartoon", {smoothSheet: true});
        protein.autoView();
    }
    return protein;
};

NGL.specialOps.load = function (option, noLoadFun, id) {

    //id is last due to legacy issues with pages with custom code!
    // super extreme case. No multiLoad has been called to initialise the scene. This a last ditch attempt.
    NGL.specialOps.postInitialise();
    // determine what option is.
    id = id || myData.ids[0];
    delete window.myData.partner;
    if (myData.currentIndices[id] !== undefined) {
        myData.currentIndex = myData.currentIndices[id];
    }
    var index;
    if (typeof option === "undefined") {
        index = myData.currentIndex;
    } //use is lazy.
    else if (typeof option === "number") {
        index = option;
    } //user gave index.
    else if (typeof option === 'object') { //user gave a protein object
        myData.proteins.push(object);
        index = myData.proteins.length - 1;
    } else if ((typeof option === "string") && (myData.proteins.some(v => v.name === option))) {
        index = myData.proteins.map(v => v.name).indexOf(option);
    } else if ((typeof option === "string") && (myData.proteins.some(v => v.value === option))) {
        index = myData.proteins.map(v => v.value).indexOf(option);
    } else if ((typeof option === "string") && (option.length === 4)) { // user gave pdb code that is new.
        myData.proteins.push({type: 'rcsb', value: option.slice(0, 4)}); //no chains please.
        index = myData.proteins.length - 1;
    } else if ((!isNaN(parseInt(option))) && (parseInt(option) < myData.proteins.length)) { //user gave a number as a string.
        index = parseInt(option);
    } else {
        throw `No idea what this "${option}" user-submitted option is for Michelanglo.js.`
    }
    // check if the one asked for is loaded.
    if ((index === myData.currentIndex)) {
        let proteins = NGL.getStage(id).getComponentsByType('structure');
        //if (typeof myData.proteins[index].loadFx === 'function') {myData.proteins[index].loadFx(protein)};
        return Promise.all(proteins.map(protein => new Promise(function (resolve, reject) {
            resolve(protein)
        })));
    } else {
        myData.currentIndex = index;
        myData.currentIndices[id] = index;
        myData.currentChain = myData.proteins[index].chain
    }
    // deal with image.
    if ($('#' + id + ' img')) {
        NGL.specialOps.removeImg(id);
    }
    // toggle structure
    // - check if there is a stage.
    if (!NGL.stageIds[id]) {
        NGL.stageIds[id] = new NGL.Stage(id, {backgroundColor: myData.backgroundColors[id]});
        window.addEventListener("resize", function (event) {
            NGL.getStage(id).handleResize();
        }, false);
    } else { //tabula rasa!
        NGL.getStage(id).removeAllComponents();
    }
    //new model. Force reset
    if (myData.proteins[index].type === 'url') {
        return NGL.getStage(id).loadFile(myData.proteins[index].value, {'firstModelOnly': true}).then(function (protein) {
            if (noLoadFun === false || noLoadFun === undefined) {
                NGL.specialOps._run_loadFx(protein, myData.proteins[index].loadFx);
            }
        });
    } else if (myData.proteins[index].type === 'data') {
        var ext = myData.proteins[index].ext || 'pdb';
        if (!!myData.proteins[index].isVariable) {
            let varname = myData.proteins[index].value.replace(/\W/g, '');
            if (window[varname] !== undefined) {
                return NGL.getStage(id).loadFile(new Blob([window[varname], {type: 'text/plain'}]), {
                    ext: ext,
                    firstModelOnly: true
                })
                    .then(function (protein) {
                        if (noLoadFun === false || noLoadFun === undefined) {
                            NGL.specialOps._run_loadFx(protein, myData.proteins[index].loadFx);
                        }
                    });
            } else { //async issue.
                setTimeout(() => NGL.specialOps.load(option, noLoadFun, id), 300);
            }
        } else if (typeof myData.proteins[index].value === 'string') {
            return NGL.getStage(id).loadFile(new Blob([myData.proteins[index].value, {type: 'text/plain'}]), {
                ext: ext,
                firstModelOnly: true
            }).then(function (protein) {
                if (noLoadFun === false || noLoadFun === undefined) {
                    NGL.specialOps._run_loadFx(protein, myData.proteins[index].loadFx);
                }
            });
        } else { //is a blob already
            return NGL.getStage(id).loadFile(myData.proteins[index].value, {
                ext: ext,
                firstModelOnly: true
            }).then(function (protein) {
                if (noLoadFun === false || noLoadFun === undefined) {
                    NGL.specialOps._run_loadFx(protein, myData.proteins[index].loadFx);
                }
            });
        }
    } else if (myData.proteins[index].type === 'none') {
        myData.currentIndices[id] = -1;
        myData.currentIndex = -1;  //pass. Super odd backdoor. Why is it needed? Let's keep it secret in case I think, but it's too weird.
    } else if (myData.proteins[index].value.replace('rcsb://', '').trim().length === 4) { //PDB code.
        return NGL.getStage(id).loadFile('rcsb://' + myData.proteins[index].value.replace('rcsb://', '').toLowerCase().slice(0, 4), {firstModelOnly: true}).then(function (protein) {
            if (noLoadFun === false || noLoadFun === undefined) {
                NGL.specialOps._run_loadFx(protein, myData.proteins[index].loadFx);
            }
        });
    } else {
        throw 'No idea what this is.';
    }
};

NGL.specialOps.showTitle = function (id, title) {
    // shows a temporary title, which is actually a label element with a for attribute pointing to the viewport id.
    // Consequently if one wanted to override it's location one could add <code>&lt;label for="viewport">&lt;/label></code> where desired.
    if (title) {
        var titleEl = 'label[for="' + id + '"]';
        if (!$(titleEl).length) {
            $('#' + id).after('<label for="' + id + '" style="text-align: center; display: block;">TITLE</label>');
        }
        $(titleEl).html(title).fadeIn(1000).fadeOut(1000);
    }

};

NGL.specialOps.multiLoader = function (id, proteins, backgroundColor, startIndex) {
    /*
    Note that the multiloader does not support multiple viewports.
    id is the id.
    proteins is a list of {name: 'unique_name', type: 'rcsb' (default) | 'file' | 'data', value: xxx, 'ext': 'pdb' , loadFx: xxx}
    where loadFx is the function to run after loading.
    background is a color (def white).
    The multiLoader calls the load function with an index of startIndex or zero.
    Do note that the function load returns a pr
     */
    console.log('starting multiloader');
    startIndex = startIndex || 0;
    if (NGL.Debug) {
        console.log('starting multiloader');
        console.log(proteins);
    }
    // prevent body scrolling
    NGL.specialOps._preventScroll(id);
    // check for awkard case it has already been started.
    if (typeof window.myData === 'object') {
        window.myData.proteins.push(...proteins);
        if (window.myData.ids.indexOf(id) === -1) {window.myData.ids.push(id);}
        window.myData.currentIndices[id] = window.myData.currentIndices[id] || -1;
        window.myData.backgroundColors[id] = window.myData.backgroundColors[id] || backgroundColor || 'white';
    } else {
        window.myData = {
            currentIndex: -1,
            currentIndices: {},
            proteins: proteins,
            id: id,
            ids: [id],
            backgroundColor: 'white',
            backgroundColors: {},
            clicks: {}
        };
        window.myData.currentIndices[id] = -1;
        window.myData.backgroundColors[id] = backgroundColor || 'white';
        window.myData.clicks[id] = {residues: new Set(), representation: undefined};
    }
    var img = $('#' + id + ' img');
    if (img.length) {
        img.css('cursor', 'pointer');
        NGL.specialOps.showTitle(id, 'Click to interact with the protein structure.');
        $('#viewport_menu_popover').click(() => NGL.specialOps.load(startIndex, false, id));
        $('#' + id).prepend(`<div style="position:absolute; bottom:2rem; left:2rem; z-index:1001" id="img_label"><i class="far fa-mouse-pointer"></i> Click to intereact</div>`);
        img.click(() => {
            NGL.specialOps.load(startIndex, false, id);
            $('#img_label').detach();
        });
    } else {
        return NGL.specialOps.load(startIndex, false, id);
    }
};


NGL.specialOps.postInitialise = function (defaultId) {
    //this should not be used routinely!
    if (typeof window.myData === "undefined") {
        console.log('WARNING. initilise the scene with NGL.specialOps.multiLoader!');
        defaultId = defaultId || 'viewport';
        window.myData = {
            currentIndex: -1,
            currentIndices: {},
            proteins: [],
            id: defaultId,
            ids: [defaultId],
            backgroundColor: 'white',
            backgroundColors: {},
            clicks: {}
        };

        window.myData.currentIndices[defaultId] = -1;
        window.myData.backgroundColors[defaultId] = 'white';
        window.myData.clicks[defaultId] = {residues: new Set(), representation: undefined};
        NGL.specialOps._preventScroll(defaultId);
    }
};

NGL.specialOps._preventScroll = function (id) {
    $('#' + id).on('mousewheel DOMMouseScroll', function (e) {
        var e0 = e.originalEvent,
            delta = e0.wheelDelta || -e0.detail;
        this.scrollTop += (delta < 0 ? 1 : -1) * 30;
        e.preventDefault();
    });
    // fix weid overflow.
    // something somewhere is adding an overflow hidden??
    setTimeout(() => $('#' + id).css('overflow', 'visible'), 1000)
};

// make a scheme based on a color for carbons. colorValue equivalent!
NGL.specialOps.schemeMaker = CarbonColor => NGL.ColormakerRegistry.addScheme(function (params) {
    this.atomColor = function (atom) {
        // colorValue does not work with all modes.
        let ColorMap = {'N': 0x3333ff, 'C': CarbonColor, 'O': 0xff4c4c, 'S': 0xe5c53f, 'P': 0xff7f00};
        if (atom.element in ColorMap) {
            return +ColorMap[atom.element]
        } else {
            return 0xdcdcdc
        } //gainsboro
    };
});

///////////////////////////// NGL.Stage monkeypatching ///////////////

// NGL.Stage.prototype.getComponentByType = function(type) {
//     //gets first structure
//     type = type || 'structure';
//     for (var component in this.compList) {
//         if (this.compList[component].type === type) {return this.compList[component]}
//     }
//     return undefined;
// };

NGL.Stage.prototype.getComponentByType = function (type) {
    // gets first component. If there is none of that type? ouch.
    const components = this.getComponentsByType(type);
    if (components.leght === 0) throw `There is nothing of type ${type}`;
    return components[0];
};


NGL.Stage.prototype.getComponentsByType = function (type) {
    //gets all structure
    type = type || 'structure';
    return this.compList.filter(component => component.type === type);
};

NGL.Stage.prototype.removeComponentsbyName = function (name) {
    // forEach on a shrinking list problem.
    var comps = this.getComponentsByName(name).list;
    var maxi = comps.length;
    for (var i = maxi; i >= 0; i--) {
        this.removeComponent(comps[i]);
    }
};

NGL.Stage.prototype.removeClashes = function () {
    // clashes are special as they have timers.
    if (!myData.spinningTimer) {
        return null;
    }
    this.removeComponentsbyName('clash');
    myData.spinningTimer.forEach(t => clearInterval(t));
    myData.spinningTimer = [];
};

///////////////////////////// activate data-toggle='protein' ///////////////
NGL.specialOps._prolink_focuser = function (prolink, id, focus, structure, selection, color, radius, view, label, cartoonScheme, tolerance, keepPrevious) {
    if (focus === 'residue') {
        NGL.specialOps.showResidue(id, selection, color, radius, view, label, cartoonScheme, keepPrevious);
    } else if (focus === 'domain' || focus === 'region' || focus === undefined) {
        NGL.specialOps.showDomain(id, selection, color, view, keepPrevious);
    } else if (focus === 'clash') {
        NGL.specialOps.showClash(id, selection, color, radius, tolerance, view, label, cartoonScheme, keepPrevious);
    } else if (focus === 'surface') {
        NGL.specialOps.showSurface(id, selection, view, keepPrevious);
    } else if ((focus === 'blur') || (focus === 'bfactor')) {
        if (selection === '*') {
            selection = undefined
        } // hack to fix the fact that the editor sets * to default.
        NGL.specialOps.showBlur(id, selection, color, radius, view, undefined, label, keepPrevious);
    } else if ((focus.includes('domain-overlay'))) {
        let partner = focus.match(/domain-overlay.*?([\w\_]+)/)[1]
        NGL.specialOps.showDomainOverlay(id, partner, selection, color, view, label, keepPrevious);
    } else if ((focus.includes('overlay'))) {
        let partner = focus.match(/overlay.*?([\w\_]+)/)[1]
        NGL.specialOps.showOverlay(id, partner, selection, color, radius, view, label, keepPrevious);
    } else if (structure !== undefined) { //structure is a string/number argument (e.g. '1UBQ', 1, 'myProteinName')
        console.log('Please add view-reset if you are changing structure as its too ambiguous otherwise.');
    } else if (focus === 'orientation') {
        NGL.specialOps.slowOrient(id, view, selection);
    } else {
        throw `ValueError: odd data-focus tag ${focus}`;
    }
}


NGL.specialOps.prolink = function (prolink) { //prolink is a JQuery object.
    //parse
    var selection = $(prolink).data('selection'); //mandatory or nearly
    if (typeof selection === 'number') {
        selection = selection.toString()
    }
    // path for multiselection.
    let i = 1;
    let altSele = [];
    while ($(prolink).data('selection-alt' + i) !== undefined) {
        let f = $(prolink).data('focus-alt' + i) || 'residue'; //residue is the only focus mode that will work as intended...
        let c = $(prolink).data('color-alt' + i) || NGL.specialOps.colorDefaults[f];
        altSele.push([f, $(prolink).data('selection-alt' + i), c]);
        i++;
    }
    //
    var color = $(prolink).data('color'); //optional settings in methods
    var radius = $(prolink).data('radius');
    var tolerance = $(prolink).data('tolerance');
    var structure = $(prolink).data('load');
    var view = $(prolink).data('view');
    var id = 'viewport'; //myData may be undefined.
    if ($(prolink).data('target')) {
        id = $(prolink).data('target').replace('#', '')
    } else if (!!$(prolink).attr('href') && !!$(prolink).attr('href').replace('#', '')) { // # alone is not enough
        id = $(prolink).attr('href');
    }
    var title = $(prolink).data('title');
    var focus = $(prolink).data('focus'); // residue | domain | clash
    var hetero = $(prolink).data('hetero') || false;
    var label = $(prolink).data('label');
    if (label === undefined) {
        label = true
    }
    var cartoonScheme = $(prolink).data('cartoonscheme');

    // title.
    NGL.specialOps.showTitle(id, title);

    // prep the action
    function move() {
        let stage = NGL.getStage(id);
        if (view === 'auto') { //special view case.
            stage.getComponentsByType('structure').map(protein => protein.addRepresentation("cartoon", {smoothSheet: true}));
            stage.autoView(2000);
        } else if ((view === 'reset') || (view === 'default')) { //special view case.
            // FLAG REFACTOR
            NGL.specialOps._run_loadFx(stage.getComponentByType('structure'), myData.proteins[myData.currentIndices[id]].loadFx);
        } else if ((!!view) && (typeof view === "string") && (view.match(/^\w+$/) !== null)) { //not auto but different custom fx.
            if (typeof window[view] === 'function') {
                // FLAG REFACTOR
                window[view](stage.getComponentByType('structure'));
            }
        } else if ((!!view) && (!selection)) {  //view, no selection.
            NGL.specialOps.slowOrient(id, view);
        } else {
            NGL.specialOps._prolink_focuser(prolink, id, focus, structure, selection, color, radius, view, label, cartoonScheme, tolerance, false);
            altSele.forEach(([focusAlt, seleAlt, colorAlt]) =>
                NGL.specialOps._prolink_focuser(prolink, id, focusAlt, structure, seleAlt, colorAlt, radius, false, label, cartoonScheme, tolerance, true));
        }

        // hetero flag is a hack.
        if (!!hetero) {
            stage.getComponentsByType('structure').map(protein => protein.addRepresentation("licorice", {
                colorScheme: "element",
                multipleBond: "symmetric",
                sele: "hetero"
            }))
        }
    }

    // action!
    if (structure !== undefined) { //structure is a string/number argument (e.g. '1UBQ', 1, 'myProteinName')
        NGL.specialOps.load(structure, true, id).then(move);
    } else {
        move();
    }
};

$.prototype.protein = function () {
    $(this).click(function () {
        NGL.specialOps.prolink(this);
    });
};

$.prototype.viewport = function () {
    if (!$(this).length) {
        return undefined
    }
    // fix width:100%; height: 0; padding-bottom: 100%;
    if (NGL.Debug) {
        console.log('old viewport sizes:' + $(this).width() + 'x' + $(this).height());
    }
    if ($(this).has('img').length === 0) {
        if ($(this).width() === 0) {
            $(this).css('width', '100%');
        }
        if ($(this).height() === 0) {
            let h = Math.min($(this).width(), window.innerHeight - $(this).offset().top - 10);
            h = Math.max(h, 300);
            $(this).height(h);
            //$(this).css('padding-bottom','100%');
            if (NGL.Debug) {
                console.log('new viewport sizes:' + $(this).width() + 'x' + $(this).height());
            }
        }
    }
    // set bare minima.
    if ($(this).height() < 400) {
        $(this).height(400)
    }
    if ($(this).width() < 300) {
        $(this).width(300)
    }
    // sort attributes
    if (!$(this).attr('id')) {
        $(this).attr('id', 'NGLViewport')
    }
    var backgroundcolor = $(this).data('backgroundcolor') || 'white';
    var data = $(this).data('proteins');
    if (typeof data == "object") {/*pass*/
    } else if (data === 'ERROR') {
        throw 'The data-protein is attribute is literally ERROR'
    } else if (typeof data == "string") {
        console.log(data);
        data = JSON.parse(data);
    } else if ($(this).data('load')) {
        data = $(this).data('load').split(',').map(v => ({name: v, value: v, type: 'rcsb'}));
    } else {
        data = [];
    }
    const id = $(this).attr('id');
    var promise = NGL.specialOps.multiLoader(id, data, backgroundcolor);
    promise.then(() => NGL.specialOps.enableClickToShow(id));
    if ($(this).data('focus') || $(this).data('view')) {
        if ($(this).has('img').length !== 0) {
            $(this).children('img').on("click", e => setTimeout(() => NGL.specialOps.prolink(this), 500));
            //could this be done with a promise?
        } else {
            var prolink = this;
            promise.then(function () {
                    NGL.specialOps.prolink(prolink);
                }
            )
        }
    }
};


$(document).ready(function () { //
    //activate prolinks
    $('[data-toggle="protein"]:not([role="NGL"])').protein();
    //activate viewport
    $('[role="NGL"],[role="proteinViewport"],[role="proteinviewport"],[role="protein_viewport"]').viewport();
});</script>
        <script type="text/javascript">window.add_menu = () => {
    // a tweak to deal with the header in cards. I am not sure what causes it. abs/rel postion and flex.
const topness = ($('#viewport').parent().parent().children('.card-header').length) ? $('.card-body #viewport').position().top + 30 : '2rem';

$('#viewport').prepend(`<button type="button"
    class="btn btn-outline-secondary rounded-circle bg-white"
    style="position:absolute; top:${topness}; right:2rem; z-index:1001"
    id="viewport_menu_popover"
    >
    <b>&nbsp;<i class="far fa-ellipsis-v"></i>&nbsp;
    </b>
</button>`);

let popbody = `
<div class="container">
<div class="row">
<div class="col-xl-6">
<div class="input-group mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="viewport_menu_selector_add">Focus on residue</span>
  </div>
  <input id="viewport_menu_selector_resi" type="number" class="form-control" placeholder="residue number" aria-label="residue" aria-describedby="viewport_menu_selector_add">
  <input id="viewport_menu_selector_chain" type="text" class="form-control" placeholder="chain" aria-label="chain" aria-describedby="viewport_menu_selector_add">
  <div class="input-group-append">
    <button class="btn btn-outline-secondary" type="button" id="viewport_menu_selector_go" data-toggle="tooltip" title="Go to residue"><i class="far fa-bullseye-arrow"></i></button>
  </div>
</div>
</div>
<div class="col-xl-6">
<div class="input-group mb-3">
  <div class="input-group-prepend">
  <span class="input-group-text" id="viewport_menu_ngl_add">NGL selection</span>
  </div>
  <input id="viewport_menu_ngl" type="text" class="form-control" placeholder="residueNumber:chainLetter.atomName" aria-label="NGL selection" aria-describedby="viewport_menu_ngl_add">
  <div class="input-group-append">
    <button class="btn btn-outline-secondary" type="button" id="viewport_menu_ngl_go" data-toggle="tooltip" title="Go to selection"><i class="far fa-bullseye-arrow"></i></button>
  </div>
</div>
</div>
<div class="col-lg-6 col-xl-4">
<div class="input-group mb-3">
<div class="input-group-prepend">
    <span class="input-group-text" id="viewport_menu_clipNear_add">Clip<sub>Near</sub></span>
</div>
<div class="border rounded-right px-3 py-1">
    <input type="range" min="0" max="100" value="0" step="5" class="custom-range" id="viewport_menu_clipNear" aria-label="ClipNear" aria-describedby="viewport_menu_clipNear_add">
</div>
</div>
</div>
<div class="col-lg-6 col-xl-4">
<div class="input-group mb-3">
    <div class="input-group-prepend">
        <span class="input-group-text" id="viewport_menu_clipFar_add">Clip<sub>Far</sub></span>
    </div>
    <div class="border rounded-right px-3 py-1">
        <input type="range" min="0" max="100" value="0" step="5" class="custom-range" id="viewport_menu_clipFar" aria-label="ClipFar" aria-describedby="viewport_menu_clipFar_add">
    </div>
</div>
</div>
<div class="col-lg-6 col-xl-4">

<div class="input-group mb-3">
    <div class="input-group-prepend">
        <span class="input-group-text" id="viewport_menu_clipDist_add">Clip<sub>Distance</sub></span>
    </div>
    <div class="border rounded-right px-3 py-1">
        <input type="range" min="0" max="10" value="0" step="1" class="custom-range" id="viewport_menu_clipDist" aria-label="ClipDist" aria-describedby="viewport_menu_clipDist_add">
    </div>
</div>
</div>
<div class="col-lg-6 col-xl-4">
<div class="input-group mb-3">
<div class="input-group-prepend">
    <span class="input-group-text" id="viewport_menu_fogNear_add">Fog<sub>Near</sub></span>
</div>
<div class="border rounded-right px-3 py-1">
    <input type="range" min="0" max="100" value="25" step="5" class="custom-range" id="viewport_menu_fogNear" aria-label="fogNear" aria-describedby="viewport_menu_fogNear_add">
</div>
</div>
</div>
<div class="col-lg-6 col-xl-4">
<div class="input-group mb-3">
<div class="input-group-prepend">
    <span class="input-group-text" id="viewport_menu_fogFar_add">Fog<sub>Far</sub></span>
</div>
<div class="border rounded-right px-3 py-1">
    <input type="range" min="0" max="100" value="50" step="5" class="custom-range" id="viewport_menu_fogFar" aria-label="fogFar" aria-describedby="viewport_menu_fogFar_add">
</div>
</div></div>
<div class="col-lg-6 col-xl-4"><button type="button" class="btn btn-outline-info" data-toggle="modal" data-target="#controlguide_modal">Show Mouse Controls</div>
<div class="col-lg-6 col-xl-4"></div>
</div>
</div>
`;

$('#viewport_menu_popover')
    .popover({html: true,
            trigger: "manual",
            title: "Options",
            html: true,
            content: "<div id='popbody'>"+popbody+"</div>"})
    .click(function(){
       if(! window.viewPopIsOpen ||  window.viewPopIsOpen === undefined) { //it is not open
           $(this).popover('show');
            window.viewPopIsOpen=true;}
       else {
           $(this).popover('hide');
           window.viewPopIsOpen=false;
       }
    }).on('shown.bs.popover',function() {
        $('#popbody').html(popbody); //this seems insane but the HTML gets buggered in Moz otherwise and the position is all wtrong.
        $('.popover-header:contains("Options")').append(`<button type="button" class="close" onclick="$('#viewport_menu_popover').popover('hide');" aria-label="Close"><span aria-hidden="true">&times;</span></button>`);
        $('#popbody [data-toggle="tooltip"]').tooltip();
        $('#viewport_menu_selector_go').click((e) => {
                NGL.specialOps.showResidue('viewport', $('#viewport_menu_selector_resi').val() + ':' + $('#viewport_menu_selector_chain').val());
                $('#viewport_menu_popover').popover('hide');
            }
        );
        $('#viewport_menu_ngl_go').click((e) => {
            NGL.specialOps.showResidue('viewport',$('#viewport_menu_ngl').val());
            $('#viewport_menu_popover').popover('hide');
        }
        );

        $('#viewport_menu_clipNear').change((e) => NGL.getStage().setParameters({'clipNear': parseInt($('#viewport_menu_clipNear').val())}));
        $('#viewport_menu_clipFar').change((e) => NGL.getStage().setParameters({'clipFar': parseInt($('#viewport_menu_clipFar').val())}));
        $('#viewport_menu_clipDist').change((e) => NGL.getStage().setParameters({'clipDist': parseInt($('#viewport_menu_clipDist').val())}));
        $('#viewport_menu_fogNear').change((e) => NGL.getStage().setParameters({'fogNear': parseInt($('#viewport_menu_fogNear').val())}));
        $('#viewport_menu_fogFar').change((e) => NGL.getStage().setParameters({'fogFar': parseInt($('#viewport_menu_fogFar').val())}));
        //$('.popover [type="range"]').on('mousedown', (e) => {$('.transparentable').hide(500); if (window.menu_timeout) {clearTimeout(menu_tineout)}})
         //                       .on('mouseup', (e) => setTimeout((e) => window.menu_timeout = $('.transparentable').show(1000), 3000));
        //worked with ... class='transparentable' style="transition: opacity 0.5s; -webkit-transition: opacity 0.5s;"
    });

// modal to show extra buttons
$('body').append(`
<div class="modal" tabindex="-1" role="dialog" id="controlguide_modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4>Controls</h4>
            <p>The mouse and keyboard mappings are the standard NGL ones.</p>
            <table class="table table-striped">
            <tr><th>Key</th><th>Effect</th></tr>
            <tr><td class="text-monospace">Scroll</td><td>zoom scene</td></tr>
            <tr><td class="text-monospace">scroll-ctrl</td><td>move near clipping plane</td></tr>
            <tr><td class="text-monospace">scroll-shift</td><td>move near clipping plane and far fog</td></tr>
            <tr><td class="text-monospace">scroll-alt</td><td>change isolevel of isosurfaces</td></tr>
            <tr><td class="text-monospace">drag-right</td><td>pan/translate scene</td></tr>
            <tr><td class="text-monospace">drag-middle</td><td>zoom scene</td></tr>
            <tr><td class="text-monospace">drag-left</td><td>rotate scene</td></tr>
            <tr><td class="text-monospace">drag-shift-right</td><td>zoom scene</td></tr>
            <tr><td class="text-monospace">drag-left+right</td><td>zoom scene</td></tr>
            <tr><td class="text-monospace">drag-ctrl-right</td><td>pan/translate hovered component</td></tr>
            <tr><td class="text-monospace">drag-ctrl-left</td><td>rotate hovered component</td></tr>
            <tr><td class="text-monospace">clickPick-middle</td><td>auto view picked component element</td></tr>
            <tr><td class="text-monospace">hoverPick</td><td>show tooltip for hovered component element</td></tr>
            <tr><td class="text-monospace">i</td><td>toggle stage spinning</td></tr>
            <tr><td class="text-monospace">k</td><td>toggle stage rocking</td></tr>
            <tr><td class="text-monospace">p</td><td>pause all stage animations</td></tr>
            <tr><td class="text-monospace">r</td><td>reset stage auto view</td></tr>
            </table>
      </div>
    </div>
  </div>
</div>
`);
setTimeout(()=> $('#controlguide_modal').on('show.bs.modal',(event) => $('#viewport_menu_popover').popover('hide')), 1000);
//cannae be bothered doing this properly, but the problem is that this should go only when the modal is added to the body.
};

// will need rerunning if element is added later! No listener.
add_menu();</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/3.0.0-beta.3/js/bootstrap-colorpicker.min.js"></script>
<script type="text/javascript">
    //

window.ops={timer: null, i: 0, debug: false};

ops.addToast = function (id, title, body, bg, autohide, delay, subtitle) {
    /* adds a toast to the toaster! */
        id = id || 'T'+Date.now();
        autohide = autohide || true;
        delay=delay || 5000;
        subtitle = subtitle || '';
        bg = bg || 'bg-info';
        $('#'+id).detach(); //duplicate id!
        $('#toaster').append(`<div class="toast ml-auto w-100 ${bg}" 
                                    style="z-index:9000; pointer-events: auto"
                                    role="alert" aria-live="assertive" aria-atomic="true"
                                    id="${id}" data-delay=${delay} data-autohide="${autohide}">
                                  <div class="toast-header">
                                    <strong class="mr-auto">${title}</strong>
                                    <small>${subtitle}</small>
                                    <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="toast-body">
                                    ${body}
                                  </div>
                                </div>`);
    $('#'+id).toast('show');
    };

ops.addErrorToast = (xhr) => {if (!! xhr.responseJSON) {
                                            ops.addToast('userpageerror','Error '+xhr.status,'The request could not be completed because '+xhr.responseJSON.status, 'bg-danger');
                                                }
                              else if (!! xhr.responseText) {
                                            if (ops.debug) {
                                                ops.addToast('userpageerror', 'Error ' + xhr.status, 'An unknown error occured serverside and the admin has been notified.' + xhr.responseText, 'bg-danger');
                                            }
                                            else {
                                                ops.addToast('userpageerror', 'Error ' + xhr.status, 'An unknown error occured serverside and the admin has been notified.', 'bg-danger');
                                            }
                                        }
                              else {
                                            ops.addToast('userpageerror','Error '+xhr.status,'An unknown error occured.', 'bg-danger');
                                     }
                             };

ops.halt = function () {
    clearTimeout(ops.timer);
    $('#analyse').removeAttr('disabled');
    setTimeout(ops.halt,100);
};

ops.reset_warnings = function () {
    $('.invalid-feedback,valid-feedback').hide();
    $('.is-invalid').removeClass('is-invalid');
    $('.is-valid').removeClass('is-valid');
};

ops.statusCheck = function (data) {
        if (ops.timer === false) { ops.halt();}
        if (ops.timer === null) {ops.timer=setTimeout(function() {ops.statusCheck(data);}, 1000);}
      ops.i++; // user for unique ids
      var i=ops.i;
      $.ajax({
        type: "POST",
        url: "task_check",
        processData: false,
        cache: false,
        contentType: false,
        data:  data
    })  .done(function (msg) {
        ops.addToast(undefined, msg.title,msg.body, msg.color);
        if (msg.codition !== 'running') {ops.halt(); return 0}
        else {ops.timer = setTimeout(()=> ops.statusCheck(data),1000); return 1}
      })
        .fail(function () {
            ops.addToast('error_step'+i,'Error','<i class="far fa-bug"></i> An issue arose. Please review and try again','bg-danger');
            ops.halt();
            return 0;
        });
};
//
</script>
    
<script type="text/javascript">
var mike_combined = `REMARK 666 Note that the indent is important, as is the secondary structure def
HELIX    1   1 GLN A   14  THR A   20  1                                   6
HELIX    2   2 ASN A   27  CYS A   61  1                                  34
HELIX    3   3 ASP A   71  ALA A   99  1                                  28
HELIX    4   4 ASP B   14  SER B   16  1                                   2
HELIX    5   5 ILE B   20  ASN B   28  1                                   8
HELIX    6   6 GLN B   31  CYS B   48  1                                  17
HELIX    7   7 SER B   59  LEU B   83  1                                  24
HELIX    8   8 PRO C   12  GLN C   15  1                                   3
HELIX    9   9 ALA C   30  LYS C   60  1                                  30
HELIX   10  10 ASP C   71  ILE C   96  1                                  25
HELIX   11  11 LYS D   18  CYS D   48  1                                  30
HELIX   12  12 SER D   59  ASN D   85  1                                  26
HELIX   13  13 LYS E   31  CYS E   61  1                                  30
HELIX   14  14 ASP E   71  GLN E   97  1                                  26
HELIX   15  15 LEU F    4  THR F    6  1                                   2
HELIX   16  16 ALA F   21  LEU F   24  1                                   3
HELIX   17  17 GLU F   27  CYS F   48  1                                  21
HELIX   18  18 SER F   59  GLN F   84  1                                  25
HELIX   19  19 GLY G  116  ASN G  123  1                                   7
HELIX   20  20 LYS G  131  LYS G  143  1                                  12
HELIX   21  21 SER G  158  ILE G  162  1                                   4
HELIX   22  22 ASP G  167  LEU G  169  1                                   2
HELIX   23  23 ALA G  183  GLY G  186  1                                   3
HELIX   24  24 SER G  201  LEU G  220  1                                  19
ATOM      1  N   GLY A   1      84.400  43.700  26.400  1.00  0.00           N  
ATOM      2  CA  GLY A   1      84.600  44.600  25.300  1.00  0.00           C  
ATOM      3  C   GLY A   1      84.000  46.000  25.500  1.00  0.00           C  
ATOM      4  O   GLY A   1      83.800  46.400  26.600  1.00  0.00           O  
ATOM      5  N   GLY A   2      83.500  46.800  24.500  1.00  0.00           N  
ATOM      6  CA  GLY A   2      82.700  47.900  24.700  1.00  0.00           C  
ATOM      7  C   GLY A   2      81.400  47.700  25.300  1.00  0.00           C  
ATOM      8  O   GLY A   2      80.800  46.700  25.100  1.00  0.00           O  
ATOM      9  N   LEU A   3      80.800  48.700  25.900  1.00  0.00           N  
ATOM     10  CA  LEU A   3      79.500  48.500  26.700  1.00  0.00           C  
ATOM     11  CB  LEU A   3      79.400  49.500  27.800  1.00  0.00           C  
ATOM     12  CG  LEU A   3      80.200  49.200  29.000  1.00  0.00           C  
ATOM     13  CD1 LEU A   3      80.700  50.300  29.900  1.00  0.00           C  
ATOM     14  CD2 LEU A   3      79.500  48.000  29.900  1.00  0.00           C  
ATOM     15  C   LEU A   3      78.300  48.600  25.700  1.00  0.00           C  
ATOM     16  O   LEU A   3      78.500  48.900  24.500  1.00  0.00           O  
ATOM     17  N   SER A   4      77.200  48.200  26.200  1.00  0.00           N  
ATOM     18  CA  SER A   4      75.900  48.600  25.600  1.00  0.00           C  
ATOM     19  CB  SER A   4      74.900  47.500  25.700  1.00  0.00           C  
ATOM     20  OG  SER A   4      74.600  47.000  27.000  1.00  0.00           O  
ATOM     21  C   SER A   4      75.300  49.800  26.300  1.00  0.00           C  
ATOM     22  O   SER A   4      75.400  49.900  27.600  1.00  0.00           O  
ATOM     23  N   SER A   5      74.900  50.800  25.500  1.00  0.00           N  
ATOM     24  CA  SER A   5      74.500  52.100  26.000  1.00  0.00           C  
ATOM     25  CB  SER A   5      74.400  52.900  24.800  1.00  0.00           C  
ATOM     26  OG  SER A   5      74.100  54.200  25.200  1.00  0.00           O  
ATOM     27  C   SER A   5      73.400  52.200  26.900  1.00  0.00           C  
ATOM     28  O   SER A   5      72.500  51.300  27.100  1.00  0.00           O  
ATOM     29  N   ILE A   6      73.300  53.300  27.700  1.00  0.00           N  
ATOM     30  CA  ILE A   6      72.100  53.600  28.500  1.00  0.00           C  
ATOM     31  CB  ILE A   6      72.700  54.700  29.600  1.00  0.00           C  
ATOM     32  CG2 ILE A   6      73.500  54.000  30.700  1.00  0.00           C  
ATOM     33  CG1 ILE A   6      73.400  55.800  29.000  1.00  0.00           C  
ATOM     34  CD  ILE A   6      73.600  57.000  30.100  1.00  0.00           C  
ATOM     35  C   ILE A   6      70.900  54.100  27.700  1.00  0.00           C  
ATOM     36  O   ILE A   6      69.900  54.200  28.200  1.00  0.00           O  
ATOM     37  N   PHE A   7      71.200  54.500  26.400  1.00  0.00           N  
ATOM     38  CA  PHE A   7      70.200  54.900  25.500  1.00  0.00           C  
ATOM     39  CB  PHE A   7      70.200  56.400  25.300  1.00  0.00           C  
ATOM     40  CG  PHE A   7      70.200  57.300  26.500  1.00  0.00           C  
ATOM     41  CD1 PHE A   7      69.000  57.200  27.300  1.00  0.00           C  
ATOM     42  CE1 PHE A   7      69.200  57.900  28.500  1.00  0.00           C  
ATOM     43  CZ  PHE A   7      70.000  58.900  28.700  1.00  0.00           C  
ATOM     44  CE2 PHE A   7      71.300  58.900  27.900  1.00  0.00           C  
ATOM     45  CD2 PHE A   7      71.300  58.100  26.800  1.00  0.00           C  
ATOM     46  C   PHE A   7      70.300  54.100  24.100  1.00  0.00           C  
ATOM     47  O   PHE A   7      71.300  53.700  23.600  1.00  0.00           O  
ATOM     48  N   GLY A   8      69.100  53.900  23.400  1.00  0.00           N  
ATOM     49  CA  GLY A   8      68.900  52.900  22.400  1.00  0.00           C  
ATOM     50  C   GLY A   8      68.800  51.400  22.800  1.00  0.00           C  
ATOM     51  O   GLY A   8      68.700  51.100  24.000  1.00  0.00           O  
ATOM     52  N   GLY A   9      68.700  50.600  21.700  1.00  0.00           N  
ATOM     53  CA  GLY A   9      68.000  49.400  21.900  1.00  0.00           C  
ATOM     54  C   GLY A   9      66.500  49.500  22.000  1.00  0.00           C  
ATOM     55  O   GLY A   9      65.800  50.200  21.300  1.00  0.00           O  
ATOM     56  N   GLY A  10      65.900  48.600  22.800  1.00  0.00           N  
ATOM     57  CA  GLY A  10      64.500  48.500  23.100  1.00  0.00           C  
ATOM     58  C   GLY A  10      63.900  49.600  24.000  1.00  0.00           C  
ATOM     59  O   GLY A  10      64.800  50.300  24.700  1.00  0.00           O  
ATOM     60  N   ALA A  11      62.700  50.000  23.900  1.00  0.00           N  
ATOM     61  CA  ALA A  11      62.200  51.200  24.500  1.00  0.00           C  
ATOM     62  CB  ALA A  11      60.700  51.500  24.200  1.00  0.00           C  
ATOM     63  C   ALA A  11      62.100  51.000  26.100  1.00  0.00           C  
ATOM     64  O   ALA A  11      61.900  49.900  26.500  1.00  0.00           O  
ATOM     65  N   PRO A  12      62.500  52.100  26.900  1.00  0.00           N  
ATOM     66  CD  PRO A  12      62.600  53.500  26.500  1.00  0.00           C  
ATOM     67  CG  PRO A  12      63.200  54.200  27.700  1.00  0.00           C  
ATOM     68  CB  PRO A  12      63.800  53.100  28.700  1.00  0.00           C  
ATOM     69  CA  PRO A  12      62.800  51.900  28.200  1.00  0.00           C  
ATOM     70  C   PRO A  12      61.600  51.700  29.200  1.00  0.00           C  
ATOM     71  O   PRO A  12      60.600  52.200  28.900  1.00  0.00           O  
ATOM     72  N   SER A  13      61.800  51.100  30.300  1.00  0.00           N  
ATOM     73  CA  SER A  13      60.800  51.200  31.400  1.00  0.00           C  
ATOM     74  CB  SER A  13      60.900  50.100  32.400  1.00  0.00           C  
ATOM     75  OG  SER A  13      61.900  50.200  33.300  1.00  0.00           O  
ATOM     76  C   SER A  13      61.100  52.500  32.300  1.00  0.00           C  
ATOM     77  O   SER A  13      62.200  53.100  32.300  1.00  0.00           O  
ATOM     78  N   GLN A  14      60.100  52.900  33.000  1.00  0.00           N  
ATOM     79  CA  GLN A  14      60.200  54.100  33.800  1.00  0.00           C  
ATOM     80  CB  GLN A  14      58.800  54.600  34.200  1.00  0.00           C  
ATOM     81  CG  GLN A  14      58.000  55.100  33.000  1.00  0.00           C  
ATOM     82  CD  GLN A  14      56.600  55.500  33.200  1.00  0.00           C  
ATOM     83  OE1 GLN A  14      55.900  55.000  34.000  1.00  0.00           O  
ATOM     84  NE2 GLN A  14      56.100  56.400  32.400  1.00  0.00           N  
ATOM     85  C   GLN A  14      61.200  54.000  35.000  1.00  0.00           C  
ATOM     86  O   GLN A  14      61.800  55.100  35.300  1.00  0.00           O  
ATOM     87  N   GLN A  15      61.500  52.800  35.500  1.00  0.00           N  
ATOM     88  CA  GLN A  15      62.700  52.700  36.300  1.00  0.00           C  
ATOM     89  CB  GLN A  15      62.500  51.300  37.000  1.00  0.00           C  
ATOM     90  CG  GLN A  15      61.300  51.000  37.800  1.00  0.00           C  
ATOM     91  CD  GLN A  15      60.000  50.600  36.800  1.00  0.00           C  
ATOM     92  OE1 GLN A  15      59.000  50.900  37.100  1.00  0.00           O  
ATOM     93  NE2 GLN A  15      60.300  49.800  35.800  1.00  0.00           N  
ATOM     94  C   GLN A  15      63.900  53.000  35.500  1.00  0.00           C  
ATOM     95  O   GLN A  15      64.900  53.600  36.000  1.00  0.00           O  
ATOM     96  N   LYS A  16      64.000  52.500  34.300  1.00  0.00           N  
ATOM     97  CA  LYS A  16      65.100  52.600  33.300  1.00  0.00           C  
ATOM     98  CB  LYS A  16      65.000  51.600  32.100  1.00  0.00           C  
ATOM     99  CG  LYS A  16      66.300  51.600  31.400  1.00  0.00           C  
ATOM    100  CD  LYS A  16      66.400  50.400  30.400  1.00  0.00           C  
ATOM    101  CE  LYS A  16      67.900  50.300  30.100  1.00  0.00           C  
ATOM    102  NZ  LYS A  16      68.000  49.400  28.900  1.00  0.00           N1+
ATOM    103  C   LYS A  16      65.400  54.100  33.000  1.00  0.00           C  
ATOM    104  O   LYS A  16      66.600  54.500  33.100  1.00  0.00           O  
ATOM    105  N   GLU A  17      64.400  54.900  32.700  1.00  0.00           N  
ATOM    106  CA  GLU A  17      64.400  56.300  32.600  1.00  0.00           C  
ATOM    107  CB  GLU A  17      63.000  56.800  32.500  1.00  0.00           C  
ATOM    108  CG  GLU A  17      62.500  56.500  31.000  1.00  0.00           C  
ATOM    109  CD  GLU A  17      61.000  56.700  30.800  1.00  0.00           C  
ATOM    110  OE1 GLU A  17      60.400  56.100  30.000  1.00  0.00           O  
ATOM    111  OE2 GLU A  17      60.400  57.500  31.500  1.00  0.00           O1-
ATOM    112  C   GLU A  17      65.000  56.900  34.000  1.00  0.00           C  
ATOM    113  O   GLU A  17      66.000  57.700  33.900  1.00  0.00           O  
ATOM    114  N   ALA A  18      64.500  56.600  35.100  1.00  0.00           N  
ATOM    115  CA  ALA A  18      65.000  57.000  36.400  1.00  0.00           C  
ATOM    116  CB  ALA A  18      64.100  56.400  37.400  1.00  0.00           C  
ATOM    117  C   ALA A  18      66.500  56.700  36.600  1.00  0.00           C  
ATOM    118  O   ALA A  18      67.200  57.500  37.100  1.00  0.00           O  
ATOM    119  N   ALA A  19      67.000  55.600  36.200  1.00  0.00           N  
ATOM    120  CA  ALA A  19      68.400  55.000  36.300  1.00  0.00           C  
ATOM    121  CB  ALA A  19      68.500  53.600  36.000  1.00  0.00           C  
ATOM    122  C   ALA A  19      69.200  55.800  35.300  1.00  0.00           C  
ATOM    123  O   ALA A  19      70.400  56.200  35.500  1.00  0.00           O  
ATOM    124  N   THR A  20      68.900  55.900  34.000  1.00  0.00           N  
ATOM    125  CA  THR A  20      69.700  56.400  32.900  1.00  0.00           C  
ATOM    126  CB  THR A  20      69.300  55.700  31.600  1.00  0.00           C  
ATOM    127  CG2 THR A  20      69.600  54.100  31.700  1.00  0.00           C  
ATOM    128  OG1 THR A  20      68.000  55.800  31.100  1.00  0.00           O  
ATOM    129  C   THR A  20      69.800  57.800  32.600  1.00  0.00           C  
ATOM    130  O   THR A  20      70.800  58.300  32.200  1.00  0.00           O  
ATOM    131  N   THR A  21      68.800  58.600  33.100  1.00  0.00           N  
ATOM    132  CA  THR A  21      68.700  60.100  33.000  1.00  0.00           C  
ATOM    133  CB  THR A  21      67.200  60.500  33.100  1.00  0.00           C  
ATOM    134  CG2 THR A  21      66.400  59.900  32.000  1.00  0.00           C  
ATOM    135  OG1 THR A  21      66.800  60.200  34.300  1.00  0.00           O  
ATOM    136  C   THR A  21      69.600  60.800  33.800  1.00  0.00           C  
ATOM    137  O   THR A  21      70.300  60.200  34.700  1.00  0.00           O  
ATOM    138  N   ALA A  22      69.800  62.100  33.600  1.00  0.00           N  
ATOM    139  CA  ALA A  22      70.700  63.000  34.200  1.00  0.00           C  
ATOM    140  CB  ALA A  22      71.400  63.700  32.900  1.00  0.00           C  
ATOM    141  C   ALA A  22      69.900  64.100  35.000  1.00  0.00           C  
ATOM    142  O   ALA A  22      68.800  64.400  34.600  1.00  0.00           O  
ATOM    143  N   LYS A  23      70.500  64.600  36.000  1.00  0.00           N  
ATOM    144  CA  LYS A  23      69.900  65.700  36.800  1.00  0.00           C  
ATOM    145  CB  LYS A  23      70.500  65.900  38.100  1.00  0.00           C  
ATOM    146  CG  LYS A  23      71.900  66.300  38.100  1.00  0.00           C  
ATOM    147  CD  LYS A  23      72.500  66.300  39.600  1.00  0.00           C  
ATOM    148  CE  LYS A  23      72.500  65.000  40.300  1.00  0.00           C  
ATOM    149  NZ  LYS A  23      73.100  65.300  41.600  1.00  0.00           N1+
ATOM    150  C   LYS A  23      70.100  67.000  35.900  1.00  0.00           C  
ATOM    151  O   LYS A  23      71.000  67.000  35.100  1.00  0.00           O  
ATOM    152  N   THR A  24      69.200  68.000  36.200  1.00  0.00           N  
ATOM    153  CA  THR A  24      69.100  69.100  35.300  1.00  0.00           C  
ATOM    154  CB  THR A  24      67.700  70.000  35.700  1.00  0.00           C  
ATOM    155  CG2 THR A  24      66.500  69.300  35.500  1.00  0.00           C  
ATOM    156  OG1 THR A  24      67.600  70.500  37.000  1.00  0.00           O  
ATOM    157  C   THR A  24      70.200  70.100  35.400  1.00  0.00           C  
ATOM    158  O   THR A  24      70.400  70.800  34.400  1.00  0.00           O  
ATOM    159  N   THR A  25      71.100  70.100  36.500  1.00  0.00           N  
ATOM    160  CA  THR A  25      72.400  70.600  36.600  1.00  0.00           C  
ATOM    161  CB  THR A  25      72.800  70.600  38.100  1.00  0.00           C  
ATOM    162  CG2 THR A  25      74.200  71.200  38.400  1.00  0.00           C  
ATOM    163  OG1 THR A  25      71.900  71.600  38.700  1.00  0.00           O  
ATOM    164  C   THR A  25      73.400  69.800  35.900  1.00  0.00           C  
ATOM    165  O   THR A  25      73.500  68.600  36.000  1.00  0.00           O  
ATOM    166  N   PRO A  26      74.200  70.400  35.000  1.00  0.00           N  
ATOM    167  CD  PRO A  26      74.300  71.800  34.800  1.00  0.00           C  
ATOM    168  CG  PRO A  26      75.400  72.100  33.800  1.00  0.00           C  
ATOM    169  CB  PRO A  26      75.500  70.900  33.000  1.00  0.00           C  
ATOM    170  CA  PRO A  26      75.200  69.800  34.100  1.00  0.00           C  
ATOM    171  C   PRO A  26      76.500  69.400  34.700  1.00  0.00           C  
ATOM    172  O   PRO A  26      76.800  69.900  35.900  1.00  0.00           O  
ATOM    173  N   ASN A  27      77.100  68.400  34.200  1.00  0.00           N  
ATOM    174  CA  ASN A  27      78.200  67.600  34.700  1.00  0.00           C  
ATOM    175  CB  ASN A  27      78.700  66.700  33.600  1.00  0.00           C  
ATOM    176  CG  ASN A  27      80.100  66.000  34.000  1.00  0.00           C  
ATOM    177  OD1 ASN A  27      81.200  66.300  33.800  1.00  0.00           O  
ATOM    178  ND2 ASN A  27      79.800  64.800  34.700  1.00  0.00           N  
ATOM    179  C   ASN A  27      79.300  68.300  35.400  1.00  0.00           C  
ATOM    180  O   ASN A  27      79.600  67.900  36.600  1.00  0.00           O  
ATOM    181  N   PRO A  28      79.800  69.500  34.900  1.00  0.00           N  
ATOM    182  CD  PRO A  28      79.700  70.000  33.600  1.00  0.00           C  
ATOM    183  CG  PRO A  28      80.500  71.300  33.500  1.00  0.00           C  
ATOM    184  CB  PRO A  28      81.500  71.200  34.600  1.00  0.00           C  
ATOM    185  CA  PRO A  28      80.800  70.200  35.600  1.00  0.00           C  
ATOM    186  C   PRO A  28      80.300  70.900  36.900  1.00  0.00           C  
ATOM    187  O   PRO A  28      81.100  70.800  37.900  1.00  0.00           O  
ATOM    188  N   ILE A  29      79.000  71.200  37.000  1.00  0.00           N  
ATOM    189  CA  ILE A  29      78.500  71.800  38.200  1.00  0.00           C  
ATOM    190  CB  ILE A  29      77.600  72.900  37.900  1.00  0.00           C  
ATOM    191  CG2 ILE A  29      77.000  73.500  39.100  1.00  0.00           C  
ATOM    192  CG1 ILE A  29      78.400  74.100  37.200  1.00  0.00           C  
ATOM    193  CD  ILE A  29      77.500  75.000  36.500  1.00  0.00           C  
ATOM    194  C   ILE A  29      77.900  70.800  39.100  1.00  0.00           C  
ATOM    195  O   ILE A  29      78.100  70.900  40.300  1.00  0.00           O  
ATOM    196  N   ALA A  30      77.300  69.700  38.600  1.00  0.00           N  
ATOM    197  CA  ALA A  30      76.800  68.600  39.400  1.00  0.00           C  
ATOM    198  CB  ALA A  30      76.000  67.700  38.500  1.00  0.00           C  
ATOM    199  C   ALA A  30      77.900  67.900  40.200  1.00  0.00           C  
ATOM    200  O   ALA A  30      77.700  67.500  41.400  1.00  0.00           O  
ATOM    201  N   LYS A  31      79.200  68.000  39.800  1.00  0.00           N  
ATOM    202  CA  LYS A  31      80.300  67.600  40.400  1.00  0.00           C  
ATOM    203  CB  LYS A  31      81.400  67.300  39.300  1.00  0.00           C  
ATOM    204  CG  LYS A  31      81.100  65.900  38.600  1.00  0.00           C  
ATOM    205  CD  LYS A  31      82.300  65.500  37.700  1.00  0.00           C  
ATOM    206  CE  LYS A  31      82.400  66.500  36.600  1.00  0.00           C  
ATOM    207  NZ  LYS A  31      83.400  66.100  35.500  1.00  0.00           N1+
ATOM    208  C   LYS A  31      80.800  68.700  41.400  1.00  0.00           C  
ATOM    209  O   LYS A  31      81.400  68.300  42.400  1.00  0.00           O  
ATOM    210  N   GLU A  32      80.700  69.900  41.100  1.00  0.00           N  
ATOM    211  CA  GLU A  32      80.900  71.000  42.200  1.00  0.00           C  
ATOM    212  CB  GLU A  32      81.000  72.400  41.600  1.00  0.00           C  
ATOM    213  CG  GLU A  32      81.600  73.400  42.400  1.00  0.00           C  
ATOM    214  CD  GLU A  32      81.800  74.800  41.600  1.00  0.00           C  
ATOM    215  OE1 GLU A  32      81.700  74.800  40.300  1.00  0.00           O  
ATOM    216  OE2 GLU A  32      81.800  75.800  42.300  1.00  0.00           O1-
ATOM    217  C   GLU A  32      79.900  71.000  43.300  1.00  0.00           C  
ATOM    218  O   GLU A  32      80.400  70.900  44.500  1.00  0.00           O  
ATOM    219  N   LEU A  33      78.700  70.800  43.000  1.00  0.00           N  
ATOM    220  CA  LEU A  33      77.700  70.700  44.100  1.00  0.00           C  
ATOM    221  CB  LEU A  33      76.200  70.600  43.600  1.00  0.00           C  
ATOM    222  CG  LEU A  33      75.700  72.000  43.200  1.00  0.00           C  
ATOM    223  CD1 LEU A  33      74.400  71.800  42.500  1.00  0.00           C  
ATOM    224  CD2 LEU A  33      75.500  72.900  44.400  1.00  0.00           C  
ATOM    225  C   LEU A  33      77.900  69.400  44.900  1.00  0.00           C  
ATOM    226  O   LEU A  33      77.900  69.500  46.200  1.00  0.00           O  
ATOM    227  N   LYS A  34      78.400  68.400  44.300  1.00  0.00           N  
ATOM    228  CA  LYS A  34      78.700  67.100  45.000  1.00  0.00           C  
ATOM    229  CB  LYS A  34      78.900  66.100  43.900  1.00  0.00           C  
ATOM    230  CG  LYS A  34      79.600  64.800  44.200  1.00  0.00           C  
ATOM    231  CD  LYS A  34      80.000  64.200  42.900  1.00  0.00           C  
ATOM    232  CE  LYS A  34      80.100  62.700  42.900  1.00  0.00           C  
ATOM    233  NZ  LYS A  34      80.600  62.200  41.700  1.00  0.00           N1+
ATOM    234  C   LYS A  34      79.900  67.200  45.900  1.00  0.00           C  
ATOM    235  O   LYS A  34      80.100  66.600  47.000  1.00  0.00           O  
ATOM    236  N   ASN A  35      81.000  67.900  45.500  1.00  0.00           N  
ATOM    237  CA  ASN A  35      82.100  68.300  46.300  1.00  0.00           C  
ATOM    238  CB  ASN A  35      83.000  69.100  45.400  1.00  0.00           C  
ATOM    239  CG  ASN A  35      84.400  69.300  46.000  1.00  0.00           C  
ATOM    240  OD1 ASN A  35      84.900  68.500  46.900  1.00  0.00           O  
ATOM    241  ND2 ASN A  35      85.200  70.300  45.400  1.00  0.00           N  
ATOM    242  C   ASN A  35      81.700  69.000  47.500  1.00  0.00           C  
ATOM    243  O   ASN A  35      82.300  69.100  48.500  1.00  0.00           O  
ATOM    244  N   GLN A  36      80.700  69.900  47.200  1.00  0.00           N  
ATOM    245  CA  GLN A  36      80.100  70.800  48.300  1.00  0.00           C  
ATOM    246  CB  GLN A  36      79.300  71.900  47.500  1.00  0.00           C  
ATOM    247  CG  GLN A  36      79.300  73.200  48.300  1.00  0.00           C  
ATOM    248  CD  GLN A  36      78.400  74.200  47.600  1.00  0.00           C  
ATOM    249  OE1 GLN A  36      78.800  75.200  46.900  1.00  0.00           O  
ATOM    250  NE2 GLN A  36      77.000  74.000  47.600  1.00  0.00           N  
ATOM    251  C   GLN A  36      79.300  70.100  49.400  1.00  0.00           C  
ATOM    252  O   GLN A  36      79.600  70.300  50.500  1.00  0.00           O  
ATOM    253  N   ILE A  37      78.500  69.100  48.900  1.00  0.00           N  
ATOM    254  CA  ILE A  37      77.800  68.300  49.900  1.00  0.00           C  
ATOM    255  CB  ILE A  37      76.700  67.500  49.300  1.00  0.00           C  
ATOM    256  CG2 ILE A  37      76.000  66.500  50.000  1.00  0.00           C  
ATOM    257  CG1 ILE A  37      75.700  68.700  49.000  1.00  0.00           C  
ATOM    258  CD  ILE A  37      74.700  68.100  47.900  1.00  0.00           C  
ATOM    259  C   ILE A  37      78.800  67.300  50.600  1.00  0.00           C  
ATOM    260  O   ILE A  37      78.500  67.100  51.800  1.00  0.00           O  
ATOM    261  N   ALA A  38      79.800  66.900  49.900  1.00  0.00           N  
ATOM    262  CA  ALA A  38      80.800  66.000  50.500  1.00  0.00           C  
ATOM    263  CB  ALA A  38      81.800  65.400  49.500  1.00  0.00           C  
ATOM    264  C   ALA A  38      81.600  66.800  51.500  1.00  0.00           C  
ATOM    265  O   ALA A  38      81.600  66.500  52.700  1.00  0.00           O  
ATOM    266  N   GLN A  39      82.300  68.000  51.200  1.00  0.00           N  
ATOM    267  CA  GLN A  39      83.000  68.800  52.200  1.00  0.00           C  
ATOM    268  CB  GLN A  39      83.500  70.000  51.400  1.00  0.00           C  
ATOM    269  CG  GLN A  39      84.800  69.700  50.800  1.00  0.00           C  
ATOM    270  CD  GLN A  39      85.400  70.700  49.800  1.00  0.00           C  
ATOM    271  OE1 GLN A  39      84.800  71.800  49.900  1.00  0.00           O  
ATOM    272  NE2 GLN A  39      86.500  70.500  49.200  1.00  0.00           N  
ATOM    273  C   GLN A  39      82.000  69.300  53.300  1.00  0.00           C  
ATOM    274  O   GLN A  39      82.400  69.200  54.400  1.00  0.00           O  
ATOM    275  N   GLU A  40      80.700  69.500  53.100  1.00  0.00           N  
ATOM    276  CA  GLU A  40      79.800  69.900  54.100  1.00  0.00           C  
ATOM    277  CB  GLU A  40      78.400  70.200  53.400  1.00  0.00           C  
ATOM    278  CG  GLU A  40      78.500  71.600  53.000  1.00  0.00           C  
ATOM    279  CD  GLU A  40      77.400  72.200  52.000  1.00  0.00           C  
ATOM    280  OE1 GLU A  40      77.600  73.400  51.700  1.00  0.00           O  
ATOM    281  OE2 GLU A  40      76.500  71.400  51.800  1.00  0.00           O1-
ATOM    282  C   GLU A  40      79.500  68.900  55.200  1.00  0.00           C  
ATOM    283  O   GLU A  40      79.600  69.200  56.300  1.00  0.00           O  
ATOM    284  N   LEU A  41      79.200  67.600  54.800  1.00  0.00           N  
ATOM    285  CA  LEU A  41      79.300  66.500  55.600  1.00  0.00           C  
ATOM    286  CB  LEU A  41      79.000  65.200  54.700  1.00  0.00           C  
ATOM    287  CG  LEU A  41      79.400  63.800  55.100  1.00  0.00           C  
ATOM    288  CD1 LEU A  41      78.500  63.300  56.200  1.00  0.00           C  
ATOM    289  CD2 LEU A  41      79.500  62.900  53.900  1.00  0.00           C  
ATOM    290  C   LEU A  41      80.500  66.400  56.500  1.00  0.00           C  
ATOM    291  O   LEU A  41      80.500  66.000  57.600  1.00  0.00           O  
ATOM    292  N   ALA A  42      81.700  66.600  55.900  1.00  0.00           N  
ATOM    293  CA  ALA A  42      82.900  66.400  56.500  1.00  0.00           C  
ATOM    294  CB  ALA A  42      84.100  66.500  55.600  1.00  0.00           C  
ATOM    295  C   ALA A  42      83.000  67.500  57.700  1.00  0.00           C  
ATOM    296  O   ALA A  42      83.200  67.100  58.800  1.00  0.00           O  
ATOM    297  N   VAL A  43      82.500  68.600  57.500  1.00  0.00           N  
ATOM    298  CA  VAL A  43      82.200  69.600  58.500  1.00  0.00           C  
ATOM    299  CB  VAL A  43      82.000  71.000  58.000  1.00  0.00           C  
ATOM    300  CG1 VAL A  43      81.300  72.000  59.000  1.00  0.00           C  
ATOM    301  CG2 VAL A  43      83.200  71.700  57.600  1.00  0.00           C  
ATOM    302  C   VAL A  43      81.100  69.100  59.500  1.00  0.00           C  
ATOM    303  O   VAL A  43      81.300  69.300  60.700  1.00  0.00           O  
ATOM    304  N   ALA A  44      80.000  68.700  58.900  1.00  0.00           N  
ATOM    305  CA  ALA A  44      78.900  68.200  59.800  1.00  0.00           C  
ATOM    306  CB  ALA A  44      77.800  67.700  58.900  1.00  0.00           C  
ATOM    307  C   ALA A  44      79.300  67.000  60.800  1.00  0.00           C  
ATOM    308  O   ALA A  44      79.000  67.100  62.000  1.00  0.00           O  
ATOM    309  N   ASN A  45      80.100  66.100  60.300  1.00  0.00           N  
ATOM    310  CA  ASN A  45      80.700  64.900  60.900  1.00  0.00           C  
ATOM    311  CB  ASN A  45      81.300  64.000  59.800  1.00  0.00           C  
ATOM    312  CG  ASN A  45      81.800  62.800  60.400  1.00  0.00           C  
ATOM    313  OD1 ASN A  45      82.600  62.800  61.300  1.00  0.00           O  
ATOM    314  ND2 ASN A  45      81.400  61.500  60.000  1.00  0.00           N  
ATOM    315  C   ASN A  45      81.500  65.200  62.100  1.00  0.00           C  
ATOM    316  O   ASN A  45      81.200  64.700  63.200  1.00  0.00           O  
ATOM    317  N   ALA A  46      82.400  66.200  61.800  1.00  0.00           N  
ATOM    318  CA  ALA A  46      83.300  66.800  62.800  1.00  0.00           C  
ATOM    319  CB  ALA A  46      84.500  67.500  62.300  1.00  0.00           C  
ATOM    320  C   ALA A  46      82.400  67.500  63.900  1.00  0.00           C  
ATOM    321  O   ALA A  46      82.600  67.300  65.100  1.00  0.00           O  
ATOM    322  N   THR A  47      81.400  68.200  63.500  1.00  0.00           N  
ATOM    323  CA  THR A  47      80.600  69.100  64.300  1.00  0.00           C  
ATOM    324  CB  THR A  47      79.700  70.000  63.700  1.00  0.00           C  
ATOM    325  CG2 THR A  47      79.100  71.000  64.500  1.00  0.00           C  
ATOM    326  OG1 THR A  47      80.400  70.600  62.700  1.00  0.00           O  
ATOM    327  C   THR A  47      79.800  68.200  65.400  1.00  0.00           C  
ATOM    328  O   THR A  47      79.800  68.600  66.600  1.00  0.00           O  
ATOM    329  N   GLU A  48      79.300  67.100  64.900  1.00  0.00           N  
ATOM    330  CA  GLU A  48      78.700  66.100  65.700  1.00  0.00           C  
ATOM    331  CB  GLU A  48      78.100  65.000  64.900  1.00  0.00           C  
ATOM    332  CG  GLU A  48      77.200  64.000  65.600  1.00  0.00           C  
ATOM    333  CD  GLU A  48      75.800  64.600  65.900  1.00  0.00           C  
ATOM    334  OE1 GLU A  48      75.400  65.700  65.700  1.00  0.00           O  
ATOM    335  OE2 GLU A  48      75.100  63.800  66.600  1.00  0.00           O1-
ATOM    336  C   GLU A  48      79.600  65.500  66.800  1.00  0.00           C  
ATOM    337  O   GLU A  48      79.200  65.500  68.000  1.00  0.00           O  
ATOM    338  N   LEU A  49      80.900  65.100  66.400  1.00  0.00           N  
ATOM    339  CA  LEU A  49      81.800  64.500  67.200  1.00  0.00           C  
ATOM    340  CB  LEU A  49      83.000  63.800  66.600  1.00  0.00           C  
ATOM    341  CG  LEU A  49      84.000  63.200  67.600  1.00  0.00           C  
ATOM    342  CD1 LEU A  49      83.200  62.100  68.400  1.00  0.00           C  
ATOM    343  CD2 LEU A  49      85.000  62.600  66.700  1.00  0.00           C  
ATOM    344  C   LEU A  49      82.100  65.500  68.400  1.00  0.00           C  
ATOM    345  O   LEU A  49      82.000  65.300  69.500  1.00  0.00           O  
ATOM    346  N   VAL A  50      82.500  66.800  67.900  1.00  0.00           N  
ATOM    347  CA  VAL A  50      83.000  67.900  68.800  1.00  0.00           C  
ATOM    348  CB  VAL A  50      83.300  69.000  68.000  1.00  0.00           C  
ATOM    349  CG1 VAL A  50      83.600  70.300  68.600  1.00  0.00           C  
ATOM    350  CG2 VAL A  50      84.600  68.600  67.100  1.00  0.00           C  
ATOM    351  C   VAL A  50      81.800  68.300  69.800  1.00  0.00           C  
ATOM    352  O   VAL A  50      82.000  68.400  71.000  1.00  0.00           O  
ATOM    353  N   ASN A  51      80.500  68.200  69.300  1.00  0.00           N  
ATOM    354  CA  ASN A  51      79.300  68.300  70.100  1.00  0.00           C  
ATOM    355  CB  ASN A  51      78.100  68.400  69.100  1.00  0.00           C  
ATOM    356  CG  ASN A  51      76.800  68.700  69.900  1.00  0.00           C  
ATOM    357  OD1 ASN A  51      76.100  67.700  70.200  1.00  0.00           O  
ATOM    358  ND2 ASN A  51      76.600  69.800  70.500  1.00  0.00           N  
ATOM    359  C   ASN A  51      79.200  67.200  71.100  1.00  0.00           C  
ATOM    360  O   ASN A  51      79.000  67.500  72.300  1.00  0.00           O  
ATOM    361  N   LYS A  52      79.300  66.000  70.800  1.00  0.00           N  
ATOM    362  CA  LYS A  52      79.400  64.800  71.700  1.00  0.00           C  
ATOM    363  CB  LYS A  52      79.100  63.500  70.800  1.00  0.00           C  
ATOM    364  CG  LYS A  52      77.700  63.200  70.700  1.00  0.00           C  
ATOM    365  CD  LYS A  52      76.700  64.200  69.900  1.00  0.00           C  
ATOM    366  CE  LYS A  52      75.400  63.600  70.100  1.00  0.00           C  
ATOM    367  NZ  LYS A  52      74.400  64.200  69.300  1.00  0.00           N1+
ATOM    368  C   LYS A  52      80.600  64.600  72.600  1.00  0.00           C  
ATOM    369  O   LYS A  52      80.300  64.200  73.700  1.00  0.00           O  
ATOM    370  N   ILE A  53      81.800  65.100  72.200  1.00  0.00           N  
ATOM    371  CA  ILE A  53      82.800  65.200  73.100  1.00  0.00           C  
ATOM    372  CB  ILE A  53      84.200  65.500  72.500  1.00  0.00           C  
ATOM    373  CG2 ILE A  53      85.300  65.500  73.600  1.00  0.00           C  
ATOM    374  CG1 ILE A  53      84.600  64.400  71.600  1.00  0.00           C  
ATOM    375  CD  ILE A  53      85.700  64.800  70.600  1.00  0.00           C  
ATOM    376  C   ILE A  53      82.500  66.300  74.200  1.00  0.00           C  
ATOM    377  O   ILE A  53      82.600  66.100  75.300  1.00  0.00           O  
ATOM    378  N   SER A  54      81.900  67.400  73.700  1.00  0.00           N  
ATOM    379  CA  SER A  54      81.700  68.600  74.500  1.00  0.00           C  
ATOM    380  CB  SER A  54      81.600  69.900  73.800  1.00  0.00           C  
ATOM    381  OG  SER A  54      82.800  70.000  73.000  1.00  0.00           O  
ATOM    382  C   SER A  54      80.500  68.400  75.500  1.00  0.00           C  
ATOM    383  O   SER A  54      80.700  69.000  76.600  1.00  0.00           O  
ATOM    384  N   GLU A  55      79.500  67.700  75.200  1.00  0.00           N  
ATOM    385  CA  GLU A  55      78.400  67.300  76.200  1.00  0.00           C  
ATOM    386  CB  GLU A  55      77.300  66.800  75.400  1.00  0.00           C  
ATOM    387  CG  GLU A  55      76.200  66.300  76.300  1.00  0.00           C  
ATOM    388  CD  GLU A  55      75.000  65.900  75.600  1.00  0.00           C  
ATOM    389  OE1 GLU A  55      75.000  65.500  74.500  1.00  0.00           O  
ATOM    390  OE2 GLU A  55      73.800  66.200  76.200  1.00  0.00           O1-
ATOM    391  C   GLU A  55      78.900  66.400  77.400  1.00  0.00           C  
ATOM    392  O   GLU A  55      78.600  66.700  78.500  1.00  0.00           O  
ATOM    393  N   ASN A  56      79.700  65.300  77.000  1.00  0.00           N  
ATOM    394  CA  ASN A  56      80.300  64.500  78.000  1.00  0.00           C  
ATOM    395  CB  ASN A  56      80.800  63.300  77.300  1.00  0.00           C  
ATOM    396  CG  ASN A  56      79.600  62.500  76.900  1.00  0.00           C  
ATOM    397  OD1 ASN A  56      78.900  61.800  77.700  1.00  0.00           O  
ATOM    398  ND2 ASN A  56      79.300  62.400  75.600  1.00  0.00           N  
ATOM    399  C   ASN A  56      81.400  65.200  78.700  1.00  0.00           C  
ATOM    400  O   ASN A  56      81.500  65.000  80.000  1.00  0.00           O  
ATOM    401  N   CYS A  57      82.200  66.000  78.100  1.00  0.00           N  
ATOM    402  CA  CYS A  57      83.200  66.900  78.900  1.00  0.00           C  
ATOM    403  CB  CYS A  57      84.400  67.300  78.000  1.00  0.00           C  
ATOM    404  SG  CYS A  57      85.300  65.800  77.300  1.00  0.00           S  
ATOM    405  C   CYS A  57      82.600  68.000  79.700  1.00  0.00           C  
ATOM    406  O   CYS A  57      83.200  68.300  80.800  1.00  0.00           O  
ATOM    407  N   PHE A  58      81.500  68.500  79.400  1.00  0.00           N  
ATOM    408  CA  PHE A  58      80.700  69.500  80.200  1.00  0.00           C  
ATOM    409  CB  PHE A  58      79.900  70.400  79.300  1.00  0.00           C  
ATOM    410  CG  PHE A  58      79.100  71.400  79.800  1.00  0.00           C  
ATOM    411  CD1 PHE A  58      79.800  72.500  80.500  1.00  0.00           C  
ATOM    412  CE1 PHE A  58      79.100  73.300  81.400  1.00  0.00           C  
ATOM    413  CZ  PHE A  58      77.700  73.200  81.600  1.00  0.00           C  
ATOM    414  CE2 PHE A  58      77.000  72.200  80.900  1.00  0.00           C  
ATOM    415  CD2 PHE A  58      77.700  71.300  80.000  1.00  0.00           C  
ATOM    416  C   PHE A  58      79.900  68.900  81.400  1.00  0.00           C  
ATOM    417  O   PHE A  58      79.800  69.600  82.300  1.00  0.00           O  
ATOM    418  N   GLU A  59      79.800  67.600  81.500  1.00  0.00           N  
ATOM    419  CA  GLU A  59      79.400  66.900  82.700  1.00  0.00           C  
ATOM    420  CB  GLU A  59      78.300  65.800  82.400  1.00  0.00           C  
ATOM    421  CG  GLU A  59      78.600  64.500  81.500  1.00  0.00           C  
ATOM    422  CD  GLU A  59      77.500  63.600  81.700  1.00  0.00           C  
ATOM    423  OE1 GLU A  59      76.300  63.900  82.300  1.00  0.00           O  
ATOM    424  OE2 GLU A  59      77.700  62.400  81.400  1.00  0.00           O1-
ATOM    425  C   GLU A  59      80.600  66.200  83.500  1.00  0.00           C  
ATOM    426  O   GLU A  59      80.700  66.700  84.700  1.00  0.00           O  
ATOM    427  N   LYS A  60      81.500  65.500  82.900  1.00  0.00           N  
ATOM    428  CA  LYS A  60      82.600  64.900  83.600  1.00  0.00           C  
ATOM    429  CB  LYS A  60      83.300  63.900  82.800  1.00  0.00           C  
ATOM    430  CG  LYS A  60      82.600  62.700  82.300  1.00  0.00           C  
ATOM    431  CD  LYS A  60      82.200  61.600  83.100  1.00  0.00           C  
ATOM    432  CE  LYS A  60      81.000  61.900  84.000  1.00  0.00           C  
ATOM    433  NZ  LYS A  60      80.500  60.800  84.800  1.00  0.00           N1+
ATOM    434  C   LYS A  60      83.600  65.900  84.300  1.00  0.00           C  
ATOM    435  O   LYS A  60      84.300  65.500  85.100  1.00  0.00           O  
ATOM    436  N   CYS A  61      83.600  67.200  84.000  1.00  0.00           N  
ATOM    437  CA  CYS A  61      84.600  68.100  84.500  1.00  0.00           C  
ATOM    438  CB  CYS A  61      85.500  68.500  83.300  1.00  0.00           C  
ATOM    439  SG  CYS A  61      86.500  67.200  82.600  1.00  0.00           S  
ATOM    440  C   CYS A  61      84.000  69.200  85.200  1.00  0.00           C  
ATOM    441  O   CYS A  61      84.700  70.100  85.800  1.00  0.00           O  
ATOM    442  N   LEU A  62      82.700  69.300  85.300  1.00  0.00           N  
ATOM    443  CA  LEU A  62      82.000  70.500  85.900  1.00  0.00           C  
ATOM    444  CB  LEU A  62      81.800  71.500  84.600  1.00  0.00           C  
ATOM    445  CG  LEU A  62      83.100  71.900  83.900  1.00  0.00           C  
ATOM    446  CD1 LEU A  62      82.700  72.700  82.700  1.00  0.00           C  
ATOM    447  CD2 LEU A  62      83.900  73.000  84.800  1.00  0.00           C  
ATOM    448  C   LEU A  62      80.600  70.300  86.500  1.00  0.00           C  
ATOM    449  O   LEU A  62      79.900  69.200  86.100  1.00  0.00           O  
ATOM    450  N   THR A  63      80.300  71.200  87.400  1.00  0.00           N  
ATOM    451  CA  THR A  63      78.900  71.200  88.000  1.00  0.00           C  
ATOM    452  CB  THR A  63      78.900  70.500  89.300  1.00  0.00           C  
ATOM    453  CG2 THR A  63      79.200  68.900  89.200  1.00  0.00           C  
ATOM    454  OG1 THR A  63      79.900  70.900  90.100  1.00  0.00           O  
ATOM    455  C   THR A  63      78.300  72.600  88.200  1.00  0.00           C  
ATOM    456  O   THR A  63      79.100  73.500  88.300  1.00  0.00           O  
ATOM    457  N   SER A  64      77.000  72.800  88.100  1.00  0.00           N  
ATOM    458  CA  SER A  64      76.300  74.000  88.500  1.00  0.00           C  
ATOM    459  CB  SER A  64      74.800  73.700  88.300  1.00  0.00           C  
ATOM    460  OG  SER A  64      74.300  72.400  88.400  1.00  0.00           O  
ATOM    461  C   SER A  64      76.600  74.400  89.900  1.00  0.00           C  
ATOM    462  O   SER A  64      76.600  73.500  90.700  1.00  0.00           O  
ATOM    463  N   PRO A  65      76.700  75.600  90.100  1.00  0.00           N  
ATOM    464  CD  PRO A  65      77.000  76.000  91.500  1.00  0.00           C  
ATOM    465  CG  PRO A  65      76.800  77.500  91.500  1.00  0.00           C  
ATOM    466  CB  PRO A  65      76.300  78.000  90.200  1.00  0.00           C  
ATOM    467  CA  PRO A  65      76.500  76.900  89.300  1.00  0.00           C  
ATOM    468  C   PRO A  65      77.600  77.200  88.200  1.00  0.00           C  
ATOM    469  O   PRO A  65      77.600  78.400  87.700  1.00  0.00           O  
ATOM    470  N   TYR A  66      78.500  76.400  87.900  1.00  0.00           N  
ATOM    471  CA  TYR A  66      79.600  76.500  87.000  1.00  0.00           C  
ATOM    472  CB  TYR A  66      79.100  76.600  85.500  1.00  0.00           C  
ATOM    473  CG  TYR A  66      78.200  75.400  85.200  1.00  0.00           C  
ATOM    474  CD1 TYR A  66      78.800  74.200  84.900  1.00  0.00           C  
ATOM    475  CE1 TYR A  66      77.900  73.000  84.600  1.00  0.00           C  
ATOM    476  CZ  TYR A  66      76.500  73.200  84.700  1.00  0.00           C  
ATOM    477  OH  TYR A  66      75.700  72.200  84.500  1.00  0.00           O  
ATOM    478  CE2 TYR A  66      76.000  74.500  85.000  1.00  0.00           C  
ATOM    479  CD2 TYR A  66      76.800  75.600  85.100  1.00  0.00           C  
ATOM    480  C   TYR A  66      80.500  77.800  87.200  1.00  0.00           C  
ATOM    481  O   TYR A  66      81.200  78.300  86.300  1.00  0.00           O  
ATOM    482  N   ALA A  67      80.600  78.000  88.500  1.00  0.00           N  
ATOM    483  CA  ALA A  67      81.400  79.100  89.100  1.00  0.00           C  
ATOM    484  CB  ALA A  67      80.600  79.400  90.400  1.00  0.00           C  
ATOM    485  C   ALA A  67      82.800  78.600  89.300  1.00  0.00           C  
ATOM    486  O   ALA A  67      83.700  79.400  89.000  1.00  0.00           O  
ATOM    487  N   THR A  68      83.200  77.400  89.400  1.00  0.00           N  
ATOM    488  CA  THR A  68      84.600  76.700  89.400  1.00  0.00           C  
ATOM    489  CB  THR A  68      84.600  75.600  90.300  1.00  0.00           C  
ATOM    490  CG2 THR A  68      85.700  74.500  89.900  1.00  0.00           C  
ATOM    491  OG1 THR A  68      84.700  76.100  91.600  1.00  0.00           O  
ATOM    492  C   THR A  68      84.800  76.400  87.900  1.00  0.00           C  
ATOM    493  O   THR A  68      84.200  75.500  87.300  1.00  0.00           O  
ATOM    494  N   ARG A  69      86.000  76.700  87.400  1.00  0.00           N  
ATOM    495  CA  ARG A  69      86.500  76.200  86.100  1.00  0.00           C  
ATOM    496  CB  ARG A  69      87.400  77.200  85.500  1.00  0.00           C  
ATOM    497  CG  ARG A  69      86.600  78.400  85.100  1.00  0.00           C  
ATOM    498  CD  ARG A  69      87.600  79.600  84.900  1.00  0.00           C  
ATOM    499  NE  ARG A  69      86.800  80.800  84.800  1.00  0.00           N  
ATOM    500  CZ  ARG A  69      86.500  81.500  83.700  1.00  0.00           C  
ATOM    501  NH1 ARG A  69      87.100  81.200  82.500  1.00  0.00           N1+
ATOM    502  NH2 ARG A  69      85.500  82.400  83.600  1.00  0.00           N  
ATOM    503  C   ARG A  69      87.200  74.800  86.400  1.00  0.00           C  
ATOM    504  O   ARG A  69      87.500  74.400  87.400  1.00  0.00           O  
ATOM    505  N   ASN A  70      87.400  74.000  85.400  1.00  0.00           N  
ATOM    506  CA  ASN A  70      88.200  72.800  85.500  1.00  0.00           C  
ATOM    507  CB  ASN A  70      87.200  71.700  85.900  1.00  0.00           C  
ATOM    508  CG  ASN A  70      88.000  70.500  86.400  1.00  0.00           C  
ATOM    509  OD1 ASN A  70      89.200  70.300  86.500  1.00  0.00           O  
ATOM    510  ND2 ASN A  70      87.200  69.400  86.700  1.00  0.00           N  
ATOM    511  C   ASN A  70      88.900  72.300  84.200  1.00  0.00           C  
ATOM    512  O   ASN A  70      88.900  71.200  83.700  1.00  0.00           O  
ATOM    513  N   ASP A  71      89.500  73.400  83.500  1.00  0.00           N  
ATOM    514  CA  ASP A  71      90.200  73.500  82.300  1.00  0.00           C  
ATOM    515  CB  ASP A  71      91.000  74.800  82.200  1.00  0.00           C  
ATOM    516  CG  ASP A  71      90.200  76.000  82.000  1.00  0.00           C  
ATOM    517  OD1 ASP A  71      90.800  77.100  82.300  1.00  0.00           O  
ATOM    518  OD2 ASP A  71      89.100  76.000  81.500  1.00  0.00           O1-
ATOM    519  C   ASP A  71      91.200  72.300  82.100  1.00  0.00           C  
ATOM    520  O   ASP A  71      91.300  71.800  81.000  1.00  0.00           O  
ATOM    521  N   ALA A  72      91.900  71.800  83.100  1.00  0.00           N  
ATOM    522  CA  ALA A  72      92.800  70.800  83.100  1.00  0.00           C  
ATOM    523  CB  ALA A  72      93.800  70.800  84.200  1.00  0.00           C  
ATOM    524  C   ALA A  72      92.200  69.400  83.000  1.00  0.00           C  
ATOM    525  O   ALA A  72      92.900  68.400  82.400  1.00  0.00           O  
ATOM    526  N   CYS A  73      90.900  69.200  83.300  1.00  0.00           N  
ATOM    527  CA  CYS A  73      90.200  67.900  83.100  1.00  0.00           C  
ATOM    528  CB  CYS A  73      89.100  67.800  84.100  1.00  0.00           C  
ATOM    529  SG  CYS A  73      87.800  66.500  83.900  1.00  0.00           S  
ATOM    530  C   CYS A  73      89.800  67.600  81.600  1.00  0.00           C  
ATOM    531  O   CYS A  73      90.000  66.600  81.100  1.00  0.00           O  
ATOM    532  N   ILE A  74      89.400  68.700  81.000  1.00  0.00           N  
ATOM    533  CA  ILE A  74      89.000  68.800  79.600  1.00  0.00           C  
ATOM    534  CB  ILE A  74      88.700  70.300  79.200  1.00  0.00           C  
ATOM    535  CG2 ILE A  74      88.000  70.300  77.800  1.00  0.00           C  
ATOM    536  CG1 ILE A  74      87.900  71.100  80.200  1.00  0.00           C  
ATOM    537  CD  ILE A  74      86.400  70.500  80.400  1.00  0.00           C  
ATOM    538  C   ILE A  74      89.800  68.100  78.600  1.00  0.00           C  
ATOM    539  O   ILE A  74      89.400  67.400  77.700  1.00  0.00           O  
ATOM    540  N   ASP A  75      91.200  68.100  78.800  1.00  0.00           N  
ATOM    541  CA  ASP A  75      92.300  67.600  78.000  1.00  0.00           C  
ATOM    542  CB  ASP A  75      93.600  68.500  78.300  1.00  0.00           C  
ATOM    543  CG  ASP A  75      93.500  69.900  78.200  1.00  0.00           C  
ATOM    544  OD1 ASP A  75      94.600  70.500  78.500  1.00  0.00           O  
ATOM    545  OD2 ASP A  75      92.600  70.600  77.600  1.00  0.00           O1-
ATOM    546  C   ASP A  75      92.400  66.200  78.100  1.00  0.00           C  
ATOM    547  O   ASP A  75      92.600  65.400  77.100  1.00  0.00           O  
ATOM    548  N   GLN A  76      92.300  65.600  79.300  1.00  0.00           N  
ATOM    549  CA  GLN A  76      92.100  64.200  79.600  1.00  0.00           C  
ATOM    550  CB  GLN A  76      92.200  64.100  81.100  1.00  0.00           C  
ATOM    551  CG  GLN A  76      93.400  64.900  81.700  1.00  0.00           C  
ATOM    552  CD  GLN A  76      94.800  64.500  81.100  1.00  0.00           C  
ATOM    553  OE1 GLN A  76      95.000  63.300  80.800  1.00  0.00           O  
ATOM    554  NE2 GLN A  76      95.700  65.400  80.900  1.00  0.00           N  
ATOM    555  C   GLN A  76      90.800  63.700  79.100  1.00  0.00           C  
ATOM    556  O   GLN A  76      90.900  62.700  78.400  1.00  0.00           O  
ATOM    557  N   CYS A  77      89.800  64.400  79.200  1.00  0.00           N  
ATOM    558  CA  CYS A  77      88.400  64.000  78.800  1.00  0.00           C  
ATOM    559  CB  CYS A  77      87.500  65.200  79.200  1.00  0.00           C  
ATOM    560  SG  CYS A  77      85.700  64.700  78.900  1.00  0.00           S  
ATOM    561  C   CYS A  77      88.300  63.700  77.300  1.00  0.00           C  
ATOM    562  O   CYS A  77      88.200  62.500  77.000  1.00  0.00           O  
ATOM    563  N   LEU A  78      88.700  64.700  76.500  1.00  0.00           N  
ATOM    564  CA  LEU A  78      88.700  64.500  75.100  1.00  0.00           C  
ATOM    565  CB  LEU A  78      88.700  65.900  74.500  1.00  0.00           C  
ATOM    566  CG  LEU A  78      90.000  66.500  74.200  1.00  0.00           C  
ATOM    567  CD1 LEU A  78      90.800  65.900  72.900  1.00  0.00           C  
ATOM    568  CD2 LEU A  78      89.900  68.000  74.100  1.00  0.00           C  
ATOM    569  C   LEU A  78      89.500  63.400  74.400  1.00  0.00           C  
ATOM    570  O   LEU A  78      89.100  62.700  73.500  1.00  0.00           O  
ATOM    571  N   ALA A  79      90.700  63.200  75.000  1.00  0.00           N  
ATOM    572  CA  ALA A  79      91.500  62.100  74.600  1.00  0.00           C  
ATOM    573  CB  ALA A  79      92.900  62.200  75.200  1.00  0.00           C  
ATOM    574  C   ALA A  79      91.000  60.600  74.900  1.00  0.00           C  
ATOM    575  O   ALA A  79      91.200  59.700  74.200  1.00  0.00           O  
ATOM    576  N   LYS A  80      90.500  60.500  76.100  1.00  0.00           N  
ATOM    577  CA  LYS A  80      89.800  59.300  76.500  1.00  0.00           C  
ATOM    578  CB  LYS A  80      89.700  59.400  78.100  1.00  0.00           C  
ATOM    579  CG  LYS A  80      89.000  58.300  78.600  1.00  0.00           C  
ATOM    580  CD  LYS A  80      88.800  58.400  80.200  1.00  0.00           C  
ATOM    581  CE  LYS A  80      88.500  57.200  80.900  1.00  0.00           C  
ATOM    582  NZ  LYS A  80      88.400  57.400  82.400  1.00  0.00           N1+
ATOM    583  C   LYS A  80      88.500  59.100  75.700  1.00  0.00           C  
ATOM    584  O   LYS A  80      88.000  58.100  75.600  1.00  0.00           O  
ATOM    585  N   TYR A  81      87.900  60.200  75.200  1.00  0.00           N  
ATOM    586  CA  TYR A  81      86.800  60.100  74.300  1.00  0.00           C  
ATOM    587  CB  TYR A  81      86.000  61.400  74.300  1.00  0.00           C  
ATOM    588  CG  TYR A  81      84.600  61.300  74.100  1.00  0.00           C  
ATOM    589  CD1 TYR A  81      84.100  61.300  72.700  1.00  0.00           C  
ATOM    590  CE1 TYR A  81      82.700  61.100  72.500  1.00  0.00           C  
ATOM    591  CZ  TYR A  81      81.800  61.100  73.500  1.00  0.00           C  
ATOM    592  OH  TYR A  81      80.400  61.000  73.300  1.00  0.00           O  
ATOM    593  CE2 TYR A  81      82.300  61.300  74.800  1.00  0.00           C  
ATOM    594  CD2 TYR A  81      83.600  61.400  75.100  1.00  0.00           C  
ATOM    595  C   TYR A  81      87.200  59.700  72.900  1.00  0.00           C  
ATOM    596  O   TYR A  81      86.500  58.900  72.400  1.00  0.00           O  
ATOM    597  N   MET A  82      88.100  60.300  72.300  1.00  0.00           N  
ATOM    598  CA  MET A  82      88.700  59.900  71.000  1.00  0.00           C  
ATOM    599  CB  MET A  82      89.800  60.800  70.400  1.00  0.00           C  
ATOM    600  CG  MET A  82      89.400  62.100  70.200  1.00  0.00           C  
ATOM    601  SD  MET A  82      88.400  62.100  68.500  1.00  0.00           S  
ATOM    602  CE  MET A  82      89.700  62.300  67.500  1.00  0.00           C  
ATOM    603  C   MET A  82      89.200  58.500  71.000  1.00  0.00           C  
ATOM    604  O   MET A  82      88.900  57.700  70.200  1.00  0.00           O  
ATOM    605  N   ARG A  83      89.900  58.100  72.100  1.00  0.00           N  
ATOM    606  CA  ARG A  83      90.100  56.700  72.500  1.00  0.00           C  
ATOM    607  CB  ARG A  83      90.900  56.600  73.800  1.00  0.00           C  
ATOM    608  CG  ARG A  83      92.400  56.800  73.800  1.00  0.00           C  
ATOM    609  CD  ARG A  83      93.200  55.800  72.900  1.00  0.00           C  
ATOM    610  NE  ARG A  83      92.900  54.400  73.200  1.00  0.00           N  
ATOM    611  CZ  ARG A  83      93.000  53.300  72.500  1.00  0.00           C  
ATOM    612  NH1 ARG A  83      93.500  53.400  71.300  1.00  0.00           N1+
ATOM    613  NH2 ARG A  83      93.000  52.100  73.200  1.00  0.00           N  
ATOM    614  C   ARG A  83      89.000  55.800  72.400  1.00  0.00           C  
ATOM    615  O   ARG A  83      89.000  54.600  72.000  1.00  0.00           O  
ATOM    616  N   SER A  84      87.800  56.300  72.900  1.00  0.00           N  
ATOM    617  CA  SER A  84      86.600  55.400  72.800  1.00  0.00           C  
ATOM    618  CB  SER A  84      85.400  55.900  73.900  1.00  0.00           C  
ATOM    619  OG  SER A  84      85.900  55.900  75.100  1.00  0.00           O  
ATOM    620  C   SER A  84      86.000  55.400  71.500  1.00  0.00           C  
ATOM    621  O   SER A  84      85.700  54.300  71.000  1.00  0.00           O  
ATOM    622  N   TRP A  85      86.100  56.500  70.700  1.00  0.00           N  
ATOM    623  CA  TRP A  85      85.700  56.400  69.200  1.00  0.00           C  
ATOM    624  CB  TRP A  85      85.700  57.900  68.700  1.00  0.00           C  
ATOM    625  CG  TRP A  85      84.900  58.100  67.400  1.00  0.00           C  
ATOM    626  CD1 TRP A  85      83.800  58.700  67.500  1.00  0.00           C  
ATOM    627  NE1 TRP A  85      83.300  58.900  66.200  1.00  0.00           N  
ATOM    628  CE2 TRP A  85      84.100  58.200  65.300  1.00  0.00           C  
ATOM    629  CZ2 TRP A  85      84.100  57.900  63.900  1.00  0.00           C  
ATOM    630  CH2 TRP A  85      85.100  57.200  63.300  1.00  0.00           C  
ATOM    631  CZ3 TRP A  85      86.300  56.900  64.000  1.00  0.00           C  
ATOM    632  CE3 TRP A  85      86.400  57.200  65.400  1.00  0.00           C  
ATOM    633  CD2 TRP A  85      85.300  57.700  66.100  1.00  0.00           C  
ATOM    634  C   TRP A  85      86.500  55.500  68.500  1.00  0.00           C  
ATOM    635  O   TRP A  85      85.900  54.600  67.800  1.00  0.00           O  
ATOM    636  N   ASN A  86      87.800  55.500  68.600  1.00  0.00           N  
ATOM    637  CA  ASN A  86      88.800  54.600  68.100  1.00  0.00           C  
ATOM    638  CB  ASN A  86      90.200  55.100  68.700  1.00  0.00           C  
ATOM    639  CG  ASN A  86      91.300  54.400  67.800  1.00  0.00           C  
ATOM    640  OD1 ASN A  86      92.000  53.500  68.300  1.00  0.00           O  
ATOM    641  ND2 ASN A  86      91.600  54.800  66.600  1.00  0.00           N  
ATOM    642  C   ASN A  86      88.500  53.100  68.600  1.00  0.00           C  
ATOM    643  O   ASN A  86      88.400  52.300  67.700  1.00  0.00           O  
ATOM    644  N   VAL A  87      88.600  52.800  69.800  1.00  0.00           N  
ATOM    645  CA  VAL A  87      88.300  51.400  70.300  1.00  0.00           C  
ATOM    646  CB  VAL A  87      88.400  51.400  71.800  1.00  0.00           C  
ATOM    647  CG1 VAL A  87      88.100  50.100  72.500  1.00  0.00           C  
ATOM    648  CG2 VAL A  87      89.900  51.900  72.300  1.00  0.00           C  
ATOM    649  C   VAL A  87      87.000  50.900  69.900  1.00  0.00           C  
ATOM    650  O   VAL A  87      86.900  49.700  69.700  1.00  0.00           O  
ATOM    651  N   ILE A  88      85.800  51.600  69.900  1.00  0.00           N  
ATOM    652  CA  ILE A  88      84.700  51.100  69.300  1.00  0.00           C  
ATOM    653  CB  ILE A  88      83.400  51.700  70.000  1.00  0.00           C  
ATOM    654  CG2 ILE A  88      83.400  51.600  71.500  1.00  0.00           C  
ATOM    655  CG1 ILE A  88      83.000  53.100  69.500  1.00  0.00           C  
ATOM    656  CD  ILE A  88      81.500  53.200  69.100  1.00  0.00           C  
ATOM    657  C   ILE A  88      84.600  51.100  67.800  1.00  0.00           C  
ATOM    658  O   ILE A  88      83.700  50.300  67.400  1.00  0.00           O  
ATOM    659  N   SER A  89      85.200  51.900  67.000  1.00  0.00           N  
ATOM    660  CA  SER A  89      85.400  51.800  65.600  1.00  0.00           C  
ATOM    661  CB  SER A  89      85.800  53.000  64.900  1.00  0.00           C  
ATOM    662  OG  SER A  89      87.000  53.600  65.400  1.00  0.00           O  
ATOM    663  C   SER A  89      86.300  50.600  65.400  1.00  0.00           C  
ATOM    664  O   SER A  89      85.800  49.700  64.700  1.00  0.00           O  
ATOM    665  N   LYS A  90      87.400  50.300  66.000  1.00  0.00           N  
ATOM    666  CA  LYS A  90      88.200  49.100  66.000  1.00  0.00           C  
ATOM    667  CB  LYS A  90      89.400  49.400  66.800  1.00  0.00           C  
ATOM    668  CG  LYS A  90      90.600  50.000  66.000  1.00  0.00           C  
ATOM    669  CD  LYS A  90      91.800  50.300  66.900  1.00  0.00           C  
ATOM    670  CE  LYS A  90      92.800  51.200  66.100  1.00  0.00           C  
ATOM    671  NZ  LYS A  90      93.900  51.700  66.900  1.00  0.00           N1+
ATOM    672  C   LYS A  90      87.500  47.900  66.400  1.00  0.00           C  
ATOM    673  O   LYS A  90      87.700  46.900  65.600  1.00  0.00           O  
ATOM    674  N   ALA A  91      86.600  47.900  67.300  1.00  0.00           N  
ATOM    675  CA  ALA A  91      85.600  46.900  67.700  1.00  0.00           C  
ATOM    676  CB  ALA A  91      84.800  47.200  68.800  1.00  0.00           C  
ATOM    677  C   ALA A  91      84.700  46.600  66.400  1.00  0.00           C  
ATOM    678  O   ALA A  91      84.400  45.400  66.200  1.00  0.00           O  
ATOM    679  N   TYR A  92      84.200  47.600  65.800  1.00  0.00           N  
ATOM    680  CA  TYR A  92      83.300  47.500  64.600  1.00  0.00           C  
ATOM    681  CB  TYR A  92      82.700  48.800  64.300  1.00  0.00           C  
ATOM    682  CG  TYR A  92      81.600  48.700  63.200  1.00  0.00           C  
ATOM    683  CD1 TYR A  92      80.300  48.200  63.600  1.00  0.00           C  
ATOM    684  CE1 TYR A  92      79.300  48.200  62.600  1.00  0.00           C  
ATOM    685  CZ  TYR A  92      79.600  48.400  61.300  1.00  0.00           C  
ATOM    686  OH  TYR A  92      78.700  48.300  60.300  1.00  0.00           O  
ATOM    687  CE2 TYR A  92      80.900  48.800  61.000  1.00  0.00           C  
ATOM    688  CD2 TYR A  92      82.000  48.800  61.900  1.00  0.00           C  
ATOM    689  C   TYR A  92      84.200  46.900  63.500  1.00  0.00           C  
ATOM    690  O   TYR A  92      83.800  46.000  62.800  1.00  0.00           O  
ATOM    691  N   ILE A  93      85.400  47.500  63.300  1.00  0.00           N  
ATOM    692  CA  ILE A  93      86.400  47.000  62.300  1.00  0.00           C  
ATOM    693  CB  ILE A  93      87.600  47.900  62.200  1.00  0.00           C  
ATOM    694  CG2 ILE A  93      88.700  47.300  61.300  1.00  0.00           C  
ATOM    695  CG1 ILE A  93      87.300  49.200  61.500  1.00  0.00           C  
ATOM    696  CD  ILE A  93      88.000  50.400  62.100  1.00  0.00           C  
ATOM    697  C   ILE A  93      86.600  45.500  62.400  1.00  0.00           C  
ATOM    698  O   ILE A  93      86.700  44.700  61.500  1.00  0.00           O  
ATOM    699  N   SER A  94      86.900  45.100  63.800  1.00  0.00           N  
ATOM    700  CA  SER A  94      86.900  43.700  64.200  1.00  0.00           C  
ATOM    701  CB  SER A  94      87.300  43.500  65.600  1.00  0.00           C  
ATOM    702  OG  SER A  94      88.600  44.000  65.700  1.00  0.00           O  
ATOM    703  C   SER A  94      85.800  42.800  63.900  1.00  0.00           C  
ATOM    704  O   SER A  94      86.000  41.700  63.300  1.00  0.00           O  
ATOM    705  N   ARG A  95      84.500  43.300  64.000  1.00  0.00           N  
ATOM    706  CA  ARG A  95      83.400  42.500  63.800  1.00  0.00           C  
ATOM    707  CB  ARG A  95      82.100  43.400  64.300  1.00  0.00           C  
ATOM    708  CG  ARG A  95      80.800  42.700  64.200  1.00  0.00           C  
ATOM    709  CD  ARG A  95      79.600  43.700  64.300  1.00  0.00           C  
ATOM    710  NE  ARG A  95      78.300  43.100  64.500  1.00  0.00           N  
ATOM    711  CZ  ARG A  95      77.600  42.700  65.600  1.00  0.00           C  
ATOM    712  NH1 ARG A  95      78.200  43.000  66.800  1.00  0.00           N1+
ATOM    713  NH2 ARG A  95      76.400  42.300  65.500  1.00  0.00           N  
ATOM    714  C   ARG A  95      83.200  42.100  62.300  1.00  0.00           C  
ATOM    715  O   ARG A  95      82.700  41.000  62.000  1.00  0.00           O  
ATOM    716  N   ILE A  96      83.600  43.000  61.500  1.00  0.00           N  
ATOM    717  CA  ILE A  96      83.600  42.700  60.000  1.00  0.00           C  
ATOM    718  CB  ILE A  96      83.800  44.000  59.300  1.00  0.00           C  
ATOM    719  CG2 ILE A  96      83.600  43.600  57.700  1.00  0.00           C  
ATOM    720  CG1 ILE A  96      82.600  45.000  59.600  1.00  0.00           C  
ATOM    721  CD  ILE A  96      81.200  44.500  59.700  1.00  0.00           C  
ATOM    722  C   ILE A  96      84.700  41.800  59.700  1.00  0.00           C  
ATOM    723  O   ILE A  96      84.500  40.600  59.200  1.00  0.00           O  
ATOM    724  N   GLN A  97      86.000  42.000  60.100  1.00  0.00           N  
ATOM    725  CA  GLN A  97      87.200  41.300  59.800  1.00  0.00           C  
ATOM    726  CB  GLN A  97      88.400  42.100  60.200  1.00  0.00           C  
ATOM    727  CG  GLN A  97      88.700  43.400  59.300  1.00  0.00           C  
ATOM    728  CD  GLN A  97      89.800  44.300  59.700  1.00  0.00           C  
ATOM    729  OE1 GLN A  97      90.500  44.100  60.700  1.00  0.00           O  
ATOM    730  NE2 GLN A  97      90.200  45.200  58.900  1.00  0.00           N  
ATOM    731  C   GLN A  97      87.200  39.900  60.300  1.00  0.00           C  
ATOM    732  O   GLN A  97      87.700  39.000  59.600  1.00  0.00           O  
ATOM    733  N   ASN A  98      86.800  39.700  61.500  1.00  0.00           N  
ATOM    734  CA  ASN A  98      86.600  38.400  62.100  1.00  0.00           C  
ATOM    735  CB  ASN A  98      86.300  38.400  63.500  1.00  0.00           C  
ATOM    736  CG  ASN A  98      87.300  39.000  64.400  1.00  0.00           C  
ATOM    737  OD1 ASN A  98      88.500  39.100  64.000  1.00  0.00           O  
ATOM    738  ND2 ASN A  98      87.100  39.600  65.500  1.00  0.00           N  
ATOM    739  C   ASN A  98      85.500  37.500  61.300  1.00  0.00           C  
ATOM    740  O   ASN A  98      85.200  36.500  61.800  1.00  0.00           O  
ATOM    741  N   ALA A  99      84.900  38.000  60.300  1.00  0.00           N  
ATOM    742  CA  ALA A  99      83.700  37.500  59.500  1.00  0.00           C  
ATOM    743  CB  ALA A  99      82.500  38.300  59.900  1.00  0.00           C  
ATOM    744  C   ALA A  99      83.900  37.500  58.100  1.00  0.00           C  
ATOM    745  O   ALA A  99      83.300  36.600  57.500  1.00  0.00           O  
ATOM    746  N   SER A 100      84.400  38.600  57.500  1.00  0.00           N  
ATOM    747  CA  SER A 100      84.500  38.800  56.100  1.00  0.00           C  
ATOM    748  CB  SER A 100      84.200  40.300  55.900  1.00  0.00           C  
ATOM    749  OG  SER A 100      82.900  40.600  56.300  1.00  0.00           O  
ATOM    750  C   SER A 100      85.700  38.300  55.300  1.00  0.00           C  
ATOM    751  O   SER A 100      86.800  38.500  56.100  1.00  0.00           O  
ATOM    752  N   ALA A 101      85.600  38.100  54.100  1.00  0.00           N  
ATOM    753  CA  ALA A 101      86.700  37.900  53.200  1.00  0.00           C  
ATOM    754  CB  ALA A 101      86.200  37.100  52.000  1.00  0.00           C  
ATOM    755  C   ALA A 101      87.400  39.300  52.900  1.00  0.00           C  
ATOM    756  O   ALA A 101      86.600  40.200  53.000  1.00  0.00           O  
ATOM    757  N   SER A 102      88.700  39.200  52.600  1.00  0.00           N  
ATOM    758  CA  SER A 102      89.600  40.400  52.700  1.00  0.00           C  
ATOM    759  CB  SER A 102      91.000  40.000  52.100  1.00  0.00           C  
ATOM    760  OG  SER A 102      91.900  41.000  52.700  1.00  0.00           O  
ATOM    761  C   SER A 102      89.100  41.600  52.100  1.00  0.00           C  
ATOM    762  O   SER A 102      88.600  41.500  50.900  1.00  0.00           O  
ATOM    763  N   GLY A 103      89.200  42.700  52.600  1.00  0.00           N  
ATOM    764  CA  GLY A 103      89.200  44.100  51.900  1.00  0.00           C  
ATOM    765  C   GLY A 103      90.400  44.400  51.100  1.00  0.00           C  
ATOM    766  O   GLY A 103      90.400  45.400  50.500  1.00  0.00           O  
ATOM    767  N   GLU A 104      91.500  43.600  51.200  1.00  0.00           N  
ATOM    768  CA  GLU A 104      92.800  44.000  50.600  1.00  0.00           C  
ATOM    769  CB  GLU A 104      94.000  43.800  51.500  1.00  0.00           C  
ATOM    770  CG  GLU A 104      93.900  44.900  52.600  1.00  0.00           C  
ATOM    771  CD  GLU A 104      94.100  46.400  52.200  1.00  0.00           C  
ATOM    772  OE1 GLU A 104      95.000  46.700  51.200  1.00  0.00           O  
ATOM    773  OE2 GLU A 104      93.400  47.100  52.700  1.00  0.00           O1-
ATOM    774  C   GLU A 104      93.100  43.100  49.400  1.00  0.00           C  
ATOM    775  O   GLU A 104      92.500  42.000  49.300  1.00  0.00           O  
ATOM    776  N   ILE A 105      94.000  43.500  48.400  1.00  0.00           N  
ATOM    777  CA  ILE A 105      94.600  42.600  47.500  1.00  0.00           C  
ATOM    778  CB  ILE A 105      95.400  43.400  46.500  1.00  0.00           C  
ATOM    779  CG2 ILE A 105      96.000  42.500  45.500  1.00  0.00           C  
ATOM    780  CG1 ILE A 105      94.800  44.600  45.900  1.00  0.00           C  
ATOM    781  CD  ILE A 105      93.400  44.500  45.300  1.00  0.00           C  
ATOM    782  C   ILE A 105      95.400  41.400  48.100  1.00  0.00           C  
ATOM    783  OC1 ILE A 105      95.900  41.500  49.300  1.00  0.00           O  
ATOM    784  OC2 ILE A 105      95.300  40.300  47.700  1.00  0.00           O  
TER   
ATOM    785  N   MET B   1      75.500  42.600  39.100  1.00  0.00           N  
ATOM    786  CA  MET B   1      75.400  44.100  39.300  1.00  0.00           C  
ATOM    787  CB  MET B   1      75.100  44.800  38.000  1.00  0.00           C  
ATOM    788  CG  MET B   1      75.200  46.300  38.100  1.00  0.00           C  
ATOM    789  SD  MET B   1      74.100  47.200  39.300  1.00  0.00           S  
ATOM    790  CE  MET B   1      74.600  48.800  38.900  1.00  0.00           C  
ATOM    791  C   MET B   1      74.500  44.200  40.500  1.00  0.00           C  
ATOM    792  O   MET B   1      73.300  43.800  40.200  1.00  0.00           O  
ATOM    793  N   SER B   2      74.800  44.700  41.600  1.00  0.00           N  
ATOM    794  CA  SER B   2      74.100  44.500  42.900  1.00  0.00           C  
ATOM    795  CB  SER B   2      74.800  45.100  44.100  1.00  0.00           C  
ATOM    796  OG  SER B   2      75.400  46.500  43.900  1.00  0.00           O  
ATOM    797  C   SER B   2      72.700  45.000  42.900  1.00  0.00           C  
ATOM    798  O   SER B   2      71.700  44.500  43.400  1.00  0.00           O  
ATOM    799  N   SER B   3      72.500  46.300  42.400  1.00  0.00           N  
ATOM    800  CA  SER B   3      71.300  47.000  42.300  1.00  0.00           C  
ATOM    801  CB  SER B   3      71.500  48.300  41.500  1.00  0.00           C  
ATOM    802  OG  SER B   3      72.300  49.300  42.400  1.00  0.00           O  
ATOM    803  C   SER B   3      70.100  46.300  41.800  1.00  0.00           C  
ATOM    804  O   SER B   3      70.300  45.500  40.800  1.00  0.00           O  
ATOM    805  N   LEU B   4      68.900  46.600  42.300  1.00  0.00           N  
ATOM    806  CA  LEU B   4      67.600  46.100  41.900  1.00  0.00           C  
ATOM    807  CB  LEU B   4      66.600  46.800  42.600  1.00  0.00           C  
ATOM    808  CG  LEU B   4      66.300  46.700  44.200  1.00  0.00           C  
ATOM    809  CD1 LEU B   4      65.000  47.100  44.600  1.00  0.00           C  
ATOM    810  CD2 LEU B   4      66.600  45.200  44.600  1.00  0.00           C  
ATOM    811  C   LEU B   4      67.500  46.200  40.400  1.00  0.00           C  
ATOM    812  O   LEU B   4      67.900  47.200  39.800  1.00  0.00           O  
ATOM    813  N   SER B   5      66.800  45.200  39.700  1.00  0.00           N  
ATOM    814  CA  SER B   5      66.500  45.300  38.300  1.00  0.00           C  
ATOM    815  CB  SER B   5      66.000  43.800  37.800  1.00  0.00           C  
ATOM    816  OG  SER B   5      66.000  43.800  36.400  1.00  0.00           O  
ATOM    817  C   SER B   5      65.500  46.300  37.900  1.00  0.00           C  
ATOM    818  O   SER B   5      64.500  46.500  38.500  1.00  0.00           O  
ATOM    819  N   THR B   6      65.600  47.000  36.600  1.00  0.00           N  
ATOM    820  CA  THR B   6      64.700  47.900  36.200  1.00  0.00           C  
ATOM    821  CB  THR B   6      65.400  49.000  35.300  1.00  0.00           C  
ATOM    822  CG2 THR B   6      66.400  49.700  36.200  1.00  0.00           C  
ATOM    823  OG1 THR B   6      66.000  48.300  34.200  1.00  0.00           O  
ATOM    824  C   THR B   6      63.500  47.400  35.400  1.00  0.00           C  
ATOM    825  O   THR B   6      62.600  48.200  35.200  1.00  0.00           O  
ATOM    826  N   SER B   7      63.600  46.000  35.100  1.00  0.00           N  
ATOM    827  CA  SER B   7      62.600  45.200  34.400  1.00  0.00           C  
ATOM    828  CB  SER B   7      62.500  45.700  32.900  1.00  0.00           C  
ATOM    829  OG  SER B   7      61.400  45.000  32.100  1.00  0.00           O  
ATOM    830  C   SER B   7      63.000  43.700  34.300  1.00  0.00           C  
ATOM    831  O   SER B   7      64.200  43.400  34.200  1.00  0.00           O  
ATOM    832  N   ASP B   8      62.100  42.800  34.500  1.00  0.00           N  
ATOM    833  CA  ASP B   8      62.200  41.400  34.500  1.00  0.00           C  
ATOM    834  CB  ASP B   8      61.200  40.700  35.500  1.00  0.00           C  
ATOM    835  CG  ASP B   8      59.800  41.200  35.700  1.00  0.00           C  
ATOM    836  OD1 ASP B   8      59.100  40.700  36.600  1.00  0.00           O  
ATOM    837  OD2 ASP B   8      59.300  42.200  35.100  1.00  0.00           O1-
ATOM    838  C   ASP B   8      62.100  40.800  33.100  1.00  0.00           C  
ATOM    839  O   ASP B   8      62.300  39.600  32.800  1.00  0.00           O  
ATOM    840  N   LEU B   9      61.700  41.600  32.100  1.00  0.00           N  
ATOM    841  CA  LEU B   9      61.600  41.200  30.700  1.00  0.00           C  
ATOM    842  CB  LEU B   9      60.500  42.000  30.200  1.00  0.00           C  
ATOM    843  CG  LEU B   9      59.000  41.900  30.600  1.00  0.00           C  
ATOM    844  CD1 LEU B   9      58.000  42.400  29.600  1.00  0.00           C  
ATOM    845  CD2 LEU B   9      58.500  40.700  31.300  1.00  0.00           C  
ATOM    846  C   LEU B   9      62.800  41.200  29.900  1.00  0.00           C  
ATOM    847  O   LEU B   9      63.200  40.400  29.000  1.00  0.00           O  
ATOM    848  N   ALA B  10      63.500  42.400  30.100  1.00  0.00           N  
ATOM    849  CA  ALA B  10      64.800  42.900  29.500  1.00  0.00           C  
ATOM    850  CB  ALA B  10      64.900  44.300  29.900  1.00  0.00           C  
ATOM    851  C   ALA B  10      66.000  42.100  29.800  1.00  0.00           C  
ATOM    852  O   ALA B  10      66.100  41.500  30.900  1.00  0.00           O  
ATOM    853  N   SER B  11      66.900  41.900  28.800  1.00  0.00           N  
ATOM    854  CA  SER B  11      68.200  41.300  29.100  1.00  0.00           C  
ATOM    855  CB  SER B  11      69.000  41.600  27.900  1.00  0.00           C  
ATOM    856  OG  SER B  11      68.700  41.100  26.600  1.00  0.00           O  
ATOM    857  C   SER B  11      68.900  41.700  30.200  1.00  0.00           C  
ATOM    858  O   SER B  11      68.700  42.900  30.800  1.00  0.00           O  
ATOM    859  N   LEU B  12      69.900  41.000  30.700  1.00  0.00           N  
ATOM    860  CA  LEU B  12      70.700  41.300  32.000  1.00  0.00           C  
ATOM    861  CB  LEU B  12      71.000  39.900  32.500  1.00  0.00           C  
ATOM    862  CG  LEU B  12      71.300  39.600  33.900  1.00  0.00           C  
ATOM    863  CD1 LEU B  12      70.200  40.000  34.800  1.00  0.00           C  
ATOM    864  CD2 LEU B  12      71.700  38.200  34.100  1.00  0.00           C  
ATOM    865  C   LEU B  12      71.800  42.200  31.900  1.00  0.00           C  
ATOM    866  O   LEU B  12      73.000  42.000  32.400  1.00  0.00           O  
ATOM    867  N   ASP B  13      71.600  43.400  31.200  1.00  0.00           N  
ATOM    868  CA  ASP B  13      72.800  44.300  31.000  1.00  0.00           C  
ATOM    869  CB  ASP B  13      72.500  45.200  29.800  1.00  0.00           C  
ATOM    870  CG  ASP B  13      72.600  44.600  28.400  1.00  0.00           C  
ATOM    871  OD1 ASP B  13      72.900  43.400  28.300  1.00  0.00           O  
ATOM    872  OD2 ASP B  13      72.500  45.400  27.400  1.00  0.00           O1-
ATOM    873  C   ASP B  13      73.000  45.200  32.200  1.00  0.00           C  
ATOM    874  O   ASP B  13      72.000  45.800  32.700  1.00  0.00           O  
ATOM    875  N   ASP B  14      74.200  45.300  32.600  1.00  0.00           N  
ATOM    876  CA  ASP B  14      74.600  46.000  33.800  1.00  0.00           C  
ATOM    877  CB  ASP B  14      76.100  45.900  34.000  1.00  0.00           C  
ATOM    878  CG  ASP B  14      76.700  44.600  33.900  1.00  0.00           C  
ATOM    879  OD1 ASP B  14      78.000  44.400  33.900  1.00  0.00           O  
ATOM    880  OD2 ASP B  14      76.000  43.600  34.100  1.00  0.00           O1-
ATOM    881  C   ASP B  14      74.300  47.500  33.900  1.00  0.00           C  
ATOM    882  O   ASP B  14      73.600  48.100  34.800  1.00  0.00           O  
ATOM    883  N   THR B  15      74.500  48.200  32.700  1.00  0.00           N  
ATOM    884  CA  THR B  15      74.300  49.600  32.400  1.00  0.00           C  
ATOM    885  CB  THR B  15      74.700  50.000  31.000  1.00  0.00           C  
ATOM    886  CG2 THR B  15      76.200  49.900  30.900  1.00  0.00           C  
ATOM    887  OG1 THR B  15      74.100  49.100  30.000  1.00  0.00           O  
ATOM    888  C   THR B  15      72.800  50.100  32.600  1.00  0.00           C  
ATOM    889  O   THR B  15      72.600  51.300  32.800  1.00  0.00           O  
ATOM    890  N   SER B  16      72.000  49.100  32.600  1.00  0.00           N  
ATOM    891  CA  SER B  16      70.500  49.500  32.800  1.00  0.00           C  
ATOM    892  CB  SER B  16      69.700  48.300  32.200  1.00  0.00           C  
ATOM    893  OG  SER B  16      69.700  47.200  33.000  1.00  0.00           O  
ATOM    894  C   SER B  16      70.200  49.800  34.200  1.00  0.00           C  
ATOM    895  O   SER B  16      69.300  50.600  34.400  1.00  0.00           O  
ATOM    896  N   LYS B  17      70.800  49.100  35.100  1.00  0.00           N  
ATOM    897  CA  LYS B  17      70.600  49.400  36.600  1.00  0.00           C  
ATOM    898  CB  LYS B  17      71.300  48.300  37.300  1.00  0.00           C  
ATOM    899  CG  LYS B  17      70.500  46.900  37.100  1.00  0.00           C  
ATOM    900  CD  LYS B  17      71.300  45.800  37.600  1.00  0.00           C  
ATOM    901  CE  LYS B  17      70.400  44.600  37.600  1.00  0.00           C  
ATOM    902  NZ  LYS B  17      70.900  43.400  38.400  1.00  0.00           N1+
ATOM    903  C   LYS B  17      71.200  50.700  37.100  1.00  0.00           C  
ATOM    904  O   LYS B  17      71.900  51.300  36.300  1.00  0.00           O  
ATOM    905  N   LYS B  18      70.700  51.200  38.300  1.00  0.00           N  
ATOM    906  CA  LYS B  18      71.200  52.400  38.900  1.00  0.00           C  
ATOM    907  CB  LYS B  18      70.200  52.800  39.900  1.00  0.00           C  
ATOM    908  CG  LYS B  18      70.200  54.300  40.300  1.00  0.00           C  
ATOM    909  CD  LYS B  18      69.600  54.700  41.500  1.00  0.00           C  
ATOM    910  CE  LYS B  18      69.500  56.200  41.800  1.00  0.00           C  
ATOM    911  NZ  LYS B  18      69.100  56.800  43.000  1.00  0.00           N1+
ATOM    912  C   LYS B  18      72.600  52.300  39.500  1.00  0.00           C  
ATOM    913  O   LYS B  18      72.900  51.600  40.300  1.00  0.00           O  
ATOM    914  N   GLU B  19      73.600  53.000  38.800  1.00  0.00           N  
ATOM    915  CA  GLU B  19      75.000  52.900  39.100  1.00  0.00           C  
ATOM    916  CB  GLU B  19      75.800  53.800  38.200  1.00  0.00           C  
ATOM    917  CG  GLU B  19      75.400  55.300  38.400  1.00  0.00           C  
ATOM    918  CD  GLU B  19      76.300  56.200  37.400  1.00  0.00           C  
ATOM    919  OE1 GLU B  19      77.300  55.800  36.900  1.00  0.00           O  
ATOM    920  OE2 GLU B  19      75.800  57.300  37.000  1.00  0.00           O1-
ATOM    921  C   GLU B  19      75.300  53.100  40.500  1.00  0.00           C  
ATOM    922  O   GLU B  19      74.900  54.000  41.300  1.00  0.00           O  
ATOM    923  N   ILE B  20      76.300  52.400  41.100  1.00  0.00           N  
ATOM    924  CA  ILE B  20      76.700  52.500  42.500  1.00  0.00           C  
ATOM    925  CB  ILE B  20      77.500  51.200  42.800  1.00  0.00           C  
ATOM    926  CG2 ILE B  20      77.900  51.200  44.300  1.00  0.00           C  
ATOM    927  CG1 ILE B  20      77.100  49.900  42.500  1.00  0.00           C  
ATOM    928  CD  ILE B  20      75.600  49.600  43.000  1.00  0.00           C  
ATOM    929  C   ILE B  20      77.200  53.800  42.900  1.00  0.00           C  
ATOM    930  O   ILE B  20      77.000  54.000  44.100  1.00  0.00           O  
ATOM    931  N   ALA B  21      77.600  54.600  42.000  1.00  0.00           N  
ATOM    932  CA  ALA B  21      78.000  56.000  42.200  1.00  0.00           C  
ATOM    933  CB  ALA B  21      78.400  56.600  40.800  1.00  0.00           C  
ATOM    934  C   ALA B  21      76.900  56.900  42.700  1.00  0.00           C  
ATOM    935  O   ALA B  21      77.100  57.800  43.500  1.00  0.00           O  
ATOM    936  N   THR B  22      75.700  56.600  42.300  1.00  0.00           N  
ATOM    937  CA  THR B  22      74.500  57.100  43.000  1.00  0.00           C  
ATOM    938  CB  THR B  22      73.200  56.800  42.300  1.00  0.00           C  
ATOM    939  CG2 THR B  22      73.300  57.000  40.800  1.00  0.00           C  
ATOM    940  OG1 THR B  22      72.800  55.500  42.500  1.00  0.00           O  
ATOM    941  C   THR B  22      74.400  56.600  44.500  1.00  0.00           C  
ATOM    942  O   THR B  22      74.000  57.500  45.300  1.00  0.00           O  
ATOM    943  N   PHE B  23      74.700  55.300  44.900  1.00  0.00           N  
ATOM    944  CA  PHE B  23      74.600  54.900  46.300  1.00  0.00           C  
ATOM    945  CB  PHE B  23      74.600  53.300  46.200  1.00  0.00           C  
ATOM    946  CG  PHE B  23      73.400  52.700  45.600  1.00  0.00           C  
ATOM    947  CD1 PHE B  23      73.200  52.700  44.200  1.00  0.00           C  
ATOM    948  CE1 PHE B  23      72.100  52.100  43.700  1.00  0.00           C  
ATOM    949  CZ  PHE B  23      71.100  51.600  44.300  1.00  0.00           C  
ATOM    950  CE2 PHE B  23      71.200  51.700  45.800  1.00  0.00           C  
ATOM    951  CD2 PHE B  23      72.400  52.200  46.400  1.00  0.00           C  
ATOM    952  C   PHE B  23      75.600  55.500  47.100  1.00  0.00           C  
ATOM    953  O   PHE B  23      75.200  56.100  48.200  1.00  0.00           O  
ATOM    954  N   LEU B  24      76.900  55.500  46.700  1.00  0.00           N  
ATOM    955  CA  LEU B  24      78.000  56.200  47.400  1.00  0.00           C  
ATOM    956  CB  LEU B  24      79.200  55.900  46.600  1.00  0.00           C  
ATOM    957  CG  LEU B  24      79.700  54.400  46.700  1.00  0.00           C  
ATOM    958  CD1 LEU B  24      80.900  54.200  45.700  1.00  0.00           C  
ATOM    959  CD2 LEU B  24      80.200  54.100  48.100  1.00  0.00           C  
ATOM    960  C   LEU B  24      77.800  57.600  47.300  1.00  0.00           C  
ATOM    961  O   LEU B  24      78.300  58.300  48.300  1.00  0.00           O  
ATOM    962  N   GLU B  25      76.900  58.300  46.500  1.00  0.00           N  
ATOM    963  CA  GLU B  25      76.600  59.700  46.700  1.00  0.00           C  
ATOM    964  CB  GLU B  25      76.500  60.400  45.400  1.00  0.00           C  
ATOM    965  CG  GLU B  25      76.500  62.100  45.400  1.00  0.00           C  
ATOM    966  CD  GLU B  25      76.600  62.800  44.100  1.00  0.00           C  
ATOM    967  OE1 GLU B  25      76.200  63.900  44.000  1.00  0.00           O  
ATOM    968  OE2 GLU B  25      76.900  62.100  43.000  1.00  0.00           O1-
ATOM    969  C   GLU B  25      75.400  60.000  47.600  1.00  0.00           C  
ATOM    970  O   GLU B  25      75.400  60.900  48.400  1.00  0.00           O  
ATOM    971  N   GLY B  26      74.400  59.200  47.300  1.00  0.00           N  
ATOM    972  CA  GLY B  26      73.100  59.400  48.000  1.00  0.00           C  
ATOM    973  C   GLY B  26      72.700  58.700  49.200  1.00  0.00           C  
ATOM    974  O   GLY B  26      71.900  59.200  50.000  1.00  0.00           O  
ATOM    975  N   GLU B  27      73.100  57.400  49.400  1.00  0.00           N  
ATOM    976  CA  GLU B  27      72.600  56.400  50.300  1.00  0.00           C  
ATOM    977  CB  GLU B  27      72.100  55.100  49.600  1.00  0.00           C  
ATOM    978  CG  GLU B  27      71.200  55.300  48.600  1.00  0.00           C  
ATOM    979  CD  GLU B  27      69.900  56.000  49.000  1.00  0.00           C  
ATOM    980  OE1 GLU B  27      69.400  55.700  50.100  1.00  0.00           O  
ATOM    981  OE2 GLU B  27      69.400  57.000  48.300  1.00  0.00           O1-
ATOM    982  C   GLU B  27      73.700  56.200  51.500  1.00  0.00           C  
ATOM    983  O   GLU B  27      73.300  56.400  52.600  1.00  0.00           O  
ATOM    984  N   ASN B  28      74.800  55.700  51.000  1.00  0.00           N  
ATOM    985  CA  ASN B  28      75.800  55.500  52.000  1.00  0.00           C  
ATOM    986  CB  ASN B  28      77.000  54.800  51.300  1.00  0.00           C  
ATOM    987  CG  ASN B  28      76.800  53.500  50.600  1.00  0.00           C  
ATOM    988  OD1 ASN B  28      76.100  53.400  49.600  1.00  0.00           O  
ATOM    989  ND2 ASN B  28      77.400  52.500  51.100  1.00  0.00           N  
ATOM    990  C   ASN B  28      76.300  56.600  52.800  1.00  0.00           C  
ATOM    991  O   ASN B  28      76.800  56.500  53.900  1.00  0.00           O  
ATOM    992  N   SER B  29      76.200  57.800  52.200  1.00  0.00           N  
ATOM    993  CA  SER B  29      76.400  59.000  52.900  1.00  0.00           C  
ATOM    994  CB  SER B  29      76.600  60.000  51.700  1.00  0.00           C  
ATOM    995  OG  SER B  29      75.400  60.100  50.900  1.00  0.00           O  
ATOM    996  C   SER B  29      75.400  59.700  53.800  1.00  0.00           C  
ATOM    997  O   SER B  29      75.500  60.800  54.300  1.00  0.00           O  
ATOM    998  N   LYS B  30      74.300  58.900  54.000  1.00  0.00           N  
ATOM    999  CA  LYS B  30      73.200  59.400  54.900  1.00  0.00           C  
ATOM   1000  CB  LYS B  30      72.000  58.600  54.600  1.00  0.00           C  
ATOM   1001  CG  LYS B  30      71.200  58.900  53.300  1.00  0.00           C  
ATOM   1002  CD  LYS B  30      69.800  58.300  53.100  1.00  0.00           C  
ATOM   1003  CE  LYS B  30      68.900  59.000  52.100  1.00  0.00           C  
ATOM   1004  NZ  LYS B  30      69.300  58.500  50.800  1.00  0.00           N1+
ATOM   1005  C   LYS B  30      73.600  59.400  56.300  1.00  0.00           C  
ATOM   1006  O   LYS B  30      74.300  58.500  56.700  1.00  0.00           O  
ATOM   1007  N   GLN B  31      72.900  60.300  57.100  1.00  0.00           N  
ATOM   1008  CA  GLN B  31      73.500  60.500  58.400  1.00  0.00           C  
ATOM   1009  CB  GLN B  31      72.900  61.800  59.000  1.00  0.00           C  
ATOM   1010  CG  GLN B  31      73.400  63.100  58.300  1.00  0.00           C  
ATOM   1011  CD  GLN B  31      72.900  64.300  59.000  1.00  0.00           C  
ATOM   1012  OE1 GLN B  31      72.400  65.200  58.500  1.00  0.00           O  
ATOM   1013  NE2 GLN B  31      73.500  64.500  60.200  1.00  0.00           N  
ATOM   1014  C   GLN B  31      73.300  59.300  59.300  1.00  0.00           C  
ATOM   1015  O   GLN B  31      74.200  59.200  60.100  1.00  0.00           O  
ATOM   1016  N   LYS B  32      72.300  58.500  59.100  1.00  0.00           N  
ATOM   1017  CA  LYS B  32      72.000  57.300  59.800  1.00  0.00           C  
ATOM   1018  CB  LYS B  32      70.800  56.700  59.400  1.00  0.00           C  
ATOM   1019  CG  LYS B  32      70.500  56.300  57.900  1.00  0.00           C  
ATOM   1020  CD  LYS B  32      69.100  55.800  57.600  1.00  0.00           C  
ATOM   1021  CE  LYS B  32      68.600  55.600  56.200  1.00  0.00           C  
ATOM   1022  NZ  LYS B  32      67.400  54.800  56.100  1.00  0.00           N1+
ATOM   1023  C   LYS B  32      73.200  56.200  59.800  1.00  0.00           C  
ATOM   1024  O   LYS B  32      73.200  55.400  60.800  1.00  0.00           O  
ATOM   1025  N   VAL B  33      74.100  56.400  58.800  1.00  0.00           N  
ATOM   1026  CA  VAL B  33      75.300  55.600  58.700  1.00  0.00           C  
ATOM   1027  CB  VAL B  33      75.500  55.100  57.300  1.00  0.00           C  
ATOM   1028  CG1 VAL B  33      76.600  54.000  57.400  1.00  0.00           C  
ATOM   1029  CG2 VAL B  33      74.200  54.500  56.700  1.00  0.00           C  
ATOM   1030  C   VAL B  33      76.500  56.500  59.000  1.00  0.00           C  
ATOM   1031  O   VAL B  33      77.300  56.200  59.800  1.00  0.00           O  
ATOM   1032  N   GLN B  34      76.500  57.800  58.600  1.00  0.00           N  
ATOM   1033  CA  GLN B  34      77.700  58.600  58.800  1.00  0.00           C  
ATOM   1034  CB  GLN B  34      77.800  59.900  57.800  1.00  0.00           C  
ATOM   1035  CG  GLN B  34      78.400  59.400  56.600  1.00  0.00           C  
ATOM   1036  CD  GLN B  34      79.900  59.500  56.600  1.00  0.00           C  
ATOM   1037  OE1 GLN B  34      80.500  60.200  57.500  1.00  0.00           O  
ATOM   1038  NE2 GLN B  34      80.800  59.000  55.700  1.00  0.00           N  
ATOM   1039  C   GLN B  34      77.900  59.100  60.300  1.00  0.00           C  
ATOM   1040  O   GLN B  34      79.100  59.400  60.700  1.00  0.00           O  
ATOM   1041  N   MET B  35      76.900  59.000  61.100  1.00  0.00           N  
ATOM   1042  CA  MET B  35      77.000  59.300  62.500  1.00  0.00           C  
ATOM   1043  CB  MET B  35      76.100  60.400  62.900  1.00  0.00           C  
ATOM   1044  CG  MET B  35      76.400  61.700  62.200  1.00  0.00           C  
ATOM   1045  SD  MET B  35      76.000  62.000  60.400  1.00  0.00           S  
ATOM   1046  CE  MET B  35      77.200  63.300  60.200  1.00  0.00           C  
ATOM   1047  C   MET B  35      76.900  58.100  63.300  1.00  0.00           C  
ATOM   1048  O   MET B  35      76.500  58.000  64.400  1.00  0.00           O  
ATOM   1049  N   SER B  36      77.000  56.900  62.700  1.00  0.00           N  
ATOM   1050  CA  SER B  36      76.800  55.700  63.400  1.00  0.00           C  
ATOM   1051  CB  SER B  36      76.800  54.500  62.400  1.00  0.00           C  
ATOM   1052  OG  SER B  36      78.000  54.300  61.700  1.00  0.00           O  
ATOM   1053  C   SER B  36      77.700  55.400  64.500  1.00  0.00           C  
ATOM   1054  O   SER B  36      77.300  55.100  65.600  1.00  0.00           O  
ATOM   1055  N   ILE B  37      79.100  55.600  64.400  1.00  0.00           N  
ATOM   1056  CA  ILE B  37      80.000  55.400  65.300  1.00  0.00           C  
ATOM   1057  CB  ILE B  37      81.500  55.400  64.800  1.00  0.00           C  
ATOM   1058  CG2 ILE B  37      82.500  55.100  65.900  1.00  0.00           C  
ATOM   1059  CG1 ILE B  37      81.700  54.400  63.700  1.00  0.00           C  
ATOM   1060  CD  ILE B  37      81.200  53.000  63.900  1.00  0.00           C  
ATOM   1061  C   ILE B  37      80.000  56.400  66.400  1.00  0.00           C  
ATOM   1062  O   ILE B  37      80.000  56.200  67.600  1.00  0.00           O  
ATOM   1063  N   HIS B  38      79.700  57.700  66.100  1.00  0.00           N  
ATOM   1064  CA  HIS B  38      79.400  58.800  67.000  1.00  0.00           C  
ATOM   1065  CB  HIS B  38      79.000  60.100  66.100  1.00  0.00           C  
ATOM   1066  CG  HIS B  38      80.000  60.600  65.100  1.00  0.00           C  
ATOM   1067  ND1 HIS B  38      80.700  59.800  64.100  1.00  0.00           N  
ATOM   1068  CE1 HIS B  38      81.400  60.600  63.400  1.00  0.00           C  
ATOM   1069  NE2 HIS B  38      81.200  61.900  63.800  1.00  0.00           N  
ATOM   1070  CD2 HIS B  38      80.300  61.800  64.900  1.00  0.00           C  
ATOM   1071  C   HIS B  38      78.300  58.400  68.000  1.00  0.00           C  
ATOM   1072  O   HIS B  38      78.400  58.600  69.200  1.00  0.00           O  
ATOM   1073  N   GLN B  39      77.200  58.000  67.400  1.00  0.00           N  
ATOM   1074  CA  GLN B  39      76.000  57.400  68.200  1.00  0.00           C  
ATOM   1075  CB  GLN B  39      74.800  57.000  67.200  1.00  0.00           C  
ATOM   1076  CG  GLN B  39      74.200  58.300  66.700  1.00  0.00           C  
ATOM   1077  CD  GLN B  39      73.000  58.000  65.700  1.00  0.00           C  
ATOM   1078  OE1 GLN B  39      72.400  56.900  65.500  1.00  0.00           O  
ATOM   1079  NE2 GLN B  39      72.700  59.100  65.100  1.00  0.00           N  
ATOM   1080  C   GLN B  39      76.400  56.300  69.100  1.00  0.00           C  
ATOM   1081  O   GLN B  39      76.000  56.400  70.300  1.00  0.00           O  
ATOM   1082  N   PHE B  40      77.100  55.300  68.500  1.00  0.00           N  
ATOM   1083  CA  PHE B  40      77.400  54.200  69.600  1.00  0.00           C  
ATOM   1084  CB  PHE B  40      78.000  53.000  68.800  1.00  0.00           C  
ATOM   1085  CG  PHE B  40      77.300  52.400  67.700  1.00  0.00           C  
ATOM   1086  CD1 PHE B  40      75.900  52.600  67.300  1.00  0.00           C  
ATOM   1087  CE1 PHE B  40      75.400  52.200  66.100  1.00  0.00           C  
ATOM   1088  CZ  PHE B  40      76.100  51.800  65.200  1.00  0.00           C  
ATOM   1089  CE2 PHE B  40      77.600  51.600  65.400  1.00  0.00           C  
ATOM   1090  CD2 PHE B  40      78.100  52.000  66.600  1.00  0.00           C  
ATOM   1091  C   PHE B  40      78.300  54.700  70.500  1.00  0.00           C  
ATOM   1092  O   PHE B  40      78.300  54.400  71.700  1.00  0.00           O  
ATOM   1093  N   THR B  41      79.200  55.600  70.300  1.00  0.00           N  
ATOM   1094  CA  THR B  41      80.300  56.100  71.100  1.00  0.00           C  
ATOM   1095  CB  THR B  41      81.200  57.200  70.500  1.00  0.00           C  
ATOM   1096  CG2 THR B  41      82.200  57.800  71.500  1.00  0.00           C  
ATOM   1097  OG1 THR B  41      81.900  56.500  69.600  1.00  0.00           O  
ATOM   1098  C   THR B  41      79.600  56.900  72.400  1.00  0.00           C  
ATOM   1099  O   THR B  41      79.800  56.400  73.500  1.00  0.00           O  
ATOM   1100  N   ASN B  42      78.800  57.900  72.100  1.00  0.00           N  
ATOM   1101  CA  ASN B  42      77.900  58.500  73.100  1.00  0.00           C  
ATOM   1102  CB  ASN B  42      77.200  59.600  72.300  1.00  0.00           C  
ATOM   1103  CG  ASN B  42      76.400  60.500  73.300  1.00  0.00           C  
ATOM   1104  OD1 ASN B  42      76.900  61.000  74.200  1.00  0.00           O  
ATOM   1105  ND2 ASN B  42      75.200  60.900  72.900  1.00  0.00           N  
ATOM   1106  C   ASN B  42      77.000  57.500  73.900  1.00  0.00           C  
ATOM   1107  O   ASN B  42      76.700  57.900  75.000  1.00  0.00           O  
ATOM   1108  N   ILE B  43      76.600  56.300  73.400  1.00  0.00           N  
ATOM   1109  CA  ILE B  43      76.200  55.200  74.200  1.00  0.00           C  
ATOM   1110  CB  ILE B  43      75.300  54.300  73.500  1.00  0.00           C  
ATOM   1111  CG2 ILE B  43      74.700  53.200  74.400  1.00  0.00           C  
ATOM   1112  CG1 ILE B  43      74.200  55.000  72.700  1.00  0.00           C  
ATOM   1113  CD  ILE B  43      73.500  54.000  71.600  1.00  0.00           C  
ATOM   1114  C   ILE B  43      77.300  54.700  75.100  1.00  0.00           C  
ATOM   1115  O   ILE B  43      77.200  55.000  76.300  1.00  0.00           O  
ATOM   1116  N   CYS B  44      78.200  53.900  74.600  1.00  0.00           N  
ATOM   1117  CA  CYS B  44      79.300  53.200  75.300  1.00  0.00           C  
ATOM   1118  CB  CYS B  44      80.000  52.400  74.300  1.00  0.00           C  
ATOM   1119  SG  CYS B  44      78.900  51.100  73.300  1.00  0.00           S  
ATOM   1120  C   CYS B  44      80.100  54.000  76.200  1.00  0.00           C  
ATOM   1121  O   CYS B  44      80.300  53.500  77.300  1.00  0.00           O  
ATOM   1122  N   PHE B  45      80.300  55.200  76.000  1.00  0.00           N  
ATOM   1123  CA  PHE B  45      81.100  56.200  76.900  1.00  0.00           C  
ATOM   1124  CB  PHE B  45      81.400  57.400  76.100  1.00  0.00           C  
ATOM   1125  CG  PHE B  45      82.300  58.300  76.900  1.00  0.00           C  
ATOM   1126  CD1 PHE B  45      83.700  58.000  76.800  1.00  0.00           C  
ATOM   1127  CE1 PHE B  45      84.500  58.900  77.600  1.00  0.00           C  
ATOM   1128  CZ  PHE B  45      84.000  60.000  78.300  1.00  0.00           C  
ATOM   1129  CE2 PHE B  45      82.600  60.100  78.400  1.00  0.00           C  
ATOM   1130  CD2 PHE B  45      81.700  59.200  77.800  1.00  0.00           C  
ATOM   1131  C   PHE B  45      80.300  56.400  78.100  1.00  0.00           C  
ATOM   1132  O   PHE B  45      80.800  56.000  79.200  1.00  0.00           O  
ATOM   1133  N   LYS B  46      79.000  56.800  78.000  1.00  0.00           N  
ATOM   1134  CA  LYS B  46      78.200  57.000  79.300  1.00  0.00           C  
ATOM   1135  CB  LYS B  46      77.000  57.900  78.900  1.00  0.00           C  
ATOM   1136  CG  LYS B  46      77.200  59.400  78.900  1.00  0.00           C  
ATOM   1137  CD  LYS B  46      75.800  60.200  78.700  1.00  0.00           C  
ATOM   1138  CE  LYS B  46      75.900  61.600  79.100  1.00  0.00           C  
ATOM   1139  NZ  LYS B  46      74.800  62.400  78.500  1.00  0.00           N1+
ATOM   1140  C   LYS B  46      78.000  55.700  80.000  1.00  0.00           C  
ATOM   1141  O   LYS B  46      77.800  55.700  81.200  1.00  0.00           O  
ATOM   1142  N   LYS B  47      78.000  54.500  79.400  1.00  0.00           N  
ATOM   1143  CA  LYS B  47      77.900  53.300  80.000  1.00  0.00           C  
ATOM   1144  CB  LYS B  47      77.600  52.100  79.100  1.00  0.00           C  
ATOM   1145  CG  LYS B  47      76.000  52.200  78.800  1.00  0.00           C  
ATOM   1146  CD  LYS B  47      75.600  51.200  77.700  1.00  0.00           C  
ATOM   1147  CE  LYS B  47      74.200  51.500  77.300  1.00  0.00           C  
ATOM   1148  NZ  LYS B  47      73.200  51.600  78.300  1.00  0.00           N1+
ATOM   1149  C   LYS B  47      79.200  53.000  80.900  1.00  0.00           C  
ATOM   1150  O   LYS B  47      79.200  52.800  82.100  1.00  0.00           O  
ATOM   1151  N   CYS B  48      80.400  53.000  80.200  1.00  0.00           N  
ATOM   1152  CA  CYS B  48      81.700  52.400  80.600  1.00  0.00           C  
ATOM   1153  CB  CYS B  48      82.500  51.800  79.500  1.00  0.00           C  
ATOM   1154  SG  CYS B  48      81.700  50.400  78.500  1.00  0.00           S  
ATOM   1155  C   CYS B  48      82.600  53.400  81.200  1.00  0.00           C  
ATOM   1156  O   CYS B  48      83.400  52.900  82.100  1.00  0.00           O  
ATOM   1157  N   VAL B  49      82.600  54.700  80.900  1.00  0.00           N  
ATOM   1158  CA  VAL B  49      83.500  55.700  81.500  1.00  0.00           C  
ATOM   1159  CB  VAL B  49      84.300  56.300  80.400  1.00  0.00           C  
ATOM   1160  CG1 VAL B  49      85.300  57.400  80.900  1.00  0.00           C  
ATOM   1161  CG2 VAL B  49      85.100  55.300  79.600  1.00  0.00           C  
ATOM   1162  C   VAL B  49      82.800  56.700  82.400  1.00  0.00           C  
ATOM   1163  O   VAL B  49      82.100  57.500  81.900  1.00  0.00           O  
ATOM   1164  N   GLU B  50      83.100  56.600  83.700  1.00  0.00           N  
ATOM   1165  CA  GLU B  50      82.400  57.300  84.800  1.00  0.00           C  
ATOM   1166  CB  GLU B  50      82.000  56.100  85.800  1.00  0.00           C  
ATOM   1167  CG  GLU B  50      81.100  56.600  86.900  1.00  0.00           C  
ATOM   1168  CD  GLU B  50      80.800  55.700  88.000  1.00  0.00           C  
ATOM   1169  OE1 GLU B  50      80.300  56.100  89.100  1.00  0.00           O  
ATOM   1170  OE2 GLU B  50      80.900  54.500  87.900  1.00  0.00           O1-
ATOM   1171  C   GLU B  50      83.100  58.500  85.300  1.00  0.00           C  
ATOM   1172  O   GLU B  50      82.600  59.300  86.000  1.00  0.00           O  
ATOM   1173  N   SER B  51      84.400  58.600  85.100  1.00  0.00           N  
ATOM   1174  CA  SER B  51      85.300  59.600  85.700  1.00  0.00           C  
ATOM   1175  CB  SER B  51      85.900  59.000  87.000  1.00  0.00           C  
ATOM   1176  OG  SER B  51      85.400  59.400  88.200  1.00  0.00           O  
ATOM   1177  C   SER B  51      86.400  60.000  84.800  1.00  0.00           C  
ATOM   1178  O   SER B  51      86.600  59.300  83.800  1.00  0.00           O  
ATOM   1179  N   VAL B  52      86.900  61.100  85.000  1.00  0.00           N  
ATOM   1180  CA  VAL B  52      88.200  61.600  84.300  1.00  0.00           C  
ATOM   1181  CB  VAL B  52      87.600  62.700  83.300  1.00  0.00           C  
ATOM   1182  CG1 VAL B  52      88.700  63.400  82.600  1.00  0.00           C  
ATOM   1183  CG2 VAL B  52      86.700  62.200  82.200  1.00  0.00           C  
ATOM   1184  C   VAL B  52      89.200  62.100  85.200  1.00  0.00           C  
ATOM   1185  O   VAL B  52      89.200  62.900  86.100  1.00  0.00           O  
ATOM   1186  N   ASN B  53      90.400  61.300  85.000  1.00  0.00           N  
ATOM   1187  CA  ASN B  53      91.600  61.500  85.700  1.00  0.00           C  
ATOM   1188  CB  ASN B  53      91.800  60.600  86.800  1.00  0.00           C  
ATOM   1189  CG  ASN B  53      90.700  60.500  87.900  1.00  0.00           C  
ATOM   1190  OD1 ASN B  53      89.700  59.800  87.800  1.00  0.00           O  
ATOM   1191  ND2 ASN B  53      91.000  61.300  88.900  1.00  0.00           N  
ATOM   1192  C   ASN B  53      92.800  61.600  84.700  1.00  0.00           C  
ATOM   1193  O   ASN B  53      93.800  62.200  84.900  1.00  0.00           O  
ATOM   1194  N   ASP B  54      92.700  60.900  83.500  1.00  0.00           N  
ATOM   1195  CA  ASP B  54      93.700  60.700  82.600  1.00  0.00           C  
ATOM   1196  CB  ASP B  54      94.700  59.800  83.200  1.00  0.00           C  
ATOM   1197  CG  ASP B  54      94.200  58.500  83.900  1.00  0.00           C  
ATOM   1198  OD1 ASP B  54      93.000  58.100  83.800  1.00  0.00           O  
ATOM   1199  OD2 ASP B  54      94.900  57.900  84.600  1.00  0.00           O1-
ATOM   1200  C   ASP B  54      93.200  60.300  81.200  1.00  0.00           C  
ATOM   1201  O   ASP B  54      92.000  60.100  81.100  1.00  0.00           O  
ATOM   1202  N   SER B  55      94.000  60.300  80.200  1.00  0.00           N  
ATOM   1203  CA  SER B  55      93.700  60.200  78.800  1.00  0.00           C  
ATOM   1204  CB  SER B  55      94.600  61.100  78.000  1.00  0.00           C  
ATOM   1205  OG  SER B  55      96.000  60.800  78.200  1.00  0.00           O  
ATOM   1206  C   SER B  55      93.800  58.800  78.300  1.00  0.00           C  
ATOM   1207  O   SER B  55      93.400  58.400  77.300  1.00  0.00           O  
ATOM   1208  N   ASN B  56      94.300  57.800  79.200  1.00  0.00           N  
ATOM   1209  CA  ASN B  56      94.300  56.400  79.100  1.00  0.00           C  
ATOM   1210  CB  ASN B  56      95.400  55.800  79.900  1.00  0.00           C  
ATOM   1211  CG  ASN B  56      96.800  56.300  79.800  1.00  0.00           C  
ATOM   1212  OD1 ASN B  56      97.000  57.300  79.100  1.00  0.00           O  
ATOM   1213  ND2 ASN B  56      97.900  55.800  80.300  1.00  0.00           N  
ATOM   1214  C   ASN B  56      92.900  55.800  79.300  1.00  0.00           C  
ATOM   1215  O   ASN B  56      92.200  56.400  80.100  1.00  0.00           O  
ATOM   1216  N   LEU B  57      92.700  54.700  78.800  1.00  0.00           N  
ATOM   1217  CA  LEU B  57      91.600  53.800  79.300  1.00  0.00           C  
ATOM   1218  CB  LEU B  57      90.700  53.100  78.300  1.00  0.00           C  
ATOM   1219  CG  LEU B  57      90.000  54.100  77.400  1.00  0.00           C  
ATOM   1220  CD1 LEU B  57      89.600  53.400  76.100  1.00  0.00           C  
ATOM   1221  CD2 LEU B  57      88.600  54.700  78.000  1.00  0.00           C  
ATOM   1222  C   LEU B  57      92.300  52.800  80.200  1.00  0.00           C  
ATOM   1223  O   LEU B  57      93.300  52.300  79.900  1.00  0.00           O  
ATOM   1224  N   SER B  58      91.600  52.400  81.200  1.00  0.00           N  
ATOM   1225  CA  SER B  58      91.900  51.100  81.900  1.00  0.00           C  
ATOM   1226  CB  SER B  58      91.100  51.100  83.100  1.00  0.00           C  
ATOM   1227  OG  SER B  58      89.700  50.600  82.900  1.00  0.00           O  
ATOM   1228  C   SER B  58      91.700  49.900  81.000  1.00  0.00           C  
ATOM   1229  O   SER B  58      90.900  49.800  80.100  1.00  0.00           O  
ATOM   1230  N   SER B  59      92.300  48.800  81.600  1.00  0.00           N  
ATOM   1231  CA  SER B  59      92.100  47.400  81.000  1.00  0.00           C  
ATOM   1232  CB  SER B  59      92.900  46.500  81.800  1.00  0.00           C  
ATOM   1233  OG  SER B  59      92.600  46.400  83.200  1.00  0.00           O  
ATOM   1234  C   SER B  59      90.600  47.100  81.000  1.00  0.00           C  
ATOM   1235  O   SER B  59      90.200  46.800  79.800  1.00  0.00           O  
ATOM   1236  N   GLN B  60      89.800  47.200  82.000  1.00  0.00           N  
ATOM   1237  CA  GLN B  60      88.400  47.100  82.000  1.00  0.00           C  
ATOM   1238  CB  GLN B  60      87.900  47.200  83.400  1.00  0.00           C  
ATOM   1239  CG  GLN B  60      88.000  48.500  84.200  1.00  0.00           C  
ATOM   1240  CD  GLN B  60      87.400  48.300  85.600  1.00  0.00           C  
ATOM   1241  OE1 GLN B  60      86.800  47.400  86.100  1.00  0.00           O  
ATOM   1242  NE2 GLN B  60      87.600  49.400  86.500  1.00  0.00           N  
ATOM   1243  C   GLN B  60      87.600  48.000  81.100  1.00  0.00           C  
ATOM   1244  O   GLN B  60      86.600  47.500  80.600  1.00  0.00           O  
ATOM   1245  N   GLU B  61      88.000  49.200  81.000  1.00  0.00           N  
ATOM   1246  CA  GLU B  61      87.100  50.100  80.200  1.00  0.00           C  
ATOM   1247  CB  GLU B  61      87.500  51.500  80.400  1.00  0.00           C  
ATOM   1248  CG  GLU B  61      87.000  52.200  81.700  1.00  0.00           C  
ATOM   1249  CD  GLU B  61      87.500  53.500  82.000  1.00  0.00           C  
ATOM   1250  OE1 GLU B  61      87.000  54.100  83.100  1.00  0.00           O  
ATOM   1251  OE2 GLU B  61      88.400  54.200  81.400  1.00  0.00           O1-
ATOM   1252  C   GLU B  61      87.300  49.900  78.700  1.00  0.00           C  
ATOM   1253  O   GLU B  61      86.300  49.800  78.000  1.00  0.00           O  
ATOM   1254  N   GLU B  62      88.600  49.500  78.200  1.00  0.00           N  
ATOM   1255  CA  GLU B  62      88.800  48.900  76.900  1.00  0.00           C  
ATOM   1256  CB  GLU B  62      90.300  48.700  76.700  1.00  0.00           C  
ATOM   1257  CG  GLU B  62      91.000  50.000  76.500  1.00  0.00           C  
ATOM   1258  CD  GLU B  62      92.400  49.900  76.000  1.00  0.00           C  
ATOM   1259  OE1 GLU B  62      93.100  50.800  75.900  1.00  0.00           O  
ATOM   1260  OE2 GLU B  62      92.800  48.800  75.400  1.00  0.00           O1-
ATOM   1261  C   GLU B  62      88.100  47.600  76.500  1.00  0.00           C  
ATOM   1262  O   GLU B  62      87.700  47.500  75.400  1.00  0.00           O  
ATOM   1263  N   GLN B  63      87.900  46.800  77.600  1.00  0.00           N  
ATOM   1264  CA  GLN B  63      87.100  45.500  77.400  1.00  0.00           C  
ATOM   1265  CB  GLN B  63      87.300  44.600  78.500  1.00  0.00           C  
ATOM   1266  CG  GLN B  63      88.800  44.000  78.500  1.00  0.00           C  
ATOM   1267  CD  GLN B  63      89.300  43.200  79.700  1.00  0.00           C  
ATOM   1268  OE1 GLN B  63      88.800  42.300  80.100  1.00  0.00           O  
ATOM   1269  NE2 GLN B  63      90.500  43.800  80.200  1.00  0.00           N  
ATOM   1270  C   GLN B  63      85.600  45.800  77.200  1.00  0.00           C  
ATOM   1271  O   GLN B  63      84.900  45.300  76.500  1.00  0.00           O  
ATOM   1272  N   CYS B  64      85.100  46.700  78.100  1.00  0.00           N  
ATOM   1273  CA  CYS B  64      83.700  47.200  78.100  1.00  0.00           C  
ATOM   1274  CB  CYS B  64      83.500  48.100  79.400  1.00  0.00           C  
ATOM   1275  SG  CYS B  64      81.900  48.700  79.700  1.00  0.00           S  
ATOM   1276  C   CYS B  64      83.200  48.000  77.000  1.00  0.00           C  
ATOM   1277  O   CYS B  64      82.200  47.700  76.400  1.00  0.00           O  
ATOM   1278  N   LEU B  65      84.000  49.000  76.500  1.00  0.00           N  
ATOM   1279  CA  LEU B  65      83.900  49.600  75.200  1.00  0.00           C  
ATOM   1280  CB  LEU B  65      85.000  50.600  75.000  1.00  0.00           C  
ATOM   1281  CG  LEU B  65      84.900  51.800  75.900  1.00  0.00           C  
ATOM   1282  CD1 LEU B  65      86.200  52.700  75.900  1.00  0.00           C  
ATOM   1283  CD2 LEU B  65      83.700  52.700  75.600  1.00  0.00           C  
ATOM   1284  C   LEU B  65      83.700  48.600  74.100  1.00  0.00           C  
ATOM   1285  O   LEU B  65      82.700  48.700  73.300  1.00  0.00           O  
ATOM   1286  N   SER B  66      84.600  47.800  73.800  1.00  0.00           N  
ATOM   1287  CA  SER B  66      84.400  46.900  72.700  1.00  0.00           C  
ATOM   1288  CB  SER B  66      85.800  46.100  72.300  1.00  0.00           C  
ATOM   1289  OG  SER B  66      86.300  45.800  73.500  1.00  0.00           O  
ATOM   1290  C   SER B  66      83.300  45.900  72.700  1.00  0.00           C  
ATOM   1291  O   SER B  66      82.600  45.700  71.600  1.00  0.00           O  
ATOM   1292  N   ASN B  67      83.000  45.400  73.800  1.00  0.00           N  
ATOM   1293  CA  ASN B  67      81.800  44.600  74.200  1.00  0.00           C  
ATOM   1294  CB  ASN B  67      81.800  43.800  75.500  1.00  0.00           C  
ATOM   1295  CG  ASN B  67      83.100  42.800  75.800  1.00  0.00           C  
ATOM   1296  OD1 ASN B  67      83.900  42.600  74.800  1.00  0.00           O  
ATOM   1297  ND2 ASN B  67      83.100  42.300  76.900  1.00  0.00           N  
ATOM   1298  C   ASN B  67      80.500  45.300  74.000  1.00  0.00           C  
ATOM   1299  O   ASN B  67      79.500  44.800  73.600  1.00  0.00           O  
ATOM   1300  N   CYS B  68      80.400  46.500  74.600  1.00  0.00           N  
ATOM   1301  CA  CYS B  68      79.400  47.400  74.600  1.00  0.00           C  
ATOM   1302  CB  CYS B  68      79.700  48.800  75.100  1.00  0.00           C  
ATOM   1303  SG  CYS B  68      78.300  49.900  74.800  1.00  0.00           S  
ATOM   1304  C   CYS B  68      78.700  47.500  73.200  1.00  0.00           C  
ATOM   1305  O   CYS B  68      77.600  47.000  72.900  1.00  0.00           O  
ATOM   1306  N   VAL B  69      79.400  48.100  72.200  1.00  0.00           N  
ATOM   1307  CA  VAL B  69      78.900  48.300  70.800  1.00  0.00           C  
ATOM   1308  CB  VAL B  69      80.000  49.100  70.100  1.00  0.00           C  
ATOM   1309  CG1 VAL B  69      81.300  48.500  69.900  1.00  0.00           C  
ATOM   1310  CG2 VAL B  69      79.300  49.600  68.800  1.00  0.00           C  
ATOM   1311  C   VAL B  69      78.600  47.000  70.100  1.00  0.00           C  
ATOM   1312  O   VAL B  69      77.600  46.800  69.400  1.00  0.00           O  
ATOM   1313  N   ASN B  70      79.300  45.800  70.400  1.00  0.00           N  
ATOM   1314  CA  ASN B  70      78.800  44.600  69.800  1.00  0.00           C  
ATOM   1315  CB  ASN B  70      80.100  43.600  69.600  1.00  0.00           C  
ATOM   1316  CG  ASN B  70      81.000  44.100  68.500  1.00  0.00           C  
ATOM   1317  OD1 ASN B  70      80.800  44.000  67.400  1.00  0.00           O  
ATOM   1318  ND2 ASN B  70      82.100  44.800  69.000  1.00  0.00           N  
ATOM   1319  C   ASN B  70      77.700  44.000  70.500  1.00  0.00           C  
ATOM   1320  O   ASN B  70      76.900  43.500  69.800  1.00  0.00           O  
ATOM   1321  N   ARG B  71      77.600  44.100  71.900  1.00  0.00           N  
ATOM   1322  CA  ARG B  71      76.300  43.700  72.600  1.00  0.00           C  
ATOM   1323  CB  ARG B  71      76.700  43.500  74.000  1.00  0.00           C  
ATOM   1324  CG  ARG B  71      75.700  42.400  74.700  1.00  0.00           C  
ATOM   1325  CD  ARG B  71      76.200  41.100  74.100  1.00  0.00           C  
ATOM   1326  NE  ARG B  71      77.600  40.700  74.600  1.00  0.00           N  
ATOM   1327  CZ  ARG B  71      78.100  39.500  74.100  1.00  0.00           C  
ATOM   1328  NH1 ARG B  71      77.700  38.800  73.300  1.00  0.00           N1+
ATOM   1329  NH2 ARG B  71      79.200  39.300  74.900  1.00  0.00           N  
ATOM   1330  C   ARG B  71      75.100  44.500  72.200  1.00  0.00           C  
ATOM   1331  O   ARG B  71      74.000  44.000  72.000  1.00  0.00           O  
ATOM   1332  N   PHE B  72      75.300  45.900  72.100  1.00  0.00           N  
ATOM   1333  CA  PHE B  72      74.400  46.700  71.400  1.00  0.00           C  
ATOM   1334  CB  PHE B  72      74.800  48.200  71.400  1.00  0.00           C  
ATOM   1335  CG  PHE B  72      73.800  49.000  70.800  1.00  0.00           C  
ATOM   1336  CD1 PHE B  72      72.600  49.400  71.400  1.00  0.00           C  
ATOM   1337  CE1 PHE B  72      71.700  50.400  70.900  1.00  0.00           C  
ATOM   1338  CZ  PHE B  72      72.000  51.000  69.700  1.00  0.00           C  
ATOM   1339  CE2 PHE B  72      73.100  50.500  68.900  1.00  0.00           C  
ATOM   1340  CD2 PHE B  72      74.100  49.500  69.500  1.00  0.00           C  
ATOM   1341  C   PHE B  72      74.000  46.300  70.000  1.00  0.00           C  
ATOM   1342  O   PHE B  72      72.800  46.000  69.800  1.00  0.00           O  
ATOM   1343  N   LEU B  73      75.000  46.000  69.000  1.00  0.00           N  
ATOM   1344  CA  LEU B  73      74.600  45.600  67.700  1.00  0.00           C  
ATOM   1345  CB  LEU B  73      75.800  45.600  66.800  1.00  0.00           C  
ATOM   1346  CG  LEU B  73      76.200  47.100  66.400  1.00  0.00           C  
ATOM   1347  CD1 LEU B  73      77.600  47.100  65.700  1.00  0.00           C  
ATOM   1348  CD2 LEU B  73      75.300  47.600  65.300  1.00  0.00           C  
ATOM   1349  C   LEU B  73      73.800  44.300  67.600  1.00  0.00           C  
ATOM   1350  O   LEU B  73      72.700  44.200  67.100  1.00  0.00           O  
ATOM   1351  N   ASP B  74      74.300  43.200  68.300  1.00  0.00           N  
ATOM   1352  CA  ASP B  74      73.600  42.000  68.600  1.00  0.00           C  
ATOM   1353  CB  ASP B  74      74.300  41.100  69.500  1.00  0.00           C  
ATOM   1354  CG  ASP B  74      75.700  40.600  69.000  1.00  0.00           C  
ATOM   1355  OD1 ASP B  74      75.900  40.700  67.800  1.00  0.00           O  
ATOM   1356  OD2 ASP B  74      76.300  39.900  69.700  1.00  0.00           O1-
ATOM   1357  C   ASP B  74      72.100  42.200  69.300  1.00  0.00           C  
ATOM   1358  O   ASP B  74      71.300  41.500  68.700  1.00  0.00           O  
ATOM   1359  N   THR B  75      72.000  43.200  70.100  1.00  0.00           N  
ATOM   1360  CA  THR B  75      70.600  43.500  70.700  1.00  0.00           C  
ATOM   1361  CB  THR B  75      70.600  44.500  71.800  1.00  0.00           C  
ATOM   1362  CG2 THR B  75      69.300  44.800  72.400  1.00  0.00           C  
ATOM   1363  OG1 THR B  75      71.400  43.900  72.900  1.00  0.00           O  
ATOM   1364  C   THR B  75      69.700  44.000  69.500  1.00  0.00           C  
ATOM   1365  O   THR B  75      68.700  43.500  69.500  1.00  0.00           O  
ATOM   1366  N   ASN B  76      70.200  45.000  68.800  1.00  0.00           N  
ATOM   1367  CA  ASN B  76      69.300  45.500  67.700  1.00  0.00           C  
ATOM   1368  CB  ASN B  76      70.200  46.600  67.000  1.00  0.00           C  
ATOM   1369  CG  ASN B  76      70.300  48.000  67.700  1.00  0.00           C  
ATOM   1370  OD1 ASN B  76      69.500  48.900  67.600  1.00  0.00           O  
ATOM   1371  ND2 ASN B  76      71.300  48.000  68.600  1.00  0.00           N  
ATOM   1372  C   ASN B  76      69.000  44.500  66.600  1.00  0.00           C  
ATOM   1373  O   ASN B  76      67.900  44.300  66.100  1.00  0.00           O  
ATOM   1374  N   ILE B  77      69.900  43.500  66.500  1.00  0.00           N  
ATOM   1375  CA  ILE B  77      69.600  42.400  65.500  1.00  0.00           C  
ATOM   1376  CB  ILE B  77      70.900  41.700  65.200  1.00  0.00           C  
ATOM   1377  CG2 ILE B  77      70.700  40.200  64.600  1.00  0.00           C  
ATOM   1378  CG1 ILE B  77      71.700  42.400  64.300  1.00  0.00           C  
ATOM   1379  CD  ILE B  77      73.100  42.000  63.800  1.00  0.00           C  
ATOM   1380  C   ILE B  77      68.600  41.500  66.100  1.00  0.00           C  
ATOM   1381  O   ILE B  77      67.700  41.000  65.300  1.00  0.00           O  
ATOM   1382  N   ARG B  78      68.700  41.100  67.300  1.00  0.00           N  
ATOM   1383  CA  ARG B  78      67.700  40.300  68.000  1.00  0.00           C  
ATOM   1384  CB  ARG B  78      68.200  40.000  69.400  1.00  0.00           C  
ATOM   1385  CG  ARG B  78      67.500  39.000  70.200  1.00  0.00           C  
ATOM   1386  CD  ARG B  78      68.200  38.000  71.100  1.00  0.00           C  
ATOM   1387  NE  ARG B  78      67.200  37.100  71.700  1.00  0.00           N  
ATOM   1388  CZ  ARG B  78      67.200  35.800  71.700  1.00  0.00           C  
ATOM   1389  NH1 ARG B  78      68.200  35.100  71.200  1.00  0.00           N1+
ATOM   1390  NH2 ARG B  78      66.400  35.100  72.400  1.00  0.00           N  
ATOM   1391  C   ARG B  78      66.300  41.000  68.100  1.00  0.00           C  
ATOM   1392  O   ARG B  78      65.300  40.300  68.400  1.00  0.00           O  
ATOM   1393  N   ILE B  79      66.200  42.300  68.100  1.00  0.00           N  
ATOM   1394  CA  ILE B  79      65.000  43.000  68.000  1.00  0.00           C  
ATOM   1395  CB  ILE B  79      65.100  44.500  68.500  1.00  0.00           C  
ATOM   1396  CG2 ILE B  79      63.800  45.200  68.200  1.00  0.00           C  
ATOM   1397  CG1 ILE B  79      65.400  44.700  69.900  1.00  0.00           C  
ATOM   1398  CD  ILE B  79      64.600  43.900  71.000  1.00  0.00           C  
ATOM   1399  C   ILE B  79      64.500  42.800  66.600  1.00  0.00           C  
ATOM   1400  O   ILE B  79      63.200  42.600  66.500  1.00  0.00           O  
ATOM   1401  N   VAL B  80      65.200  43.100  65.500  1.00  0.00           N  
ATOM   1402  CA  VAL B  80      64.900  42.900  64.200  1.00  0.00           C  
ATOM   1403  CB  VAL B  80      66.000  43.100  63.300  1.00  0.00           C  
ATOM   1404  CG1 VAL B  80      65.900  42.800  61.800  1.00  0.00           C  
ATOM   1405  CG2 VAL B  80      66.200  44.600  63.300  1.00  0.00           C  
ATOM   1406  C   VAL B  80      64.300  41.500  64.000  1.00  0.00           C  
ATOM   1407  O   VAL B  80      63.300  41.400  63.300  1.00  0.00           O  
ATOM   1408  N   ASN B  81      64.800  40.500  64.700  1.00  0.00           N  
ATOM   1409  CA  ASN B  81      64.200  39.100  64.500  1.00  0.00           C  
ATOM   1410  CB  ASN B  81      65.400  38.200  65.100  1.00  0.00           C  
ATOM   1411  CG  ASN B  81      66.600  38.000  64.200  1.00  0.00           C  
ATOM   1412  OD1 ASN B  81      66.700  38.500  63.000  1.00  0.00           O  
ATOM   1413  ND2 ASN B  81      67.500  37.200  64.700  1.00  0.00           N  
ATOM   1414  C   ASN B  81      62.900  39.100  65.300  1.00  0.00           C  
ATOM   1415  O   ASN B  81      62.100  38.200  64.900  1.00  0.00           O  
ATOM   1416  N   GLY B  82      62.700  39.900  66.200  1.00  0.00           N  
ATOM   1417  CA  GLY B  82      61.500  39.800  67.100  1.00  0.00           C  
ATOM   1418  C   GLY B  82      60.300  40.700  66.500  1.00  0.00           C  
ATOM   1419  O   GLY B  82      59.100  40.300  66.700  1.00  0.00           O  
ATOM   1420  N   LEU B  83      60.600  41.600  65.600  1.00  0.00           N  
ATOM   1421  CA  LEU B  83      59.600  42.500  65.000  1.00  0.00           C  
ATOM   1422  CB  LEU B  83      60.100  43.900  64.700  1.00  0.00           C  
ATOM   1423  CG  LEU B  83      60.200  44.700  66.100  1.00  0.00           C  
ATOM   1424  CD1 LEU B  83      60.900  46.000  65.800  1.00  0.00           C  
ATOM   1425  CD2 LEU B  83      58.800  45.000  66.600  1.00  0.00           C  
ATOM   1426  C   LEU B  83      59.200  42.000  63.600  1.00  0.00           C  
ATOM   1427  O   LEU B  83      58.200  42.500  63.100  1.00  0.00           O  
ATOM   1428  N   GLN B  84      59.900  41.000  63.000  1.00  0.00           N  
ATOM   1429  CA  GLN B  84      59.300  40.200  62.000  1.00  0.00           C  
ATOM   1430  CB  GLN B  84      60.400  39.900  60.900  1.00  0.00           C  
ATOM   1431  CG  GLN B  84      61.400  39.000  61.500  1.00  0.00           C  
ATOM   1432  CD  GLN B  84      62.600  38.600  60.600  1.00  0.00           C  
ATOM   1433  OE1 GLN B  84      62.600  37.700  59.800  1.00  0.00           O  
ATOM   1434  NE2 GLN B  84      63.800  39.300  60.600  1.00  0.00           N  
ATOM   1435  C   GLN B  84      58.900  38.900  62.700  1.00  0.00           C  
ATOM   1436  O   GLN B  84      59.200  38.500  63.800  1.00  0.00           O  
ATOM   1437  N   ASN B  85      58.300  38.000  61.800  1.00  0.00           N  
ATOM   1438  CA  ASN B  85      58.100  36.600  62.100  1.00  0.00           C  
ATOM   1439  CB  ASN B  85      56.600  36.200  61.900  1.00  0.00           C  
ATOM   1440  CG  ASN B  85      55.700  36.900  63.000  1.00  0.00           C  
ATOM   1441  OD1 ASN B  85      55.200  38.000  62.800  1.00  0.00           O  
ATOM   1442  ND2 ASN B  85      55.700  36.400  64.200  1.00  0.00           N  
ATOM   1443  C   ASN B  85      59.100  36.000  61.200  1.00  0.00           C  
ATOM   1444  O   ASN B  85      59.000  36.100  59.900  1.00  0.00           O  
ATOM   1445  N   THR B  86      60.100  35.100  61.700  1.00  0.00           N  
ATOM   1446  CA  THR B  86      61.200  34.600  60.900  1.00  0.00           C  
ATOM   1447  CB  THR B  86      62.300  34.300  61.800  1.00  0.00           C  
ATOM   1448  CG2 THR B  86      63.000  35.400  62.500  1.00  0.00           C  
ATOM   1449  OG1 THR B  86      62.000  33.400  62.900  1.00  0.00           O  
ATOM   1450  C   THR B  86      60.800  33.300  60.200  1.00  0.00           C  
ATOM   1451  O   THR B  86      59.700  32.800  60.400  1.00  0.00           O  
ATOM   1452  N   ARG B  87      61.600  32.700  59.300  1.00  0.00           N  
ATOM   1453  CA  ARG B  87      61.400  31.600  58.400  1.00  0.00           C  
ATOM   1454  CB  ARG B  87      62.600  31.100  57.600  1.00  0.00           C  
ATOM   1455  CG  ARG B  87      62.200  30.100  56.700  1.00  0.00           C  
ATOM   1456  CD  ARG B  87      63.400  29.700  55.700  1.00  0.00           C  
ATOM   1457  NE  ARG B  87      63.300  28.400  55.200  1.00  0.00           N  
ATOM   1458  CZ  ARG B  87      62.800  28.200  53.900  1.00  0.00           C  
ATOM   1459  NH1 ARG B  87      62.800  29.100  53.000  1.00  0.00           N1+
ATOM   1460  NH2 ARG B  87      62.600  26.800  53.600  1.00  0.00           N  
ATOM   1461  C   ARG B  87      60.800  30.400  59.200  1.00  0.00           C  
ATOM   1462  OC1 ARG B  87      61.500  29.900  60.200  1.00  0.00           O  
ATOM   1463  OC2 ARG B  87      59.700  29.800  58.800  1.00  0.00           O  
TER   
ATOM   1464  N   GLY C   1      40.400  90.100   0.300  1.00  0.00           N  
ATOM   1465  CA  GLY C   1      41.700  90.500   0.700  1.00  0.00           C  
ATOM   1466  C   GLY C   1      42.500  89.400   1.400  1.00  0.00           C  
ATOM   1467  O   GLY C   1      42.100  88.300   1.500  1.00  0.00           O  
ATOM   1468  N   GLY C   2      43.800  89.800   1.700  1.00  0.00           N  
ATOM   1469  CA  GLY C   2      44.800  88.900   2.100  1.00  0.00           C  
ATOM   1470  C   GLY C   2      45.000  88.800   3.600  1.00  0.00           C  
ATOM   1471  O   GLY C   2      45.300  90.000   4.200  1.00  0.00           O  
ATOM   1472  N   LEU C   3      44.600  87.700   4.300  1.00  0.00           N  
ATOM   1473  CA  LEU C   3      44.600  87.800   5.800  1.00  0.00           C  
ATOM   1474  CB  LEU C   3      43.600  86.700   6.200  1.00  0.00           C  
ATOM   1475  CG  LEU C   3      42.200  86.900   5.700  1.00  0.00           C  
ATOM   1476  CD1 LEU C   3      41.400  85.600   6.200  1.00  0.00           C  
ATOM   1477  CD2 LEU C   3      41.700  88.100   6.300  1.00  0.00           C  
ATOM   1478  C   LEU C   3      45.900  87.800   6.400  1.00  0.00           C  
ATOM   1479  O   LEU C   3      46.800  87.000   5.900  1.00  0.00           O  
ATOM   1480  N   SER C   4      46.200  88.300   7.600  1.00  0.00           N  
ATOM   1481  CA  SER C   4      47.500  88.400   8.200  1.00  0.00           C  
ATOM   1482  CB  SER C   4      47.600  89.600   9.300  1.00  0.00           C  
ATOM   1483  OG  SER C   4      46.700  89.200  10.300  1.00  0.00           O  
ATOM   1484  C   SER C   4      48.100  87.200   8.700  1.00  0.00           C  
ATOM   1485  O   SER C   4      49.300  87.100   8.900  1.00  0.00           O  
ATOM   1486  N   SER C   5      47.300  86.100   9.000  1.00  0.00           N  
ATOM   1487  CA  SER C   5      47.800  84.900   9.400  1.00  0.00           C  
ATOM   1488  CB  SER C   5      46.700  84.100  10.000  1.00  0.00           C  
ATOM   1489  OG  SER C   5      47.300  83.000  10.800  1.00  0.00           O  
ATOM   1490  C   SER C   5      48.500  84.100   8.400  1.00  0.00           C  
ATOM   1491  O   SER C   5      48.300  84.400   7.200  1.00  0.00           O  
ATOM   1492  N   ILE C   6      49.200  83.000   8.700  1.00  0.00           N  
ATOM   1493  CA  ILE C   6      50.100  82.200   7.800  1.00  0.00           C  
ATOM   1494  CB  ILE C   6      51.100  81.500   8.700  1.00  0.00           C  
ATOM   1495  CG2 ILE C   6      50.500  80.700   9.900  1.00  0.00           C  
ATOM   1496  CG1 ILE C   6      52.000  80.500   8.000  1.00  0.00           C  
ATOM   1497  CD  ILE C   6      52.700  81.200   6.900  1.00  0.00           C  
ATOM   1498  C   ILE C   6      49.300  81.300   6.900  1.00  0.00           C  
ATOM   1499  O   ILE C   6      48.600  80.400   7.400  1.00  0.00           O  
ATOM   1500  N   PHE C   7      49.300  81.500   5.600  1.00  0.00           N  
ATOM   1501  CA  PHE C   7      48.500  80.700   4.600  1.00  0.00           C  
ATOM   1502  CB  PHE C   7      49.000  81.200   3.200  1.00  0.00           C  
ATOM   1503  CG  PHE C   7      48.000  80.700   2.100  1.00  0.00           C  
ATOM   1504  CD1 PHE C   7      48.600  80.000   1.000  1.00  0.00           C  
ATOM   1505  CE1 PHE C   7      47.800  79.500  -0.100  1.00  0.00           C  
ATOM   1506  CZ  PHE C   7      46.400  79.900   0.000  1.00  0.00           C  
ATOM   1507  CE2 PHE C   7      45.900  80.700   1.100  1.00  0.00           C  
ATOM   1508  CD2 PHE C   7      46.600  81.100   2.200  1.00  0.00           C  
ATOM   1509  C   PHE C   7      48.600  79.200   4.700  1.00  0.00           C  
ATOM   1510  O   PHE C   7      49.700  78.700   4.900  1.00  0.00           O  
ATOM   1511  N   GLY C   8      47.400  78.500   4.600  1.00  0.00           N  
ATOM   1512  CA  GLY C   8      47.400  77.100   4.700  1.00  0.00           C  
ATOM   1513  C   GLY C   8      47.600  76.600   6.100  1.00  0.00           C  
ATOM   1514  O   GLY C   8      47.500  75.300   6.400  1.00  0.00           O  
ATOM   1515  N   GLY C   9      47.900  77.300   7.100  1.00  0.00           N  
ATOM   1516  CA  GLY C   9      48.100  76.900   8.500  1.00  0.00           C  
ATOM   1517  C   GLY C   9      49.400  76.200   8.700  1.00  0.00           C  
ATOM   1518  O   GLY C   9      50.100  75.700   7.800  1.00  0.00           O  
ATOM   1519  N   GLY C  10      49.700  76.200  10.000  1.00  0.00           N  
ATOM   1520  CA  GLY C  10      51.100  76.000  10.500  1.00  0.00           C  
ATOM   1521  C   GLY C  10      51.100  75.800  12.000  1.00  0.00           C  
ATOM   1522  O   GLY C  10      50.100  75.400  12.600  1.00  0.00           O  
ATOM   1523  N   ALA C  11      52.300  75.800  12.700  1.00  0.00           N  
ATOM   1524  CA  ALA C  11      52.300  75.600  14.100  1.00  0.00           C  
ATOM   1525  CB  ALA C  11      53.800  75.200  14.400  1.00  0.00           C  
ATOM   1526  C   ALA C  11      51.800  76.700  15.000  1.00  0.00           C  
ATOM   1527  O   ALA C  11      51.700  77.800  14.500  1.00  0.00           O  
ATOM   1528  N   PRO C  12      51.600  76.600  16.300  1.00  0.00           N  
ATOM   1529  CD  PRO C  12      51.800  75.300  16.900  1.00  0.00           C  
ATOM   1530  CG  PRO C  12      51.200  75.400  18.400  1.00  0.00           C  
ATOM   1531  CB  PRO C  12      51.500  76.900  18.500  1.00  0.00           C  
ATOM   1532  CA  PRO C  12      51.300  77.600  17.300  1.00  0.00           C  
ATOM   1533  C   PRO C  12      52.200  78.800  17.200  1.00  0.00           C  
ATOM   1534  O   PRO C  12      51.600  79.900  17.100  1.00  0.00           O  
ATOM   1535  N   SER C  13      53.500  78.700  17.200  1.00  0.00           N  
ATOM   1536  CA  SER C  13      54.500  79.700  17.000  1.00  0.00           C  
ATOM   1537  CB  SER C  13      55.900  79.100  17.200  1.00  0.00           C  
ATOM   1538  OG  SER C  13      56.100  78.400  16.000  1.00  0.00           O  
ATOM   1539  C   SER C  13      54.300  80.500  15.700  1.00  0.00           C  
ATOM   1540  O   SER C  13      54.800  81.600  15.500  1.00  0.00           O  
ATOM   1541  N   GLN C  14      53.700  79.900  14.600  1.00  0.00           N  
ATOM   1542  CA  GLN C  14      53.400  80.500  13.400  1.00  0.00           C  
ATOM   1543  CB  GLN C  14      53.600  79.700  12.200  1.00  0.00           C  
ATOM   1544  CG  GLN C  14      55.000  78.900  12.300  1.00  0.00           C  
ATOM   1545  CD  GLN C  14      55.200  77.900  11.100  1.00  0.00           C  
ATOM   1546  OE1 GLN C  14      54.500  76.900  11.000  1.00  0.00           O  
ATOM   1547  NE2 GLN C  14      56.300  78.200  10.400  1.00  0.00           N  
ATOM   1548  C   GLN C  14      52.000  81.200  13.300  1.00  0.00           C  
ATOM   1549  O   GLN C  14      51.800  82.300  12.700  1.00  0.00           O  
ATOM   1550  N   GLN C  15      51.100  80.400  13.700  1.00  0.00           N  
ATOM   1551  CA  GLN C  15      49.700  80.900  13.900  1.00  0.00           C  
ATOM   1552  CB  GLN C  15      48.600  79.900  14.000  1.00  0.00           C  
ATOM   1553  CG  GLN C  15      48.600  79.100  12.600  1.00  0.00           C  
ATOM   1554  CD  GLN C  15      47.500  78.100  12.600  1.00  0.00           C  
ATOM   1555  OE1 GLN C  15      47.400  77.300  11.600  1.00  0.00           O  
ATOM   1556  NE2 GLN C  15      46.700  77.800  13.700  1.00  0.00           N  
ATOM   1557  C   GLN C  15      49.600  81.900  15.000  1.00  0.00           C  
ATOM   1558  O   GLN C  15      48.500  82.600  15.100  1.00  0.00           O  
ATOM   1559  N   LYS C  16      50.700  82.300  15.700  1.00  0.00           N  
ATOM   1560  CA  LYS C  16      50.800  83.300  16.800  1.00  0.00           C  
ATOM   1561  CB  LYS C  16      50.700  84.700  16.200  1.00  0.00           C  
ATOM   1562  CG  LYS C  16      51.900  85.100  15.400  1.00  0.00           C  
ATOM   1563  CD  LYS C  16      51.800  86.600  14.900  1.00  0.00           C  
ATOM   1564  CE  LYS C  16      52.900  87.100  14.200  1.00  0.00           C  
ATOM   1565  NZ  LYS C  16      52.600  88.100  13.100  1.00  0.00           N1+
ATOM   1566  C   LYS C  16      49.800  83.000  18.000  1.00  0.00           C  
ATOM   1567  O   LYS C  16      49.100  83.900  18.500  1.00  0.00           O  
ATOM   1568  N   GLU C  17      49.900  81.700  18.400  1.00  0.00           N  
ATOM   1569  CA  GLU C  17      49.100  81.000  19.300  1.00  0.00           C  
ATOM   1570  CB  GLU C  17      48.100  80.100  18.700  1.00  0.00           C  
ATOM   1571  CG  GLU C  17      46.900  80.900  18.000  1.00  0.00           C  
ATOM   1572  CD  GLU C  17      46.000  79.700  17.500  1.00  0.00           C  
ATOM   1573  OE1 GLU C  17      46.300  79.000  16.500  1.00  0.00           O  
ATOM   1574  OE2 GLU C  17      44.900  79.400  18.100  1.00  0.00           O1-
ATOM   1575  C   GLU C  17      49.900  80.400  20.400  1.00  0.00           C  
ATOM   1576  O   GLU C  17      51.100  80.100  20.300  1.00  0.00           O  
ATOM   1577  N   ALA C  18      49.300  80.100  21.500  1.00  0.00           N  
ATOM   1578  CA  ALA C  18      49.800  79.300  22.600  1.00  0.00           C  
ATOM   1579  CB  ALA C  18      48.900  79.200  23.800  1.00  0.00           C  
ATOM   1580  C   ALA C  18      50.200  77.900  22.200  1.00  0.00           C  
ATOM   1581  O   ALA C  18      49.500  77.300  21.400  1.00  0.00           O  
ATOM   1582  N   ALA C  19      51.300  77.300  22.800  1.00  0.00           N  
ATOM   1583  CA  ALA C  19      51.900  76.100  22.500  1.00  0.00           C  
ATOM   1584  CB  ALA C  19      53.300  76.000  22.800  1.00  0.00           C  
ATOM   1585  C   ALA C  19      51.100  74.800  23.000  1.00  0.00           C  
ATOM   1586  O   ALA C  19      51.200  73.700  22.600  1.00  0.00           O  
ATOM   1587  N   THR C  20      50.200  75.100  24.000  1.00  0.00           N  
ATOM   1588  CA  THR C  20      49.600  74.000  24.800  1.00  0.00           C  
ATOM   1589  CB  THR C  20      50.300  73.800  26.200  1.00  0.00           C  
ATOM   1590  CG2 THR C  20      49.600  72.800  27.100  1.00  0.00           C  
ATOM   1591  OG1 THR C  20      51.600  73.400  26.000  1.00  0.00           O  
ATOM   1592  C   THR C  20      48.100  74.600  25.100  1.00  0.00           C  
ATOM   1593  O   THR C  20      47.900  75.600  25.700  1.00  0.00           O  
ATOM   1594  N   THR C  21      47.000  73.900  24.700  1.00  0.00           N  
ATOM   1595  CA  THR C  21      45.800  74.400  24.800  1.00  0.00           C  
ATOM   1596  CB  THR C  21      45.000  74.100  23.500  1.00  0.00           C  
ATOM   1597  CG2 THR C  21      45.800  74.600  22.300  1.00  0.00           C  
ATOM   1598  OG1 THR C  21      45.000  72.700  23.400  1.00  0.00           O  
ATOM   1599  C   THR C  21      44.900  74.000  25.900  1.00  0.00           C  
ATOM   1600  O   THR C  21      43.900  74.800  26.300  1.00  0.00           O  
ATOM   1601  N   ALA C  22      45.300  73.000  26.700  1.00  0.00           N  
ATOM   1602  CA  ALA C  22      44.700  72.800  28.000  1.00  0.00           C  
ATOM   1603  CB  ALA C  22      45.000  71.400  28.600  1.00  0.00           C  
ATOM   1604  C   ALA C  22      45.100  74.000  28.800  1.00  0.00           C  
ATOM   1605  O   ALA C  22      46.100  74.800  28.700  1.00  0.00           O  
ATOM   1606  N   LYS C  23      44.400  74.200  29.900  1.00  0.00           N  
ATOM   1607  CA  LYS C  23      44.700  75.100  31.000  1.00  0.00           C  
ATOM   1608  CB  LYS C  23      43.400  75.600  31.600  1.00  0.00           C  
ATOM   1609  CG  LYS C  23      42.800  74.500  32.500  1.00  0.00           C  
ATOM   1610  CD  LYS C  23      41.600  74.900  33.300  1.00  0.00           C  
ATOM   1611  CE  LYS C  23      41.100  73.600  33.900  1.00  0.00           C  
ATOM   1612  NZ  LYS C  23      39.900  73.800  34.700  1.00  0.00           N1+
ATOM   1613  C   LYS C  23      45.800  74.500  32.000  1.00  0.00           C  
ATOM   1614  O   LYS C  23      45.600  73.300  32.200  1.00  0.00           O  
ATOM   1615  N   THR C  24      46.700  75.300  32.400  1.00  0.00           N  
ATOM   1616  CA  THR C  24      47.800  74.800  33.200  1.00  0.00           C  
ATOM   1617  CB  THR C  24      49.000  74.600  32.300  1.00  0.00           C  
ATOM   1618  CG2 THR C  24      48.800  73.500  31.200  1.00  0.00           C  
ATOM   1619  OG1 THR C  24      49.400  75.700  31.600  1.00  0.00           O  
ATOM   1620  C   THR C  24      48.000  76.000  34.200  1.00  0.00           C  
ATOM   1621  O   THR C  24      47.700  77.200  33.900  1.00  0.00           O  
ATOM   1622  N   THR C  25      48.600  75.700  35.300  1.00  0.00           N  
ATOM   1623  CA  THR C  25      49.000  76.600  36.300  1.00  0.00           C  
ATOM   1624  CB  THR C  25      48.700  75.900  37.700  1.00  0.00           C  
ATOM   1625  CG2 THR C  25      47.400  75.300  37.800  1.00  0.00           C  
ATOM   1626  OG1 THR C  25      49.700  75.000  38.000  1.00  0.00           O  
ATOM   1627  C   THR C  25      50.400  77.300  36.300  1.00  0.00           C  
ATOM   1628  O   THR C  25      51.300  76.400  36.000  1.00  0.00           O  
ATOM   1629  N   PRO C  26      50.600  78.500  36.600  1.00  0.00           N  
ATOM   1630  CD  PRO C  26      49.700  79.600  36.600  1.00  0.00           C  
ATOM   1631  CG  PRO C  26      50.300  80.900  36.400  1.00  0.00           C  
ATOM   1632  CB  PRO C  26      51.600  80.500  37.300  1.00  0.00           C  
ATOM   1633  CA  PRO C  26      51.900  79.100  36.800  1.00  0.00           C  
ATOM   1634  C   PRO C  26      52.900  78.400  37.700  1.00  0.00           C  
ATOM   1635  O   PRO C  26      52.600  77.800  38.600  1.00  0.00           O  
ATOM   1636  N   ASN C  27      54.200  78.900  37.700  1.00  0.00           N  
ATOM   1637  CA  ASN C  27      55.300  78.600  38.500  1.00  0.00           C  
ATOM   1638  CB  ASN C  27      56.600  78.300  37.700  1.00  0.00           C  
ATOM   1639  CG  ASN C  27      56.400  77.200  36.800  1.00  0.00           C  
ATOM   1640  OD1 ASN C  27      55.700  76.200  37.000  1.00  0.00           O  
ATOM   1641  ND2 ASN C  27      57.100  77.400  35.600  1.00  0.00           N  
ATOM   1642  C   ASN C  27      55.200  79.500  39.700  1.00  0.00           C  
ATOM   1643  O   ASN C  27      55.200  80.700  39.400  1.00  0.00           O  
ATOM   1644  N   PRO C  28      55.000  79.200  41.000  1.00  0.00           N  
ATOM   1645  CD  PRO C  28      55.200  77.800  41.500  1.00  0.00           C  
ATOM   1646  CG  PRO C  28      54.400  78.000  42.800  1.00  0.00           C  
ATOM   1647  CB  PRO C  28      54.800  79.300  43.400  1.00  0.00           C  
ATOM   1648  CA  PRO C  28      54.900  80.100  42.100  1.00  0.00           C  
ATOM   1649  C   PRO C  28      56.000  81.100  42.200  1.00  0.00           C  
ATOM   1650  O   PRO C  28      57.200  80.900  41.900  1.00  0.00           O  
ATOM   1651  N   ILE C  29      55.700  82.400  42.500  1.00  0.00           N  
ATOM   1652  CA  ILE C  29      56.500  83.600  42.600  1.00  0.00           C  
ATOM   1653  CB  ILE C  29      55.900  84.900  42.700  1.00  0.00           C  
ATOM   1654  CG2 ILE C  29      55.000  85.000  41.400  1.00  0.00           C  
ATOM   1655  CG1 ILE C  29      54.800  85.000  43.900  1.00  0.00           C  
ATOM   1656  CD  ILE C  29      54.300  86.400  44.000  1.00  0.00           C  
ATOM   1657  C   ILE C  29      57.500  83.400  43.800  1.00  0.00           C  
ATOM   1658  O   ILE C  29      57.100  83.000  44.900  1.00  0.00           O  
ATOM   1659  N   ALA C  30      58.600  84.200  43.700  1.00  0.00           N  
ATOM   1660  CA  ALA C  30      59.700  84.100  44.700  1.00  0.00           C  
ATOM   1661  CB  ALA C  30      60.900  84.900  44.200  1.00  0.00           C  
ATOM   1662  C   ALA C  30      59.300  84.400  46.100  1.00  0.00           C  
ATOM   1663  O   ALA C  30      59.600  83.700  47.100  1.00  0.00           O  
ATOM   1664  N   LYS C  31      58.600  85.500  46.300  1.00  0.00           N  
ATOM   1665  CA  LYS C  31      58.100  86.000  47.700  1.00  0.00           C  
ATOM   1666  CB  LYS C  31      57.500  87.300  47.600  1.00  0.00           C  
ATOM   1667  CG  LYS C  31      56.400  87.600  46.600  1.00  0.00           C  
ATOM   1668  CD  LYS C  31      56.000  89.200  46.700  1.00  0.00           C  
ATOM   1669  CE  LYS C  31      54.800  89.500  45.700  1.00  0.00           C  
ATOM   1670  NZ  LYS C  31      54.400  90.900  46.000  1.00  0.00           N1+
ATOM   1671  C   LYS C  31      57.100  85.000  48.400  1.00  0.00           C  
ATOM   1672  O   LYS C  31      57.100  85.000  49.600  1.00  0.00           O  
ATOM   1673  N   GLU C  32      56.500  84.200  47.600  1.00  0.00           N  
ATOM   1674  CA  GLU C  32      55.600  83.100  48.100  1.00  0.00           C  
ATOM   1675  CB  GLU C  32      54.300  82.800  47.100  1.00  0.00           C  
ATOM   1676  CG  GLU C  32      53.500  84.100  47.000  1.00  0.00           C  
ATOM   1677  CD  GLU C  32      52.200  84.000  46.300  1.00  0.00           C  
ATOM   1678  OE1 GLU C  32      51.700  82.900  45.700  1.00  0.00           O  
ATOM   1679  OE2 GLU C  32      51.500  85.000  46.200  1.00  0.00           O1-
ATOM   1680  C   GLU C  32      56.300  81.900  48.500  1.00  0.00           C  
ATOM   1681  O   GLU C  32      56.200  81.400  49.500  1.00  0.00           O  
ATOM   1682  N   LEU C  33      57.400  81.500  47.700  1.00  0.00           N  
ATOM   1683  CA  LEU C  33      58.400  80.500  47.900  1.00  0.00           C  
ATOM   1684  CB  LEU C  33      59.200  80.400  46.800  1.00  0.00           C  
ATOM   1685  CG  LEU C  33      58.600  79.800  45.600  1.00  0.00           C  
ATOM   1686  CD1 LEU C  33      59.400  79.800  44.200  1.00  0.00           C  
ATOM   1687  CD2 LEU C  33      58.000  78.400  45.600  1.00  0.00           C  
ATOM   1688  C   LEU C  33      59.200  80.900  49.200  1.00  0.00           C  
ATOM   1689  O   LEU C  33      59.200  80.100  50.100  1.00  0.00           O  
ATOM   1690  N   LYS C  34      59.600  82.200  49.300  1.00  0.00           N  
ATOM   1691  CA  LYS C  34      60.100  82.800  50.500  1.00  0.00           C  
ATOM   1692  CB  LYS C  34      60.400  84.300  50.200  1.00  0.00           C  
ATOM   1693  CG  LYS C  34      61.600  84.500  49.300  1.00  0.00           C  
ATOM   1694  CD  LYS C  34      61.900  86.000  49.000  1.00  0.00           C  
ATOM   1695  CE  LYS C  34      62.900  86.100  47.900  1.00  0.00           C  
ATOM   1696  NZ  LYS C  34      63.400  87.500  47.600  1.00  0.00           N1+
ATOM   1697  C   LYS C  34      59.200  82.600  51.700  1.00  0.00           C  
ATOM   1698  O   LYS C  34      59.700  82.100  52.700  1.00  0.00           O  
ATOM   1699  N   ASN C  35      57.900  83.000  51.600  1.00  0.00           N  
ATOM   1700  CA  ASN C  35      57.100  82.700  52.800  1.00  0.00           C  
ATOM   1701  CB  ASN C  35      55.700  83.300  52.400  1.00  0.00           C  
ATOM   1702  CG  ASN C  35      55.500  84.800  52.700  1.00  0.00           C  
ATOM   1703  OD1 ASN C  35      56.300  85.400  53.400  1.00  0.00           O  
ATOM   1704  ND2 ASN C  35      54.600  85.400  52.100  1.00  0.00           N  
ATOM   1705  C   ASN C  35      56.900  81.200  53.100  1.00  0.00           C  
ATOM   1706  O   ASN C  35      56.700  80.800  54.300  1.00  0.00           O  
ATOM   1707  N   GLN C  36      56.800  80.300  52.100  1.00  0.00           N  
ATOM   1708  CA  GLN C  36      56.700  78.900  52.300  1.00  0.00           C  
ATOM   1709  CB  GLN C  36      56.500  78.300  50.900  1.00  0.00           C  
ATOM   1710  CG  GLN C  36      55.100  78.500  50.500  1.00  0.00           C  
ATOM   1711  CD  GLN C  36      54.900  78.200  49.000  1.00  0.00           C  
ATOM   1712  OE1 GLN C  36      55.000  77.100  48.500  1.00  0.00           O  
ATOM   1713  NE2 GLN C  36      54.600  79.200  48.200  1.00  0.00           N  
ATOM   1714  C   GLN C  36      57.900  78.300  53.000  1.00  0.00           C  
ATOM   1715  O   GLN C  36      57.800  77.600  53.900  1.00  0.00           O  
ATOM   1716  N   ILE C  37      59.100  78.600  52.500  1.00  0.00           N  
ATOM   1717  CA  ILE C  37      60.400  78.300  53.100  1.00  0.00           C  
ATOM   1718  CB  ILE C  37      61.700  78.800  52.300  1.00  0.00           C  
ATOM   1719  CG2 ILE C  37      63.000  78.700  53.000  1.00  0.00           C  
ATOM   1720  CG1 ILE C  37      61.700  78.000  51.000  1.00  0.00           C  
ATOM   1721  CD  ILE C  37      62.600  78.600  50.000  1.00  0.00           C  
ATOM   1722  C   ILE C  37      60.400  78.600  54.500  1.00  0.00           C  
ATOM   1723  O   ILE C  37      60.900  77.800  55.400  1.00  0.00           O  
ATOM   1724  N   ALA C  38      60.000  79.800  54.900  1.00  0.00           N  
ATOM   1725  CA  ALA C  38      60.200  80.400  56.200  1.00  0.00           C  
ATOM   1726  CB  ALA C  38      60.000  81.900  56.200  1.00  0.00           C  
ATOM   1727  C   ALA C  38      59.400  79.800  57.300  1.00  0.00           C  
ATOM   1728  O   ALA C  38      59.800  79.400  58.400  1.00  0.00           O  
ATOM   1729  N   GLN C  39      58.200  79.600  56.900  1.00  0.00           N  
ATOM   1730  CA  GLN C  39      57.100  78.900  57.600  1.00  0.00           C  
ATOM   1731  CB  GLN C  39      55.800  78.800  56.800  1.00  0.00           C  
ATOM   1732  CG  GLN C  39      54.900  80.000  56.900  1.00  0.00           C  
ATOM   1733  CD  GLN C  39      53.500  80.000  56.200  1.00  0.00           C  
ATOM   1734  OE1 GLN C  39      53.300  80.900  55.400  1.00  0.00           O  
ATOM   1735  NE2 GLN C  39      52.700  79.100  56.200  1.00  0.00           N  
ATOM   1736  C   GLN C  39      57.500  77.400  58.000  1.00  0.00           C  
ATOM   1737  O   GLN C  39      57.300  77.000  59.000  1.00  0.00           O  
ATOM   1738  N   GLU C  40      58.000  76.700  57.000  1.00  0.00           N  
ATOM   1739  CA  GLU C  40      58.500  75.400  57.300  1.00  0.00           C  
ATOM   1740  CB  GLU C  40      59.200  74.800  56.000  1.00  0.00           C  
ATOM   1741  CG  GLU C  40      58.400  73.400  55.700  1.00  0.00           C  
ATOM   1742  CD  GLU C  40      59.100  72.900  54.400  1.00  0.00           C  
ATOM   1743  OE1 GLU C  40      60.200  72.500  54.600  1.00  0.00           O  
ATOM   1744  OE2 GLU C  40      58.400  72.800  53.400  1.00  0.00           O1-
ATOM   1745  C   GLU C  40      59.700  75.400  58.300  1.00  0.00           C  
ATOM   1746  O   GLU C  40      59.700  74.700  59.300  1.00  0.00           O  
ATOM   1747  N   LEU C  41      60.600  76.400  58.300  1.00  0.00           N  
ATOM   1748  CA  LEU C  41      61.700  76.500  59.400  1.00  0.00           C  
ATOM   1749  CB  LEU C  41      62.700  77.300  58.800  1.00  0.00           C  
ATOM   1750  CG  LEU C  41      63.700  76.700  57.700  1.00  0.00           C  
ATOM   1751  CD1 LEU C  41      64.500  77.600  56.900  1.00  0.00           C  
ATOM   1752  CD2 LEU C  41      64.400  75.500  58.400  1.00  0.00           C  
ATOM   1753  C   LEU C  41      61.000  77.000  60.600  1.00  0.00           C  
ATOM   1754  O   LEU C  41      61.600  76.500  61.700  1.00  0.00           O  
ATOM   1755  N   ALA C  42      60.100  77.900  60.700  1.00  0.00           N  
ATOM   1756  CA  ALA C  42      59.400  78.500  61.800  1.00  0.00           C  
ATOM   1757  CB  ALA C  42      58.400  79.400  61.200  1.00  0.00           C  
ATOM   1758  C   ALA C  42      58.700  77.400  62.500  1.00  0.00           C  
ATOM   1759  O   ALA C  42      58.700  77.300  63.700  1.00  0.00           O  
ATOM   1760  N   VAL C  43      57.800  76.600  61.800  1.00  0.00           N  
ATOM   1761  CA  VAL C  43      57.100  75.500  62.300  1.00  0.00           C  
ATOM   1762  CB  VAL C  43      56.400  74.800  61.200  1.00  0.00           C  
ATOM   1763  CG1 VAL C  43      55.700  73.400  61.700  1.00  0.00           C  
ATOM   1764  CG2 VAL C  43      55.100  75.500  60.800  1.00  0.00           C  
ATOM   1765  C   VAL C  43      58.100  74.500  62.900  1.00  0.00           C  
ATOM   1766  O   VAL C  43      57.800  74.100  64.000  1.00  0.00           O  
ATOM   1767  N   ALA C  44      59.300  74.100  62.400  1.00  0.00           N  
ATOM   1768  CA  ALA C  44      60.400  73.400  63.100  1.00  0.00           C  
ATOM   1769  CB  ALA C  44      61.400  73.000  62.000  1.00  0.00           C  
ATOM   1770  C   ALA C  44      61.000  74.100  64.300  1.00  0.00           C  
ATOM   1771  O   ALA C  44      61.300  73.500  65.300  1.00  0.00           O  
ATOM   1772  N   ASN C  45      61.100  75.500  64.300  1.00  0.00           N  
ATOM   1773  CA  ASN C  45      61.500  76.200  65.400  1.00  0.00           C  
ATOM   1774  CB  ASN C  45      61.700  77.700  65.000  1.00  0.00           C  
ATOM   1775  CG  ASN C  45      62.700  78.500  65.900  1.00  0.00           C  
ATOM   1776  OD1 ASN C  45      63.500  77.900  66.600  1.00  0.00           O  
ATOM   1777  ND2 ASN C  45      62.400  79.800  66.100  1.00  0.00           N  
ATOM   1778  C   ASN C  45      60.400  76.200  66.500  1.00  0.00           C  
ATOM   1779  O   ASN C  45      60.800  76.100  67.700  1.00  0.00           O  
ATOM   1780  N   ALA C  46      59.200  76.300  66.100  1.00  0.00           N  
ATOM   1781  CA  ALA C  46      58.000  76.300  67.000  1.00  0.00           C  
ATOM   1782  CB  ALA C  46      56.800  76.500  66.300  1.00  0.00           C  
ATOM   1783  C   ALA C  46      58.100  74.800  67.700  1.00  0.00           C  
ATOM   1784  O   ALA C  46      57.900  74.800  68.900  1.00  0.00           O  
ATOM   1785  N   THR C  47      58.300  73.700  67.000  1.00  0.00           N  
ATOM   1786  CA  THR C  47      58.300  72.400  67.400  1.00  0.00           C  
ATOM   1787  CB  THR C  47      58.400  71.500  66.200  1.00  0.00           C  
ATOM   1788  CG2 THR C  47      58.600  70.000  66.700  1.00  0.00           C  
ATOM   1789  OG1 THR C  47      57.300  71.300  65.400  1.00  0.00           O  
ATOM   1790  C   THR C  47      59.400  72.300  68.400  1.00  0.00           C  
ATOM   1791  O   THR C  47      59.300  71.800  69.500  1.00  0.00           O  
ATOM   1792  N   GLU C  48      60.600  72.700  68.100  1.00  0.00           N  
ATOM   1793  CA  GLU C  48      61.800  72.600  68.800  1.00  0.00           C  
ATOM   1794  CB  GLU C  48      63.100  73.100  68.100  1.00  0.00           C  
ATOM   1795  CG  GLU C  48      64.300  72.900  69.000  1.00  0.00           C  
ATOM   1796  CD  GLU C  48      64.600  71.400  69.200  1.00  0.00           C  
ATOM   1797  OE1 GLU C  48      65.800  71.200  69.800  1.00  0.00           O  
ATOM   1798  OE2 GLU C  48      64.000  70.500  68.700  1.00  0.00           O1-
ATOM   1799  C   GLU C  48      61.700  73.300  70.200  1.00  0.00           C  
ATOM   1800  O   GLU C  48      62.000  72.600  71.200  1.00  0.00           O  
ATOM   1801  N   LEU C  49      61.000  74.400  70.200  1.00  0.00           N  
ATOM   1802  CA  LEU C  49      60.500  75.100  71.400  1.00  0.00           C  
ATOM   1803  CB  LEU C  49      60.000  76.500  71.100  1.00  0.00           C  
ATOM   1804  CG  LEU C  49      59.700  77.300  72.300  1.00  0.00           C  
ATOM   1805  CD1 LEU C  49      61.000  78.100  72.700  1.00  0.00           C  
ATOM   1806  CD2 LEU C  49      58.600  78.300  72.100  1.00  0.00           C  
ATOM   1807  C   LEU C  49      59.500  74.200  72.200  1.00  0.00           C  
ATOM   1808  O   LEU C  49      60.000  73.800  73.300  1.00  0.00           O  
ATOM   1809  N   VAL C  50      58.400  73.800  71.700  1.00  0.00           N  
ATOM   1810  CA  VAL C  50      57.300  73.200  72.400  1.00  0.00           C  
ATOM   1811  CB  VAL C  50      56.000  73.500  71.700  1.00  0.00           C  
ATOM   1812  CG1 VAL C  50      55.700  74.900  71.500  1.00  0.00           C  
ATOM   1813  CG2 VAL C  50      55.700  72.500  70.500  1.00  0.00           C  
ATOM   1814  C   VAL C  50      57.600  71.900  72.900  1.00  0.00           C  
ATOM   1815  O   VAL C  50      57.300  71.400  74.000  1.00  0.00           O  
ATOM   1816  N   ASN C  51      58.600  71.200  72.200  1.00  0.00           N  
ATOM   1817  CA  ASN C  51      59.100  69.900  72.600  1.00  0.00           C  
ATOM   1818  CB  ASN C  51      59.900  69.200  71.400  1.00  0.00           C  
ATOM   1819  CG  ASN C  51      58.900  68.900  70.200  1.00  0.00           C  
ATOM   1820  OD1 ASN C  51      57.700  68.900  70.400  1.00  0.00           O  
ATOM   1821  ND2 ASN C  51      59.500  68.500  69.200  1.00  0.00           N  
ATOM   1822  C   ASN C  51      60.100  70.100  73.800  1.00  0.00           C  
ATOM   1823  O   ASN C  51      59.800  69.500  74.800  1.00  0.00           O  
ATOM   1824  N   LYS C  52      61.000  71.000  73.700  1.00  0.00           N  
ATOM   1825  CA  LYS C  52      62.000  71.400  74.700  1.00  0.00           C  
ATOM   1826  CB  LYS C  52      63.100  72.300  74.200  1.00  0.00           C  
ATOM   1827  CG  LYS C  52      64.300  71.500  73.800  1.00  0.00           C  
ATOM   1828  CD  LYS C  52      65.300  72.300  72.900  1.00  0.00           C  
ATOM   1829  CE  LYS C  52      66.700  71.800  72.800  1.00  0.00           C  
ATOM   1830  NZ  LYS C  52      66.800  70.400  72.200  1.00  0.00           N1+
ATOM   1831  C   LYS C  52      61.300  71.800  76.000  1.00  0.00           C  
ATOM   1832  O   LYS C  52      61.700  71.400  77.000  1.00  0.00           O  
ATOM   1833  N   ILE C  53      60.200  72.600  75.800  1.00  0.00           N  
ATOM   1834  CA  ILE C  53      59.500  72.900  77.100  1.00  0.00           C  
ATOM   1835  CB  ILE C  53      58.500  74.000  76.800  1.00  0.00           C  
ATOM   1836  CG2 ILE C  53      57.500  74.300  77.900  1.00  0.00           C  
ATOM   1837  CG1 ILE C  53      59.100  75.400  76.500  1.00  0.00           C  
ATOM   1838  CD  ILE C  53      58.200  76.300  75.600  1.00  0.00           C  
ATOM   1839  C   ILE C  53      58.800  71.600  77.600  1.00  0.00           C  
ATOM   1840  O   ILE C  53      58.700  71.400  78.800  1.00  0.00           O  
ATOM   1841  N   SER C  54      58.000  70.900  76.900  1.00  0.00           N  
ATOM   1842  CA  SER C  54      57.200  69.700  77.300  1.00  0.00           C  
ATOM   1843  CB  SER C  54      56.500  69.000  76.100  1.00  0.00           C  
ATOM   1844  OG  SER C  54      55.700  69.900  75.400  1.00  0.00           O  
ATOM   1845  C   SER C  54      58.000  68.800  78.100  1.00  0.00           C  
ATOM   1846  O   SER C  54      57.600  68.300  79.100  1.00  0.00           O  
ATOM   1847  N   GLU C  55      59.200  68.300  77.400  1.00  0.00           N  
ATOM   1848  CA  GLU C  55      60.100  67.400  78.100  1.00  0.00           C  
ATOM   1849  CB  GLU C  55      61.400  67.400  77.300  1.00  0.00           C  
ATOM   1850  CG  GLU C  55      61.200  66.700  75.900  1.00  0.00           C  
ATOM   1851  CD  GLU C  55      62.400  66.800  75.100  1.00  0.00           C  
ATOM   1852  OE1 GLU C  55      62.400  66.600  73.900  1.00  0.00           O  
ATOM   1853  OE2 GLU C  55      63.600  67.100  75.600  1.00  0.00           O1-
ATOM   1854  C   GLU C  55      60.500  67.800  79.600  1.00  0.00           C  
ATOM   1855  O   GLU C  55      60.500  67.100  80.500  1.00  0.00           O  
ATOM   1856  N   ASN C  56      61.000  69.100  79.700  1.00  0.00           N  
ATOM   1857  CA  ASN C  56      61.400  69.700  81.000  1.00  0.00           C  
ATOM   1858  CB  ASN C  56      62.100  71.000  80.800  1.00  0.00           C  
ATOM   1859  CG  ASN C  56      63.500  70.800  80.300  1.00  0.00           C  
ATOM   1860  OD1 ASN C  56      64.400  70.200  81.000  1.00  0.00           O  
ATOM   1861  ND2 ASN C  56      63.800  71.200  79.100  1.00  0.00           N  
ATOM   1862  C   ASN C  56      60.300  69.900  81.900  1.00  0.00           C  
ATOM   1863  O   ASN C  56      60.400  69.600  83.100  1.00  0.00           O  
ATOM   1864  N   CYS C  57      59.100  70.300  81.400  1.00  0.00           N  
ATOM   1865  CA  CYS C  57      57.900  70.400  82.300  1.00  0.00           C  
ATOM   1866  CB  CYS C  57      56.800  71.100  81.500  1.00  0.00           C  
ATOM   1867  SG  CYS C  57      56.700  72.900  81.500  1.00  0.00           S  
ATOM   1868  C   CYS C  57      57.400  69.000  82.800  1.00  0.00           C  
ATOM   1869  O   CYS C  57      57.200  68.800  83.900  1.00  0.00           O  
ATOM   1870  N   PHE C  58      57.400  68.200  81.700  1.00  0.00           N  
ATOM   1871  CA  PHE C  58      57.100  66.700  82.000  1.00  0.00           C  
ATOM   1872  CB  PHE C  58      57.200  65.900  80.800  1.00  0.00           C  
ATOM   1873  CG  PHE C  58      56.900  64.500  81.000  1.00  0.00           C  
ATOM   1874  CD1 PHE C  58      55.600  63.900  81.200  1.00  0.00           C  
ATOM   1875  CE1 PHE C  58      55.500  62.500  81.300  1.00  0.00           C  
ATOM   1876  CZ  PHE C  58      56.600  61.700  81.300  1.00  0.00           C  
ATOM   1877  CE2 PHE C  58      57.800  62.200  81.500  1.00  0.00           C  
ATOM   1878  CD2 PHE C  58      58.000  63.600  81.200  1.00  0.00           C  
ATOM   1879  C   PHE C  58      58.200  66.200  83.100  1.00  0.00           C  
ATOM   1880  O   PHE C  58      57.800  65.300  83.900  1.00  0.00           O  
ATOM   1881  N   GLU C  59      59.400  66.700  83.000  1.00  0.00           N  
ATOM   1882  CA  GLU C  59      60.400  66.300  84.000  1.00  0.00           C  
ATOM   1883  CB  GLU C  59      61.900  66.400  83.500  1.00  0.00           C  
ATOM   1884  CG  GLU C  59      63.000  65.900  84.400  1.00  0.00           C  
ATOM   1885  CD  GLU C  59      64.400  66.000  83.700  1.00  0.00           C  
ATOM   1886  OE1 GLU C  59      65.100  65.100  84.000  1.00  0.00           O  
ATOM   1887  OE2 GLU C  59      64.600  66.900  82.800  1.00  0.00           O1-
ATOM   1888  C   GLU C  59      60.200  66.900  85.400  1.00  0.00           C  
ATOM   1889  O   GLU C  59      60.500  66.200  86.300  1.00  0.00           O  
ATOM   1890  N   LYS C  60      59.600  68.100  85.400  1.00  0.00           N  
ATOM   1891  CA  LYS C  60      59.500  68.800  86.800  1.00  0.00           C  
ATOM   1892  CB  LYS C  60      60.200  70.200  86.500  1.00  0.00           C  
ATOM   1893  CG  LYS C  60      61.700  70.300  86.500  1.00  0.00           C  
ATOM   1894  CD  LYS C  60      62.200  69.800  87.900  1.00  0.00           C  
ATOM   1895  CE  LYS C  60      63.800  70.000  88.000  1.00  0.00           C  
ATOM   1896  NZ  LYS C  60      64.500  69.200  86.900  1.00  0.00           N1+
ATOM   1897  C   LYS C  60      58.200  68.800  87.300  1.00  0.00           C  
ATOM   1898  O   LYS C  60      58.100  68.500  88.500  1.00  0.00           O  
ATOM   1899  N   CYS C  61      57.100  69.100  86.700  1.00  0.00           N  
ATOM   1900  CA  CYS C  61      55.800  69.200  87.300  1.00  0.00           C  
ATOM   1901  CB  CYS C  61      54.900  70.100  86.400  1.00  0.00           C  
ATOM   1902  SG  CYS C  61      55.300  71.900  86.400  1.00  0.00           S  
ATOM   1903  C   CYS C  61      55.100  67.900  87.500  1.00  0.00           C  
ATOM   1904  O   CYS C  61      53.900  68.000  88.000  1.00  0.00           O  
ATOM   1905  N   LEU C  62      55.700  66.700  87.300  1.00  0.00           N  
ATOM   1906  CA  LEU C  62      55.100  65.500  87.100  1.00  0.00           C  
ATOM   1907  CB  LEU C  62      54.500  65.300  85.600  1.00  0.00           C  
ATOM   1908  CG  LEU C  62      53.500  66.400  85.200  1.00  0.00           C  
ATOM   1909  CD1 LEU C  62      53.400  66.600  83.600  1.00  0.00           C  
ATOM   1910  CD2 LEU C  62      52.300  66.200  85.900  1.00  0.00           C  
ATOM   1911  C   LEU C  62      56.000  64.200  87.300  1.00  0.00           C  
ATOM   1912  O   LEU C  62      57.200  64.200  86.900  1.00  0.00           O  
ATOM   1913  N   THR C  63      55.400  63.100  87.900  1.00  0.00           N  
ATOM   1914  CA  THR C  63      55.900  61.800  87.900  1.00  0.00           C  
ATOM   1915  CB  THR C  63      56.700  61.600  89.200  1.00  0.00           C  
ATOM   1916  CG2 THR C  63      57.500  60.400  89.300  1.00  0.00           C  
ATOM   1917  OG1 THR C  63      57.600  62.700  89.300  1.00  0.00           O  
ATOM   1918  C   THR C  63      54.800  60.700  87.800  1.00  0.00           C  
ATOM   1919  O   THR C  63      53.600  61.100  87.900  1.00  0.00           O  
ATOM   1920  N   SER C  64      55.000  59.400  87.700  1.00  0.00           N  
ATOM   1921  CA  SER C  64      54.000  58.500  88.100  1.00  0.00           C  
ATOM   1922  CB  SER C  64      54.600  57.100  88.000  1.00  0.00           C  
ATOM   1923  OG  SER C  64      53.600  56.000  88.000  1.00  0.00           O  
ATOM   1924  C   SER C  64      53.300  58.800  89.400  1.00  0.00           C  
ATOM   1925  O   SER C  64      54.000  59.100  90.400  1.00  0.00           O  
ATOM   1926  N   PRO C  65      52.000  58.500  89.400  1.00  0.00           N  
ATOM   1927  CD  PRO C  65      51.300  59.000  90.600  1.00  0.00           C  
ATOM   1928  CG  PRO C  65      49.800  58.500  90.500  1.00  0.00           C  
ATOM   1929  CB  PRO C  65      49.900  57.300  89.500  1.00  0.00           C  
ATOM   1930  CA  PRO C  65      51.100  57.900  88.600  1.00  0.00           C  
ATOM   1931  C   PRO C  65      50.500  58.700  87.500  1.00  0.00           C  
ATOM   1932  O   PRO C  65      49.500  58.300  86.800  1.00  0.00           O  
ATOM   1933  N   TYR C  66      50.900  59.900  87.200  1.00  0.00           N  
ATOM   1934  CA  TYR C  66      50.500  60.700  86.100  1.00  0.00           C  
ATOM   1935  CB  TYR C  66      51.200  60.300  84.800  1.00  0.00           C  
ATOM   1936  CG  TYR C  66      52.700  60.300  84.700  1.00  0.00           C  
ATOM   1937  CD1 TYR C  66      53.300  61.500  84.700  1.00  0.00           C  
ATOM   1938  CE1 TYR C  66      54.700  61.500  84.600  1.00  0.00           C  
ATOM   1939  CZ  TYR C  66      55.500  60.400  84.500  1.00  0.00           C  
ATOM   1940  OH  TYR C  66      56.900  60.300  84.400  1.00  0.00           O  
ATOM   1941  CE2 TYR C  66      54.800  59.100  84.500  1.00  0.00           C  
ATOM   1942  CD2 TYR C  66      53.400  59.100  84.700  1.00  0.00           C  
ATOM   1943  C   TYR C  66      49.000  61.100  86.100  1.00  0.00           C  
ATOM   1944  O   TYR C  66      48.400  61.600  85.200  1.00  0.00           O  
ATOM   1945  N   ALA C  67      48.300  61.000  87.300  1.00  0.00           N  
ATOM   1946  CA  ALA C  67      46.900  61.200  87.500  1.00  0.00           C  
ATOM   1947  CB  ALA C  67      46.400  60.100  88.500  1.00  0.00           C  
ATOM   1948  C   ALA C  67      46.600  62.600  87.900  1.00  0.00           C  
ATOM   1949  O   ALA C  67      45.500  63.000  87.600  1.00  0.00           O  
ATOM   1950  N   THR C  68      47.500  63.400  88.500  1.00  0.00           N  
ATOM   1951  CA  THR C  68      47.200  64.600  89.100  1.00  0.00           C  
ATOM   1952  CB  THR C  68      48.000  65.000  90.300  1.00  0.00           C  
ATOM   1953  CG2 THR C  68      47.500  64.300  91.500  1.00  0.00           C  
ATOM   1954  OG1 THR C  68      49.400  64.700  90.100  1.00  0.00           O  
ATOM   1955  C   THR C  68      47.200  65.800  88.100  1.00  0.00           C  
ATOM   1956  O   THR C  68      48.100  66.000  87.300  1.00  0.00           O  
ATOM   1957  N   ARG C  69      46.200  66.800  88.100  1.00  0.00           N  
ATOM   1958  CA  ARG C  69      46.000  67.800  87.200  1.00  0.00           C  
ATOM   1959  CB  ARG C  69      44.600  68.300  87.000  1.00  0.00           C  
ATOM   1960  CG  ARG C  69      43.700  67.400  86.300  1.00  0.00           C  
ATOM   1961  CD  ARG C  69      42.400  68.100  86.000  1.00  0.00           C  
ATOM   1962  NE  ARG C  69      41.400  67.200  85.300  1.00  0.00           N  
ATOM   1963  CZ  ARG C  69      40.400  67.600  84.700  1.00  0.00           C  
ATOM   1964  NH1 ARG C  69      40.000  68.900  84.800  1.00  0.00           N1+
ATOM   1965  NH2 ARG C  69      39.700  66.900  83.800  1.00  0.00           N  
ATOM   1966  C   ARG C  69      47.000  69.000  87.700  1.00  0.00           C  
ATOM   1967  O   ARG C  69      46.500  69.800  88.500  1.00  0.00           O  
ATOM   1968  N   ASN C  70      48.100  69.100  87.100  1.00  0.00           N  
ATOM   1969  CA  ASN C  70      49.100  70.100  87.500  1.00  0.00           C  
ATOM   1970  CB  ASN C  70      50.500  69.500  87.800  1.00  0.00           C  
ATOM   1971  CG  ASN C  70      50.300  68.600  89.000  1.00  0.00           C  
ATOM   1972  OD1 ASN C  70      49.400  68.600  89.800  1.00  0.00           O  
ATOM   1973  ND2 ASN C  70      51.400  67.700  89.200  1.00  0.00           N  
ATOM   1974  C   ASN C  70      49.200  71.400  86.500  1.00  0.00           C  
ATOM   1975  O   ASN C  70      50.200  72.000  86.400  1.00  0.00           O  
ATOM   1976  N   ASP C  71      48.200  71.800  85.900  1.00  0.00           N  
ATOM   1977  CA  ASP C  71      47.900  72.900  85.000  1.00  0.00           C  
ATOM   1978  CB  ASP C  71      46.500  72.900  84.400  1.00  0.00           C  
ATOM   1979  CG  ASP C  71      45.900  71.700  83.800  1.00  0.00           C  
ATOM   1980  OD1 ASP C  71      44.800  71.700  83.200  1.00  0.00           O  
ATOM   1981  OD2 ASP C  71      46.600  70.700  83.600  1.00  0.00           O1-
ATOM   1982  C   ASP C  71      48.500  74.200  85.300  1.00  0.00           C  
ATOM   1983  O   ASP C  71      49.000  74.900  84.500  1.00  0.00           O  
ATOM   1984  N   ALA C  72      48.600  74.700  86.600  1.00  0.00           N  
ATOM   1985  CA  ALA C  72      49.200  75.900  87.100  1.00  0.00           C  
ATOM   1986  CB  ALA C  72      48.500  76.300  88.400  1.00  0.00           C  
ATOM   1987  C   ALA C  72      50.700  75.800  87.200  1.00  0.00           C  
ATOM   1988  O   ALA C  72      51.400  76.700  87.100  1.00  0.00           O  
ATOM   1989  N   CYS C  73      51.200  74.600  87.500  1.00  0.00           N  
ATOM   1990  CA  CYS C  73      52.700  74.300  87.400  1.00  0.00           C  
ATOM   1991  CB  CYS C  73      53.000  73.000  88.200  1.00  0.00           C  
ATOM   1992  SG  CYS C  73      54.800  72.500  88.300  1.00  0.00           S  
ATOM   1993  C   CYS C  73      53.200  74.300  86.000  1.00  0.00           C  
ATOM   1994  O   CYS C  73      54.300  74.800  85.800  1.00  0.00           O  
ATOM   1995  N   ILE C  74      52.400  73.900  85.000  1.00  0.00           N  
ATOM   1996  CA  ILE C  74      52.600  73.900  83.700  1.00  0.00           C  
ATOM   1997  CB  ILE C  74      51.600  73.200  82.700  1.00  0.00           C  
ATOM   1998  CG2 ILE C  74      52.100  73.300  81.200  1.00  0.00           C  
ATOM   1999  CG1 ILE C  74      51.300  71.800  83.100  1.00  0.00           C  
ATOM   2000  CD  ILE C  74      52.600  71.000  83.100  1.00  0.00           C  
ATOM   2001  C   ILE C  74      53.000  75.400  83.200  1.00  0.00           C  
ATOM   2002  O   ILE C  74      54.100  75.600  82.700  1.00  0.00           O  
ATOM   2003  N   ASP C  75      52.100  76.300  83.600  1.00  0.00           N  
ATOM   2004  CA  ASP C  75      52.300  77.700  83.400  1.00  0.00           C  
ATOM   2005  CB  ASP C  75      51.200  78.500  83.800  1.00  0.00           C  
ATOM   2006  CG  ASP C  75      49.900  78.300  83.000  1.00  0.00           C  
ATOM   2007  OD1 ASP C  75      49.800  77.600  82.000  1.00  0.00           O  
ATOM   2008  OD2 ASP C  75      48.800  78.800  83.500  1.00  0.00           O1-
ATOM   2009  C   ASP C  75      53.600  78.200  84.000  1.00  0.00           C  
ATOM   2010  O   ASP C  75      54.500  78.900  83.500  1.00  0.00           O  
ATOM   2011  N   GLN C  76      53.800  77.700  85.200  1.00  0.00           N  
ATOM   2012  CA  GLN C  76      55.100  77.900  85.900  1.00  0.00           C  
ATOM   2013  CB  GLN C  76      55.100  77.400  87.400  1.00  0.00           C  
ATOM   2014  CG  GLN C  76      55.500  78.500  88.400  1.00  0.00           C  
ATOM   2015  CD  GLN C  76      54.200  79.400  88.700  1.00  0.00           C  
ATOM   2016  OE1 GLN C  76      53.400  79.800  87.800  1.00  0.00           O  
ATOM   2017  NE2 GLN C  76      54.200  79.900  89.900  1.00  0.00           N  
ATOM   2018  C   GLN C  76      56.300  77.500  85.100  1.00  0.00           C  
ATOM   2019  O   GLN C  76      57.300  78.300  85.000  1.00  0.00           O  
ATOM   2020  N   CYS C  77      56.500  76.200  84.900  1.00  0.00           N  
ATOM   2021  CA  CYS C  77      57.700  75.700  84.300  1.00  0.00           C  
ATOM   2022  CB  CYS C  77      57.600  74.200  84.200  1.00  0.00           C  
ATOM   2023  SG  CYS C  77      56.200  73.500  83.500  1.00  0.00           S  
ATOM   2024  C   CYS C  77      57.900  76.400  82.900  1.00  0.00           C  
ATOM   2025  O   CYS C  77      59.000  76.900  82.500  1.00  0.00           O  
ATOM   2026  N   LEU C  78      56.800  76.500  82.100  1.00  0.00           N  
ATOM   2027  CA  LEU C  78      56.800  77.400  81.100  1.00  0.00           C  
ATOM   2028  CB  LEU C  78      55.400  77.500  80.500  1.00  0.00           C  
ATOM   2029  CG  LEU C  78      55.100  78.500  79.600  1.00  0.00           C  
ATOM   2030  CD1 LEU C  78      55.700  78.200  78.300  1.00  0.00           C  
ATOM   2031  CD2 LEU C  78      53.600  78.600  79.500  1.00  0.00           C  
ATOM   2032  C   LEU C  78      57.500  78.800  81.300  1.00  0.00           C  
ATOM   2033  O   LEU C  78      58.400  79.200  80.600  1.00  0.00           O  
ATOM   2034  N   ALA C  79      57.100  79.400  82.500  1.00  0.00           N  
ATOM   2035  CA  ALA C  79      57.500  80.800  82.700  1.00  0.00           C  
ATOM   2036  CB  ALA C  79      56.700  81.300  83.900  1.00  0.00           C  
ATOM   2037  C   ALA C  79      59.000  80.800  83.100  1.00  0.00           C  
ATOM   2038  O   ALA C  79      59.600  81.800  82.600  1.00  0.00           O  
ATOM   2039  N   LYS C  80      59.400  79.900  83.800  1.00  0.00           N  
ATOM   2040  CA  LYS C  80      60.900  79.800  84.100  1.00  0.00           C  
ATOM   2041  CB  LYS C  80      61.300  78.800  85.200  1.00  0.00           C  
ATOM   2042  CG  LYS C  80      61.300  79.500  86.500  1.00  0.00           C  
ATOM   2043  CD  LYS C  80      62.000  78.600  87.700  1.00  0.00           C  
ATOM   2044  CE  LYS C  80      61.900  79.200  89.100  1.00  0.00           C  
ATOM   2045  NZ  LYS C  80      62.900  78.600  90.000  1.00  0.00           N1+
ATOM   2046  C   LYS C  80      61.700  79.400  82.800  1.00  0.00           C  
ATOM   2047  O   LYS C  80      62.700  79.900  82.900  1.00  0.00           O  
ATOM   2048  N   TYR C  81      61.200  78.400  82.000  1.00  0.00           N  
ATOM   2049  CA  TYR C  81      61.900  78.100  80.800  1.00  0.00           C  
ATOM   2050  CB  TYR C  81      61.300  76.900  80.100  1.00  0.00           C  
ATOM   2051  CG  TYR C  81      62.100  76.300  79.100  1.00  0.00           C  
ATOM   2052  CD1 TYR C  81      62.200  76.800  77.800  1.00  0.00           C  
ATOM   2053  CE1 TYR C  81      63.000  76.100  76.900  1.00  0.00           C  
ATOM   2054  CZ  TYR C  81      64.000  75.100  77.300  1.00  0.00           C  
ATOM   2055  OH  TYR C  81      64.900  74.700  76.500  1.00  0.00           O  
ATOM   2056  CE2 TYR C  81      63.800  74.500  78.600  1.00  0.00           C  
ATOM   2057  CD2 TYR C  81      62.800  75.100  79.400  1.00  0.00           C  
ATOM   2058  C   TYR C  81      62.000  79.200  79.800  1.00  0.00           C  
ATOM   2059  O   TYR C  81      63.100  79.500  79.200  1.00  0.00           O  
ATOM   2060  N   MET C  82      61.000  80.000  79.500  1.00  0.00           N  
ATOM   2061  CA  MET C  82      61.000  81.300  78.700  1.00  0.00           C  
ATOM   2062  CB  MET C  82      59.500  81.700  78.500  1.00  0.00           C  
ATOM   2063  CG  MET C  82      58.800  80.700  77.700  1.00  0.00           C  
ATOM   2064  SD  MET C  82      59.600  80.000  76.200  1.00  0.00           S  
ATOM   2065  CE  MET C  82      59.700  81.300  75.100  1.00  0.00           C  
ATOM   2066  C   MET C  82      61.800  82.300  79.300  1.00  0.00           C  
ATOM   2067  O   MET C  82      62.500  83.000  78.500  1.00  0.00           O  
ATOM   2068  N   ARG C  83      61.700  82.600  80.700  1.00  0.00           N  
ATOM   2069  CA  ARG C  83      62.800  83.400  81.300  1.00  0.00           C  
ATOM   2070  CB  ARG C  83      62.300  83.500  82.800  1.00  0.00           C  
ATOM   2071  CG  ARG C  83      61.500  84.800  83.000  1.00  0.00           C  
ATOM   2072  CD  ARG C  83      60.600  84.600  84.200  1.00  0.00           C  
ATOM   2073  NE  ARG C  83      59.800  85.900  84.400  1.00  0.00           N  
ATOM   2074  CZ  ARG C  83      58.600  85.900  85.000  1.00  0.00           C  
ATOM   2075  NH1 ARG C  83      57.900  85.000  85.500  1.00  0.00           N1+
ATOM   2076  NH2 ARG C  83      58.200  87.300  85.200  1.00  0.00           N  
ATOM   2077  C   ARG C  83      64.100  83.000  81.000  1.00  0.00           C  
ATOM   2078  O   ARG C  83      65.000  83.800  80.700  1.00  0.00           O  
ATOM   2079  N   SER C  84      64.400  81.700  81.300  1.00  0.00           N  
ATOM   2080  CA  SER C  84      65.700  81.000  81.200  1.00  0.00           C  
ATOM   2081  CB  SER C  84      65.700  79.600  81.500  1.00  0.00           C  
ATOM   2082  OG  SER C  84      65.400  79.400  82.800  1.00  0.00           O  
ATOM   2083  C   SER C  84      66.300  81.300  79.800  1.00  0.00           C  
ATOM   2084  O   SER C  84      67.400  81.800  79.600  1.00  0.00           O  
ATOM   2085  N   TRP C  85      65.500  81.100  78.800  1.00  0.00           N  
ATOM   2086  CA  TRP C  85      65.700  81.400  77.400  1.00  0.00           C  
ATOM   2087  CB  TRP C  85      64.500  81.200  76.500  1.00  0.00           C  
ATOM   2088  CG  TRP C  85      64.800  80.800  75.100  1.00  0.00           C  
ATOM   2089  CD1 TRP C  85      64.600  79.500  74.600  1.00  0.00           C  
ATOM   2090  NE1 TRP C  85      64.900  79.600  73.300  1.00  0.00           N  
ATOM   2091  CE2 TRP C  85      65.200  80.900  72.800  1.00  0.00           C  
ATOM   2092  CZ2 TRP C  85      65.400  81.300  71.600  1.00  0.00           C  
ATOM   2093  CH2 TRP C  85      65.700  82.800  71.400  1.00  0.00           C  
ATOM   2094  CZ3 TRP C  85      65.700  83.600  72.600  1.00  0.00           C  
ATOM   2095  CE3 TRP C  85      65.500  83.000  73.900  1.00  0.00           C  
ATOM   2096  CD2 TRP C  85      65.200  81.600  74.000  1.00  0.00           C  
ATOM   2097  C   TRP C  85      66.300  82.800  77.300  1.00  0.00           C  
ATOM   2098  O   TRP C  85      67.200  83.100  76.600  1.00  0.00           O  
ATOM   2099  N   ASN C  86      65.600  83.900  77.800  1.00  0.00           N  
ATOM   2100  CA  ASN C  86      65.900  85.300  77.800  1.00  0.00           C  
ATOM   2101  CB  ASN C  86      64.700  86.000  78.300  1.00  0.00           C  
ATOM   2102  CG  ASN C  86      64.800  87.500  78.000  1.00  0.00           C  
ATOM   2103  OD1 ASN C  86      65.600  87.900  77.100  1.00  0.00           O  
ATOM   2104  ND2 ASN C  86      64.100  88.400  78.700  1.00  0.00           N  
ATOM   2105  C   ASN C  86      67.200  85.400  78.500  1.00  0.00           C  
ATOM   2106  O   ASN C  86      68.200  86.000  77.900  1.00  0.00           O  
ATOM   2107  N   VAL C  87      67.500  84.800  79.600  1.00  0.00           N  
ATOM   2108  CA  VAL C  87      68.800  84.700  80.400  1.00  0.00           C  
ATOM   2109  CB  VAL C  87      68.800  84.000  81.700  1.00  0.00           C  
ATOM   2110  CG1 VAL C  87      70.100  84.100  82.400  1.00  0.00           C  
ATOM   2111  CG2 VAL C  87      67.700  84.700  82.500  1.00  0.00           C  
ATOM   2112  C   VAL C  87      69.900  84.200  79.500  1.00  0.00           C  
ATOM   2113  O   VAL C  87      71.000  84.700  79.400  1.00  0.00           O  
ATOM   2114  N   ILE C  88      69.700  83.100  78.800  1.00  0.00           N  
ATOM   2115  CA  ILE C  88      70.700  82.400  77.800  1.00  0.00           C  
ATOM   2116  CB  ILE C  88      70.400  81.000  77.700  1.00  0.00           C  
ATOM   2117  CG2 ILE C  88      71.200  80.400  76.600  1.00  0.00           C  
ATOM   2118  CG1 ILE C  88      70.200  80.100  78.900  1.00  0.00           C  
ATOM   2119  CD  ILE C  88      71.600  79.800  79.600  1.00  0.00           C  
ATOM   2120  C   ILE C  88      70.900  83.300  76.600  1.00  0.00           C  
ATOM   2121  O   ILE C  88      71.900  83.600  76.200  1.00  0.00           O  
ATOM   2122  N   SER C  89      69.800  84.000  76.100  1.00  0.00           N  
ATOM   2123  CA  SER C  89      69.900  84.800  74.900  1.00  0.00           C  
ATOM   2124  CB  SER C  89      68.500  85.300  74.500  1.00  0.00           C  
ATOM   2125  OG  SER C  89      68.500  86.500  73.700  1.00  0.00           O  
ATOM   2126  C   SER C  89      70.700  86.100  75.200  1.00  0.00           C  
ATOM   2127  O   SER C  89      71.500  86.500  74.500  1.00  0.00           O  
ATOM   2128  N   LYS C  90      70.400  86.700  76.400  1.00  0.00           N  
ATOM   2129  CA  LYS C  90      71.300  87.800  76.900  1.00  0.00           C  
ATOM   2130  CB  LYS C  90      70.600  88.300  78.100  1.00  0.00           C  
ATOM   2131  CG  LYS C  90      69.300  88.900  77.900  1.00  0.00           C  
ATOM   2132  CD  LYS C  90      68.600  89.300  79.200  1.00  0.00           C  
ATOM   2133  CE  LYS C  90      67.300  90.000  79.000  1.00  0.00           C  
ATOM   2134  NZ  LYS C  90      66.700  90.700  80.100  1.00  0.00           N1+
ATOM   2135  C   LYS C  90      72.700  87.400  77.000  1.00  0.00           C  
ATOM   2136  O   LYS C  90      73.600  88.200  76.800  1.00  0.00           O  
ATOM   2137  N   ALA C  91      73.000  86.200  77.500  1.00  0.00           N  
ATOM   2138  CA  ALA C  91      74.300  85.800  77.800  1.00  0.00           C  
ATOM   2139  CB  ALA C  91      74.400  84.600  78.900  1.00  0.00           C  
ATOM   2140  C   ALA C  91      75.100  85.400  76.600  1.00  0.00           C  
ATOM   2141  O   ALA C  91      76.300  85.800  76.400  1.00  0.00           O  
ATOM   2142  N   TYR C  92      74.400  84.900  75.600  1.00  0.00           N  
ATOM   2143  CA  TYR C  92      74.900  84.700  74.200  1.00  0.00           C  
ATOM   2144  CB  TYR C  92      74.000  83.800  73.500  1.00  0.00           C  
ATOM   2145  CG  TYR C  92      74.400  83.500  72.100  1.00  0.00           C  
ATOM   2146  CD1 TYR C  92      74.100  84.300  71.000  1.00  0.00           C  
ATOM   2147  CE1 TYR C  92      74.600  84.000  69.700  1.00  0.00           C  
ATOM   2148  CZ  TYR C  92      75.400  82.900  69.500  1.00  0.00           C  
ATOM   2149  OH  TYR C  92      75.800  82.400  68.300  1.00  0.00           O  
ATOM   2150  CE2 TYR C  92      75.700  82.000  70.600  1.00  0.00           C  
ATOM   2151  CD2 TYR C  92      75.300  82.300  71.900  1.00  0.00           C  
ATOM   2152  C   TYR C  92      75.200  86.100  73.700  1.00  0.00           C  
ATOM   2153  O   TYR C  92      76.300  86.200  73.200  1.00  0.00           O  
ATOM   2154  N   ILE C  93      74.300  87.000  73.700  1.00  0.00           N  
ATOM   2155  CA  ILE C  93      74.400  88.300  73.100  1.00  0.00           C  
ATOM   2156  CB  ILE C  93      73.200  89.200  73.200  1.00  0.00           C  
ATOM   2157  CG2 ILE C  93      73.300  90.600  73.100  1.00  0.00           C  
ATOM   2158  CG1 ILE C  93      72.100  88.700  72.100  1.00  0.00           C  
ATOM   2159  CD  ILE C  93      72.500  89.000  70.700  1.00  0.00           C  
ATOM   2160  C   ILE C  93      75.600  89.000  73.800  1.00  0.00           C  
ATOM   2161  O   ILE C  93      76.400  89.700  73.100  1.00  0.00           O  
ATOM   2162  N   SER C  94      75.600  89.000  75.100  1.00  0.00           N  
ATOM   2163  CA  SER C  94      76.800  89.600  75.900  1.00  0.00           C  
ATOM   2164  CB  SER C  94      76.400  89.400  77.300  1.00  0.00           C  
ATOM   2165  OG  SER C  94      77.500  90.000  78.100  1.00  0.00           O  
ATOM   2166  C   SER C  94      78.100  89.000  75.400  1.00  0.00           C  
ATOM   2167  O   SER C  94      79.100  89.800  75.300  1.00  0.00           O  
ATOM   2168  N   ARG C  95      78.200  87.800  75.000  1.00  0.00           N  
ATOM   2169  CA  ARG C  95      79.500  87.100  74.900  1.00  0.00           C  
ATOM   2170  CB  ARG C  95      79.200  85.700  74.700  1.00  0.00           C  
ATOM   2171  CG  ARG C  95      80.400  84.800  74.600  1.00  0.00           C  
ATOM   2172  CD  ARG C  95      80.000  83.300  74.600  1.00  0.00           C  
ATOM   2173  NE  ARG C  95      81.100  82.400  74.400  1.00  0.00           N  
ATOM   2174  CZ  ARG C  95      82.100  81.900  75.200  1.00  0.00           C  
ATOM   2175  NH1 ARG C  95      82.000  81.800  76.500  1.00  0.00           N1+
ATOM   2176  NH2 ARG C  95      83.100  81.100  74.700  1.00  0.00           N  
ATOM   2177  C   ARG C  95      80.200  87.500  73.600  1.00  0.00           C  
ATOM   2178  O   ARG C  95      81.500  87.500  73.500  1.00  0.00           O  
ATOM   2179  N   ILE C  96      79.500  88.000  72.500  1.00  0.00           N  
ATOM   2180  CA  ILE C  96      79.800  88.000  71.200  1.00  0.00           C  
ATOM   2181  CB  ILE C  96      78.700  87.900  70.200  1.00  0.00           C  
ATOM   2182  CG2 ILE C  96      78.400  86.300  70.300  1.00  0.00           C  
ATOM   2183  CG1 ILE C  96      77.600  88.700  70.400  1.00  0.00           C  
ATOM   2184  CD  ILE C  96      76.700  88.900  69.200  1.00  0.00           C  
ATOM   2185  C   ILE C  96      80.600  89.500  70.900  1.00  0.00           C  
ATOM   2186  O   ILE C  96      81.100  89.600  69.800  1.00  0.00           O  
ATOM   2187  N   GLN C  97      80.300  90.400  71.800  1.00  0.00           N  
ATOM   2188  CA  GLN C  97      80.800  91.800  71.700  1.00  0.00           C  
ATOM   2189  CB  GLN C  97      80.000  92.600  72.600  1.00  0.00           C  
ATOM   2190  CG  GLN C  97      78.500  92.700  72.300  1.00  0.00           C  
ATOM   2191  CD  GLN C  97      77.700  93.300  73.400  1.00  0.00           C  
ATOM   2192  OE1 GLN C  97      77.800  94.300  73.900  1.00  0.00           O  
ATOM   2193  NE2 GLN C  97      76.800  92.500  74.000  1.00  0.00           N  
ATOM   2194  C   GLN C  97      82.200  91.700  72.100  1.00  0.00           C  
ATOM   2195  O   GLN C  97      82.600  91.000  72.900  1.00  0.00           O  
ATOM   2196  N   ASN C  98      83.000  92.800  71.600  1.00  0.00           N  
ATOM   2197  CA  ASN C  98      84.500  92.900  72.000  1.00  0.00           C  
ATOM   2198  CB  ASN C  98      85.200  93.700  71.000  1.00  0.00           C  
ATOM   2199  CG  ASN C  98      85.600  93.100  69.800  1.00  0.00           C  
ATOM   2200  OD1 ASN C  98      85.400  91.900  69.400  1.00  0.00           O  
ATOM   2201  ND2 ASN C  98      86.200  93.900  68.800  1.00  0.00           N  
ATOM   2202  C   ASN C  98      84.600  93.400  73.400  1.00  0.00           C  
ATOM   2203  O   ASN C  98      83.600  93.900  74.000  1.00  0.00           O  
ATOM   2204  N   ALA C  99      85.700  93.200  74.000  1.00  0.00           N  
ATOM   2205  CA  ALA C  99      86.000  93.800  75.300  1.00  0.00           C  
ATOM   2206  CB  ALA C  99      87.300  93.200  76.000  1.00  0.00           C  
ATOM   2207  C   ALA C  99      86.000  95.300  75.300  1.00  0.00           C  
ATOM   2208  O   ALA C  99      86.200  96.000  74.400  1.00  0.00           O  
ATOM   2209  N   SER C 100      85.700  95.700  76.600  1.00  0.00           N  
ATOM   2210  CA  SER C 100      85.700  97.100  77.000  1.00  0.00           C  
ATOM   2211  CB  SER C 100      84.200  97.400  77.400  1.00  0.00           C  
ATOM   2212  OG  SER C 100      84.000  98.800  77.800  1.00  0.00           O  
ATOM   2213  C   SER C 100      86.700  97.400  78.100  1.00  0.00           C  
ATOM   2214  O   SER C 100      87.200  96.400  78.700  1.00  0.00           O  
ATOM   2215  N   ALA C 101      87.200  98.600  78.200  1.00  0.00           N  
ATOM   2216  CA  ALA C 101      88.100  99.100  79.100  1.00  0.00           C  
ATOM   2217  CB  ALA C 101      88.500 100.600  78.900  1.00  0.00           C  
ATOM   2218  C   ALA C 101      87.700  98.800  80.600  1.00  0.00           C  
ATOM   2219  O   ALA C 101      88.400  98.700  81.500  1.00  0.00           O  
ATOM   2220  N   SER C 102      86.400  98.500  80.900  1.00  0.00           N  
ATOM   2221  CA  SER C 102      85.900  98.300  82.100  1.00  0.00           C  
ATOM   2222  CB  SER C 102      84.400  98.600  82.200  1.00  0.00           C  
ATOM   2223  OG  SER C 102      84.000  99.800  81.700  1.00  0.00           O  
ATOM   2224  C   SER C 102      86.200  97.100  82.900  1.00  0.00           C  
ATOM   2225  O   SER C 102      86.200  96.900  84.100  1.00  0.00           O  
ATOM   2226  N   GLY C 103      86.700  96.100  82.100  1.00  0.00           N  
ATOM   2227  CA  GLY C 103      87.400  94.900  82.700  1.00  0.00           C  
ATOM   2228  C   GLY C 103      86.400  93.900  83.100  1.00  0.00           C  
ATOM   2229  O   GLY C 103      85.300  94.200  83.500  1.00  0.00           O  
ATOM   2230  N   GLU C 104      86.600  92.600  82.900  1.00  0.00           N  
ATOM   2231  CA  GLU C 104      85.800  91.400  83.100  1.00  0.00           C  
ATOM   2232  CB  GLU C 104      85.400  90.700  81.700  1.00  0.00           C  
ATOM   2233  CG  GLU C 104      84.800  89.400  82.000  1.00  0.00           C  
ATOM   2234  CD  GLU C 104      84.400  88.700  80.700  1.00  0.00           C  
ATOM   2235  OE1 GLU C 104      83.600  87.600  80.800  1.00  0.00           O  
ATOM   2236  OE2 GLU C 104      84.900  89.100  79.600  1.00  0.00           O1-
ATOM   2237  C   GLU C 104      86.600  90.400  84.000  1.00  0.00           C  
ATOM   2238  O   GLU C 104      87.700  90.000  83.600  1.00  0.00           O  
ATOM   2239  N   ILE C 105      86.000  90.100  85.100  1.00  0.00           N  
ATOM   2240  CA  ILE C 105      86.600  89.300  86.200  1.00  0.00           C  
ATOM   2241  CB  ILE C 105      86.100  89.700  87.600  1.00  0.00           C  
ATOM   2242  CG2 ILE C 105      86.900  89.000  88.600  1.00  0.00           C  
ATOM   2243  CG1 ILE C 105      86.200  91.200  87.800  1.00  0.00           C  
ATOM   2244  CD  ILE C 105      85.100  91.500  88.900  1.00  0.00           C  
ATOM   2245  C   ILE C 105      86.500  87.800  85.900  1.00  0.00           C  
ATOM   2246  OC1 ILE C 105      85.400  87.300  85.900  1.00  0.00           O  
ATOM   2247  OC2 ILE C 105      87.500  87.100  85.600  1.00  0.00           O  
TER   
ATOM   2248  N   MET D   1      48.600  63.400  26.300  1.00  0.00           N  
ATOM   2249  CA  MET D   1      47.500  63.700  27.200  1.00  0.00           C  
ATOM   2250  CB  MET D   1      46.100  63.800  26.600  1.00  0.00           C  
ATOM   2251  CG  MET D   1      45.800  65.200  26.000  1.00  0.00           C  
ATOM   2252  SD  MET D   1      46.900  65.300  24.500  1.00  0.00           S  
ATOM   2253  CE  MET D   1      46.500  67.100  24.200  1.00  0.00           C  
ATOM   2254  C   MET D   1      47.500  62.400  28.100  1.00  0.00           C  
ATOM   2255  O   MET D   1      47.700  61.300  27.800  1.00  0.00           O  
ATOM   2256  N   SER D   2      47.300  62.900  29.400  1.00  0.00           N  
ATOM   2257  CA  SER D   2      46.900  62.000  30.500  1.00  0.00           C  
ATOM   2258  CB  SER D   2      48.100  61.200  31.000  1.00  0.00           C  
ATOM   2259  OG  SER D   2      47.600  60.100  31.700  1.00  0.00           O  
ATOM   2260  C   SER D   2      46.400  62.700  31.700  1.00  0.00           C  
ATOM   2261  O   SER D   2      46.600  63.800  32.000  1.00  0.00           O  
ATOM   2262  N   SER D   3      45.500  61.900  32.500  1.00  0.00           N  
ATOM   2263  CA  SER D   3      45.000  62.400  33.700  1.00  0.00           C  
ATOM   2264  CB  SER D   3      43.800  61.500  34.100  1.00  0.00           C  
ATOM   2265  OG  SER D   3      43.200  61.800  35.400  1.00  0.00           O  
ATOM   2266  C   SER D   3      46.000  62.400  34.800  1.00  0.00           C  
ATOM   2267  O   SER D   3      46.100  63.300  35.700  1.00  0.00           O  
ATOM   2268  N   LEU D   4      47.000  61.600  34.800  1.00  0.00           N  
ATOM   2269  CA  LEU D   4      48.200  61.600  35.500  1.00  0.00           C  
ATOM   2270  CB  LEU D   4      49.100  60.400  35.300  1.00  0.00           C  
ATOM   2271  CG  LEU D   4      48.600  59.100  35.900  1.00  0.00           C  
ATOM   2272  CD1 LEU D   4      49.400  57.900  35.600  1.00  0.00           C  
ATOM   2273  CD2 LEU D   4      48.600  59.200  37.500  1.00  0.00           C  
ATOM   2274  C   LEU D   4      49.100  62.800  35.000  1.00  0.00           C  
ATOM   2275  O   LEU D   4      49.300  63.000  33.800  1.00  0.00           O  
ATOM   2276  N   SER D   5      49.700  63.500  36.000  1.00  0.00           N  
ATOM   2277  CA  SER D   5      50.500  64.600  35.700  1.00  0.00           C  
ATOM   2278  CB  SER D   5      50.700  65.500  37.000  1.00  0.00           C  
ATOM   2279  OG  SER D   5      51.100  64.600  38.000  1.00  0.00           O  
ATOM   2280  C   SER D   5      51.900  64.300  35.100  1.00  0.00           C  
ATOM   2281  O   SER D   5      52.600  65.200  34.900  1.00  0.00           O  
ATOM   2282  N   THR D   6      52.200  63.000  35.100  1.00  0.00           N  
ATOM   2283  CA  THR D   6      53.500  62.600  34.600  1.00  0.00           C  
ATOM   2284  CB  THR D   6      53.600  61.000  34.700  1.00  0.00           C  
ATOM   2285  CG2 THR D   6      53.800  60.700  36.200  1.00  0.00           C  
ATOM   2286  OG1 THR D   6      52.500  60.300  34.100  1.00  0.00           O  
ATOM   2287  C   THR D   6      53.700  63.100  33.100  1.00  0.00           C  
ATOM   2288  O   THR D   6      52.800  63.000  32.300  1.00  0.00           O  
ATOM   2289  N   SER D   7      54.800  63.800  32.900  1.00  0.00           N  
ATOM   2290  CA  SER D   7      55.300  64.400  31.700  1.00  0.00           C  
ATOM   2291  CB  SER D   7      55.100  65.900  31.600  1.00  0.00           C  
ATOM   2292  OG  SER D   7      55.800  66.500  32.700  1.00  0.00           O  
ATOM   2293  C   SER D   7      56.800  64.200  31.300  1.00  0.00           C  
ATOM   2294  O   SER D   7      57.600  64.200  32.200  1.00  0.00           O  
ATOM   2295  N   ASP D   8      57.100  63.900  30.100  1.00  0.00           N  
ATOM   2296  CA  ASP D   8      58.400  63.700  29.500  1.00  0.00           C  
ATOM   2297  CB  ASP D   8      58.500  62.700  28.400  1.00  0.00           C  
ATOM   2298  CG  ASP D   8      57.600  62.900  27.100  1.00  0.00           C  
ATOM   2299  OD1 ASP D   8      56.500  63.600  27.200  1.00  0.00           O  
ATOM   2300  OD2 ASP D   8      58.000  62.400  26.100  1.00  0.00           O1-
ATOM   2301  C   ASP D   8      59.200  65.000  29.400  1.00  0.00           C  
ATOM   2302  O   ASP D   8      59.500  65.400  28.300  1.00  0.00           O  
ATOM   2303  N   LEU D   9      59.200  65.600  30.500  1.00  0.00           N  
ATOM   2304  CA  LEU D   9      59.800  67.000  30.500  1.00  0.00           C  
ATOM   2305  CB  LEU D   9      58.700  68.100  30.200  1.00  0.00           C  
ATOM   2306  CG  LEU D   9      59.300  69.500  29.900  1.00  0.00           C  
ATOM   2307  CD1 LEU D   9      60.300  69.800  28.900  1.00  0.00           C  
ATOM   2308  CD2 LEU D   9      58.100  70.400  29.600  1.00  0.00           C  
ATOM   2309  C   LEU D   9      60.400  67.300  31.900  1.00  0.00           C  
ATOM   2310  O   LEU D   9      59.600  67.400  32.800  1.00  0.00           O  
ATOM   2311  N   ALA D  10      61.700  67.400  32.100  1.00  0.00           N  
ATOM   2312  CA  ALA D  10      62.300  67.800  33.300  1.00  0.00           C  
ATOM   2313  CB  ALA D  10      63.800  67.600  33.100  1.00  0.00           C  
ATOM   2314  C   ALA D  10      61.900  69.100  33.900  1.00  0.00           C  
ATOM   2315  O   ALA D  10      61.600  70.200  33.100  1.00  0.00           O  
ATOM   2316  N   SER D  11      61.900  69.200  35.200  1.00  0.00           N  
ATOM   2317  CA  SER D  11      61.400  70.300  35.900  1.00  0.00           C  
ATOM   2318  CB  SER D  11      61.300  70.000  37.400  1.00  0.00           C  
ATOM   2319  OG  SER D  11      62.500  69.900  38.200  1.00  0.00           O  
ATOM   2320  C   SER D  11      62.200  71.500  35.700  1.00  0.00           C  
ATOM   2321  O   SER D  11      63.400  71.500  35.400  1.00  0.00           O  
ATOM   2322  N   LEU D  12      61.700  72.700  36.000  1.00  0.00           N  
ATOM   2323  CA  LEU D  12      62.400  74.000  36.100  1.00  0.00           C  
ATOM   2324  CB  LEU D  12      61.600  75.100  35.500  1.00  0.00           C  
ATOM   2325  CG  LEU D  12      61.200  75.100  34.000  1.00  0.00           C  
ATOM   2326  CD1 LEU D  12      60.400  76.400  33.700  1.00  0.00           C  
ATOM   2327  CD2 LEU D  12      62.400  75.100  33.000  1.00  0.00           C  
ATOM   2328  C   LEU D  12      62.800  74.300  37.500  1.00  0.00           C  
ATOM   2329  O   LEU D  12      62.400  73.700  38.500  1.00  0.00           O  
ATOM   2330  N   ASP D  13      63.700  75.300  37.600  1.00  0.00           N  
ATOM   2331  CA  ASP D  13      64.400  75.700  38.800  1.00  0.00           C  
ATOM   2332  CB  ASP D  13      65.800  76.100  38.400  1.00  0.00           C  
ATOM   2333  CG  ASP D  13      66.800  75.300  37.600  1.00  0.00           C  
ATOM   2334  OD1 ASP D  13      66.900  74.100  38.000  1.00  0.00           O  
ATOM   2335  OD2 ASP D  13      67.100  75.700  36.500  1.00  0.00           O1-
ATOM   2336  C   ASP D  13      63.800  76.700  39.700  1.00  0.00           C  
ATOM   2337  O   ASP D  13      62.700  77.300  39.300  1.00  0.00           O  
ATOM   2338  N   ASP D  14      64.100  76.900  41.000  1.00  0.00           N  
ATOM   2339  CA  ASP D  14      63.600  77.800  42.000  1.00  0.00           C  
ATOM   2340  CB  ASP D  14      62.200  77.200  42.400  1.00  0.00           C  
ATOM   2341  CG  ASP D  14      62.200  75.600  42.700  1.00  0.00           C  
ATOM   2342  OD1 ASP D  14      63.200  74.900  42.800  1.00  0.00           O  
ATOM   2343  OD2 ASP D  14      61.000  75.300  42.900  1.00  0.00           O1-
ATOM   2344  C   ASP D  14      64.600  78.000  43.000  1.00  0.00           C  
ATOM   2345  O   ASP D  14      65.200  79.000  43.200  1.00  0.00           O  
ATOM   2346  N   THR D  15      64.800  77.000  43.900  1.00  0.00           N  
ATOM   2347  CA  THR D  15      65.700  77.000  45.100  1.00  0.00           C  
ATOM   2348  CB  THR D  15      65.300  76.000  46.100  1.00  0.00           C  
ATOM   2349  CG2 THR D  15      64.000  75.900  46.700  1.00  0.00           C  
ATOM   2350  OG1 THR D  15      65.700  74.700  45.500  1.00  0.00           O  
ATOM   2351  C   THR D  15      67.100  77.100  44.800  1.00  0.00           C  
ATOM   2352  O   THR D  15      68.000  77.700  45.600  1.00  0.00           O  
ATOM   2353  N   SER D  16      67.600  76.600  43.600  1.00  0.00           N  
ATOM   2354  CA  SER D  16      68.900  76.700  43.100  1.00  0.00           C  
ATOM   2355  CB  SER D  16      69.200  75.800  42.000  1.00  0.00           C  
ATOM   2356  OG  SER D  16      68.200  76.100  41.100  1.00  0.00           O  
ATOM   2357  C   SER D  16      69.200  78.200  42.700  1.00  0.00           C  
ATOM   2358  O   SER D  16      70.400  78.400  42.300  1.00  0.00           O  
ATOM   2359  N   LYS D  17      68.300  79.100  42.500  1.00  0.00           N  
ATOM   2360  CA  LYS D  17      68.500  80.400  41.800  1.00  0.00           C  
ATOM   2361  CB  LYS D  17      67.200  80.800  41.000  1.00  0.00           C  
ATOM   2362  CG  LYS D  17      66.900  79.700  39.900  1.00  0.00           C  
ATOM   2363  CD  LYS D  17      65.600  80.100  39.300  1.00  0.00           C  
ATOM   2364  CE  LYS D  17      65.800  81.200  38.300  1.00  0.00           C  
ATOM   2365  NZ  LYS D  17      64.700  81.400  37.400  1.00  0.00           N1+
ATOM   2366  C   LYS D  17      68.900  81.400  42.900  1.00  0.00           C  
ATOM   2367  O   LYS D  17      68.400  81.400  44.000  1.00  0.00           O  
ATOM   2368  N   LYS D  18      69.700  82.300  42.500  1.00  0.00           N  
ATOM   2369  CA  LYS D  18      70.500  83.100  43.400  1.00  0.00           C  
ATOM   2370  CB  LYS D  18      71.600  84.000  42.600  1.00  0.00           C  
ATOM   2371  CG  LYS D  18      72.600  84.500  43.500  1.00  0.00           C  
ATOM   2372  CD  LYS D  18      73.600  83.500  44.000  1.00  0.00           C  
ATOM   2373  CE  LYS D  18      75.000  84.100  44.600  1.00  0.00           C  
ATOM   2374  NZ  LYS D  18      75.900  83.100  45.000  1.00  0.00           N1+
ATOM   2375  C   LYS D  18      69.800  83.800  44.500  1.00  0.00           C  
ATOM   2376  O   LYS D  18      70.100  83.700  45.700  1.00  0.00           O  
ATOM   2377  N   GLU D  19      68.800  84.500  44.200  1.00  0.00           N  
ATOM   2378  CA  GLU D  19      67.700  85.000  45.000  1.00  0.00           C  
ATOM   2379  CB  GLU D  19      66.500  85.300  44.000  1.00  0.00           C  
ATOM   2380  CG  GLU D  19      65.500  86.200  44.900  1.00  0.00           C  
ATOM   2381  CD  GLU D  19      64.300  86.500  44.000  1.00  0.00           C  
ATOM   2382  OE1 GLU D  19      63.200  86.700  44.600  1.00  0.00           O  
ATOM   2383  OE2 GLU D  19      64.300  86.400  42.700  1.00  0.00           O1-
ATOM   2384  C   GLU D  19      67.200  84.100  46.100  1.00  0.00           C  
ATOM   2385  O   GLU D  19      67.200  84.600  47.300  1.00  0.00           O  
ATOM   2386  N   ILE D  20      66.800  82.900  45.800  1.00  0.00           N  
ATOM   2387  CA  ILE D  20      66.300  82.000  46.700  1.00  0.00           C  
ATOM   2388  CB  ILE D  20      65.100  81.000  46.300  1.00  0.00           C  
ATOM   2389  CG2 ILE D  20      64.600  80.200  47.500  1.00  0.00           C  
ATOM   2390  CG1 ILE D  20      64.000  82.000  45.900  1.00  0.00           C  
ATOM   2391  CD  ILE D  20      62.700  81.500  45.300  1.00  0.00           C  
ATOM   2392  C   ILE D  20      67.400  81.200  47.400  1.00  0.00           C  
ATOM   2393  O   ILE D  20      67.300  81.100  48.600  1.00  0.00           O  
ATOM   2394  N   ALA D  21      68.500  81.000  46.800  1.00  0.00           N  
ATOM   2395  CA  ALA D  21      69.700  80.500  47.400  1.00  0.00           C  
ATOM   2396  CB  ALA D  21      70.800  80.300  46.300  1.00  0.00           C  
ATOM   2397  C   ALA D  21      70.200  81.400  48.500  1.00  0.00           C  
ATOM   2398  O   ALA D  21      70.300  80.900  49.600  1.00  0.00           O  
ATOM   2399  N   THR D  22      70.300  82.600  48.300  1.00  0.00           N  
ATOM   2400  CA  THR D  22      70.700  83.700  49.300  1.00  0.00           C  
ATOM   2401  CB  THR D  22      70.800  85.100  48.700  1.00  0.00           C  
ATOM   2402  CG2 THR D  22      71.000  86.100  49.800  1.00  0.00           C  
ATOM   2403  OG1 THR D  22      71.900  85.200  47.800  1.00  0.00           O  
ATOM   2404  C   THR D  22      69.700  83.600  50.500  1.00  0.00           C  
ATOM   2405  O   THR D  22      70.100  83.400  51.700  1.00  0.00           O  
ATOM   2406  N   PHE D  23      68.400  83.700  50.300  1.00  0.00           N  
ATOM   2407  CA  PHE D  23      67.400  83.600  51.200  1.00  0.00           C  
ATOM   2408  CB  PHE D  23      66.000  83.800  50.600  1.00  0.00           C  
ATOM   2409  CG  PHE D  23      64.700  83.700  51.400  1.00  0.00           C  
ATOM   2410  CD1 PHE D  23      64.100  82.500  51.500  1.00  0.00           C  
ATOM   2411  CE1 PHE D  23      62.900  82.400  52.400  1.00  0.00           C  
ATOM   2412  CZ  PHE D  23      62.500  83.600  53.000  1.00  0.00           C  
ATOM   2413  CE2 PHE D  23      63.200  84.800  53.000  1.00  0.00           C  
ATOM   2414  CD2 PHE D  23      64.300  84.900  52.200  1.00  0.00           C  
ATOM   2415  C   PHE D  23      67.400  82.300  52.000  1.00  0.00           C  
ATOM   2416  O   PHE D  23      67.100  82.300  53.200  1.00  0.00           O  
ATOM   2417  N   LEU D  24      67.700  81.100  51.400  1.00  0.00           N  
ATOM   2418  CA  LEU D  24      68.000  79.900  52.100  1.00  0.00           C  
ATOM   2419  CB  LEU D  24      68.000  78.700  51.000  1.00  0.00           C  
ATOM   2420  CG  LEU D  24      66.600  78.200  50.600  1.00  0.00           C  
ATOM   2421  CD1 LEU D  24      66.800  77.300  49.300  1.00  0.00           C  
ATOM   2422  CD2 LEU D  24      66.000  77.400  51.700  1.00  0.00           C  
ATOM   2423  C   LEU D  24      69.100  79.700  53.000  1.00  0.00           C  
ATOM   2424  O   LEU D  24      68.900  79.300  54.100  1.00  0.00           O  
ATOM   2425  N   GLU D  25      70.300  80.300  52.600  1.00  0.00           N  
ATOM   2426  CA  GLU D  25      71.300  80.500  53.500  1.00  0.00           C  
ATOM   2427  CB  GLU D  25      72.600  80.900  52.800  1.00  0.00           C  
ATOM   2428  CG  GLU D  25      73.500  79.700  52.800  1.00  0.00           C  
ATOM   2429  CD  GLU D  25      74.800  79.800  52.100  1.00  0.00           C  
ATOM   2430  OE1 GLU D  25      75.600  79.100  52.600  1.00  0.00           O  
ATOM   2431  OE2 GLU D  25      75.000  80.600  51.200  1.00  0.00           O1-
ATOM   2432  C   GLU D  25      70.900  81.500  54.700  1.00  0.00           C  
ATOM   2433  O   GLU D  25      71.300  81.300  55.900  1.00  0.00           O  
ATOM   2434  N   GLY D  26      70.100  82.500  54.500  1.00  0.00           N  
ATOM   2435  CA  GLY D  26      69.600  83.500  55.400  1.00  0.00           C  
ATOM   2436  C   GLY D  26      68.600  83.000  56.400  1.00  0.00           C  
ATOM   2437  O   GLY D  26      68.700  83.300  57.500  1.00  0.00           O  
ATOM   2438  N   GLU D  27      67.600  82.200  56.000  1.00  0.00           N  
ATOM   2439  CA  GLU D  27      66.800  81.600  57.000  1.00  0.00           C  
ATOM   2440  CB  GLU D  27      65.500  81.000  56.200  1.00  0.00           C  
ATOM   2441  CG  GLU D  27      64.600  82.100  55.800  1.00  0.00           C  
ATOM   2442  CD  GLU D  27      63.900  83.000  56.900  1.00  0.00           C  
ATOM   2443  OE1 GLU D  27      63.500  82.500  58.000  1.00  0.00           O  
ATOM   2444  OE2 GLU D  27      64.000  84.100  56.600  1.00  0.00           O1-
ATOM   2445  C   GLU D  27      67.500  80.400  57.700  1.00  0.00           C  
ATOM   2446  O   GLU D  27      67.000  80.200  58.900  1.00  0.00           O  
ATOM   2447  N   ASN D  28      68.400  79.600  57.100  1.00  0.00           N  
ATOM   2448  CA  ASN D  28      69.200  78.700  57.800  1.00  0.00           C  
ATOM   2449  CB  ASN D  28      69.900  77.800  56.900  1.00  0.00           C  
ATOM   2450  CG  ASN D  28      68.900  76.700  56.500  1.00  0.00           C  
ATOM   2451  OD1 ASN D  28      68.400  75.800  57.200  1.00  0.00           O  
ATOM   2452  ND2 ASN D  28      68.200  77.000  55.300  1.00  0.00           N  
ATOM   2453  C   ASN D  28      70.200  79.400  58.800  1.00  0.00           C  
ATOM   2454  O   ASN D  28      70.400  78.800  59.800  1.00  0.00           O  
ATOM   2455  N   SER D  29      70.800  80.500  58.600  1.00  0.00           N  
ATOM   2456  CA  SER D  29      71.700  81.100  59.500  1.00  0.00           C  
ATOM   2457  CB  SER D  29      72.400  82.400  59.000  1.00  0.00           C  
ATOM   2458  OG  SER D  29      71.500  83.300  58.300  1.00  0.00           O  
ATOM   2459  C   SER D  29      71.000  81.600  60.800  1.00  0.00           C  
ATOM   2460  O   SER D  29      71.600  81.400  61.900  1.00  0.00           O  
ATOM   2461  N   LYS D  30      69.800  82.100  60.700  1.00  0.00           N  
ATOM   2462  CA  LYS D  30      68.800  82.300  61.700  1.00  0.00           C  
ATOM   2463  CB  LYS D  30      67.600  82.900  61.200  1.00  0.00           C  
ATOM   2464  CG  LYS D  30      68.000  84.500  60.900  1.00  0.00           C  
ATOM   2465  CD  LYS D  30      66.900  85.200  60.300  1.00  0.00           C  
ATOM   2466  CE  LYS D  30      66.200  84.700  59.100  1.00  0.00           C  
ATOM   2467  NZ  LYS D  30      65.100  85.600  58.600  1.00  0.00           N1+
ATOM   2468  C   LYS D  30      68.400  81.000  62.500  1.00  0.00           C  
ATOM   2469  O   LYS D  30      68.300  80.900  63.700  1.00  0.00           O  
ATOM   2470  N   GLN D  31      68.200  80.000  61.800  1.00  0.00           N  
ATOM   2471  CA  GLN D  31      67.800  78.600  62.300  1.00  0.00           C  
ATOM   2472  CB  GLN D  31      67.400  77.700  61.100  1.00  0.00           C  
ATOM   2473  CG  GLN D  31      66.700  76.400  61.600  1.00  0.00           C  
ATOM   2474  CD  GLN D  31      65.200  76.600  62.100  1.00  0.00           C  
ATOM   2475  OE1 GLN D  31      64.800  77.600  62.500  1.00  0.00           O  
ATOM   2476  NE2 GLN D  31      64.500  75.500  61.900  1.00  0.00           N  
ATOM   2477  C   GLN D  31      68.900  78.100  63.100  1.00  0.00           C  
ATOM   2478  O   GLN D  31      68.600  77.900  64.300  1.00  0.00           O  
ATOM   2479  N   LYS D  32      70.100  78.200  62.700  1.00  0.00           N  
ATOM   2480  CA  LYS D  32      71.300  77.500  63.400  1.00  0.00           C  
ATOM   2481  CB  LYS D  32      72.500  77.600  62.400  1.00  0.00           C  
ATOM   2482  CG  LYS D  32      72.600  76.500  61.300  1.00  0.00           C  
ATOM   2483  CD  LYS D  32      73.500  77.100  60.200  1.00  0.00           C  
ATOM   2484  CE  LYS D  32      73.500  76.100  59.000  1.00  0.00           C  
ATOM   2485  NZ  LYS D  32      74.400  76.700  58.000  1.00  0.00           N1+
ATOM   2486  C   LYS D  32      71.600  78.100  64.700  1.00  0.00           C  
ATOM   2487  O   LYS D  32      71.800  77.500  65.700  1.00  0.00           O  
ATOM   2488  N   VAL D  33      71.500  79.500  64.800  1.00  0.00           N  
ATOM   2489  CA  VAL D  33      71.700  80.200  66.100  1.00  0.00           C  
ATOM   2490  CB  VAL D  33      72.000  81.700  66.000  1.00  0.00           C  
ATOM   2491  CG1 VAL D  33      70.700  82.400  65.400  1.00  0.00           C  
ATOM   2492  CG2 VAL D  33      72.400  82.200  67.400  1.00  0.00           C  
ATOM   2493  C   VAL D  33      70.600  79.800  67.000  1.00  0.00           C  
ATOM   2494  O   VAL D  33      70.900  79.600  68.200  1.00  0.00           O  
ATOM   2495  N   GLN D  34      69.400  79.700  66.700  1.00  0.00           N  
ATOM   2496  CA  GLN D  34      68.400  79.300  67.700  1.00  0.00           C  
ATOM   2497  CB  GLN D  34      66.900  79.700  67.200  1.00  0.00           C  
ATOM   2498  CG  GLN D  34      66.800  81.100  66.800  1.00  0.00           C  
ATOM   2499  CD  GLN D  34      65.500  81.500  66.100  1.00  0.00           C  
ATOM   2500  OE1 GLN D  34      64.500  81.900  66.800  1.00  0.00           O  
ATOM   2501  NE2 GLN D  34      65.600  81.400  64.700  1.00  0.00           N  
ATOM   2502  C   GLN D  34      68.500  77.900  68.100  1.00  0.00           C  
ATOM   2503  O   GLN D  34      68.300  77.700  69.300  1.00  0.00           O  
ATOM   2504  N   MET D  35      68.700  77.000  67.300  1.00  0.00           N  
ATOM   2505  CA  MET D  35      69.300  75.700  67.600  1.00  0.00           C  
ATOM   2506  CB  MET D  35      69.500  74.900  66.300  1.00  0.00           C  
ATOM   2507  CG  MET D  35      68.200  74.600  65.500  1.00  0.00           C  
ATOM   2508  SD  MET D  35      66.900  73.700  66.300  1.00  0.00           S  
ATOM   2509  CE  MET D  35      65.500  74.500  65.400  1.00  0.00           C  
ATOM   2510  C   MET D  35      70.400  75.600  68.600  1.00  0.00           C  
ATOM   2511  O   MET D  35      70.400  74.700  69.400  1.00  0.00           O  
ATOM   2512  N   SER D  36      71.400  76.600  68.600  1.00  0.00           N  
ATOM   2513  CA  SER D  36      72.300  76.700  69.600  1.00  0.00           C  
ATOM   2514  CB  SER D  36      73.400  77.700  69.100  1.00  0.00           C  
ATOM   2515  OG  SER D  36      74.300  77.200  68.200  1.00  0.00           O  
ATOM   2516  C   SER D  36      71.800  77.000  71.100  1.00  0.00           C  
ATOM   2517  O   SER D  36      72.000  76.100  71.900  1.00  0.00           O  
ATOM   2518  N   ILE D  37      71.000  78.000  71.100  1.00  0.00           N  
ATOM   2519  CA  ILE D  37      70.200  78.400  72.300  1.00  0.00           C  
ATOM   2520  CB  ILE D  37      69.600  79.800  72.000  1.00  0.00           C  
ATOM   2521  CG2 ILE D  37      68.700  80.400  73.000  1.00  0.00           C  
ATOM   2522  CG1 ILE D  37      70.600  80.800  71.500  1.00  0.00           C  
ATOM   2523  CD  ILE D  37      71.700  81.300  72.400  1.00  0.00           C  
ATOM   2524  C   ILE D  37      69.100  77.400  72.800  1.00  0.00           C  
ATOM   2525  O   ILE D  37      69.000  77.200  74.000  1.00  0.00           O  
ATOM   2526  N   HIS D  38      68.500  76.800  71.900  1.00  0.00           N  
ATOM   2527  CA  HIS D  38      67.700  75.600  72.200  1.00  0.00           C  
ATOM   2528  CB  HIS D  38      66.900  75.100  70.900  1.00  0.00           C  
ATOM   2529  CG  HIS D  38      65.800  75.900  70.500  1.00  0.00           C  
ATOM   2530  ND1 HIS D  38      65.000  76.900  71.200  1.00  0.00           N  
ATOM   2531  CE1 HIS D  38      64.200  77.300  70.300  1.00  0.00           C  
ATOM   2532  NE2 HIS D  38      64.400  76.800  69.100  1.00  0.00           N  
ATOM   2533  CD2 HIS D  38      65.400  75.800  69.200  1.00  0.00           C  
ATOM   2534  C   HIS D  38      68.600  74.600  72.900  1.00  0.00           C  
ATOM   2535  O   HIS D  38      68.300  74.300  74.100  1.00  0.00           O  
ATOM   2536  N   GLN D  39      69.800  74.100  72.400  1.00  0.00           N  
ATOM   2537  CA  GLN D  39      70.600  73.200  73.200  1.00  0.00           C  
ATOM   2538  CB  GLN D  39      71.700  72.800  72.300  1.00  0.00           C  
ATOM   2539  CG  GLN D  39      72.700  71.800  72.800  1.00  0.00           C  
ATOM   2540  CD  GLN D  39      73.900  71.500  71.800  1.00  0.00           C  
ATOM   2541  OE1 GLN D  39      73.900  70.500  71.100  1.00  0.00           O  
ATOM   2542  NE2 GLN D  39      74.800  72.400  71.600  1.00  0.00           N  
ATOM   2543  C   GLN D  39      71.100  73.900  74.400  1.00  0.00           C  
ATOM   2544  O   GLN D  39      70.900  73.200  75.500  1.00  0.00           O  
ATOM   2545  N   PHE D  40      71.700  75.100  74.500  1.00  0.00           N  
ATOM   2546  CA  PHE D  40      72.200  75.700  75.600  1.00  0.00           C  
ATOM   2547  CB  PHE D  40      72.900  77.000  75.300  1.00  0.00           C  
ATOM   2548  CG  PHE D  40      73.800  77.000  74.200  1.00  0.00           C  
ATOM   2549  CD1 PHE D  40      74.800  75.900  74.000  1.00  0.00           C  
ATOM   2550  CE1 PHE D  40      75.600  75.900  72.900  1.00  0.00           C  
ATOM   2551  CZ  PHE D  40      75.700  77.000  72.100  1.00  0.00           C  
ATOM   2552  CE2 PHE D  40      75.000  78.100  72.400  1.00  0.00           C  
ATOM   2553  CD2 PHE D  40      74.000  78.100  73.400  1.00  0.00           C  
ATOM   2554  C   PHE D  40      71.200  75.900  76.800  1.00  0.00           C  
ATOM   2555  O   PHE D  40      71.400  75.800  78.000  1.00  0.00           O  
ATOM   2556  N   THR D  41      69.900  76.300  76.400  1.00  0.00           N  
ATOM   2557  CA  THR D  41      68.800  76.500  77.200  1.00  0.00           C  
ATOM   2558  CB  THR D  41      67.800  77.400  76.700  1.00  0.00           C  
ATOM   2559  CG2 THR D  41      66.600  77.800  77.600  1.00  0.00           C  
ATOM   2560  OG1 THR D  41      68.300  78.700  76.300  1.00  0.00           O  
ATOM   2561  C   THR D  41      68.400  75.100  77.900  1.00  0.00           C  
ATOM   2562  O   THR D  41      68.300  75.100  79.000  1.00  0.00           O  
ATOM   2563  N   ASN D  42      68.300  74.000  77.100  1.00  0.00           N  
ATOM   2564  CA  ASN D  42      67.900  72.700  77.700  1.00  0.00           C  
ATOM   2565  CB  ASN D  42      68.000  71.600  76.600  1.00  0.00           C  
ATOM   2566  CG  ASN D  42      67.000  70.500  76.800  1.00  0.00           C  
ATOM   2567  OD1 ASN D  42      66.300  70.300  77.800  1.00  0.00           O  
ATOM   2568  ND2 ASN D  42      66.900  69.600  75.900  1.00  0.00           N  
ATOM   2569  C   ASN D  42      68.900  72.300  78.800  1.00  0.00           C  
ATOM   2570  O   ASN D  42      68.500  71.900  80.000  1.00  0.00           O  
ATOM   2571  N   ILE D  43      70.100  72.300  78.500  1.00  0.00           N  
ATOM   2572  CA  ILE D  43      71.200  71.700  79.300  1.00  0.00           C  
ATOM   2573  CB  ILE D  43      72.500  71.500  78.400  1.00  0.00           C  
ATOM   2574  CG2 ILE D  43      73.700  71.100  79.300  1.00  0.00           C  
ATOM   2575  CG1 ILE D  43      72.200  70.600  77.300  1.00  0.00           C  
ATOM   2576  CD  ILE D  43      73.400  70.800  76.200  1.00  0.00           C  
ATOM   2577  C   ILE D  43      71.400  72.500  80.600  1.00  0.00           C  
ATOM   2578  O   ILE D  43      71.800  71.900  81.600  1.00  0.00           O  
ATOM   2579  N   CYS D  44      71.200  73.800  80.500  1.00  0.00           N  
ATOM   2580  CA  CYS D  44      71.300  74.700  81.700  1.00  0.00           C  
ATOM   2581  CB  CYS D  44      71.900  76.000  81.200  1.00  0.00           C  
ATOM   2582  SG  CYS D  44      73.400  75.800  80.200  1.00  0.00           S  
ATOM   2583  C   CYS D  44      70.100  74.800  82.500  1.00  0.00           C  
ATOM   2584  O   CYS D  44      70.200  74.700  83.800  1.00  0.00           O  
ATOM   2585  N   PHE D  45      68.900  74.900  82.000  1.00  0.00           N  
ATOM   2586  CA  PHE D  45      67.600  74.700  82.700  1.00  0.00           C  
ATOM   2587  CB  PHE D  45      66.500  74.600  81.700  1.00  0.00           C  
ATOM   2588  CG  PHE D  45      65.200  74.600  82.400  1.00  0.00           C  
ATOM   2589  CD1 PHE D  45      64.600  75.700  82.900  1.00  0.00           C  
ATOM   2590  CE1 PHE D  45      63.200  75.600  83.500  1.00  0.00           C  
ATOM   2591  CZ  PHE D  45      62.700  74.300  84.000  1.00  0.00           C  
ATOM   2592  CE2 PHE D  45      63.500  73.200  83.600  1.00  0.00           C  
ATOM   2593  CD2 PHE D  45      64.600  73.400  82.800  1.00  0.00           C  
ATOM   2594  C   PHE D  45      67.600  73.300  83.400  1.00  0.00           C  
ATOM   2595  O   PHE D  45      67.100  73.400  84.600  1.00  0.00           O  
ATOM   2596  N   LYS D  46      67.900  72.300  82.800  1.00  0.00           N  
ATOM   2597  CA  LYS D  46      68.000  70.900  83.500  1.00  0.00           C  
ATOM   2598  CB  LYS D  46      68.400  69.800  82.600  1.00  0.00           C  
ATOM   2599  CG  LYS D  46      67.300  69.300  81.600  1.00  0.00           C  
ATOM   2600  CD  LYS D  46      67.900  68.300  80.700  1.00  0.00           C  
ATOM   2601  CE  LYS D  46      66.800  67.300  80.200  1.00  0.00           C  
ATOM   2602  NZ  LYS D  46      65.800  68.200  79.500  1.00  0.00           N1+
ATOM   2603  C   LYS D  46      68.800  70.900  84.900  1.00  0.00           C  
ATOM   2604  O   LYS D  46      68.500  70.000  85.700  1.00  0.00           O  
ATOM   2605  N   LYS D  47      69.700  71.800  85.000  1.00  0.00           N  
ATOM   2606  CA  LYS D  47      70.600  71.700  86.200  1.00  0.00           C  
ATOM   2607  CB  LYS D  47      72.000  71.700  85.600  1.00  0.00           C  
ATOM   2608  CG  LYS D  47      72.400  70.500  84.700  1.00  0.00           C  
ATOM   2609  CD  LYS D  47      72.400  69.300  85.600  1.00  0.00           C  
ATOM   2610  CE  LYS D  47      73.200  68.200  84.800  1.00  0.00           C  
ATOM   2611  NZ  LYS D  47      73.300  67.000  85.600  1.00  0.00           N1+
ATOM   2612  C   LYS D  47      70.500  72.800  87.200  1.00  0.00           C  
ATOM   2613  O   LYS D  47      70.500  72.600  88.400  1.00  0.00           O  
ATOM   2614  N   CYS D  48      70.300  74.100  86.700  1.00  0.00           N  
ATOM   2615  CA  CYS D  48      70.400  75.300  87.400  1.00  0.00           C  
ATOM   2616  CB  CYS D  48      70.700  76.500  86.500  1.00  0.00           C  
ATOM   2617  SG  CYS D  48      72.300  76.500  85.900  1.00  0.00           S  
ATOM   2618  C   CYS D  48      69.000  75.600  88.100  1.00  0.00           C  
ATOM   2619  O   CYS D  48      69.100  76.100  89.200  1.00  0.00           O  
ATOM   2620  N   VAL D  49      68.000  75.100  87.400  1.00  0.00           N  
ATOM   2621  CA  VAL D  49      66.700  75.200  88.100  1.00  0.00           C  
ATOM   2622  CB  VAL D  49      65.700  75.400  87.000  1.00  0.00           C  
ATOM   2623  CG1 VAL D  49      64.200  75.500  87.600  1.00  0.00           C  
ATOM   2624  CG2 VAL D  49      65.800  76.700  86.200  1.00  0.00           C  
ATOM   2625  C   VAL D  49      66.500  74.000  89.000  1.00  0.00           C  
ATOM   2626  O   VAL D  49      66.500  72.800  88.500  1.00  0.00           O  
ATOM   2627  N   GLU D  50      66.100  74.300  90.300  1.00  0.00           N  
ATOM   2628  CA  GLU D  50      65.800  73.300  91.300  1.00  0.00           C  
ATOM   2629  CB  GLU D  50      66.700  73.700  92.500  1.00  0.00           C  
ATOM   2630  CG  GLU D  50      66.900  72.800  93.600  1.00  0.00           C  
ATOM   2631  CD  GLU D  50      67.800  71.500  93.300  1.00  0.00           C  
ATOM   2632  OE1 GLU D  50      67.500  70.500  93.900  1.00  0.00           O  
ATOM   2633  OE2 GLU D  50      68.700  71.600  92.500  1.00  0.00           O1-
ATOM   2634  C   GLU D  50      64.300  73.000  91.600  1.00  0.00           C  
ATOM   2635  O   GLU D  50      64.000  71.800  91.800  1.00  0.00           O  
ATOM   2636  N   SER D  51      63.600  74.000  91.700  1.00  0.00           N  
ATOM   2637  CA  SER D  51      62.100  73.800  91.700  1.00  0.00           C  
ATOM   2638  CB  SER D  51      61.500  74.100  93.100  1.00  0.00           C  
ATOM   2639  OG  SER D  51      61.700  75.500  93.400  1.00  0.00           O  
ATOM   2640  C   SER D  51      61.400  74.800  90.700  1.00  0.00           C  
ATOM   2641  O   SER D  51      62.100  75.800  90.300  1.00  0.00           O  
ATOM   2642  N   VAL D  52      60.100  74.600  90.600  1.00  0.00           N  
ATOM   2643  CA  VAL D  52      59.200  75.300  89.600  1.00  0.00           C  
ATOM   2644  CB  VAL D  52      58.900  74.400  88.500  1.00  0.00           C  
ATOM   2645  CG1 VAL D  52      60.100  74.300  87.500  1.00  0.00           C  
ATOM   2646  CG2 VAL D  52      58.500  73.000  88.900  1.00  0.00           C  
ATOM   2647  C   VAL D  52      58.100  75.900  90.500  1.00  0.00           C  
ATOM   2648  O   VAL D  52      57.000  75.800  89.900  1.00  0.00           O  
ATOM   2649  N   ASN D  53      58.200  76.500  91.600  1.00  0.00           N  
ATOM   2650  CA  ASN D  53      57.100  77.100  92.400  1.00  0.00           C  
ATOM   2651  CB  ASN D  53      57.300  76.700  93.800  1.00  0.00           C  
ATOM   2652  CG  ASN D  53      56.000  76.900  94.600  1.00  0.00           C  
ATOM   2653  OD1 ASN D  53      55.100  75.900  94.500  1.00  0.00           O  
ATOM   2654  ND2 ASN D  53      55.800  77.900  95.400  1.00  0.00           N  
ATOM   2655  C   ASN D  53      56.800  78.600  91.900  1.00  0.00           C  
ATOM   2656  O   ASN D  53      55.800  79.000  92.100  1.00  0.00           O  
ATOM   2657  N   ASP D  54      57.900  79.300  91.600  1.00  0.00           N  
ATOM   2658  CA  ASP D  54      57.700  80.700  91.200  1.00  0.00           C  
ATOM   2659  CB  ASP D  54      58.900  81.500  92.000  1.00  0.00           C  
ATOM   2660  CG  ASP D  54      59.000  82.900  91.700  1.00  0.00           C  
ATOM   2661  OD1 ASP D  54      58.300  83.700  91.000  1.00  0.00           O  
ATOM   2662  OD2 ASP D  54      59.900  83.600  92.300  1.00  0.00           O1-
ATOM   2663  C   ASP D  54      58.000  80.800  89.800  1.00  0.00           C  
ATOM   2664  O   ASP D  54      58.900  80.100  89.300  1.00  0.00           O  
ATOM   2665  N   SER D  55      57.100  81.600  89.100  1.00  0.00           N  
ATOM   2666  CA  SER D  55      57.300  82.000  87.700  1.00  0.00           C  
ATOM   2667  CB  SER D  55      56.000  82.800  87.400  1.00  0.00           C  
ATOM   2668  OG  SER D  55      56.300  84.100  87.900  1.00  0.00           O  
ATOM   2669  C   SER D  55      58.500  82.700  87.300  1.00  0.00           C  
ATOM   2670  O   SER D  55      59.000  82.500  86.200  1.00  0.00           O  
ATOM   2671  N   ASN D  56      59.200  83.300  88.300  1.00  0.00           N  
ATOM   2672  CA  ASN D  56      60.500  83.900  88.000  1.00  0.00           C  
ATOM   2673  CB  ASN D  56      60.500  85.300  88.400  1.00  0.00           C  
ATOM   2674  CG  ASN D  56      61.800  86.100  87.800  1.00  0.00           C  
ATOM   2675  OD1 ASN D  56      62.100  85.700  86.700  1.00  0.00           O  
ATOM   2676  ND2 ASN D  56      62.300  87.200  88.300  1.00  0.00           N  
ATOM   2677  C   ASN D  56      61.700  83.100  88.700  1.00  0.00           C  
ATOM   2678  O   ASN D  56      61.600  82.400  89.700  1.00  0.00           O  
ATOM   2679  N   LEU D  57      62.800  83.400  88.000  1.00  0.00           N  
ATOM   2680  CA  LEU D  57      64.100  83.000  88.500  1.00  0.00           C  
ATOM   2681  CB  LEU D  57      64.900  83.100  87.300  1.00  0.00           C  
ATOM   2682  CG  LEU D  57      64.600  82.100  86.200  1.00  0.00           C  
ATOM   2683  CD1 LEU D  57      65.200  82.400  84.800  1.00  0.00           C  
ATOM   2684  CD2 LEU D  57      65.000  80.700  86.700  1.00  0.00           C  
ATOM   2685  C   LEU D  57      64.600  83.800  89.700  1.00  0.00           C  
ATOM   2686  O   LEU D  57      64.300  85.000  89.800  1.00  0.00           O  
ATOM   2687  N   SER D  58      65.500  83.200  90.500  1.00  0.00           N  
ATOM   2688  CA  SER D  58      66.500  84.100  91.300  1.00  0.00           C  
ATOM   2689  CB  SER D  58      66.800  83.100  92.600  1.00  0.00           C  
ATOM   2690  OG  SER D  58      67.700  83.800  93.400  1.00  0.00           O  
ATOM   2691  C   SER D  58      67.700  84.500  90.600  1.00  0.00           C  
ATOM   2692  O   SER D  58      68.200  83.800  89.700  1.00  0.00           O  
ATOM   2693  N   SER D  59      68.300  85.500  91.100  1.00  0.00           N  
ATOM   2694  CA  SER D  59      69.600  86.100  90.800  1.00  0.00           C  
ATOM   2695  CB  SER D  59      69.900  87.100  91.800  1.00  0.00           C  
ATOM   2696  OG  SER D  59      69.700  86.600  93.100  1.00  0.00           O  
ATOM   2697  C   SER D  59      70.700  85.000  90.700  1.00  0.00           C  
ATOM   2698  O   SER D  59      71.500  85.000  89.800  1.00  0.00           O  
ATOM   2699  N   GLN D  60      70.700  84.200  91.600  1.00  0.00           N  
ATOM   2700  CA  GLN D  60      71.500  82.900  91.800  1.00  0.00           C  
ATOM   2701  CB  GLN D  60      71.000  82.200  93.000  1.00  0.00           C  
ATOM   2702  CG  GLN D  60      70.900  83.000  94.300  1.00  0.00           C  
ATOM   2703  CD  GLN D  60      72.200  83.600  94.800  1.00  0.00           C  
ATOM   2704  OE1 GLN D  60      73.100  83.600  94.100  1.00  0.00           O  
ATOM   2705  NE2 GLN D  60      72.300  84.000  96.100  1.00  0.00           N  
ATOM   2706  C   GLN D  60      71.300  82.000  90.500  1.00  0.00           C  
ATOM   2707  O   GLN D  60      72.300  81.300  90.200  1.00  0.00           O  
ATOM   2708  N   GLU D  61      70.000  81.800  90.000  1.00  0.00           N  
ATOM   2709  CA  GLU D  61      69.700  80.900  88.900  1.00  0.00           C  
ATOM   2710  CB  GLU D  61      68.200  80.600  88.800  1.00  0.00           C  
ATOM   2711  CG  GLU D  61      67.800  79.700  90.000  1.00  0.00           C  
ATOM   2712  CD  GLU D  61      66.300  79.600  90.000  1.00  0.00           C  
ATOM   2713  OE1 GLU D  61      65.600  78.700  89.600  1.00  0.00           O  
ATOM   2714  OE2 GLU D  61      65.800  80.500  90.900  1.00  0.00           O1-
ATOM   2715  C   GLU D  61      70.100  81.500  87.600  1.00  0.00           C  
ATOM   2716  O   GLU D  61      70.800  80.800  86.800  1.00  0.00           O  
ATOM   2717  N   GLU D  62      70.000  82.800  87.400  1.00  0.00           N  
ATOM   2718  CA  GLU D  62      70.300  83.600  86.200  1.00  0.00           C  
ATOM   2719  CB  GLU D  62      69.900  85.000  86.300  1.00  0.00           C  
ATOM   2720  CG  GLU D  62      68.300  85.100  86.600  1.00  0.00           C  
ATOM   2721  CD  GLU D  62      67.900  86.600  86.500  1.00  0.00           C  
ATOM   2722  OE1 GLU D  62      66.700  86.700  86.400  1.00  0.00           O  
ATOM   2723  OE2 GLU D  62      68.700  87.500  86.300  1.00  0.00           O1-
ATOM   2724  C   GLU D  62      71.900  83.500  86.000  1.00  0.00           C  
ATOM   2725  O   GLU D  62      72.400  83.400  84.900  1.00  0.00           O  
ATOM   2726  N   GLN D  63      72.700  83.600  87.200  1.00  0.00           N  
ATOM   2727  CA  GLN D  63      74.100  83.500  87.300  1.00  0.00           C  
ATOM   2728  CB  GLN D  63      74.400  84.000  88.600  1.00  0.00           C  
ATOM   2729  CG  GLN D  63      75.900  84.000  88.900  1.00  0.00           C  
ATOM   2730  CD  GLN D  63      76.200  84.100  90.400  1.00  0.00           C  
ATOM   2731  OE1 GLN D  63      76.100  83.100  91.100  1.00  0.00           O  
ATOM   2732  NE2 GLN D  63      76.700  85.200  91.000  1.00  0.00           N  
ATOM   2733  C   GLN D  63      74.500  82.000  86.800  1.00  0.00           C  
ATOM   2734  O   GLN D  63      75.400  82.000  85.900  1.00  0.00           O  
ATOM   2735  N   CYS D  64      73.900  81.000  87.500  1.00  0.00           N  
ATOM   2736  CA  CYS D  64      74.100  79.700  87.100  1.00  0.00           C  
ATOM   2737  CB  CYS D  64      73.200  78.700  87.900  1.00  0.00           C  
ATOM   2738  SG  CYS D  64      73.500  77.000  87.600  1.00  0.00           S  
ATOM   2739  C   CYS D  64      73.900  79.400  85.600  1.00  0.00           C  
ATOM   2740  O   CYS D  64      74.800  78.800  84.900  1.00  0.00           O  
ATOM   2741  N   LEU D  65      72.800  79.800  85.000  1.00  0.00           N  
ATOM   2742  CA  LEU D  65      72.500  79.800  83.600  1.00  0.00           C  
ATOM   2743  CB  LEU D  65      71.100  80.400  83.500  1.00  0.00           C  
ATOM   2744  CG  LEU D  65      69.900  79.600  83.900  1.00  0.00           C  
ATOM   2745  CD1 LEU D  65      68.600  80.500  83.700  1.00  0.00           C  
ATOM   2746  CD2 LEU D  65      69.500  78.300  83.200  1.00  0.00           C  
ATOM   2747  C   LEU D  65      73.400  80.500  82.700  1.00  0.00           C  
ATOM   2748  O   LEU D  65      73.900  79.900  81.700  1.00  0.00           O  
ATOM   2749  N   SER D  66      73.800  81.600  83.000  1.00  0.00           N  
ATOM   2750  CA  SER D  66      74.800  82.500  82.500  1.00  0.00           C  
ATOM   2751  CB  SER D  66      74.800  83.900  83.100  1.00  0.00           C  
ATOM   2752  OG  SER D  66      73.600  84.700  82.800  1.00  0.00           O  
ATOM   2753  C   SER D  66      76.200  81.900  82.400  1.00  0.00           C  
ATOM   2754  O   SER D  66      76.800  81.800  81.400  1.00  0.00           O  
ATOM   2755  N   ASN D  67      76.700  81.500  83.600  1.00  0.00           N  
ATOM   2756  CA  ASN D  67      77.900  80.700  83.600  1.00  0.00           C  
ATOM   2757  CB  ASN D  67      78.100  80.300  85.100  1.00  0.00           C  
ATOM   2758  CG  ASN D  67      78.500  81.600  86.000  1.00  0.00           C  
ATOM   2759  OD1 ASN D  67      78.700  82.700  85.600  1.00  0.00           O  
ATOM   2760  ND2 ASN D  67      78.500  81.300  87.300  1.00  0.00           N  
ATOM   2761  C   ASN D  67      77.800  79.500  82.900  1.00  0.00           C  
ATOM   2762  O   ASN D  67      78.700  79.200  82.100  1.00  0.00           O  
ATOM   2763  N   CYS D  68      76.700  78.600  83.000  1.00  0.00           N  
ATOM   2764  CA  CYS D  68      76.700  77.300  82.300  1.00  0.00           C  
ATOM   2765  CB  CYS D  68      75.300  76.700  82.500  1.00  0.00           C  
ATOM   2766  SG  CYS D  68      74.900  75.300  81.600  1.00  0.00           S  
ATOM   2767  C   CYS D  68      76.900  77.400  80.800  1.00  0.00           C  
ATOM   2768  O   CYS D  68      77.800  76.700  80.300  1.00  0.00           O  
ATOM   2769  N   VAL D  69      76.100  78.200  80.100  1.00  0.00           N  
ATOM   2770  CA  VAL D  69      76.400  78.300  78.700  1.00  0.00           C  
ATOM   2771  CB  VAL D  69      75.200  79.100  78.000  1.00  0.00           C  
ATOM   2772  CG1 VAL D  69      75.000  80.600  78.600  1.00  0.00           C  
ATOM   2773  CG2 VAL D  69      75.400  79.300  76.500  1.00  0.00           C  
ATOM   2774  C   VAL D  69      77.700  78.600  78.300  1.00  0.00           C  
ATOM   2775  O   VAL D  69      78.400  78.000  77.400  1.00  0.00           O  
ATOM   2776  N   ASN D  70      78.300  79.700  79.000  1.00  0.00           N  
ATOM   2777  CA  ASN D  70      79.600  80.300  78.700  1.00  0.00           C  
ATOM   2778  CB  ASN D  70      79.800  81.400  79.700  1.00  0.00           C  
ATOM   2779  CG  ASN D  70      79.400  82.800  79.000  1.00  0.00           C  
ATOM   2780  OD1 ASN D  70      79.800  83.200  78.000  1.00  0.00           O  
ATOM   2781  ND2 ASN D  70      78.400  83.500  79.600  1.00  0.00           N  
ATOM   2782  C   ASN D  70      80.700  79.300  78.900  1.00  0.00           C  
ATOM   2783  O   ASN D  70      81.300  79.000  78.000  1.00  0.00           O  
ATOM   2784  N   ARG D  71      80.800  78.500  80.100  1.00  0.00           N  
ATOM   2785  CA  ARG D  71      81.800  77.400  80.200  1.00  0.00           C  
ATOM   2786  CB  ARG D  71      81.500  76.800  81.600  1.00  0.00           C  
ATOM   2787  CG  ARG D  71      82.000  77.800  82.700  1.00  0.00           C  
ATOM   2788  CD  ARG D  71      83.400  78.400  82.600  1.00  0.00           C  
ATOM   2789  NE  ARG D  71      83.400  79.400  81.800  1.00  0.00           N  
ATOM   2790  CZ  ARG D  71      83.000  80.700  81.800  1.00  0.00           C  
ATOM   2791  NH1 ARG D  71      82.300  81.000  83.000  1.00  0.00           N1+
ATOM   2792  NH2 ARG D  71      83.200  81.600  80.900  1.00  0.00           N  
ATOM   2793  C   ARG D  71      81.600  76.200  79.300  1.00  0.00           C  
ATOM   2794  O   ARG D  71      82.500  75.600  78.800  1.00  0.00           O  
ATOM   2795  N   PHE D  72      80.300  76.000  78.900  1.00  0.00           N  
ATOM   2796  CA  PHE D  72      80.000  75.000  77.700  1.00  0.00           C  
ATOM   2797  CB  PHE D  72      78.600  74.800  77.500  1.00  0.00           C  
ATOM   2798  CG  PHE D  72      78.300  73.900  76.300  1.00  0.00           C  
ATOM   2799  CD1 PHE D  72      78.200  72.600  76.700  1.00  0.00           C  
ATOM   2800  CE1 PHE D  72      78.000  71.600  75.600  1.00  0.00           C  
ATOM   2801  CZ  PHE D  72      77.800  72.000  74.300  1.00  0.00           C  
ATOM   2802  CE2 PHE D  72      77.900  73.400  74.100  1.00  0.00           C  
ATOM   2803  CD2 PHE D  72      78.100  74.300  75.000  1.00  0.00           C  
ATOM   2804  C   PHE D  72      80.700  75.500  76.400  1.00  0.00           C  
ATOM   2805  O   PHE D  72      81.500  74.700  75.900  1.00  0.00           O  
ATOM   2806  N   LEU D  73      80.500  76.800  76.000  1.00  0.00           N  
ATOM   2807  CA  LEU D  73      81.100  77.400  74.900  1.00  0.00           C  
ATOM   2808  CB  LEU D  73      80.500  78.800  74.700  1.00  0.00           C  
ATOM   2809  CG  LEU D  73      79.100  78.600  74.100  1.00  0.00           C  
ATOM   2810  CD1 LEU D  73      78.400  79.900  74.000  1.00  0.00           C  
ATOM   2811  CD2 LEU D  73      79.000  78.100  72.700  1.00  0.00           C  
ATOM   2812  C   LEU D  73      82.600  77.500  75.000  1.00  0.00           C  
ATOM   2813  O   LEU D  73      83.400  77.200  74.000  1.00  0.00           O  
ATOM   2814  N   ASP D  74      83.200  77.800  76.200  1.00  0.00           N  
ATOM   2815  CA  ASP D  74      84.600  77.800  76.400  1.00  0.00           C  
ATOM   2816  CB  ASP D  74      84.800  78.200  77.800  1.00  0.00           C  
ATOM   2817  CG  ASP D  74      84.700  79.700  78.100  1.00  0.00           C  
ATOM   2818  OD1 ASP D  74      84.700  80.100  79.300  1.00  0.00           O  
ATOM   2819  OD2 ASP D  74      84.400  80.400  77.100  1.00  0.00           O1-
ATOM   2820  C   ASP D  74      85.200  76.400  76.300  1.00  0.00           C  
ATOM   2821  O   ASP D  74      86.200  76.200  75.800  1.00  0.00           O  
ATOM   2822  N   THR D  75      84.500  75.400  76.900  1.00  0.00           N  
ATOM   2823  CA  THR D  75      84.800  74.000  76.700  1.00  0.00           C  
ATOM   2824  CB  THR D  75      83.900  73.100  77.600  1.00  0.00           C  
ATOM   2825  CG2 THR D  75      84.100  71.600  77.300  1.00  0.00           C  
ATOM   2826  OG1 THR D  75      84.200  73.500  78.900  1.00  0.00           O  
ATOM   2827  C   THR D  75      84.700  73.500  75.300  1.00  0.00           C  
ATOM   2828  O   THR D  75      85.700  72.900  74.800  1.00  0.00           O  
ATOM   2829  N   ASN D  76      83.700  74.000  74.500  1.00  0.00           N  
ATOM   2830  CA  ASN D  76      83.500  73.600  73.100  1.00  0.00           C  
ATOM   2831  CB  ASN D  76      82.300  74.200  72.700  1.00  0.00           C  
ATOM   2832  CG  ASN D  76      81.600  73.600  71.400  1.00  0.00           C  
ATOM   2833  OD1 ASN D  76      80.500  73.100  71.400  1.00  0.00           O  
ATOM   2834  ND2 ASN D  76      82.400  73.500  70.300  1.00  0.00           N  
ATOM   2835  C   ASN D  76      84.800  74.000  72.200  1.00  0.00           C  
ATOM   2836  O   ASN D  76      85.100  73.300  71.300  1.00  0.00           O  
ATOM   2837  N   ILE D  77      85.100  75.200  72.600  1.00  0.00           N  
ATOM   2838  CA  ILE D  77      86.300  75.800  71.900  1.00  0.00           C  
ATOM   2839  CB  ILE D  77      86.200  77.300  72.100  1.00  0.00           C  
ATOM   2840  CG2 ILE D  77      87.400  78.100  71.400  1.00  0.00           C  
ATOM   2841  CG1 ILE D  77      85.100  77.800  71.100  1.00  0.00           C  
ATOM   2842  CD  ILE D  77      84.600  79.300  71.200  1.00  0.00           C  
ATOM   2843  C   ILE D  77      87.700  75.300  72.400  1.00  0.00           C  
ATOM   2844  O   ILE D  77      88.400  74.900  71.500  1.00  0.00           O  
ATOM   2845  N   ARG D  78      87.800  75.100  73.700  1.00  0.00           N  
ATOM   2846  CA  ARG D  78      88.900  74.200  74.200  1.00  0.00           C  
ATOM   2847  CB  ARG D  78      88.900  74.300  75.700  1.00  0.00           C  
ATOM   2848  CG  ARG D  78      90.000  73.400  76.400  1.00  0.00           C  
ATOM   2849  CD  ARG D  78      90.300  74.000  77.800  1.00  0.00           C  
ATOM   2850  NE  ARG D  78      91.400  73.300  78.300  1.00  0.00           N  
ATOM   2851  CZ  ARG D  78      92.600  73.800  78.800  1.00  0.00           C  
ATOM   2852  NH1 ARG D  78      92.800  75.100  78.800  1.00  0.00           N1+
ATOM   2853  NH2 ARG D  78      93.600  73.100  79.300  1.00  0.00           N  
ATOM   2854  C   ARG D  78      89.000  72.900  73.600  1.00  0.00           C  
ATOM   2855  O   ARG D  78      90.100  72.300  73.400  1.00  0.00           O  
ATOM   2856  N   ILE D  79      87.800  72.200  73.300  1.00  0.00           N  
ATOM   2857  CA  ILE D  79      87.900  71.000  72.500  1.00  0.00           C  
ATOM   2858  CB  ILE D  79      86.500  70.300  72.900  1.00  0.00           C  
ATOM   2859  CG2 ILE D  79      86.200  69.100  72.000  1.00  0.00           C  
ATOM   2860  CG1 ILE D  79      86.600  69.900  74.300  1.00  0.00           C  
ATOM   2861  CD  ILE D  79      85.300  69.400  74.800  1.00  0.00           C  
ATOM   2862  C   ILE D  79      88.100  71.200  71.100  1.00  0.00           C  
ATOM   2863  O   ILE D  79      89.100  70.600  70.600  1.00  0.00           O  
ATOM   2864  N   VAL D  80      87.500  72.100  70.400  1.00  0.00           N  
ATOM   2865  CA  VAL D  80      87.900  72.500  69.100  1.00  0.00           C  
ATOM   2866  CB  VAL D  80      87.000  73.600  68.500  1.00  0.00           C  
ATOM   2867  CG1 VAL D  80      87.600  74.500  67.400  1.00  0.00           C  
ATOM   2868  CG2 VAL D  80      85.800  73.000  68.100  1.00  0.00           C  
ATOM   2869  C   VAL D  80      89.300  72.700  68.900  1.00  0.00           C  
ATOM   2870  O   VAL D  80      90.000  72.100  68.100  1.00  0.00           O  
ATOM   2871  N   ASN D  81      90.000  73.700  69.700  1.00  0.00           N  
ATOM   2872  CA  ASN D  81      91.400  74.000  69.800  1.00  0.00           C  
ATOM   2873  CB  ASN D  81      91.800  75.000  70.800  1.00  0.00           C  
ATOM   2874  CG  ASN D  81      91.000  76.300  70.700  1.00  0.00           C  
ATOM   2875  OD1 ASN D  81      90.800  76.800  69.700  1.00  0.00           O  
ATOM   2876  ND2 ASN D  81      91.000  77.100  71.900  1.00  0.00           N  
ATOM   2877  C   ASN D  81      92.200  72.700  70.000  1.00  0.00           C  
ATOM   2878  O   ASN D  81      93.100  72.500  69.300  1.00  0.00           O  
ATOM   2879  N   GLY D  82      91.900  72.000  71.100  1.00  0.00           N  
ATOM   2880  CA  GLY D  82      92.700  70.900  71.400  1.00  0.00           C  
ATOM   2881  C   GLY D  82      92.700  69.700  70.300  1.00  0.00           C  
ATOM   2882  O   GLY D  82      93.800  69.200  70.100  1.00  0.00           O  
ATOM   2883  N   LEU D  83      91.600  69.500  69.600  1.00  0.00           N  
ATOM   2884  CA  LEU D  83      91.500  68.600  68.500  1.00  0.00           C  
ATOM   2885  CB  LEU D  83      90.100  68.400  68.200  1.00  0.00           C  
ATOM   2886  CG  LEU D  83      89.300  67.600  69.200  1.00  0.00           C  
ATOM   2887  CD1 LEU D  83      87.800  67.800  69.100  1.00  0.00           C  
ATOM   2888  CD2 LEU D  83      89.500  66.200  69.300  1.00  0.00           C  
ATOM   2889  C   LEU D  83      92.400  69.100  67.300  1.00  0.00           C  
ATOM   2890  O   LEU D  83      93.000  68.100  66.700  1.00  0.00           O  
ATOM   2891  N   GLN D  84      92.600  70.300  67.100  1.00  0.00           N  
ATOM   2892  CA  GLN D  84      93.600  70.800  66.100  1.00  0.00           C  
ATOM   2893  CB  GLN D  84      93.300  72.200  65.600  1.00  0.00           C  
ATOM   2894  CG  GLN D  84      94.400  72.900  64.700  1.00  0.00           C  
ATOM   2895  CD  GLN D  84      94.500  72.100  63.400  1.00  0.00           C  
ATOM   2896  OE1 GLN D  84      93.800  71.300  62.900  1.00  0.00           O  
ATOM   2897  NE2 GLN D  84      95.400  72.600  62.500  1.00  0.00           N  
ATOM   2898  C   GLN D  84      95.100  70.500  66.600  1.00  0.00           C  
ATOM   2899  O   GLN D  84      96.000  70.200  65.900  1.00  0.00           O  
ATOM   2900  N   ASN D  85      95.300  70.800  67.800  1.00  0.00           N  
ATOM   2901  CA  ASN D  85      96.700  70.900  68.500  1.00  0.00           C  
ATOM   2902  CB  ASN D  85      96.500  71.900  69.600  1.00  0.00           C  
ATOM   2903  CG  ASN D  85      96.200  73.300  69.200  1.00  0.00           C  
ATOM   2904  OD1 ASN D  85      96.200  73.600  68.000  1.00  0.00           O  
ATOM   2905  ND2 ASN D  85      95.700  74.100  70.000  1.00  0.00           N  
ATOM   2906  C   ASN D  85      97.200  69.500  68.900  1.00  0.00           C  
ATOM   2907  O   ASN D  85      98.300  69.400  69.200  1.00  0.00           O  
ATOM   2908  N   THR D  86      96.300  68.600  68.900  1.00  0.00           N  
ATOM   2909  CA  THR D  86      96.600  67.200  69.200  1.00  0.00           C  
ATOM   2910  CB  THR D  86      95.800  66.600  70.400  1.00  0.00           C  
ATOM   2911  CG2 THR D  86      96.000  67.500  71.600  1.00  0.00           C  
ATOM   2912  OG1 THR D  86      94.500  66.700  70.100  1.00  0.00           O  
ATOM   2913  C   THR D  86      96.400  66.300  67.900  1.00  0.00           C  
ATOM   2914  O   THR D  86      96.000  65.200  68.000  1.00  0.00           O  
ATOM   2915  N   ARG D  87      96.600  66.800  66.800  1.00  0.00           N  
ATOM   2916  CA  ARG D  87      96.400  66.100  65.400  1.00  0.00           C  
ATOM   2917  CB  ARG D  87      96.200  67.000  64.300  1.00  0.00           C  
ATOM   2918  CG  ARG D  87      97.400  67.900  63.900  1.00  0.00           C  
ATOM   2919  CD  ARG D  87      97.100  68.900  62.800  1.00  0.00           C  
ATOM   2920  NE  ARG D  87      98.300  69.700  62.300  1.00  0.00           N  
ATOM   2921  CZ  ARG D  87      98.600  70.800  63.100  1.00  0.00           C  
ATOM   2922  NH1 ARG D  87      98.000  71.200  64.200  1.00  0.00           N1+
ATOM   2923  NH2 ARG D  87      99.600  71.600  62.700  1.00  0.00           N  
ATOM   2924  C   ARG D  87      97.500  65.000  65.200  1.00  0.00           C  
ATOM   2925  OC1 ARG D  87      98.500  65.000  65.800  1.00  0.00           O  
ATOM   2926  OC2 ARG D  87      97.400  64.300  64.100  1.00  0.00           O  
TER   
ATOM   2927  N   GLY E   1      42.300  69.200   5.500  1.00  0.00           N  
ATOM   2928  CA  GLY E   1      41.400  69.400   6.600  1.00  0.00           C  
ATOM   2929  C   GLY E   1      40.800  70.800   6.300  1.00  0.00           C  
ATOM   2930  O   GLY E   1      41.400  71.400   5.400  1.00  0.00           O  
ATOM   2931  N   GLY E   2      39.700  71.200   6.800  1.00  0.00           N  
ATOM   2932  CA  GLY E   2      39.200  72.500   6.400  1.00  0.00           C  
ATOM   2933  C   GLY E   2      40.000  73.700   6.800  1.00  0.00           C  
ATOM   2934  O   GLY E   2      41.100  73.600   7.300  1.00  0.00           O  
ATOM   2935  N   LEU E   3      39.400  75.000   6.700  1.00  0.00           N  
ATOM   2936  CA  LEU E   3      40.100  76.200   6.600  1.00  0.00           C  
ATOM   2937  CB  LEU E   3      39.100  77.400   6.100  1.00  0.00           C  
ATOM   2938  CG  LEU E   3      39.800  78.600   5.800  1.00  0.00           C  
ATOM   2939  CD1 LEU E   3      40.900  78.700   4.700  1.00  0.00           C  
ATOM   2940  CD2 LEU E   3      38.800  79.700   5.500  1.00  0.00           C  
ATOM   2941  C   LEU E   3      40.900  76.500   7.800  1.00  0.00           C  
ATOM   2942  O   LEU E   3      40.300  76.700   9.000  1.00  0.00           O  
ATOM   2943  N   SER E   4      42.200  76.900   7.600  1.00  0.00           N  
ATOM   2944  CA  SER E   4      43.200  77.200   8.800  1.00  0.00           C  
ATOM   2945  CB  SER E   4      44.600  76.900   8.300  1.00  0.00           C  
ATOM   2946  OG  SER E   4      45.000  78.000   7.500  1.00  0.00           O  
ATOM   2947  C   SER E   4      42.900  78.500   9.500  1.00  0.00           C  
ATOM   2948  O   SER E   4      43.800  78.700  10.300  1.00  0.00           O  
ATOM   2949  N   SER E   5      41.800  79.200   9.300  1.00  0.00           N  
ATOM   2950  CA  SER E   5      41.500  80.400   9.800  1.00  0.00           C  
ATOM   2951  CB  SER E   5      40.500  81.100   8.900  1.00  0.00           C  
ATOM   2952  OG  SER E   5      40.400  82.500   9.000  1.00  0.00           O  
ATOM   2953  C   SER E   5      41.000  80.500  11.200  1.00  0.00           C  
ATOM   2954  O   SER E   5      40.600  79.400  11.700  1.00  0.00           O  
ATOM   2955  N   ILE E   6      41.100  81.600  12.000  1.00  0.00           N  
ATOM   2956  CA  ILE E   6      40.600  81.700  13.300  1.00  0.00           C  
ATOM   2957  CB  ILE E   6      41.300  82.800  14.000  1.00  0.00           C  
ATOM   2958  CG2 ILE E   6      41.200  84.100  13.700  1.00  0.00           C  
ATOM   2959  CG1 ILE E   6      41.100  82.400  15.500  1.00  0.00           C  
ATOM   2960  CD  ILE E   6      41.900  81.200  16.100  1.00  0.00           C  
ATOM   2961  C   ILE E   6      39.100  82.100  13.100  1.00  0.00           C  
ATOM   2962  O   ILE E   6      38.300  81.700  14.000  1.00  0.00           O  
ATOM   2963  N   PHE E   7      38.500  82.600  12.000  1.00  0.00           N  
ATOM   2964  CA  PHE E   7      37.200  82.800  11.800  1.00  0.00           C  
ATOM   2965  CB  PHE E   7      37.100  84.200  11.000  1.00  0.00           C  
ATOM   2966  CG  PHE E   7      37.400  85.400  11.900  1.00  0.00           C  
ATOM   2967  CD1 PHE E   7      36.700  85.800  12.900  1.00  0.00           C  
ATOM   2968  CE1 PHE E   7      37.300  86.800  13.800  1.00  0.00           C  
ATOM   2969  CZ  PHE E   7      38.500  87.400  13.600  1.00  0.00           C  
ATOM   2970  CE2 PHE E   7      39.300  87.000  12.400  1.00  0.00           C  
ATOM   2971  CD2 PHE E   7      38.600  86.100  11.500  1.00  0.00           C  
ATOM   2972  C   PHE E   7      36.700  81.700  11.000  1.00  0.00           C  
ATOM   2973  O   PHE E   7      37.300  81.300   9.900  1.00  0.00           O  
ATOM   2974  N   GLY E   8      35.600  81.100  11.300  1.00  0.00           N  
ATOM   2975  CA  GLY E   8      35.100  79.800  10.800  1.00  0.00           C  
ATOM   2976  C   GLY E   8      34.300  78.900  11.800  1.00  0.00           C  
ATOM   2977  O   GLY E   8      34.100  79.400  12.900  1.00  0.00           O  
ATOM   2978  N   GLY E   9      34.200  77.700  11.500  1.00  0.00           N  
ATOM   2979  CA  GLY E   9      33.500  76.700  12.300  1.00  0.00           C  
ATOM   2980  C   GLY E   9      34.400  75.600  13.000  1.00  0.00           C  
ATOM   2981  O   GLY E   9      35.500  75.400  12.700  1.00  0.00           O  
ATOM   2982  N   GLY E  10      33.700  75.000  14.000  1.00  0.00           N  
ATOM   2983  CA  GLY E  10      34.300  73.700  14.400  1.00  0.00           C  
ATOM   2984  C   GLY E  10      35.600  73.600  15.100  1.00  0.00           C  
ATOM   2985  O   GLY E  10      36.100  74.500  15.700  1.00  0.00           O  
ATOM   2986  N   ALA E  11      36.200  72.400  14.900  1.00  0.00           N  
ATOM   2987  CA  ALA E  11      37.600  72.100  15.500  1.00  0.00           C  
ATOM   2988  CB  ALA E  11      37.700  70.700  15.700  1.00  0.00           C  
ATOM   2989  C   ALA E  11      38.700  72.800  14.800  1.00  0.00           C  
ATOM   2990  O   ALA E  11      38.600  72.800  13.500  1.00  0.00           O  
ATOM   2991  N   PRO E  12      39.700  73.400  15.300  1.00  0.00           N  
ATOM   2992  CD  PRO E  12      39.900  73.500  16.800  1.00  0.00           C  
ATOM   2993  CG  PRO E  12      41.300  74.000  17.000  1.00  0.00           C  
ATOM   2994  CB  PRO E  12      41.700  74.600  15.600  1.00  0.00           C  
ATOM   2995  CA  PRO E  12      40.800  73.800  14.700  1.00  0.00           C  
ATOM   2996  C   PRO E  12      41.600  72.600  14.100  1.00  0.00           C  
ATOM   2997  O   PRO E  12      41.400  71.500  14.500  1.00  0.00           O  
ATOM   2998  N   SER E  13      42.500  72.900  13.100  1.00  0.00           N  
ATOM   2999  CA  SER E  13      43.200  71.700  12.500  1.00  0.00           C  
ATOM   3000  CB  SER E  13      44.200  72.300  11.400  1.00  0.00           C  
ATOM   3001  OG  SER E  13      43.500  72.800  10.300  1.00  0.00           O  
ATOM   3002  C   SER E  13      44.100  71.000  13.500  1.00  0.00           C  
ATOM   3003  O   SER E  13      44.700  71.500  14.500  1.00  0.00           O  
ATOM   3004  N   GLN E  14      44.100  69.600  13.300  1.00  0.00           N  
ATOM   3005  CA  GLN E  14      44.700  68.700  14.200  1.00  0.00           C  
ATOM   3006  CB  GLN E  14      44.300  67.200  14.000  1.00  0.00           C  
ATOM   3007  CG  GLN E  14      42.900  67.000  14.300  1.00  0.00           C  
ATOM   3008  CD  GLN E  14      42.600  67.100  15.900  1.00  0.00           C  
ATOM   3009  OE1 GLN E  14      42.200  68.100  16.500  1.00  0.00           O  
ATOM   3010  NE2 GLN E  14      42.900  65.900  16.500  1.00  0.00           N  
ATOM   3011  C   GLN E  14      46.200  68.800  14.000  1.00  0.00           C  
ATOM   3012  O   GLN E  14      46.600  68.900  12.800  1.00  0.00           O  
ATOM   3013  N   GLN E  15      47.100  68.900  14.900  1.00  0.00           N  
ATOM   3014  CA  GLN E  15      48.400  69.300  14.700  1.00  0.00           C  
ATOM   3015  CB  GLN E  15      48.700  70.500  15.700  1.00  0.00           C  
ATOM   3016  CG  GLN E  15      48.200  71.800  15.100  1.00  0.00           C  
ATOM   3017  CD  GLN E  15      48.500  73.100  16.000  1.00  0.00           C  
ATOM   3018  OE1 GLN E  15      49.000  72.900  17.100  1.00  0.00           O  
ATOM   3019  NE2 GLN E  15      48.400  74.200  15.300  1.00  0.00           N  
ATOM   3020  C   GLN E  15      49.400  68.100  15.000  1.00  0.00           C  
ATOM   3021  O   GLN E  15      49.000  67.100  15.600  1.00  0.00           O  
ATOM   3022  N   LYS E  16      50.600  68.100  14.500  1.00  0.00           N  
ATOM   3023  CA  LYS E  16      51.400  66.900  14.400  1.00  0.00           C  
ATOM   3024  CB  LYS E  16      52.500  67.100  13.400  1.00  0.00           C  
ATOM   3025  CG  LYS E  16      53.500  66.000  13.000  1.00  0.00           C  
ATOM   3026  CD  LYS E  16      52.900  64.700  12.500  1.00  0.00           C  
ATOM   3027  CE  LYS E  16      51.900  64.900  11.400  1.00  0.00           C  
ATOM   3028  NZ  LYS E  16      52.600  65.200  10.100  1.00  0.00           N1+
ATOM   3029  C   LYS E  16      52.100  66.400  15.700  1.00  0.00           C  
ATOM   3030  O   LYS E  16      52.200  65.200  16.000  1.00  0.00           O  
ATOM   3031  N   GLU E  17      52.500  67.400  16.500  1.00  0.00           N  
ATOM   3032  CA  GLU E  17      53.300  67.300  17.700  1.00  0.00           C  
ATOM   3033  CB  GLU E  17      54.700  67.500  17.700  1.00  0.00           C  
ATOM   3034  CG  GLU E  17      55.500  66.600  16.700  1.00  0.00           C  
ATOM   3035  CD  GLU E  17      57.000  66.600  16.800  1.00  0.00           C  
ATOM   3036  OE1 GLU E  17      57.600  66.600  18.000  1.00  0.00           O  
ATOM   3037  OE2 GLU E  17      57.500  66.700  15.800  1.00  0.00           O1-
ATOM   3038  C   GLU E  17      52.600  68.300  18.600  1.00  0.00           C  
ATOM   3039  O   GLU E  17      52.400  69.400  18.300  1.00  0.00           O  
ATOM   3040  N   ALA E  18      52.200  67.800  19.800  1.00  0.00           N  
ATOM   3041  CA  ALA E  18      51.800  68.600  20.900  1.00  0.00           C  
ATOM   3042  CB  ALA E  18      50.600  67.900  21.600  1.00  0.00           C  
ATOM   3043  C   ALA E  18      53.000  69.100  21.900  1.00  0.00           C  
ATOM   3044  O   ALA E  18      54.000  68.400  21.800  1.00  0.00           O  
ATOM   3045  N   ALA E  19      52.700  70.000  22.900  1.00  0.00           N  
ATOM   3046  CA  ALA E  19      53.600  70.400  23.800  1.00  0.00           C  
ATOM   3047  CB  ALA E  19      54.200  71.800  23.500  1.00  0.00           C  
ATOM   3048  C   ALA E  19      52.900  70.400  25.200  1.00  0.00           C  
ATOM   3049  O   ALA E  19      51.700  70.800  25.300  1.00  0.00           O  
ATOM   3050  N   THR E  20      53.800  70.300  26.200  1.00  0.00           N  
ATOM   3051  CA  THR E  20      53.300  70.600  27.700  1.00  0.00           C  
ATOM   3052  CB  THR E  20      53.500  69.200  28.400  1.00  0.00           C  
ATOM   3053  CG2 THR E  20      54.900  69.000  29.000  1.00  0.00           C  
ATOM   3054  OG1 THR E  20      52.600  69.100  29.500  1.00  0.00           O  
ATOM   3055  C   THR E  20      54.100  71.700  28.400  1.00  0.00           C  
ATOM   3056  O   THR E  20      55.100  72.100  27.900  1.00  0.00           O  
ATOM   3057  N   THR E  21      53.400  72.200  29.400  1.00  0.00           N  
ATOM   3058  CA  THR E  21      54.100  73.300  30.000  1.00  0.00           C  
ATOM   3059  CB  THR E  21      53.300  74.300  30.800  1.00  0.00           C  
ATOM   3060  CG2 THR E  21      52.300  75.000  29.800  1.00  0.00           C  
ATOM   3061  OG1 THR E  21      52.600  73.700  31.900  1.00  0.00           O  
ATOM   3062  C   THR E  21      55.300  72.800  31.000  1.00  0.00           C  
ATOM   3063  O   THR E  21      55.000  72.000  31.800  1.00  0.00           O  
ATOM   3064  N   ALA E  22      56.400  73.500  30.900  1.00  0.00           N  
ATOM   3065  CA  ALA E  22      57.500  73.300  31.900  1.00  0.00           C  
ATOM   3066  CB  ALA E  22      58.800  74.100  31.300  1.00  0.00           C  
ATOM   3067  C   ALA E  22      57.200  73.900  33.200  1.00  0.00           C  
ATOM   3068  O   ALA E  22      56.800  75.100  33.300  1.00  0.00           O  
ATOM   3069  N   LYS E  23      57.200  73.000  34.200  1.00  0.00           N  
ATOM   3070  CA  LYS E  23      56.800  73.200  35.600  1.00  0.00           C  
ATOM   3071  CB  LYS E  23      55.800  72.200  36.000  1.00  0.00           C  
ATOM   3072  CG  LYS E  23      54.300  72.500  35.500  1.00  0.00           C  
ATOM   3073  CD  LYS E  23      53.600  73.700  36.000  1.00  0.00           C  
ATOM   3074  CE  LYS E  23      53.400  73.600  37.600  1.00  0.00           C  
ATOM   3075  NZ  LYS E  23      53.000  74.800  38.200  1.00  0.00           N1+
ATOM   3076  C   LYS E  23      58.000  73.100  36.600  1.00  0.00           C  
ATOM   3077  O   LYS E  23      59.000  72.500  36.200  1.00  0.00           O  
ATOM   3078  N   THR E  24      57.900  73.900  37.600  1.00  0.00           N  
ATOM   3079  CA  THR E  24      59.000  73.800  38.600  1.00  0.00           C  
ATOM   3080  CB  THR E  24      59.100  75.000  39.500  1.00  0.00           C  
ATOM   3081  CG2 THR E  24      59.600  76.300  38.700  1.00  0.00           C  
ATOM   3082  OG1 THR E  24      58.000  75.300  40.200  1.00  0.00           O  
ATOM   3083  C   THR E  24      58.900  72.500  39.500  1.00  0.00           C  
ATOM   3084  O   THR E  24      59.900  72.200  40.200  1.00  0.00           O  
ATOM   3085  N   THR E  25      57.700  72.100  39.800  1.00  0.00           N  
ATOM   3086  CA  THR E  25      57.300  71.000  40.600  1.00  0.00           C  
ATOM   3087  CB  THR E  25      55.800  70.700  40.400  1.00  0.00           C  
ATOM   3088  CG2 THR E  25      55.400  70.000  41.700  1.00  0.00           C  
ATOM   3089  OG1 THR E  25      55.100  71.900  40.200  1.00  0.00           O  
ATOM   3090  C   THR E  25      58.100  69.600  40.300  1.00  0.00           C  
ATOM   3091  O   THR E  25      58.200  69.400  39.100  1.00  0.00           O  
ATOM   3092  N   PRO E  26      58.400  68.900  41.300  1.00  0.00           N  
ATOM   3093  CD  PRO E  26      58.700  69.300  42.600  1.00  0.00           C  
ATOM   3094  CG  PRO E  26      59.900  68.300  43.000  1.00  0.00           C  
ATOM   3095  CB  PRO E  26      59.600  67.100  42.200  1.00  0.00           C  
ATOM   3096  CA  PRO E  26      59.000  67.600  40.900  1.00  0.00           C  
ATOM   3097  C   PRO E  26      58.100  66.500  40.200  1.00  0.00           C  
ATOM   3098  O   PRO E  26      56.900  66.400  40.700  1.00  0.00           O  
ATOM   3099  N   ASN E  27      58.500  65.800  39.200  1.00  0.00           N  
ATOM   3100  CA  ASN E  27      57.700  64.900  38.500  1.00  0.00           C  
ATOM   3101  CB  ASN E  27      58.500  64.400  37.300  1.00  0.00           C  
ATOM   3102  CG  ASN E  27      58.700  65.400  36.200  1.00  0.00           C  
ATOM   3103  OD1 ASN E  27      59.100  66.600  36.400  1.00  0.00           O  
ATOM   3104  ND2 ASN E  27      58.500  65.000  35.000  1.00  0.00           N  
ATOM   3105  C   ASN E  27      57.400  63.700  39.500  1.00  0.00           C  
ATOM   3106  O   ASN E  27      58.100  63.400  40.400  1.00  0.00           O  
ATOM   3107  N   PRO E  28      56.300  63.000  39.200  1.00  0.00           N  
ATOM   3108  CD  PRO E  28      55.100  63.400  38.500  1.00  0.00           C  
ATOM   3109  CG  PRO E  28      54.000  62.900  39.100  1.00  0.00           C  
ATOM   3110  CB  PRO E  28      54.500  61.600  39.600  1.00  0.00           C  
ATOM   3111  CA  PRO E  28      55.900  61.900  40.100  1.00  0.00           C  
ATOM   3112  C   PRO E  28      56.700  60.800  40.000  1.00  0.00           C  
ATOM   3113  O   PRO E  28      57.300  60.400  38.900  1.00  0.00           O  
ATOM   3114  N   ILE E  29      57.000  60.100  41.100  1.00  0.00           N  
ATOM   3115  CA  ILE E  29      57.800  58.800  41.000  1.00  0.00           C  
ATOM   3116  CB  ILE E  29      58.400  58.600  42.400  1.00  0.00           C  
ATOM   3117  CG2 ILE E  29      59.400  57.300  42.200  1.00  0.00           C  
ATOM   3118  CG1 ILE E  29      59.400  59.700  42.800  1.00  0.00           C  
ATOM   3119  CD  ILE E  29      60.500  60.100  41.700  1.00  0.00           C  
ATOM   3120  C   ILE E  29      56.900  57.600  40.400  1.00  0.00           C  
ATOM   3121  O   ILE E  29      55.700  57.600  40.600  1.00  0.00           O  
ATOM   3122  N   ALA E  30      57.600  56.800  39.700  1.00  0.00           N  
ATOM   3123  CA  ALA E  30      57.000  55.600  39.100  1.00  0.00           C  
ATOM   3124  CB  ALA E  30      58.000  55.200  38.100  1.00  0.00           C  
ATOM   3125  C   ALA E  30      56.600  54.700  40.100  1.00  0.00           C  
ATOM   3126  O   ALA E  30      57.200  54.600  41.100  1.00  0.00           O  
ATOM   3127  N   LYS E  31      55.500  53.900  39.800  1.00  0.00           N  
ATOM   3128  CA  LYS E  31      54.800  53.000  40.800  1.00  0.00           C  
ATOM   3129  CB  LYS E  31      53.600  52.200  40.000  1.00  0.00           C  
ATOM   3130  CG  LYS E  31      52.300  53.000  39.700  1.00  0.00           C  
ATOM   3131  CD  LYS E  31      51.500  52.100  38.800  1.00  0.00           C  
ATOM   3132  CE  LYS E  31      50.000  52.400  38.900  1.00  0.00           C  
ATOM   3133  NZ  LYS E  31      49.100  51.400  38.200  1.00  0.00           N1+
ATOM   3134  C   LYS E  31      55.700  52.100  41.400  1.00  0.00           C  
ATOM   3135  O   LYS E  31      55.800  52.100  42.700  1.00  0.00           O  
ATOM   3136  N   GLU E  32      56.700  51.400  40.700  1.00  0.00           N  
ATOM   3137  CA  GLU E  32      57.700  50.500  41.300  1.00  0.00           C  
ATOM   3138  CB  GLU E  32      58.500  49.800  40.300  1.00  0.00           C  
ATOM   3139  CG  GLU E  32      57.700  48.700  39.400  1.00  0.00           C  
ATOM   3140  CD  GLU E  32      57.500  47.400  40.100  1.00  0.00           C  
ATOM   3141  OE1 GLU E  32      56.900  46.500  39.600  1.00  0.00           O  
ATOM   3142  OE2 GLU E  32      58.000  47.300  41.300  1.00  0.00           O1-
ATOM   3143  C   GLU E  32      58.600  51.300  42.200  1.00  0.00           C  
ATOM   3144  O   GLU E  32      58.700  50.900  43.400  1.00  0.00           O  
ATOM   3145  N   LEU E  33      59.200  52.400  41.700  1.00  0.00           N  
ATOM   3146  CA  LEU E  33      60.100  53.100  42.500  1.00  0.00           C  
ATOM   3147  CB  LEU E  33      60.900  54.200  41.700  1.00  0.00           C  
ATOM   3148  CG  LEU E  33      61.800  53.600  40.600  1.00  0.00           C  
ATOM   3149  CD1 LEU E  33      62.600  54.800  40.200  1.00  0.00           C  
ATOM   3150  CD2 LEU E  33      62.800  52.500  41.200  1.00  0.00           C  
ATOM   3151  C   LEU E  33      59.500  53.700  43.800  1.00  0.00           C  
ATOM   3152  O   LEU E  33      60.200  53.900  44.800  1.00  0.00           O  
ATOM   3153  N   LYS E  34      58.200  54.000  43.800  1.00  0.00           N  
ATOM   3154  CA  LYS E  34      57.500  54.500  44.900  1.00  0.00           C  
ATOM   3155  CB  LYS E  34      56.300  55.300  44.300  1.00  0.00           C  
ATOM   3156  CG  LYS E  34      55.600  56.100  45.300  1.00  0.00           C  
ATOM   3157  CD  LYS E  34      54.500  57.000  44.700  1.00  0.00           C  
ATOM   3158  CE  LYS E  34      54.000  58.100  45.700  1.00  0.00           C  
ATOM   3159  NZ  LYS E  34      53.300  59.100  45.000  1.00  0.00           N1+
ATOM   3160  C   LYS E  34      57.100  53.500  45.900  1.00  0.00           C  
ATOM   3161  O   LYS E  34      57.200  53.700  47.100  1.00  0.00           O  
ATOM   3162  N   ASN E  35      56.800  52.300  45.400  1.00  0.00           N  
ATOM   3163  CA  ASN E  35      56.700  51.000  46.200  1.00  0.00           C  
ATOM   3164  CB  ASN E  35      56.000  50.000  45.300  1.00  0.00           C  
ATOM   3165  CG  ASN E  35      55.800  48.800  46.200  1.00  0.00           C  
ATOM   3166  OD1 ASN E  35      55.000  48.700  47.100  1.00  0.00           O  
ATOM   3167  ND2 ASN E  35      56.600  47.700  46.000  1.00  0.00           N  
ATOM   3168  C   ASN E  35      58.000  50.700  46.900  1.00  0.00           C  
ATOM   3169  O   ASN E  35      58.000  50.100  47.900  1.00  0.00           O  
ATOM   3170  N   GLN E  36      59.100  51.000  46.300  1.00  0.00           N  
ATOM   3171  CA  GLN E  36      60.300  50.800  47.100  1.00  0.00           C  
ATOM   3172  CB  GLN E  36      61.500  50.900  46.200  1.00  0.00           C  
ATOM   3173  CG  GLN E  36      61.600  49.700  45.200  1.00  0.00           C  
ATOM   3174  CD  GLN E  36      62.600  49.900  44.100  1.00  0.00           C  
ATOM   3175  OE1 GLN E  36      63.600  50.600  44.200  1.00  0.00           O  
ATOM   3176  NE2 GLN E  36      62.400  49.200  43.000  1.00  0.00           N  
ATOM   3177  C   GLN E  36      60.500  51.800  48.200  1.00  0.00           C  
ATOM   3178  O   GLN E  36      60.700  51.500  49.300  1.00  0.00           O  
ATOM   3179  N   ILE E  37      60.200  53.100  47.900  1.00  0.00           N  
ATOM   3180  CA  ILE E  37      60.200  54.200  48.900  1.00  0.00           C  
ATOM   3181  CB  ILE E  37      59.900  55.500  48.100  1.00  0.00           C  
ATOM   3182  CG2 ILE E  37      59.600  56.600  49.100  1.00  0.00           C  
ATOM   3183  CG1 ILE E  37      61.200  55.900  47.300  1.00  0.00           C  
ATOM   3184  CD  ILE E  37      60.900  57.000  46.300  1.00  0.00           C  
ATOM   3185  C   ILE E  37      59.200  53.900  50.000  1.00  0.00           C  
ATOM   3186  O   ILE E  37      59.500  54.200  51.100  1.00  0.00           O  
ATOM   3187  N   ALA E  38      58.000  53.300  49.900  1.00  0.00           N  
ATOM   3188  CA  ALA E  38      57.000  52.800  50.900  1.00  0.00           C  
ATOM   3189  CB  ALA E  38      55.800  52.300  50.100  1.00  0.00           C  
ATOM   3190  C   ALA E  38      57.600  51.700  51.800  1.00  0.00           C  
ATOM   3191  O   ALA E  38      57.400  51.700  53.000  1.00  0.00           O  
ATOM   3192  N   GLN E  39      58.400  50.700  51.200  1.00  0.00           N  
ATOM   3193  CA  GLN E  39      59.200  49.900  51.900  1.00  0.00           C  
ATOM   3194  CB  GLN E  39      59.700  48.800  51.000  1.00  0.00           C  
ATOM   3195  CG  GLN E  39      58.600  47.900  50.500  1.00  0.00           C  
ATOM   3196  CD  GLN E  39      59.100  46.800  49.600  1.00  0.00           C  
ATOM   3197  OE1 GLN E  39      59.300  45.600  49.900  1.00  0.00           O  
ATOM   3198  NE2 GLN E  39      59.300  47.000  48.300  1.00  0.00           N  
ATOM   3199  C   GLN E  39      60.300  50.600  52.700  1.00  0.00           C  
ATOM   3200  O   GLN E  39      60.500  50.100  53.800  1.00  0.00           O  
ATOM   3201  N   GLU E  40      61.000  51.600  52.200  1.00  0.00           N  
ATOM   3202  CA  GLU E  40      62.000  52.400  52.800  1.00  0.00           C  
ATOM   3203  CB  GLU E  40      62.600  53.400  51.800  1.00  0.00           C  
ATOM   3204  CG  GLU E  40      63.500  52.800  50.700  1.00  0.00           C  
ATOM   3205  CD  GLU E  40      64.200  54.000  50.100  1.00  0.00           C  
ATOM   3206  OE1 GLU E  40      65.500  53.900  49.900  1.00  0.00           O  
ATOM   3207  OE2 GLU E  40      63.600  55.000  49.700  1.00  0.00           O1-
ATOM   3208  C   GLU E  40      61.600  53.200  54.100  1.00  0.00           C  
ATOM   3209  O   GLU E  40      62.200  53.400  55.000  1.00  0.00           O  
ATOM   3210  N   LEU E  41      60.400  53.900  53.900  1.00  0.00           N  
ATOM   3211  CA  LEU E  41      59.600  54.500  55.000  1.00  0.00           C  
ATOM   3212  CB  LEU E  41      58.600  55.500  54.500  1.00  0.00           C  
ATOM   3213  CG  LEU E  41      59.300  56.700  53.700  1.00  0.00           C  
ATOM   3214  CD1 LEU E  41      58.300  57.400  52.900  1.00  0.00           C  
ATOM   3215  CD2 LEU E  41      59.900  57.800  54.700  1.00  0.00           C  
ATOM   3216  C   LEU E  41      59.000  53.500  56.000  1.00  0.00           C  
ATOM   3217  O   LEU E  41      59.000  53.900  57.200  1.00  0.00           O  
ATOM   3218  N   ALA E  42      58.800  52.300  55.700  1.00  0.00           N  
ATOM   3219  CA  ALA E  42      58.600  51.200  56.700  1.00  0.00           C  
ATOM   3220  CB  ALA E  42      58.100  49.900  56.000  1.00  0.00           C  
ATOM   3221  C   ALA E  42      59.800  50.900  57.500  1.00  0.00           C  
ATOM   3222  O   ALA E  42      59.800  51.100  58.700  1.00  0.00           O  
ATOM   3223  N   VAL E  43      60.800  50.700  56.800  1.00  0.00           N  
ATOM   3224  CA  VAL E  43      62.100  50.300  57.400  1.00  0.00           C  
ATOM   3225  CB  VAL E  43      63.300  50.000  56.500  1.00  0.00           C  
ATOM   3226  CG1 VAL E  43      64.700  50.100  57.100  1.00  0.00           C  
ATOM   3227  CG2 VAL E  43      63.200  48.500  56.000  1.00  0.00           C  
ATOM   3228  C   VAL E  43      62.500  51.500  58.300  1.00  0.00           C  
ATOM   3229  O   VAL E  43      63.100  51.300  59.400  1.00  0.00           O  
ATOM   3230  N   ALA E  44      62.300  52.700  57.900  1.00  0.00           N  
ATOM   3231  CA  ALA E  44      62.700  53.800  58.800  1.00  0.00           C  
ATOM   3232  CB  ALA E  44      62.900  55.000  58.000  1.00  0.00           C  
ATOM   3233  C   ALA E  44      61.900  54.100  60.000  1.00  0.00           C  
ATOM   3234  O   ALA E  44      62.400  54.600  61.000  1.00  0.00           O  
ATOM   3235  N   ASN E  45      60.600  53.700  60.000  1.00  0.00           N  
ATOM   3236  CA  ASN E  45      59.700  53.800  61.000  1.00  0.00           C  
ATOM   3237  CB  ASN E  45      58.300  53.700  60.400  1.00  0.00           C  
ATOM   3238  CG  ASN E  45      57.300  53.500  61.500  1.00  0.00           C  
ATOM   3239  OD1 ASN E  45      57.000  54.400  62.300  1.00  0.00           O  
ATOM   3240  ND2 ASN E  45      56.600  52.300  61.600  1.00  0.00           N  
ATOM   3241  C   ASN E  45      59.900  52.600  61.900  1.00  0.00           C  
ATOM   3242  O   ASN E  45      59.900  52.800  63.200  1.00  0.00           O  
ATOM   3243  N   ALA E  46      60.100  51.300  61.500  1.00  0.00           N  
ATOM   3244  CA  ALA E  46      60.600  50.200  62.200  1.00  0.00           C  
ATOM   3245  CB  ALA E  46      60.700  49.000  61.200  1.00  0.00           C  
ATOM   3246  C   ALA E  46      61.900  50.500  62.800  1.00  0.00           C  
ATOM   3247  O   ALA E  46      62.100  50.300  63.900  1.00  0.00           O  
ATOM   3248  N   THR E  47      62.900  51.100  62.100  1.00  0.00           N  
ATOM   3249  CA  THR E  47      64.200  51.500  62.600  1.00  0.00           C  
ATOM   3250  CB  THR E  47      65.000  52.300  61.600  1.00  0.00           C  
ATOM   3251  CG2 THR E  47      66.500  52.600  61.900  1.00  0.00           C  
ATOM   3252  OG1 THR E  47      65.200  51.300  60.500  1.00  0.00           O  
ATOM   3253  C   THR E  47      64.000  52.400  63.800  1.00  0.00           C  
ATOM   3254  O   THR E  47      64.800  52.200  64.700  1.00  0.00           O  
ATOM   3255  N   GLU E  48      63.000  53.200  63.900  1.00  0.00           N  
ATOM   3256  CA  GLU E  48      62.700  54.100  65.000  1.00  0.00           C  
ATOM   3257  CB  GLU E  48      61.700  55.200  64.500  1.00  0.00           C  
ATOM   3258  CG  GLU E  48      61.600  56.500  65.300  1.00  0.00           C  
ATOM   3259  CD  GLU E  48      62.700  57.500  65.000  1.00  0.00           C  
ATOM   3260  OE1 GLU E  48      62.700  58.500  65.500  1.00  0.00           O  
ATOM   3261  OE2 GLU E  48      63.600  57.100  64.100  1.00  0.00           O1-
ATOM   3262  C   GLU E  48      62.300  53.400  66.200  1.00  0.00           C  
ATOM   3263  O   GLU E  48      62.800  53.600  67.300  1.00  0.00           O  
ATOM   3264  N   LEU E  49      61.300  52.400  66.100  1.00  0.00           N  
ATOM   3265  CA  LEU E  49      60.800  51.500  67.000  1.00  0.00           C  
ATOM   3266  CB  LEU E  49      59.500  50.800  66.500  1.00  0.00           C  
ATOM   3267  CG  LEU E  49      58.900  49.600  67.300  1.00  0.00           C  
ATOM   3268  CD1 LEU E  49      58.400  50.200  68.600  1.00  0.00           C  
ATOM   3269  CD2 LEU E  49      57.700  49.100  66.400  1.00  0.00           C  
ATOM   3270  C   LEU E  49      61.900  50.500  67.400  1.00  0.00           C  
ATOM   3271  O   LEU E  49      62.000  50.100  68.500  1.00  0.00           O  
ATOM   3272  N   VAL E  50      62.700  50.000  66.500  1.00  0.00           N  
ATOM   3273  CA  VAL E  50      63.900  49.100  66.800  1.00  0.00           C  
ATOM   3274  CB  VAL E  50      64.700  48.700  65.500  1.00  0.00           C  
ATOM   3275  CG1 VAL E  50      66.000  48.200  65.900  1.00  0.00           C  
ATOM   3276  CG2 VAL E  50      63.900  47.500  65.000  1.00  0.00           C  
ATOM   3277  C   VAL E  50      64.800  50.000  67.800  1.00  0.00           C  
ATOM   3278  O   VAL E  50      65.300  49.600  68.800  1.00  0.00           O  
ATOM   3279  N   ASN E  51      65.000  51.300  67.400  1.00  0.00           N  
ATOM   3280  CA  ASN E  51      66.000  52.000  68.100  1.00  0.00           C  
ATOM   3281  CB  ASN E  51      66.400  53.400  67.400  1.00  0.00           C  
ATOM   3282  CG  ASN E  51      67.100  53.200  66.000  1.00  0.00           C  
ATOM   3283  OD1 ASN E  51      67.500  52.100  65.600  1.00  0.00           O  
ATOM   3284  ND2 ASN E  51      67.400  54.300  65.500  1.00  0.00           N  
ATOM   3285  C   ASN E  51      65.600  52.300  69.500  1.00  0.00           C  
ATOM   3286  O   ASN E  51      66.400  52.100  70.400  1.00  0.00           O  
ATOM   3287  N   LYS E  52      64.300  52.600  69.700  1.00  0.00           N  
ATOM   3288  CA  LYS E  52      63.700  53.000  71.000  1.00  0.00           C  
ATOM   3289  CB  LYS E  52      62.400  53.900  70.800  1.00  0.00           C  
ATOM   3290  CG  LYS E  52      63.000  55.200  70.200  1.00  0.00           C  
ATOM   3291  CD  LYS E  52      61.900  56.200  69.900  1.00  0.00           C  
ATOM   3292  CE  LYS E  52      62.500  57.400  69.100  1.00  0.00           C  
ATOM   3293  NZ  LYS E  52      63.600  58.000  69.800  1.00  0.00           N1+
ATOM   3294  C   LYS E  52      63.300  51.800  71.800  1.00  0.00           C  
ATOM   3295  O   LYS E  52      63.600  51.800  73.000  1.00  0.00           O  
ATOM   3296  N   ILE E  53      63.000  50.600  71.200  1.00  0.00           N  
ATOM   3297  CA  ILE E  53      63.100  49.300  71.800  1.00  0.00           C  
ATOM   3298  CB  ILE E  53      62.700  48.200  71.000  1.00  0.00           C  
ATOM   3299  CG2 ILE E  53      62.900  46.800  71.800  1.00  0.00           C  
ATOM   3300  CG1 ILE E  53      61.100  48.200  70.700  1.00  0.00           C  
ATOM   3301  CD  ILE E  53      60.800  47.400  69.500  1.00  0.00           C  
ATOM   3302  C   ILE E  53      64.600  49.000  72.300  1.00  0.00           C  
ATOM   3303  O   ILE E  53      64.900  48.900  73.500  1.00  0.00           O  
ATOM   3304  N   SER E  54      65.600  48.900  71.500  1.00  0.00           N  
ATOM   3305  CA  SER E  54      67.000  48.600  71.900  1.00  0.00           C  
ATOM   3306  CB  SER E  54      67.900  48.800  70.700  1.00  0.00           C  
ATOM   3307  OG  SER E  54      67.700  47.800  69.700  1.00  0.00           O  
ATOM   3308  C   SER E  54      67.600  49.400  72.900  1.00  0.00           C  
ATOM   3309  O   SER E  54      68.100  48.800  73.900  1.00  0.00           O  
ATOM   3310  N   GLU E  55      67.400  50.800  72.900  1.00  0.00           N  
ATOM   3311  CA  GLU E  55      67.700  51.700  73.900  1.00  0.00           C  
ATOM   3312  CB  GLU E  55      67.200  53.100  73.400  1.00  0.00           C  
ATOM   3313  CG  GLU E  55      67.000  54.300  74.400  1.00  0.00           C  
ATOM   3314  CD  GLU E  55      66.600  55.600  73.600  1.00  0.00           C  
ATOM   3315  OE1 GLU E  55      66.900  55.700  72.500  1.00  0.00           O  
ATOM   3316  OE2 GLU E  55      66.100  56.500  74.200  1.00  0.00           O1-
ATOM   3317  C   GLU E  55      67.400  51.400  75.300  1.00  0.00           C  
ATOM   3318  O   GLU E  55      68.200  51.700  76.200  1.00  0.00           O  
ATOM   3319  N   ASN E  56      66.100  51.000  75.500  1.00  0.00           N  
ATOM   3320  CA  ASN E  56      65.600  50.400  76.800  1.00  0.00           C  
ATOM   3321  CB  ASN E  56      64.100  50.500  76.700  1.00  0.00           C  
ATOM   3322  CG  ASN E  56      63.700  52.000  76.900  1.00  0.00           C  
ATOM   3323  OD1 ASN E  56      63.500  52.500  78.000  1.00  0.00           O  
ATOM   3324  ND2 ASN E  56      63.700  52.700  75.700  1.00  0.00           N  
ATOM   3325  C   ASN E  56      66.100  49.000  77.000  1.00  0.00           C  
ATOM   3326  O   ASN E  56      66.500  48.600  78.100  1.00  0.00           O  
ATOM   3327  N   CYS E  57      65.900  48.000  76.100  1.00  0.00           N  
ATOM   3328  CA  CYS E  57      66.100  46.700  76.400  1.00  0.00           C  
ATOM   3329  CB  CYS E  57      65.700  45.800  75.300  1.00  0.00           C  
ATOM   3330  SG  CYS E  57      63.800  45.800  75.200  1.00  0.00           S  
ATOM   3331  C   CYS E  57      67.600  46.300  76.700  1.00  0.00           C  
ATOM   3332  O   CYS E  57      68.000  45.600  77.600  1.00  0.00           O  
ATOM   3333  N   PHE E  58      68.500  47.000  76.000  1.00  0.00           N  
ATOM   3334  CA  PHE E  58      70.000  47.000  76.400  1.00  0.00           C  
ATOM   3335  CB  PHE E  58      70.700  47.800  75.300  1.00  0.00           C  
ATOM   3336  CG  PHE E  58      72.200  47.500  75.300  1.00  0.00           C  
ATOM   3337  CD1 PHE E  58      72.600  46.200  75.100  1.00  0.00           C  
ATOM   3338  CE1 PHE E  58      74.000  45.900  75.000  1.00  0.00           C  
ATOM   3339  CZ  PHE E  58      74.900  46.900  75.400  1.00  0.00           C  
ATOM   3340  CE2 PHE E  58      74.500  48.200  75.500  1.00  0.00           C  
ATOM   3341  CD2 PHE E  58      73.100  48.500  75.500  1.00  0.00           C  
ATOM   3342  C   PHE E  58      70.300  47.700  77.600  1.00  0.00           C  
ATOM   3343  O   PHE E  58      71.200  47.200  78.300  1.00  0.00           O  
ATOM   3344  N   GLU E  59      69.400  48.600  78.200  1.00  0.00           N  
ATOM   3345  CA  GLU E  59      69.400  49.100  79.500  1.00  0.00           C  
ATOM   3346  CB  GLU E  59      68.600  50.400  79.600  1.00  0.00           C  
ATOM   3347  CG  GLU E  59      69.000  51.200  80.800  1.00  0.00           C  
ATOM   3348  CD  GLU E  59      68.300  52.600  80.600  1.00  0.00           C  
ATOM   3349  OE1 GLU E  59      67.200  52.600  80.200  1.00  0.00           O  
ATOM   3350  OE2 GLU E  59      69.100  53.600  80.600  1.00  0.00           O1-
ATOM   3351  C   GLU E  59      69.000  48.100  80.600  1.00  0.00           C  
ATOM   3352  O   GLU E  59      69.600  47.900  81.600  1.00  0.00           O  
ATOM   3353  N   LYS E  60      68.000  47.400  80.200  1.00  0.00           N  
ATOM   3354  CA  LYS E  60      67.200  46.600  81.200  1.00  0.00           C  
ATOM   3355  CB  LYS E  60      65.800  46.500  80.700  1.00  0.00           C  
ATOM   3356  CG  LYS E  60      64.900  47.800  81.000  1.00  0.00           C  
ATOM   3357  CD  LYS E  60      64.400  47.900  82.500  1.00  0.00           C  
ATOM   3358  CE  LYS E  60      63.600  49.100  82.600  1.00  0.00           C  
ATOM   3359  NZ  LYS E  60      64.400  50.400  82.800  1.00  0.00           N1+
ATOM   3360  C   LYS E  60      67.800  45.200  81.400  1.00  0.00           C  
ATOM   3361  O   LYS E  60      67.500  44.700  82.500  1.00  0.00           O  
ATOM   3362  N   CYS E  61      68.400  44.600  80.500  1.00  0.00           N  
ATOM   3363  CA  CYS E  61      68.800  43.200  80.400  1.00  0.00           C  
ATOM   3364  CB  CYS E  61      68.300  42.600  79.000  1.00  0.00           C  
ATOM   3365  SG  CYS E  61      66.500  42.500  78.600  1.00  0.00           S  
ATOM   3366  C   CYS E  61      70.300  43.100  80.400  1.00  0.00           C  
ATOM   3367  O   CYS E  61      70.900  42.200  81.000  1.00  0.00           O  
ATOM   3368  N   LEU E  62      71.100  44.100  79.800  1.00  0.00           N  
ATOM   3369  CA  LEU E  62      72.500  43.900  79.700  1.00  0.00           C  
ATOM   3370  CB  LEU E  62      72.900  44.100  78.200  1.00  0.00           C  
ATOM   3371  CG  LEU E  62      72.500  42.900  77.300  1.00  0.00           C  
ATOM   3372  CD1 LEU E  62      73.400  41.700  77.600  1.00  0.00           C  
ATOM   3373  CD2 LEU E  62      71.200  42.300  77.100  1.00  0.00           C  
ATOM   3374  C   LEU E  62      73.200  44.900  80.500  1.00  0.00           C  
ATOM   3375  O   LEU E  62      72.800  46.100  80.800  1.00  0.00           O  
ATOM   3376  N   THR E  63      74.400  44.500  81.100  1.00  0.00           N  
ATOM   3377  CA  THR E  63      75.200  45.100  82.100  1.00  0.00           C  
ATOM   3378  CB  THR E  63      74.900  44.700  83.500  1.00  0.00           C  
ATOM   3379  CG2 THR E  63      73.600  45.100  84.000  1.00  0.00           C  
ATOM   3380  OG1 THR E  63      75.000  43.300  83.600  1.00  0.00           O  
ATOM   3381  C   THR E  63      76.600  45.000  81.900  1.00  0.00           C  
ATOM   3382  O   THR E  63      77.100  44.000  81.300  1.00  0.00           O  
ATOM   3383  N   SER E  64      77.400  45.900  82.400  1.00  0.00           N  
ATOM   3384  CA  SER E  64      78.900  45.900  82.200  1.00  0.00           C  
ATOM   3385  CB  SER E  64      79.500  47.200  82.800  1.00  0.00           C  
ATOM   3386  OG  SER E  64      78.800  48.300  82.200  1.00  0.00           O  
ATOM   3387  C   SER E  64      79.600  44.700  82.700  1.00  0.00           C  
ATOM   3388  O   SER E  64      79.300  44.200  83.800  1.00  0.00           O  
ATOM   3389  N   PRO E  65      80.700  44.200  82.100  1.00  0.00           N  
ATOM   3390  CD  PRO E  65      81.500  43.200  82.800  1.00  0.00           C  
ATOM   3391  CG  PRO E  65      82.800  43.200  81.900  1.00  0.00           C  
ATOM   3392  CB  PRO E  65      82.900  44.500  81.200  1.00  0.00           C  
ATOM   3393  CA  PRO E  65      81.400  44.800  81.000  1.00  0.00           C  
ATOM   3394  C   PRO E  65      80.900  44.200  79.600  1.00  0.00           C  
ATOM   3395  O   PRO E  65      81.600  44.100  78.600  1.00  0.00           O  
ATOM   3396  N   TYR E  66      79.600  43.900  79.500  1.00  0.00           N  
ATOM   3397  CA  TYR E  66      78.900  43.500  78.300  1.00  0.00           C  
ATOM   3398  CB  TYR E  66      78.700  44.600  77.300  1.00  0.00           C  
ATOM   3399  CG  TYR E  66      78.100  45.900  77.900  1.00  0.00           C  
ATOM   3400  CD1 TYR E  66      76.700  46.000  78.000  1.00  0.00           C  
ATOM   3401  CE1 TYR E  66      76.000  47.000  78.700  1.00  0.00           C  
ATOM   3402  CZ  TYR E  66      76.900  47.900  79.500  1.00  0.00           C  
ATOM   3403  OH  TYR E  66      76.300  48.900  80.300  1.00  0.00           O  
ATOM   3404  CE2 TYR E  66      78.200  47.900  79.200  1.00  0.00           C  
ATOM   3405  CD2 TYR E  66      78.800  47.000  78.500  1.00  0.00           C  
ATOM   3406  C   TYR E  66      79.300  42.200  77.700  1.00  0.00           C  
ATOM   3407  O   TYR E  66      79.200  42.000  76.500  1.00  0.00           O  
ATOM   3408  N   ALA E  67      80.000  41.300  78.500  1.00  0.00           N  
ATOM   3409  CA  ALA E  67      80.700  40.100  78.200  1.00  0.00           C  
ATOM   3410  CB  ALA E  67      81.800  39.900  79.200  1.00  0.00           C  
ATOM   3411  C   ALA E  67      79.700  39.000  78.500  1.00  0.00           C  
ATOM   3412  O   ALA E  67      79.600  38.000  77.700  1.00  0.00           O  
ATOM   3413  N   THR E  68      78.900  39.100  79.600  1.00  0.00           N  
ATOM   3414  CA  THR E  68      77.900  38.100  80.000  1.00  0.00           C  
ATOM   3415  CB  THR E  68      77.800  38.100  81.500  1.00  0.00           C  
ATOM   3416  CG2 THR E  68      76.800  37.000  82.100  1.00  0.00           C  
ATOM   3417  OG1 THR E  68      79.100  37.600  82.100  1.00  0.00           O  
ATOM   3418  C   THR E  68      76.700  38.300  79.300  1.00  0.00           C  
ATOM   3419  O   THR E  68      76.100  39.500  79.400  1.00  0.00           O  
ATOM   3420  N   ARG E  69      76.000  37.400  78.600  1.00  0.00           N  
ATOM   3421  CA  ARG E  69      74.900  37.700  77.800  1.00  0.00           C  
ATOM   3422  CB  ARG E  69      74.900  36.600  76.700  1.00  0.00           C  
ATOM   3423  CG  ARG E  69      76.100  37.000  75.700  1.00  0.00           C  
ATOM   3424  CD  ARG E  69      75.700  36.500  74.400  1.00  0.00           C  
ATOM   3425  NE  ARG E  69      75.500  35.000  74.500  1.00  0.00           N  
ATOM   3426  CZ  ARG E  69      76.400  34.000  74.500  1.00  0.00           C  
ATOM   3427  NH1 ARG E  69      77.600  34.300  74.700  1.00  0.00           N1+
ATOM   3428  NH2 ARG E  69      75.900  32.700  74.400  1.00  0.00           N  
ATOM   3429  C   ARG E  69      73.500  37.500  78.600  1.00  0.00           C  
ATOM   3430  O   ARG E  69      73.500  36.900  79.600  1.00  0.00           O  
ATOM   3431  N   ASN E  70      72.400  38.000  77.900  1.00  0.00           N  
ATOM   3432  CA  ASN E  70      71.100  38.000  78.500  1.00  0.00           C  
ATOM   3433  CB  ASN E  70      71.000  39.000  79.600  1.00  0.00           C  
ATOM   3434  CG  ASN E  70      69.900  38.700  80.600  1.00  0.00           C  
ATOM   3435  OD1 ASN E  70      69.200  37.600  80.600  1.00  0.00           O  
ATOM   3436  ND2 ASN E  70      69.500  39.600  81.500  1.00  0.00           N  
ATOM   3437  C   ASN E  70      70.000  38.100  77.300  1.00  0.00           C  
ATOM   3438  O   ASN E  70      69.200  39.000  77.400  1.00  0.00           O  
ATOM   3439  N   ASP E  71      70.100  37.200  76.400  1.00  0.00           N  
ATOM   3440  CA  ASP E  71      69.200  37.100  75.200  1.00  0.00           C  
ATOM   3441  CB  ASP E  71      69.600  35.800  74.400  1.00  0.00           C  
ATOM   3442  CG  ASP E  71      71.000  35.700  73.800  1.00  0.00           C  
ATOM   3443  OD1 ASP E  71      71.200  34.700  73.100  1.00  0.00           O  
ATOM   3444  OD2 ASP E  71      71.900  36.600  74.000  1.00  0.00           O1-
ATOM   3445  C   ASP E  71      67.800  37.000  75.500  1.00  0.00           C  
ATOM   3446  O   ASP E  71      67.100  37.900  75.000  1.00  0.00           O  
ATOM   3447  N   ALA E  72      67.200  36.200  76.400  1.00  0.00           N  
ATOM   3448  CA  ALA E  72      65.800  35.900  76.700  1.00  0.00           C  
ATOM   3449  CB  ALA E  72      65.800  34.600  77.500  1.00  0.00           C  
ATOM   3450  C   ALA E  72      65.200  37.100  77.300  1.00  0.00           C  
ATOM   3451  O   ALA E  72      64.000  37.300  77.100  1.00  0.00           O  
ATOM   3452  N   CYS E  73      65.900  37.800  78.200  1.00  0.00           N  
ATOM   3453  CA  CYS E  73      65.400  39.100  78.500  1.00  0.00           C  
ATOM   3454  CB  CYS E  73      66.300  39.700  79.700  1.00  0.00           C  
ATOM   3455  SG  CYS E  73      65.800  41.400  80.100  1.00  0.00           S  
ATOM   3456  C   CYS E  73      65.200  40.100  77.400  1.00  0.00           C  
ATOM   3457  O   CYS E  73      64.100  40.700  77.300  1.00  0.00           O  
ATOM   3458  N   ILE E  74      66.100  40.100  76.300  1.00  0.00           N  
ATOM   3459  CA  ILE E  74      65.600  40.900  75.100  1.00  0.00           C  
ATOM   3460  CB  ILE E  74      66.800  41.000  74.200  1.00  0.00           C  
ATOM   3461  CG2 ILE E  74      66.600  41.900  73.000  1.00  0.00           C  
ATOM   3462  CG1 ILE E  74      68.200  41.400  74.800  1.00  0.00           C  
ATOM   3463  CD  ILE E  74      69.300  41.100  73.800  1.00  0.00           C  
ATOM   3464  C   ILE E  74      64.300  40.700  74.500  1.00  0.00           C  
ATOM   3465  O   ILE E  74      63.500  41.600  74.400  1.00  0.00           O  
ATOM   3466  N   ASP E  75      64.000  39.400  74.300  1.00  0.00           N  
ATOM   3467  CA  ASP E  75      62.700  38.900  73.900  1.00  0.00           C  
ATOM   3468  CB  ASP E  75      62.600  37.500  73.600  1.00  0.00           C  
ATOM   3469  CG  ASP E  75      63.500  36.700  72.700  1.00  0.00           C  
ATOM   3470  OD1 ASP E  75      63.100  35.600  72.400  1.00  0.00           O  
ATOM   3471  OD2 ASP E  75      64.400  37.300  72.100  1.00  0.00           O1-
ATOM   3472  C   ASP E  75      61.500  39.400  74.800  1.00  0.00           C  
ATOM   3473  O   ASP E  75      60.400  39.700  74.400  1.00  0.00           O  
ATOM   3474  N   GLN E  76      61.800  39.300  76.000  1.00  0.00           N  
ATOM   3475  CA  GLN E  76      60.800  39.500  77.100  1.00  0.00           C  
ATOM   3476  CB  GLN E  76      61.100  38.800  78.400  1.00  0.00           C  
ATOM   3477  CG  GLN E  76      59.900  38.800  79.400  1.00  0.00           C  
ATOM   3478  CD  GLN E  76      58.800  37.900  79.100  1.00  0.00           C  
ATOM   3479  OE1 GLN E  76      58.200  37.900  78.100  1.00  0.00           O  
ATOM   3480  NE2 GLN E  76      58.400  37.200  80.100  1.00  0.00           N  
ATOM   3481  C   GLN E  76      60.600  41.000  77.300  1.00  0.00           C  
ATOM   3482  O   GLN E  76      59.500  41.500  77.300  1.00  0.00           O  
ATOM   3483  N   CYS E  77      61.600  41.800  77.300  1.00  0.00           N  
ATOM   3484  CA  CYS E  77      61.700  43.300  77.300  1.00  0.00           C  
ATOM   3485  CB  CYS E  77      63.100  43.700  77.400  1.00  0.00           C  
ATOM   3486  SG  CYS E  77      63.000  45.500  77.100  1.00  0.00           S  
ATOM   3487  C   CYS E  77      60.900  43.800  76.000  1.00  0.00           C  
ATOM   3488  O   CYS E  77      60.100  44.700  76.100  1.00  0.00           O  
ATOM   3489  N   LEU E  78      61.200  43.300  74.800  1.00  0.00           N  
ATOM   3490  CA  LEU E  78      60.300  43.500  73.600  1.00  0.00           C  
ATOM   3491  CB  LEU E  78      61.000  42.700  72.500  1.00  0.00           C  
ATOM   3492  CG  LEU E  78      60.400  42.500  71.100  1.00  0.00           C  
ATOM   3493  CD1 LEU E  78      60.100  43.900  70.600  1.00  0.00           C  
ATOM   3494  CD2 LEU E  78      61.300  41.900  70.200  1.00  0.00           C  
ATOM   3495  C   LEU E  78      58.800  43.200  73.800  1.00  0.00           C  
ATOM   3496  O   LEU E  78      58.100  44.100  73.600  1.00  0.00           O  
ATOM   3497  N   ALA E  79      58.400  42.000  74.200  1.00  0.00           N  
ATOM   3498  CA  ALA E  79      57.000  41.700  74.400  1.00  0.00           C  
ATOM   3499  CB  ALA E  79      56.700  40.300  75.000  1.00  0.00           C  
ATOM   3500  C   ALA E  79      56.400  42.700  75.400  1.00  0.00           C  
ATOM   3501  O   ALA E  79      55.400  43.400  75.100  1.00  0.00           O  
ATOM   3502  N   LYS E  80      57.000  42.900  76.600  1.00  0.00           N  
ATOM   3503  CA  LYS E  80      56.700  44.100  77.400  1.00  0.00           C  
ATOM   3504  CB  LYS E  80      57.600  44.000  78.600  1.00  0.00           C  
ATOM   3505  CG  LYS E  80      56.900  44.700  79.800  1.00  0.00           C  
ATOM   3506  CD  LYS E  80      57.700  44.700  81.100  1.00  0.00           C  
ATOM   3507  CE  LYS E  80      56.900  45.300  82.200  1.00  0.00           C  
ATOM   3508  NZ  LYS E  80      57.500  45.000  83.500  1.00  0.00           N1+
ATOM   3509  C   LYS E  80      56.800  45.400  76.800  1.00  0.00           C  
ATOM   3510  O   LYS E  80      55.900  46.400  77.000  1.00  0.00           O  
ATOM   3511  N   TYR E  81      57.700  45.800  75.900  1.00  0.00           N  
ATOM   3512  CA  TYR E  81      57.700  47.000  75.200  1.00  0.00           C  
ATOM   3513  CB  TYR E  81      59.000  47.400  74.400  1.00  0.00           C  
ATOM   3514  CG  TYR E  81      59.300  48.700  74.000  1.00  0.00           C  
ATOM   3515  CD1 TYR E  81      58.700  49.300  73.000  1.00  0.00           C  
ATOM   3516  CE1 TYR E  81      59.100  50.700  72.600  1.00  0.00           C  
ATOM   3517  CZ  TYR E  81      59.900  51.400  73.300  1.00  0.00           C  
ATOM   3518  OH  TYR E  81      60.300  52.700  73.000  1.00  0.00           O  
ATOM   3519  CE2 TYR E  81      60.400  50.900  74.600  1.00  0.00           C  
ATOM   3520  CD2 TYR E  81      60.100  49.600  74.900  1.00  0.00           C  
ATOM   3521  C   TYR E  81      56.600  47.100  74.200  1.00  0.00           C  
ATOM   3522  O   TYR E  81      55.700  48.100  74.200  1.00  0.00           O  
ATOM   3523  N   MET E  82      56.300  46.000  73.600  1.00  0.00           N  
ATOM   3524  CA  MET E  82      55.100  45.900  72.700  1.00  0.00           C  
ATOM   3525  CB  MET E  82      55.300  44.700  71.700  1.00  0.00           C  
ATOM   3526  CG  MET E  82      56.200  45.000  70.600  1.00  0.00           C  
ATOM   3527  SD  MET E  82      55.800  46.400  69.500  1.00  0.00           S  
ATOM   3528  CE  MET E  82      55.100  45.600  68.000  1.00  0.00           C  
ATOM   3529  C   MET E  82      53.800  46.000  73.400  1.00  0.00           C  
ATOM   3530  O   MET E  82      52.900  46.700  73.000  1.00  0.00           O  
ATOM   3531  N   ARG E  83      53.700  45.400  74.600  1.00  0.00           N  
ATOM   3532  CA  ARG E  83      52.600  45.600  75.600  1.00  0.00           C  
ATOM   3533  CB  ARG E  83      52.600  44.500  76.600  1.00  0.00           C  
ATOM   3534  CG  ARG E  83      51.300  44.000  77.400  1.00  0.00           C  
ATOM   3535  CD  ARG E  83      50.200  43.400  76.500  1.00  0.00           C  
ATOM   3536  NE  ARG E  83      50.500  42.300  75.700  1.00  0.00           N  
ATOM   3537  CZ  ARG E  83      50.400  41.100  76.000  1.00  0.00           C  
ATOM   3538  NH1 ARG E  83      49.900  40.600  77.200  1.00  0.00           N1+
ATOM   3539  NH2 ARG E  83      51.000  40.100  75.300  1.00  0.00           N  
ATOM   3540  C   ARG E  83      52.400  47.000  76.000  1.00  0.00           C  
ATOM   3541  O   ARG E  83      51.300  47.500  75.800  1.00  0.00           O  
ATOM   3542  N   SER E  84      53.500  47.600  76.500  1.00  0.00           N  
ATOM   3543  CA  SER E  84      53.600  49.100  76.800  1.00  0.00           C  
ATOM   3544  CB  SER E  84      54.900  49.500  77.300  1.00  0.00           C  
ATOM   3545  OG  SER E  84      55.400  48.600  78.300  1.00  0.00           O  
ATOM   3546  C   SER E  84      53.100  49.900  75.700  1.00  0.00           C  
ATOM   3547  O   SER E  84      52.100  50.600  75.800  1.00  0.00           O  
ATOM   3548  N   TRP E  85      53.600  49.700  74.400  1.00  0.00           N  
ATOM   3549  CA  TRP E  85      53.300  50.400  73.300  1.00  0.00           C  
ATOM   3550  CB  TRP E  85      54.200  50.000  72.100  1.00  0.00           C  
ATOM   3551  CG  TRP E  85      54.200  50.700  70.900  1.00  0.00           C  
ATOM   3552  CD1 TRP E  85      55.100  51.700  70.300  1.00  0.00           C  
ATOM   3553  NE1 TRP E  85      54.700  52.200  69.100  1.00  0.00           N  
ATOM   3554  CE2 TRP E  85      53.600  51.500  68.700  1.00  0.00           C  
ATOM   3555  CZ2 TRP E  85      52.800  51.600  67.500  1.00  0.00           C  
ATOM   3556  CH2 TRP E  85      51.600  51.000  67.400  1.00  0.00           C  
ATOM   3557  CZ3 TRP E  85      51.300  50.100  68.500  1.00  0.00           C  
ATOM   3558  CE3 TRP E  85      52.000  49.900  69.600  1.00  0.00           C  
ATOM   3559  CD2 TRP E  85      53.200  50.700  69.800  1.00  0.00           C  
ATOM   3560  C   TRP E  85      51.800  50.200  72.900  1.00  0.00           C  
ATOM   3561  O   TRP E  85      51.200  51.300  72.600  1.00  0.00           O  
ATOM   3562  N   ASN E  86      51.200  49.100  73.000  1.00  0.00           N  
ATOM   3563  CA  ASN E  86      49.700  48.900  72.800  1.00  0.00           C  
ATOM   3564  CB  ASN E  86      49.500  47.400  72.700  1.00  0.00           C  
ATOM   3565  CG  ASN E  86      49.700  46.800  71.400  1.00  0.00           C  
ATOM   3566  OD1 ASN E  86      48.900  47.100  70.500  1.00  0.00           O  
ATOM   3567  ND2 ASN E  86      50.700  46.100  71.100  1.00  0.00           N  
ATOM   3568  C   ASN E  86      48.800  49.600  73.800  1.00  0.00           C  
ATOM   3569  O   ASN E  86      47.900  50.200  73.300  1.00  0.00           O  
ATOM   3570  N   VAL E  87      49.200  49.800  75.100  1.00  0.00           N  
ATOM   3571  CA  VAL E  87      48.500  50.700  75.900  1.00  0.00           C  
ATOM   3572  CB  VAL E  87      49.000  50.600  77.400  1.00  0.00           C  
ATOM   3573  CG1 VAL E  87      48.400  51.700  78.200  1.00  0.00           C  
ATOM   3574  CG2 VAL E  87      48.700  49.200  78.000  1.00  0.00           C  
ATOM   3575  C   VAL E  87      48.600  52.200  75.400  1.00  0.00           C  
ATOM   3576  O   VAL E  87      47.600  52.900  75.200  1.00  0.00           O  
ATOM   3577  N   ILE E  88      49.900  52.600  75.100  1.00  0.00           N  
ATOM   3578  CA  ILE E  88      50.200  53.900  74.700  1.00  0.00           C  
ATOM   3579  CB  ILE E  88      51.700  54.100  74.500  1.00  0.00           C  
ATOM   3580  CG2 ILE E  88      52.200  55.400  73.700  1.00  0.00           C  
ATOM   3581  CG1 ILE E  88      52.400  54.000  75.900  1.00  0.00           C  
ATOM   3582  CD  ILE E  88      52.500  55.300  76.700  1.00  0.00           C  
ATOM   3583  C   ILE E  88      49.500  54.300  73.400  1.00  0.00           C  
ATOM   3584  O   ILE E  88      48.900  55.300  73.200  1.00  0.00           O  
ATOM   3585  N   SER E  89      49.500  53.400  72.300  1.00  0.00           N  
ATOM   3586  CA  SER E  89      48.800  53.700  71.100  1.00  0.00           C  
ATOM   3587  CB  SER E  89      49.200  52.600  70.100  1.00  0.00           C  
ATOM   3588  OG  SER E  89      48.600  52.700  68.900  1.00  0.00           O  
ATOM   3589  C   SER E  89      47.300  53.800  71.200  1.00  0.00           C  
ATOM   3590  O   SER E  89      46.800  54.800  70.800  1.00  0.00           O  
ATOM   3591  N   LYS E  90      46.800  52.900  72.000  1.00  0.00           N  
ATOM   3592  CA  LYS E  90      45.300  53.000  72.300  1.00  0.00           C  
ATOM   3593  CB  LYS E  90      44.700  51.800  73.000  1.00  0.00           C  
ATOM   3594  CG  LYS E  90      43.200  51.700  73.000  1.00  0.00           C  
ATOM   3595  CD  LYS E  90      42.700  52.500  74.200  1.00  0.00           C  
ATOM   3596  CE  LYS E  90      41.200  52.300  74.400  1.00  0.00           C  
ATOM   3597  NZ  LYS E  90      40.800  52.400  75.800  1.00  0.00           N1+
ATOM   3598  C   LYS E  90      45.000  54.300  73.100  1.00  0.00           C  
ATOM   3599  O   LYS E  90      44.000  55.000  72.700  1.00  0.00           O  
ATOM   3600  N   ALA E  91      45.900  54.700  74.000  1.00  0.00           N  
ATOM   3601  CA  ALA E  91      45.800  56.000  74.700  1.00  0.00           C  
ATOM   3602  CB  ALA E  91      46.800  56.000  75.900  1.00  0.00           C  
ATOM   3603  C   ALA E  91      46.000  57.200  73.900  1.00  0.00           C  
ATOM   3604  O   ALA E  91      45.100  58.000  73.900  1.00  0.00           O  
ATOM   3605  N   TYR E  92      47.000  57.200  72.900  1.00  0.00           N  
ATOM   3606  CA  TYR E  92      47.100  58.300  72.100  1.00  0.00           C  
ATOM   3607  CB  TYR E  92      48.400  58.200  71.200  1.00  0.00           C  
ATOM   3608  CG  TYR E  92      48.800  59.500  70.500  1.00  0.00           C  
ATOM   3609  CD1 TYR E  92      48.200  59.700  69.300  1.00  0.00           C  
ATOM   3610  CE1 TYR E  92      48.400  60.900  68.500  1.00  0.00           C  
ATOM   3611  CZ  TYR E  92      49.300  61.900  69.100  1.00  0.00           C  
ATOM   3612  OH  TYR E  92      49.500  63.100  68.500  1.00  0.00           O  
ATOM   3613  CE2 TYR E  92      49.800  61.600  70.400  1.00  0.00           C  
ATOM   3614  CD2 TYR E  92      49.700  60.400  71.000  1.00  0.00           C  
ATOM   3615  C   TYR E  92      45.900  58.400  71.100  1.00  0.00           C  
ATOM   3616  O   TYR E  92      45.100  59.300  71.100  1.00  0.00           O  
ATOM   3617  N   ILE E  93      45.400  57.300  70.500  1.00  0.00           N  
ATOM   3618  CA  ILE E  93      44.200  57.200  69.700  1.00  0.00           C  
ATOM   3619  CB  ILE E  93      44.100  55.800  69.000  1.00  0.00           C  
ATOM   3620  CG2 ILE E  93      42.800  55.700  68.300  1.00  0.00           C  
ATOM   3621  CG1 ILE E  93      45.200  55.600  67.900  1.00  0.00           C  
ATOM   3622  CD  ILE E  93      45.400  56.600  66.800  1.00  0.00           C  
ATOM   3623  C   ILE E  93      43.000  57.600  70.400  1.00  0.00           C  
ATOM   3624  O   ILE E  93      42.300  58.400  69.800  1.00  0.00           O  
ATOM   3625  N   SER E  94      42.800  57.200  71.600  1.00  0.00           N  
ATOM   3626  CA  SER E  94      41.700  57.700  72.500  1.00  0.00           C  
ATOM   3627  CB  SER E  94      41.600  56.900  73.800  1.00  0.00           C  
ATOM   3628  OG  SER E  94      40.800  55.700  73.500  1.00  0.00           O  
ATOM   3629  C   SER E  94      41.800  59.100  72.900  1.00  0.00           C  
ATOM   3630  O   SER E  94      40.800  59.800  72.700  1.00  0.00           O  
ATOM   3631  N   ARG E  95      42.900  59.600  73.300  1.00  0.00           N  
ATOM   3632  CA  ARG E  95      43.000  61.100  73.700  1.00  0.00           C  
ATOM   3633  CB  ARG E  95      44.200  61.400  74.500  1.00  0.00           C  
ATOM   3634  CG  ARG E  95      44.300  60.600  75.800  1.00  0.00           C  
ATOM   3635  CD  ARG E  95      43.200  60.500  76.800  1.00  0.00           C  
ATOM   3636  NE  ARG E  95      41.900  60.100  76.400  1.00  0.00           N  
ATOM   3637  CZ  ARG E  95      41.400  59.000  76.700  1.00  0.00           C  
ATOM   3638  NH1 ARG E  95      42.000  57.900  77.000  1.00  0.00           N1+
ATOM   3639  NH2 ARG E  95      40.100  58.700  76.300  1.00  0.00           N  
ATOM   3640  C   ARG E  95      43.100  62.000  72.500  1.00  0.00           C  
ATOM   3641  O   ARG E  95      43.000  63.200  72.700  1.00  0.00           O  
ATOM   3642  N   ILE E  96      43.200  61.500  71.200  1.00  0.00           N  
ATOM   3643  CA  ILE E  96      42.900  62.200  70.000  1.00  0.00           C  
ATOM   3644  CB  ILE E  96      43.700  61.700  68.800  1.00  0.00           C  
ATOM   3645  CG2 ILE E  96      43.300  62.600  67.600  1.00  0.00           C  
ATOM   3646  CG1 ILE E  96      45.200  62.000  69.100  1.00  0.00           C  
ATOM   3647  CD  ILE E  96      45.600  63.500  69.400  1.00  0.00           C  
ATOM   3648  C   ILE E  96      41.400  62.300  69.700  1.00  0.00           C  
ATOM   3649  O   ILE E  96      40.900  63.300  69.300  1.00  0.00           O  
ATOM   3650  N   GLN E  97      40.600  61.200  69.800  1.00  0.00           N  
ATOM   3651  CA  GLN E  97      39.200  61.200  69.600  1.00  0.00           C  
ATOM   3652  CB  GLN E  97      38.700  59.800  69.200  1.00  0.00           C  
ATOM   3653  CG  GLN E  97      38.800  59.400  67.700  1.00  0.00           C  
ATOM   3654  CD  GLN E  97      40.000  59.400  66.800  1.00  0.00           C  
ATOM   3655  OE1 GLN E  97      39.900  59.700  65.700  1.00  0.00           O  
ATOM   3656  NE2 GLN E  97      41.200  59.200  67.400  1.00  0.00           N  
ATOM   3657  C   GLN E  97      38.400  61.700  70.700  1.00  0.00           C  
ATOM   3658  O   GLN E  97      37.500  62.600  70.600  1.00  0.00           O  
ATOM   3659  N   ASN E  98      38.800  61.500  71.900  1.00  0.00           N  
ATOM   3660  CA  ASN E  98      38.200  61.700  73.200  1.00  0.00           C  
ATOM   3661  CB  ASN E  98      37.700  60.500  73.700  1.00  0.00           C  
ATOM   3662  CG  ASN E  98      36.500  59.900  73.000  1.00  0.00           C  
ATOM   3663  OD1 ASN E  98      36.600  59.300  71.900  1.00  0.00           O  
ATOM   3664  ND2 ASN E  98      35.200  60.400  73.400  1.00  0.00           N  
ATOM   3665  C   ASN E  98      39.200  62.300  74.100  1.00  0.00           C  
ATOM   3666  O   ASN E  98      39.800  61.600  74.900  1.00  0.00           O  
ATOM   3667  N   ALA E  99      39.400  63.700  74.100  1.00  0.00           N  
ATOM   3668  CA  ALA E  99      40.400  64.300  74.900  1.00  0.00           C  
ATOM   3669  CB  ALA E  99      40.300  65.900  74.600  1.00  0.00           C  
ATOM   3670  C   ALA E  99      40.400  64.100  76.400  1.00  0.00           C  
ATOM   3671  O   ALA E  99      41.500  63.900  76.900  1.00  0.00           O  
ATOM   3672  N   SER E 100      39.200  64.000  76.900  1.00  0.00           N  
ATOM   3673  CA  SER E 100      38.900  63.900  78.400  1.00  0.00           C  
ATOM   3674  CB  SER E 100      37.400  64.000  78.600  1.00  0.00           C  
ATOM   3675  OG  SER E 100      37.200  64.700  79.800  1.00  0.00           O  
ATOM   3676  C   SER E 100      39.500  62.500  78.900  1.00  0.00           C  
ATOM   3677  O   SER E 100      39.300  61.500  78.400  1.00  0.00           O  
ATOM   3678  N   ALA E 101      40.300  62.600  80.000  1.00  0.00           N  
ATOM   3679  CA  ALA E 101      41.000  61.400  80.400  1.00  0.00           C  
ATOM   3680  CB  ALA E 101      42.200  62.100  81.100  1.00  0.00           C  
ATOM   3681  C   ALA E 101      40.200  60.400  81.000  1.00  0.00           C  
ATOM   3682  O   ALA E 101      40.800  59.300  81.200  1.00  0.00           O  
ATOM   3683  N   SER E 102      39.100  60.500  81.700  1.00  0.00           N  
ATOM   3684  CA  SER E 102      38.400  59.500  82.400  1.00  0.00           C  
ATOM   3685  CB  SER E 102      37.300  60.100  83.300  1.00  0.00           C  
ATOM   3686  OG  SER E 102      36.500  61.000  82.600  1.00  0.00           O  
ATOM   3687  C   SER E 102      37.700  58.600  81.400  1.00  0.00           C  
ATOM   3688  O   SER E 102      37.300  59.000  80.400  1.00  0.00           O  
ATOM   3689  N   GLY E 103      37.700  57.300  81.700  1.00  0.00           N  
ATOM   3690  CA  GLY E 103      37.300  56.300  80.800  1.00  0.00           C  
ATOM   3691  C   GLY E 103      37.900  55.000  81.200  1.00  0.00           C  
ATOM   3692  O   GLY E 103      38.500  54.700  82.200  1.00  0.00           O  
ATOM   3693  N   GLU E 104      37.900  54.000  80.200  1.00  0.00           N  
ATOM   3694  CA  GLU E 104      38.500  52.700  80.400  1.00  0.00           C  
ATOM   3695  CB  GLU E 104      37.700  51.600  79.700  1.00  0.00           C  
ATOM   3696  CG  GLU E 104      36.500  51.300  80.400  1.00  0.00           C  
ATOM   3697  CD  GLU E 104      35.600  50.200  79.600  1.00  0.00           C  
ATOM   3698  OE1 GLU E 104      36.000  49.500  78.600  1.00  0.00           O  
ATOM   3699  OE2 GLU E 104      34.500  49.800  80.100  1.00  0.00           O1-
ATOM   3700  C   GLU E 104      40.000  52.900  79.800  1.00  0.00           C  
ATOM   3701  O   GLU E 104      40.200  53.400  78.700  1.00  0.00           O  
ATOM   3702  N   ILE E 105      40.900  52.100  80.400  1.00  0.00           N  
ATOM   3703  CA  ILE E 105      42.300  51.900  80.000  1.00  0.00           C  
ATOM   3704  CB  ILE E 105      43.000  51.500  81.300  1.00  0.00           C  
ATOM   3705  CG2 ILE E 105      44.500  51.000  80.900  1.00  0.00           C  
ATOM   3706  CG1 ILE E 105      43.100  52.500  82.300  1.00  0.00           C  
ATOM   3707  CD  ILE E 105      43.700  52.200  83.700  1.00  0.00           C  
ATOM   3708  C   ILE E 105      42.200  50.900  78.900  1.00  0.00           C  
ATOM   3709  OC1 ILE E 105      41.800  49.700  79.100  1.00  0.00           O  
ATOM   3710  OC2 ILE E 105      42.300  51.400  77.800  1.00  0.00           O  
TER   
ATOM   3711  N   MET F   1      38.100  99.900  66.500  1.00  0.00           N  
ATOM   3712  CA  MET F   1      39.400  99.700  67.200  1.00  0.00           C  
ATOM   3713  CB  MET F   1      40.300 100.800  67.300  1.00  0.00           C  
ATOM   3714  CG  MET F   1      41.500 100.600  68.100  1.00  0.00           C  
ATOM   3715  SD  MET F   1      42.100  98.900  67.600  1.00  0.00           S  
ATOM   3716  CE  MET F   1      43.600  98.900  68.500  1.00  0.00           C  
ATOM   3717  C   MET F   1      39.000  99.200  68.600  1.00  0.00           C  
ATOM   3718  O   MET F   1      38.200 100.000  69.300  1.00  0.00           O  
ATOM   3719  N   SER F   2      39.400  98.000  69.000  1.00  0.00           N  
ATOM   3720  CA  SER F   2      39.100  97.300  70.200  1.00  0.00           C  
ATOM   3721  CB  SER F   2      37.800  96.600  70.200  1.00  0.00           C  
ATOM   3722  OG  SER F   2      37.900  95.500  69.200  1.00  0.00           O  
ATOM   3723  C   SER F   2      40.300  96.400  70.400  1.00  0.00           C  
ATOM   3724  O   SER F   2      41.100  96.000  69.600  1.00  0.00           O  
ATOM   3725  N   SER F   3      40.400  95.800  71.700  1.00  0.00           N  
ATOM   3726  CA  SER F   3      41.300  94.700  71.900  1.00  0.00           C  
ATOM   3727  CB  SER F   3      41.100  94.300  73.400  1.00  0.00           C  
ATOM   3728  OG  SER F   3      39.800  94.000  73.700  1.00  0.00           O  
ATOM   3729  C   SER F   3      40.900  93.500  71.100  1.00  0.00           C  
ATOM   3730  O   SER F   3      39.800  93.300  70.500  1.00  0.00           O  
ATOM   3731  N   LEU F   4      41.800  92.400  71.200  1.00  0.00           N  
ATOM   3732  CA  LEU F   4      41.600  91.200  70.600  1.00  0.00           C  
ATOM   3733  CB  LEU F   4      42.800  90.300  70.600  1.00  0.00           C  
ATOM   3734  CG  LEU F   4      44.100  91.000  70.200  1.00  0.00           C  
ATOM   3735  CD1 LEU F   4      45.200  90.000  70.500  1.00  0.00           C  
ATOM   3736  CD2 LEU F   4      44.200  91.200  68.700  1.00  0.00           C  
ATOM   3737  C   LEU F   4      40.300  90.500  71.100  1.00  0.00           C  
ATOM   3738  O   LEU F   4      39.500  90.000  70.300  1.00  0.00           O  
ATOM   3739  N   SER F   5      39.800  90.600  72.400  1.00  0.00           N  
ATOM   3740  CA  SER F   5      38.900  89.700  72.900  1.00  0.00           C  
ATOM   3741  CB  SER F   5      39.000  89.600  74.300  1.00  0.00           C  
ATOM   3742  OG  SER F   5      37.900  88.800  74.900  1.00  0.00           O  
ATOM   3743  C   SER F   5      37.500  90.300  72.600  1.00  0.00           C  
ATOM   3744  O   SER F   5      36.600  89.600  72.300  1.00  0.00           O  
ATOM   3745  N   THR F   6      37.500  91.700  72.600  1.00  0.00           N  
ATOM   3746  CA  THR F   6      36.400  92.500  72.300  1.00  0.00           C  
ATOM   3747  CB  THR F   6      36.500  93.900  72.900  1.00  0.00           C  
ATOM   3748  CG2 THR F   6      35.200  94.700  72.500  1.00  0.00           C  
ATOM   3749  OG1 THR F   6      36.700  94.100  74.200  1.00  0.00           O  
ATOM   3750  C   THR F   6      36.200  92.600  70.800  1.00  0.00           C  
ATOM   3751  O   THR F   6      35.000  92.400  70.400  1.00  0.00           O  
ATOM   3752  N   SER F   7      37.200  92.700  69.800  1.00  0.00           N  
ATOM   3753  CA  SER F   7      37.200  92.400  68.500  1.00  0.00           C  
ATOM   3754  CB  SER F   7      38.700  92.300  67.900  1.00  0.00           C  
ATOM   3755  OG  SER F   7      39.300  93.500  68.000  1.00  0.00           O  
ATOM   3756  C   SER F   7      36.400  91.200  68.100  1.00  0.00           C  
ATOM   3757  O   SER F   7      36.500  90.200  68.700  1.00  0.00           O  
ATOM   3758  N   ASP F   8      35.700  91.200  66.900  1.00  0.00           N  
ATOM   3759  CA  ASP F   8      35.100  90.100  66.300  1.00  0.00           C  
ATOM   3760  CB  ASP F   8      33.900  90.700  65.400  1.00  0.00           C  
ATOM   3761  CG  ASP F   8      33.400  89.700  64.300  1.00  0.00           C  
ATOM   3762  OD1 ASP F   8      33.000  88.600  64.600  1.00  0.00           O  
ATOM   3763  OD2 ASP F   8      33.200  90.200  63.200  1.00  0.00           O1-
ATOM   3764  C   ASP F   8      36.100  89.300  65.400  1.00  0.00           C  
ATOM   3765  O   ASP F   8      36.200  89.600  64.200  1.00  0.00           O  
ATOM   3766  N   LEU F   9      36.900  88.400  65.900  1.00  0.00           N  
ATOM   3767  CA  LEU F   9      38.000  87.900  65.200  1.00  0.00           C  
ATOM   3768  CB  LEU F   9      39.200  87.600  66.200  1.00  0.00           C  
ATOM   3769  CG  LEU F   9      39.800  88.800  66.900  1.00  0.00           C  
ATOM   3770  CD1 LEU F   9      41.000  88.300  67.600  1.00  0.00           C  
ATOM   3771  CD2 LEU F   9      40.400  89.800  65.900  1.00  0.00           C  
ATOM   3772  C   LEU F   9      37.700  86.500  64.600  1.00  0.00           C  
ATOM   3773  O   LEU F   9      36.900  85.800  65.100  1.00  0.00           O  
ATOM   3774  N   ALA F  10      38.300  86.200  63.400  1.00  0.00           N  
ATOM   3775  CA  ALA F  10      37.900  84.900  62.800  1.00  0.00           C  
ATOM   3776  CB  ALA F  10      37.500  85.500  61.400  1.00  0.00           C  
ATOM   3777  C   ALA F  10      39.000  83.900  62.700  1.00  0.00           C  
ATOM   3778  O   ALA F  10      40.100  84.300  63.000  1.00  0.00           O  
ATOM   3779  N   SER F  11      38.700  82.600  62.500  1.00  0.00           N  
ATOM   3780  CA  SER F  11      39.600  81.500  62.200  1.00  0.00           C  
ATOM   3781  CB  SER F  11      38.900  80.200  62.500  1.00  0.00           C  
ATOM   3782  OG  SER F  11      38.900  79.900  63.900  1.00  0.00           O  
ATOM   3783  C   SER F  11      40.100  81.600  60.800  1.00  0.00           C  
ATOM   3784  O   SER F  11      39.500  81.100  59.800  1.00  0.00           O  
ATOM   3785  N   LEU F  12      41.100  82.300  60.600  1.00  0.00           N  
ATOM   3786  CA  LEU F  12      41.800  82.500  59.300  1.00  0.00           C  
ATOM   3787  CB  LEU F  12      42.800  83.600  59.400  1.00  0.00           C  
ATOM   3788  CG  LEU F  12      42.300  85.000  60.000  1.00  0.00           C  
ATOM   3789  CD1 LEU F  12      43.400  86.000  59.900  1.00  0.00           C  
ATOM   3790  CD2 LEU F  12      41.000  85.500  59.300  1.00  0.00           C  
ATOM   3791  C   LEU F  12      42.400  81.200  59.000  1.00  0.00           C  
ATOM   3792  O   LEU F  12      43.100  80.700  59.900  1.00  0.00           O  
ATOM   3793  N   ASP F  13      42.300  80.800  57.700  1.00  0.00           N  
ATOM   3794  CA  ASP F  13      42.900  79.500  57.300  1.00  0.00           C  
ATOM   3795  CB  ASP F  13      42.600  79.300  55.800  1.00  0.00           C  
ATOM   3796  CG  ASP F  13      42.800  78.000  55.200  1.00  0.00           C  
ATOM   3797  OD1 ASP F  13      42.700  77.800  54.000  1.00  0.00           O  
ATOM   3798  OD2 ASP F  13      43.400  77.100  55.900  1.00  0.00           O1-
ATOM   3799  C   ASP F  13      44.400  79.400  57.500  1.00  0.00           C  
ATOM   3800  O   ASP F  13      45.200  80.100  56.900  1.00  0.00           O  
ATOM   3801  N   ASP F  14      44.900  78.500  58.400  1.00  0.00           N  
ATOM   3802  CA  ASP F  14      46.200  78.300  58.700  1.00  0.00           C  
ATOM   3803  CB  ASP F  14      46.500  77.700  60.000  1.00  0.00           C  
ATOM   3804  CG  ASP F  14      45.500  76.500  60.500  1.00  0.00           C  
ATOM   3805  OD1 ASP F  14      44.300  76.800  60.600  1.00  0.00           O  
ATOM   3806  OD2 ASP F  14      46.000  75.500  60.800  1.00  0.00           O1-
ATOM   3807  C   ASP F  14      47.100  77.600  57.500  1.00  0.00           C  
ATOM   3808  O   ASP F  14      48.300  77.700  57.500  1.00  0.00           O  
ATOM   3809  N   THR F  15      46.300  77.100  56.500  1.00  0.00           N  
ATOM   3810  CA  THR F  15      47.000  76.300  55.600  1.00  0.00           C  
ATOM   3811  CB  THR F  15      46.000  75.200  54.800  1.00  0.00           C  
ATOM   3812  CG2 THR F  15      45.400  74.300  55.800  1.00  0.00           C  
ATOM   3813  OG1 THR F  15      45.100  76.000  54.100  1.00  0.00           O  
ATOM   3814  C   THR F  15      47.800  77.000  54.500  1.00  0.00           C  
ATOM   3815  O   THR F  15      48.600  76.400  53.800  1.00  0.00           O  
ATOM   3816  N   SER F  16      47.700  78.400  54.600  1.00  0.00           N  
ATOM   3817  CA  SER F  16      48.300  79.100  53.500  1.00  0.00           C  
ATOM   3818  CB  SER F  16      49.800  79.300  53.800  1.00  0.00           C  
ATOM   3819  OG  SER F  16      50.000  79.600  55.100  1.00  0.00           O  
ATOM   3820  C   SER F  16      47.900  78.600  52.100  1.00  0.00           C  
ATOM   3821  O   SER F  16      48.700  78.600  51.200  1.00  0.00           O  
ATOM   3822  N   LYS F  17      46.700  78.400  51.900  1.00  0.00           N  
ATOM   3823  CA  LYS F  17      46.000  78.100  50.600  1.00  0.00           C  
ATOM   3824  CB  LYS F  17      46.000  79.300  49.700  1.00  0.00           C  
ATOM   3825  CG  LYS F  17      44.700  79.400  48.800  1.00  0.00           C  
ATOM   3826  CD  LYS F  17      44.900  80.500  47.700  1.00  0.00           C  
ATOM   3827  CE  LYS F  17      43.800  80.500  46.600  1.00  0.00           C  
ATOM   3828  NZ  LYS F  17      44.100  81.400  45.500  1.00  0.00           N1+
ATOM   3829  C   LYS F  17      46.500  76.800  50.000  1.00  0.00           C  
ATOM   3830  O   LYS F  17      46.500  76.600  48.700  1.00  0.00           O  
ATOM   3831  N   LYS F  18      47.100  75.800  50.800  1.00  0.00           N  
ATOM   3832  CA  LYS F  18      47.400  74.500  50.600  1.00  0.00           C  
ATOM   3833  CB  LYS F  18      47.400  73.600  51.800  1.00  0.00           C  
ATOM   3834  CG  LYS F  18      47.900  72.200  51.600  1.00  0.00           C  
ATOM   3835  CD  LYS F  18      49.500  72.200  51.500  1.00  0.00           C  
ATOM   3836  CE  LYS F  18      50.000  70.800  51.300  1.00  0.00           C  
ATOM   3837  NZ  LYS F  18      51.500  70.900  51.100  1.00  0.00           N1+
ATOM   3838  C   LYS F  18      46.300  73.900  49.600  1.00  0.00           C  
ATOM   3839  O   LYS F  18      45.200  73.900  49.900  1.00  0.00           O  
ATOM   3840  N   GLU F  19      46.800  73.400  48.400  1.00  0.00           N  
ATOM   3841  CA  GLU F  19      46.000  72.800  47.400  1.00  0.00           C  
ATOM   3842  CB  GLU F  19      46.700  72.600  46.200  1.00  0.00           C  
ATOM   3843  CG  GLU F  19      46.900  73.900  45.300  1.00  0.00           C  
ATOM   3844  CD  GLU F  19      47.700  73.600  44.100  1.00  0.00           C  
ATOM   3845  OE1 GLU F  19      48.700  72.900  44.100  1.00  0.00           O  
ATOM   3846  OE2 GLU F  19      47.600  74.300  43.000  1.00  0.00           O1-
ATOM   3847  C   GLU F  19      45.200  71.600  47.800  1.00  0.00           C  
ATOM   3848  O   GLU F  19      45.600  70.800  48.800  1.00  0.00           O  
ATOM   3849  N   ILE F  20      44.100  71.400  47.100  1.00  0.00           N  
ATOM   3850  CA  ILE F  20      43.300  70.300  47.400  1.00  0.00           C  
ATOM   3851  CB  ILE F  20      41.900  70.500  46.600  1.00  0.00           C  
ATOM   3852  CG2 ILE F  20      42.200  70.200  45.100  1.00  0.00           C  
ATOM   3853  CG1 ILE F  20      40.700  69.700  47.100  1.00  0.00           C  
ATOM   3854  CD  ILE F  20      40.200  70.100  48.500  1.00  0.00           C  
ATOM   3855  C   ILE F  20      43.800  68.800  47.400  1.00  0.00           C  
ATOM   3856  O   ILE F  20      43.600  67.900  48.000  1.00  0.00           O  
ATOM   3857  N   ALA F  21      44.800  68.800  46.300  1.00  0.00           N  
ATOM   3858  CA  ALA F  21      45.500  67.600  46.200  1.00  0.00           C  
ATOM   3859  CB  ALA F  21      46.000  67.600  44.700  1.00  0.00           C  
ATOM   3860  C   ALA F  21      46.800  67.600  47.100  1.00  0.00           C  
ATOM   3861  O   ALA F  21      47.000  66.500  47.600  1.00  0.00           O  
ATOM   3862  N   THR F  22      47.400  68.600  47.300  1.00  0.00           N  
ATOM   3863  CA  THR F  22      48.600  68.500  48.300  1.00  0.00           C  
ATOM   3864  CB  THR F  22      49.600  69.700  48.000  1.00  0.00           C  
ATOM   3865  CG2 THR F  22      50.300  69.700  46.700  1.00  0.00           C  
ATOM   3866  OG1 THR F  22      48.800  71.000  48.100  1.00  0.00           O  
ATOM   3867  C   THR F  22      48.100  68.400  49.600  1.00  0.00           C  
ATOM   3868  O   THR F  22      48.900  68.100  50.500  1.00  0.00           O  
ATOM   3869  N   PHE F  23      46.900  68.800  50.000  1.00  0.00           N  
ATOM   3870  CA  PHE F  23      46.400  68.400  51.400  1.00  0.00           C  
ATOM   3871  CB  PHE F  23      45.000  69.100  51.400  1.00  0.00           C  
ATOM   3872  CG  PHE F  23      44.400  69.200  52.900  1.00  0.00           C  
ATOM   3873  CD1 PHE F  23      44.500  70.400  53.500  1.00  0.00           C  
ATOM   3874  CE1 PHE F  23      43.800  70.600  54.800  1.00  0.00           C  
ATOM   3875  CZ  PHE F  23      43.300  69.400  55.400  1.00  0.00           C  
ATOM   3876  CE2 PHE F  23      43.300  68.200  54.800  1.00  0.00           C  
ATOM   3877  CD2 PHE F  23      44.000  68.100  53.500  1.00  0.00           C  
ATOM   3878  C   PHE F  23      46.400  66.900  51.500  1.00  0.00           C  
ATOM   3879  O   PHE F  23      46.700  66.600  52.700  1.00  0.00           O  
ATOM   3880  N   LEU F  24      46.100  66.000  50.600  1.00  0.00           N  
ATOM   3881  CA  LEU F  24      46.300  64.600  50.700  1.00  0.00           C  
ATOM   3882  CB  LEU F  24      45.100  63.900  50.000  1.00  0.00           C  
ATOM   3883  CG  LEU F  24      43.800  64.300  50.700  1.00  0.00           C  
ATOM   3884  CD1 LEU F  24      42.600  63.800  49.800  1.00  0.00           C  
ATOM   3885  CD2 LEU F  24      43.500  63.600  52.000  1.00  0.00           C  
ATOM   3886  C   LEU F  24      47.600  64.100  50.400  1.00  0.00           C  
ATOM   3887  O   LEU F  24      47.700  63.100  49.600  1.00  0.00           O  
ATOM   3888  N   GLU F  25      48.700  64.800  50.700  1.00  0.00           N  
ATOM   3889  CA  GLU F  25      50.100  64.400  50.500  1.00  0.00           C  
ATOM   3890  CB  GLU F  25      50.900  64.900  49.300  1.00  0.00           C  
ATOM   3891  CG  GLU F  25      50.300  64.500  48.000  1.00  0.00           C  
ATOM   3892  CD  GLU F  25      50.600  63.000  47.600  1.00  0.00           C  
ATOM   3893  OE1 GLU F  25      49.900  62.600  46.600  1.00  0.00           O  
ATOM   3894  OE2 GLU F  25      51.500  62.300  48.100  1.00  0.00           O1-
ATOM   3895  C   GLU F  25      50.900  64.600  51.800  1.00  0.00           C  
ATOM   3896  O   GLU F  25      50.900  65.800  52.200  1.00  0.00           O  
ATOM   3897  N   GLY F  26      51.600  63.700  52.400  1.00  0.00           N  
ATOM   3898  CA  GLY F  26      52.500  64.000  53.500  1.00  0.00           C  
ATOM   3899  C   GLY F  26      53.200  62.800  54.000  1.00  0.00           C  
ATOM   3900  O   GLY F  26      52.800  62.000  54.800  1.00  0.00           O  
ATOM   3901  N   GLU F  27      54.300  62.500  53.400  1.00  0.00           N  
ATOM   3902  CA  GLU F  27      55.200  61.300  53.800  1.00  0.00           C  
ATOM   3903  CB  GLU F  27      56.200  60.800  52.700  1.00  0.00           C  
ATOM   3904  CG  GLU F  27      55.400  60.400  51.500  1.00  0.00           C  
ATOM   3905  CD  GLU F  27      54.400  59.300  51.800  1.00  0.00           C  
ATOM   3906  OE1 GLU F  27      53.300  59.300  51.200  1.00  0.00           O  
ATOM   3907  OE2 GLU F  27      54.600  58.300  52.500  1.00  0.00           O1-
ATOM   3908  C   GLU F  27      55.800  61.600  55.200  1.00  0.00           C  
ATOM   3909  O   GLU F  27      56.200  60.700  55.900  1.00  0.00           O  
ATOM   3910  N   ASN F  28      56.000  62.900  55.600  1.00  0.00           N  
ATOM   3911  CA  ASN F  28      56.400  63.300  56.900  1.00  0.00           C  
ATOM   3912  CB  ASN F  28      56.800  64.800  56.900  1.00  0.00           C  
ATOM   3913  CG  ASN F  28      58.100  65.000  56.100  1.00  0.00           C  
ATOM   3914  OD1 ASN F  28      58.800  64.200  55.600  1.00  0.00           O  
ATOM   3915  ND2 ASN F  28      58.400  66.300  56.100  1.00  0.00           N  
ATOM   3916  C   ASN F  28      55.200  63.000  57.900  1.00  0.00           C  
ATOM   3917  O   ASN F  28      55.400  62.200  58.800  1.00  0.00           O  
ATOM   3918  N   SER F  29      54.000  63.400  57.600  1.00  0.00           N  
ATOM   3919  CA  SER F  29      52.800  63.300  58.400  1.00  0.00           C  
ATOM   3920  CB  SER F  29      51.600  63.900  57.700  1.00  0.00           C  
ATOM   3921  OG  SER F  29      50.700  64.300  58.700  1.00  0.00           O  
ATOM   3922  C   SER F  29      52.500  61.800  58.700  1.00  0.00           C  
ATOM   3923  O   SER F  29      52.200  61.600  59.800  1.00  0.00           O  
ATOM   3924  N   LYS F  30      52.600  60.900  57.700  1.00  0.00           N  
ATOM   3925  CA  LYS F  30      52.300  59.500  57.800  1.00  0.00           C  
ATOM   3926  CB  LYS F  30      52.300  59.000  56.400  1.00  0.00           C  
ATOM   3927  CG  LYS F  30      51.100  59.200  55.500  1.00  0.00           C  
ATOM   3928  CD  LYS F  30      51.300  58.800  54.100  1.00  0.00           C  
ATOM   3929  CE  LYS F  30      51.500  57.300  53.900  1.00  0.00           C  
ATOM   3930  NZ  LYS F  30      51.900  57.100  52.600  1.00  0.00           N1+
ATOM   3931  C   LYS F  30      53.400  58.800  58.500  1.00  0.00           C  
ATOM   3932  O   LYS F  30      53.100  57.800  59.100  1.00  0.00           O  
ATOM   3933  N   GLN F  31      54.600  59.400  58.800  1.00  0.00           N  
ATOM   3934  CA  GLN F  31      55.600  58.900  59.700  1.00  0.00           C  
ATOM   3935  CB  GLN F  31      56.900  59.200  59.200  1.00  0.00           C  
ATOM   3936  CG  GLN F  31      57.200  58.600  57.900  1.00  0.00           C  
ATOM   3937  CD  GLN F  31      57.600  57.100  58.100  1.00  0.00           C  
ATOM   3938  OE1 GLN F  31      56.800  56.300  58.600  1.00  0.00           O  
ATOM   3939  NE2 GLN F  31      58.900  56.800  57.800  1.00  0.00           N  
ATOM   3940  C   GLN F  31      55.300  59.500  61.200  1.00  0.00           C  
ATOM   3941  O   GLN F  31      55.200  58.600  62.100  1.00  0.00           O  
ATOM   3942  N   LYS F  32      55.100  60.900  61.400  1.00  0.00           N  
ATOM   3943  CA  LYS F  32      55.000  61.400  62.700  1.00  0.00           C  
ATOM   3944  CB  LYS F  32      54.700  62.900  62.600  1.00  0.00           C  
ATOM   3945  CG  LYS F  32      55.800  63.800  62.000  1.00  0.00           C  
ATOM   3946  CD  LYS F  32      55.200  65.100  61.500  1.00  0.00           C  
ATOM   3947  CE  LYS F  32      56.300  66.000  60.900  1.00  0.00           C  
ATOM   3948  NZ  LYS F  32      55.700  67.400  60.800  1.00  0.00           N1+
ATOM   3949  C   LYS F  32      53.900  60.700  63.500  1.00  0.00           C  
ATOM   3950  O   LYS F  32      54.300  60.200  64.600  1.00  0.00           O  
ATOM   3951  N   VAL F  33      52.700  60.600  63.000  1.00  0.00           N  
ATOM   3952  CA  VAL F  33      51.600  59.900  63.600  1.00  0.00           C  
ATOM   3953  CB  VAL F  33      50.300  60.100  62.800  1.00  0.00           C  
ATOM   3954  CG1 VAL F  33      49.900  61.500  62.500  1.00  0.00           C  
ATOM   3955  CG2 VAL F  33      50.200  59.300  61.400  1.00  0.00           C  
ATOM   3956  C   VAL F  33      51.900  58.500  64.100  1.00  0.00           C  
ATOM   3957  O   VAL F  33      51.000  58.100  64.900  1.00  0.00           O  
ATOM   3958  N   GLN F  34      53.000  58.000  63.800  1.00  0.00           N  
ATOM   3959  CA  GLN F  34      53.400  56.700  64.200  1.00  0.00           C  
ATOM   3960  CB  GLN F  34      53.400  55.500  63.100  1.00  0.00           C  
ATOM   3961  CG  GLN F  34      54.000  55.900  61.800  1.00  0.00           C  
ATOM   3962  CD  GLN F  34      53.700  54.900  60.700  1.00  0.00           C  
ATOM   3963  OE1 GLN F  34      53.100  53.900  60.800  1.00  0.00           O  
ATOM   3964  NE2 GLN F  34      54.400  55.100  59.500  1.00  0.00           N  
ATOM   3965  C   GLN F  34      54.800  56.700  64.900  1.00  0.00           C  
ATOM   3966  O   GLN F  34      54.800  56.200  66.000  1.00  0.00           O  
ATOM   3967  N   MET F  35      55.800  57.400  64.400  1.00  0.00           N  
ATOM   3968  CA  MET F  35      57.100  57.700  64.900  1.00  0.00           C  
ATOM   3969  CB  MET F  35      57.900  58.600  63.900  1.00  0.00           C  
ATOM   3970  CG  MET F  35      58.500  57.800  62.700  1.00  0.00           C  
ATOM   3971  SD  MET F  35      59.800  58.900  61.900  1.00  0.00           S  
ATOM   3972  CE  MET F  35      60.600  57.700  60.800  1.00  0.00           C  
ATOM   3973  C   MET F  35      57.100  58.400  66.200  1.00  0.00           C  
ATOM   3974  O   MET F  35      57.900  58.000  67.100  1.00  0.00           O  
ATOM   3975  N   SER F  36      56.200  59.500  66.300  1.00  0.00           N  
ATOM   3976  CA  SER F  36      56.000  60.000  67.600  1.00  0.00           C  
ATOM   3977  CB  SER F  36      55.100  61.300  67.600  1.00  0.00           C  
ATOM   3978  OG  SER F  36      53.800  61.200  67.100  1.00  0.00           O  
ATOM   3979  C   SER F  36      55.300  59.200  68.700  1.00  0.00           C  
ATOM   3980  O   SER F  36      55.600  59.400  69.900  1.00  0.00           O  
ATOM   3981  N   ILE F  37      54.600  58.000  68.400  1.00  0.00           N  
ATOM   3982  CA  ILE F  37      54.200  57.000  69.300  1.00  0.00           C  
ATOM   3983  CB  ILE F  37      53.100  56.100  68.600  1.00  0.00           C  
ATOM   3984  CG2 ILE F  37      52.400  55.300  69.700  1.00  0.00           C  
ATOM   3985  CG1 ILE F  37      52.000  56.800  67.800  1.00  0.00           C  
ATOM   3986  CD  ILE F  37      51.200  57.800  68.300  1.00  0.00           C  
ATOM   3987  C   ILE F  37      55.200  56.400  70.000  1.00  0.00           C  
ATOM   3988  O   ILE F  37      55.100  56.000  71.200  1.00  0.00           O  
ATOM   3989  N   HIS F  38      56.300  56.000  69.200  1.00  0.00           N  
ATOM   3990  CA  HIS F  38      57.600  55.300  69.700  1.00  0.00           C  
ATOM   3991  CB  HIS F  38      58.400  55.000  68.600  1.00  0.00           C  
ATOM   3992  CG  HIS F  38      57.700  54.200  67.400  1.00  0.00           C  
ATOM   3993  ND1 HIS F  38      56.600  53.400  67.300  1.00  0.00           N  
ATOM   3994  CE1 HIS F  38      56.300  53.200  66.100  1.00  0.00           C  
ATOM   3995  NE2 HIS F  38      57.200  53.800  65.300  1.00  0.00           N  
ATOM   3996  CD2 HIS F  38      58.000  54.500  66.100  1.00  0.00           C  
ATOM   3997  C   HIS F  38      58.200  56.400  70.600  1.00  0.00           C  
ATOM   3998  O   HIS F  38      58.800  55.900  71.600  1.00  0.00           O  
ATOM   3999  N   GLN F  39      58.200  57.600  70.300  1.00  0.00           N  
ATOM   4000  CA  GLN F  39      58.800  58.600  71.100  1.00  0.00           C  
ATOM   4001  CB  GLN F  39      58.600  60.000  70.500  1.00  0.00           C  
ATOM   4002  CG  GLN F  39      59.600  61.000  71.000  1.00  0.00           C  
ATOM   4003  CD  GLN F  39      61.000  60.800  70.600  1.00  0.00           C  
ATOM   4004  OE1 GLN F  39      61.700  60.000  71.300  1.00  0.00           O  
ATOM   4005  NE2 GLN F  39      61.600  61.300  69.500  1.00  0.00           N  
ATOM   4006  C   GLN F  39      58.200  58.600  72.500  1.00  0.00           C  
ATOM   4007  O   GLN F  39      58.800  58.800  73.600  1.00  0.00           O  
ATOM   4008  N   PHE F  40      56.800  58.600  72.600  1.00  0.00           N  
ATOM   4009  CA  PHE F  40      56.000  58.700  73.800  1.00  0.00           C  
ATOM   4010  CB  PHE F  40      54.600  58.900  73.500  1.00  0.00           C  
ATOM   4011  CG  PHE F  40      54.200  60.300  72.800  1.00  0.00           C  
ATOM   4012  CD1 PHE F  40      53.500  60.400  71.700  1.00  0.00           C  
ATOM   4013  CE1 PHE F  40      53.300  61.700  71.100  1.00  0.00           C  
ATOM   4014  CZ  PHE F  40      53.900  62.900  71.600  1.00  0.00           C  
ATOM   4015  CE2 PHE F  40      54.500  62.700  72.900  1.00  0.00           C  
ATOM   4016  CD2 PHE F  40      54.800  61.400  73.500  1.00  0.00           C  
ATOM   4017  C   PHE F  40      56.100  57.300  74.600  1.00  0.00           C  
ATOM   4018  O   PHE F  40      56.300  57.400  75.800  1.00  0.00           O  
ATOM   4019  N   THR F  41      56.200  56.100  73.900  1.00  0.00           N  
ATOM   4020  CA  THR F  41      56.600  54.800  74.400  1.00  0.00           C  
ATOM   4021  CB  THR F  41      56.500  53.700  73.400  1.00  0.00           C  
ATOM   4022  CG2 THR F  41      56.700  52.300  74.100  1.00  0.00           C  
ATOM   4023  OG1 THR F  41      55.200  53.700  72.900  1.00  0.00           O  
ATOM   4024  C   THR F  41      58.000  54.800  75.000  1.00  0.00           C  
ATOM   4025  O   THR F  41      58.100  54.400  76.000  1.00  0.00           O  
ATOM   4026  N   ASN F  42      59.000  55.700  74.500  1.00  0.00           N  
ATOM   4027  CA  ASN F  42      60.400  55.700  75.000  1.00  0.00           C  
ATOM   4028  CB  ASN F  42      61.200  56.300  73.900  1.00  0.00           C  
ATOM   4029  CG  ASN F  42      62.600  56.300  74.300  1.00  0.00           C  
ATOM   4030  OD1 ASN F  42      63.000  55.100  74.600  1.00  0.00           O  
ATOM   4031  ND2 ASN F  42      63.400  57.400  74.500  1.00  0.00           N  
ATOM   4032  C   ASN F  42      60.500  56.700  76.200  1.00  0.00           C  
ATOM   4033  O   ASN F  42      61.300  56.400  77.100  1.00  0.00           O  
ATOM   4034  N   ILE F  43      59.500  57.600  76.300  1.00  0.00           N  
ATOM   4035  CA  ILE F  43      59.400  58.400  77.400  1.00  0.00           C  
ATOM   4036  CB  ILE F  43      58.500  59.700  77.200  1.00  0.00           C  
ATOM   4037  CG2 ILE F  43      58.300  60.500  78.500  1.00  0.00           C  
ATOM   4038  CG1 ILE F  43      59.200  60.500  76.100  1.00  0.00           C  
ATOM   4039  CD  ILE F  43      58.100  61.500  75.500  1.00  0.00           C  
ATOM   4040  C   ILE F  43      58.700  57.600  78.600  1.00  0.00           C  
ATOM   4041  O   ILE F  43      59.100  57.600  79.700  1.00  0.00           O  
ATOM   4042  N   CYS F  44      57.600  56.800  78.300  1.00  0.00           N  
ATOM   4043  CA  CYS F  44      56.800  56.200  79.300  1.00  0.00           C  
ATOM   4044  CB  CYS F  44      55.400  56.400  78.800  1.00  0.00           C  
ATOM   4045  SG  CYS F  44      54.900  58.000  78.600  1.00  0.00           S  
ATOM   4046  C   CYS F  44      57.300  54.800  79.800  1.00  0.00           C  
ATOM   4047  O   CYS F  44      57.200  54.600  81.000  1.00  0.00           O  
ATOM   4048  N   PHE F  45      58.000  54.100  79.000  1.00  0.00           N  
ATOM   4049  CA  PHE F  45      58.700  52.800  79.400  1.00  0.00           C  
ATOM   4050  CB  PHE F  45      59.200  52.100  78.200  1.00  0.00           C  
ATOM   4051  CG  PHE F  45      59.900  50.800  78.500  1.00  0.00           C  
ATOM   4052  CD1 PHE F  45      59.200  49.500  78.300  1.00  0.00           C  
ATOM   4053  CE1 PHE F  45      59.700  48.300  78.600  1.00  0.00           C  
ATOM   4054  CZ  PHE F  45      61.000  48.300  79.200  1.00  0.00           C  
ATOM   4055  CE2 PHE F  45      61.800  49.400  79.300  1.00  0.00           C  
ATOM   4056  CD2 PHE F  45      61.200  50.600  79.100  1.00  0.00           C  
ATOM   4057  C   PHE F  45      59.600  53.200  80.500  1.00  0.00           C  
ATOM   4058  O   PHE F  45      59.700  52.600  81.500  1.00  0.00           O  
ATOM   4059  N   LYS F  46      60.600  54.100  80.200  1.00  0.00           N  
ATOM   4060  CA  LYS F  46      61.600  54.700  81.100  1.00  0.00           C  
ATOM   4061  CB  LYS F  46      62.500  55.700  80.400  1.00  0.00           C  
ATOM   4062  CG  LYS F  46      63.300  55.200  79.300  1.00  0.00           C  
ATOM   4063  CD  LYS F  46      64.200  56.400  78.700  1.00  0.00           C  
ATOM   4064  CE  LYS F  46      64.700  56.000  77.300  1.00  0.00           C  
ATOM   4065  NZ  LYS F  46      65.800  56.900  77.100  1.00  0.00           N1+
ATOM   4066  C   LYS F  46      61.100  55.000  82.400  1.00  0.00           C  
ATOM   4067  O   LYS F  46      61.600  54.800  83.500  1.00  0.00           O  
ATOM   4068  N   LYS F  47      59.900  55.700  82.500  1.00  0.00           N  
ATOM   4069  CA  LYS F  47      59.200  56.300  83.500  1.00  0.00           C  
ATOM   4070  CB  LYS F  47      58.400  57.500  83.100  1.00  0.00           C  
ATOM   4071  CG  LYS F  47      59.300  58.700  82.800  1.00  0.00           C  
ATOM   4072  CD  LYS F  47      60.000  59.200  84.000  1.00  0.00           C  
ATOM   4073  CE  LYS F  47      60.900  60.300  83.700  1.00  0.00           C  
ATOM   4074  NZ  LYS F  47      62.100  59.800  83.000  1.00  0.00           N1+
ATOM   4075  C   LYS F  47      58.300  55.400  84.300  1.00  0.00           C  
ATOM   4076  O   LYS F  47      57.800  55.800  85.500  1.00  0.00           O  
ATOM   4077  N   CYS F  48      57.800  54.300  83.800  1.00  0.00           N  
ATOM   4078  CA  CYS F  48      56.800  53.400  84.300  1.00  0.00           C  
ATOM   4079  CB  CYS F  48      55.700  53.200  83.400  1.00  0.00           C  
ATOM   4080  SG  CYS F  48      54.800  54.800  83.200  1.00  0.00           S  
ATOM   4081  C   CYS F  48      57.400  52.000  84.600  1.00  0.00           C  
ATOM   4082  O   CYS F  48      56.900  51.200  85.500  1.00  0.00           O  
ATOM   4083  N   VAL F  49      58.500  51.600  83.900  1.00  0.00           N  
ATOM   4084  CA  VAL F  49      58.800  50.200  83.900  1.00  0.00           C  
ATOM   4085  CB  VAL F  49      58.700  49.600  82.500  1.00  0.00           C  
ATOM   4086  CG1 VAL F  49      59.100  48.100  82.700  1.00  0.00           C  
ATOM   4087  CG2 VAL F  49      57.300  49.600  82.000  1.00  0.00           C  
ATOM   4088  C   VAL F  49      60.300  50.100  84.400  1.00  0.00           C  
ATOM   4089  O   VAL F  49      61.200  50.700  84.000  1.00  0.00           O  
ATOM   4090  N   GLU F  50      60.600  49.100  85.300  1.00  0.00           N  
ATOM   4091  CA  GLU F  50      61.800  48.700  86.000  1.00  0.00           C  
ATOM   4092  CB  GLU F  50      61.700  49.000  87.500  1.00  0.00           C  
ATOM   4093  CG  GLU F  50      61.100  50.200  87.900  1.00  0.00           C  
ATOM   4094  CD  GLU F  50      61.100  50.500  89.400  1.00  0.00           C  
ATOM   4095  OE1 GLU F  50      62.000  50.300  90.100  1.00  0.00           O  
ATOM   4096  OE2 GLU F  50      60.200  51.300  89.900  1.00  0.00           O1-
ATOM   4097  C   GLU F  50      62.100  47.300  85.800  1.00  0.00           C  
ATOM   4098  O   GLU F  50      63.200  46.800  86.000  1.00  0.00           O  
ATOM   4099  N   SER F  51      61.000  46.400  85.600  1.00  0.00           N  
ATOM   4100  CA  SER F  51      61.000  45.000  85.400  1.00  0.00           C  
ATOM   4101  CB  SER F  51      60.200  44.300  86.500  1.00  0.00           C  
ATOM   4102  OG  SER F  51      58.800  44.400  86.300  1.00  0.00           O  
ATOM   4103  C   SER F  51      60.700  44.400  84.000  1.00  0.00           C  
ATOM   4104  O   SER F  51      60.100  45.100  83.300  1.00  0.00           O  
ATOM   4105  N   VAL F  52      61.400  43.300  83.600  1.00  0.00           N  
ATOM   4106  CA  VAL F  52      61.300  42.800  82.200  1.00  0.00           C  
ATOM   4107  CB  VAL F  52      62.400  43.300  81.400  1.00  0.00           C  
ATOM   4108  CG1 VAL F  52      62.100  44.800  80.900  1.00  0.00           C  
ATOM   4109  CG2 VAL F  52      63.800  43.300  82.100  1.00  0.00           C  
ATOM   4110  C   VAL F  52      61.300  41.200  82.300  1.00  0.00           C  
ATOM   4111  O   VAL F  52      61.900  40.500  81.500  1.00  0.00           O  
ATOM   4112  N   ASN F  53      60.500  40.700  83.300  1.00  0.00           N  
ATOM   4113  CA  ASN F  53      60.500  39.300  83.700  1.00  0.00           C  
ATOM   4114  CB  ASN F  53      60.700  39.200  85.200  1.00  0.00           C  
ATOM   4115  CG  ASN F  53      61.800  40.100  85.800  1.00  0.00           C  
ATOM   4116  OD1 ASN F  53      61.700  40.900  86.800  1.00  0.00           O  
ATOM   4117  ND2 ASN F  53      63.000  39.800  85.300  1.00  0.00           N  
ATOM   4118  C   ASN F  53      59.200  38.600  83.300  1.00  0.00           C  
ATOM   4119  O   ASN F  53      59.200  37.400  83.000  1.00  0.00           O  
ATOM   4120  N   ASP F  54      58.200  39.400  83.000  1.00  0.00           N  
ATOM   4121  CA  ASP F  54      56.800  39.000  82.500  1.00  0.00           C  
ATOM   4122  CB  ASP F  54      55.700  38.900  83.500  1.00  0.00           C  
ATOM   4123  CG  ASP F  54      54.400  38.400  83.100  1.00  0.00           C  
ATOM   4124  OD1 ASP F  54      54.300  38.100  81.800  1.00  0.00           O  
ATOM   4125  OD2 ASP F  54      53.600  38.100  84.000  1.00  0.00           O1-
ATOM   4126  C   ASP F  54      56.500  40.000  81.400  1.00  0.00           C  
ATOM   4127  O   ASP F  54      56.600  41.200  81.500  1.00  0.00           O  
ATOM   4128  N   SER F  55      56.000  39.500  80.200  1.00  0.00           N  
ATOM   4129  CA  SER F  55      55.400  40.300  79.100  1.00  0.00           C  
ATOM   4130  CB  SER F  55      55.200  39.400  77.900  1.00  0.00           C  
ATOM   4131  OG  SER F  55      54.500  38.200  78.300  1.00  0.00           O  
ATOM   4132  C   SER F  55      54.200  41.100  79.500  1.00  0.00           C  
ATOM   4133  O   SER F  55      53.800  42.000  78.800  1.00  0.00           O  
ATOM   4134  N   ASN F  56      53.400  40.600  80.500  1.00  0.00           N  
ATOM   4135  CA  ASN F  56      52.200  41.300  81.000  1.00  0.00           C  
ATOM   4136  CB  ASN F  56      51.400  40.200  81.700  1.00  0.00           C  
ATOM   4137  CG  ASN F  56      51.200  39.000  80.800  1.00  0.00           C  
ATOM   4138  OD1 ASN F  56      50.200  39.100  80.000  1.00  0.00           O  
ATOM   4139  ND2 ASN F  56      51.700  37.700  81.000  1.00  0.00           N  
ATOM   4140  C   ASN F  56      52.400  42.500  81.800  1.00  0.00           C  
ATOM   4141  O   ASN F  56      53.400  42.600  82.500  1.00  0.00           O  
ATOM   4142  N   LEU F  57      51.600  43.500  81.700  1.00  0.00           N  
ATOM   4143  CA  LEU F  57      51.800  44.700  82.400  1.00  0.00           C  
ATOM   4144  CB  LEU F  57      51.200  45.900  81.800  1.00  0.00           C  
ATOM   4145  CG  LEU F  57      51.800  46.300  80.400  1.00  0.00           C  
ATOM   4146  CD1 LEU F  57      51.000  47.400  79.700  1.00  0.00           C  
ATOM   4147  CD2 LEU F  57      53.300  46.900  80.600  1.00  0.00           C  
ATOM   4148  C   LEU F  57      51.200  44.500  83.900  1.00  0.00           C  
ATOM   4149  O   LEU F  57      50.100  44.000  84.100  1.00  0.00           O  
ATOM   4150  N   SER F  58      51.800  45.200  84.900  1.00  0.00           N  
ATOM   4151  CA  SER F  58      51.200  45.300  86.200  1.00  0.00           C  
ATOM   4152  CB  SER F  58      52.300  45.500  87.200  1.00  0.00           C  
ATOM   4153  OG  SER F  58      52.600  46.900  87.400  1.00  0.00           O  
ATOM   4154  C   SER F  58      50.200  46.500  86.200  1.00  0.00           C  
ATOM   4155  O   SER F  58      50.100  47.300  85.300  1.00  0.00           O  
ATOM   4156  N   SER F  59      49.400  46.500  87.300  1.00  0.00           N  
ATOM   4157  CA  SER F  59      48.400  47.400  87.400  1.00  0.00           C  
ATOM   4158  CB  SER F  59      47.400  47.200  88.600  1.00  0.00           C  
ATOM   4159  OG  SER F  59      47.500  45.900  89.000  1.00  0.00           O  
ATOM   4160  C   SER F  59      49.000  48.900  87.500  1.00  0.00           C  
ATOM   4161  O   SER F  59      48.400  49.900  87.000  1.00  0.00           O  
ATOM   4162  N   GLN F  60      50.000  48.900  88.200  1.00  0.00           N  
ATOM   4163  CA  GLN F  60      50.800  50.200  88.300  1.00  0.00           C  
ATOM   4164  CB  GLN F  60      51.900  50.000  89.200  1.00  0.00           C  
ATOM   4165  CG  GLN F  60      52.600  51.300  89.800  1.00  0.00           C  
ATOM   4166  CD  GLN F  60      53.600  51.100  90.800  1.00  0.00           C  
ATOM   4167  OE1 GLN F  60      53.600  50.200  91.700  1.00  0.00           O  
ATOM   4168  NE2 GLN F  60      54.800  51.700  90.700  1.00  0.00           N  
ATOM   4169  C   GLN F  60      51.400  50.700  86.900  1.00  0.00           C  
ATOM   4170  O   GLN F  60      51.200  51.800  86.600  1.00  0.00           O  
ATOM   4171  N   GLU F  61      51.900  49.700  86.200  1.00  0.00           N  
ATOM   4172  CA  GLU F  61      52.500  50.000  84.800  1.00  0.00           C  
ATOM   4173  CB  GLU F  61      53.300  48.800  84.200  1.00  0.00           C  
ATOM   4174  CG  GLU F  61      54.500  48.500  85.100  1.00  0.00           C  
ATOM   4175  CD  GLU F  61      55.200  47.100  84.800  1.00  0.00           C  
ATOM   4176  OE1 GLU F  61      54.500  46.300  84.200  1.00  0.00           O  
ATOM   4177  OE2 GLU F  61      56.300  46.900  85.100  1.00  0.00           O1-
ATOM   4178  C   GLU F  61      51.500  50.500  83.900  1.00  0.00           C  
ATOM   4179  O   GLU F  61      51.600  51.500  83.200  1.00  0.00           O  
ATOM   4180  N   GLU F  62      50.300  49.800  83.700  1.00  0.00           N  
ATOM   4181  CA  GLU F  62      49.300  50.200  82.800  1.00  0.00           C  
ATOM   4182  CB  GLU F  62      48.300  49.000  82.500  1.00  0.00           C  
ATOM   4183  CG  GLU F  62      47.400  48.600  83.700  1.00  0.00           C  
ATOM   4184  CD  GLU F  62      46.400  47.500  83.500  1.00  0.00           C  
ATOM   4185  OE1 GLU F  62      46.700  46.600  82.600  1.00  0.00           O  
ATOM   4186  OE2 GLU F  62      45.500  47.400  84.300  1.00  0.00           O1-
ATOM   4187  C   GLU F  62      48.600  51.500  83.100  1.00  0.00           C  
ATOM   4188  O   GLU F  62      48.100  52.100  82.200  1.00  0.00           O  
ATOM   4189  N   GLN F  63      48.400  51.700  84.300  1.00  0.00           N  
ATOM   4190  CA  GLN F  63      47.900  53.100  84.700  1.00  0.00           C  
ATOM   4191  CB  GLN F  63      47.200  53.000  86.200  1.00  0.00           C  
ATOM   4192  CG  GLN F  63      46.400  54.200  86.600  1.00  0.00           C  
ATOM   4193  CD  GLN F  63      45.900  53.900  88.000  1.00  0.00           C  
ATOM   4194  OE1 GLN F  63      45.900  52.900  88.700  1.00  0.00           O  
ATOM   4195  NE2 GLN F  63      45.200  55.000  88.400  1.00  0.00           N  
ATOM   4196  C   GLN F  63      48.900  54.100  84.400  1.00  0.00           C  
ATOM   4197  O   GLN F  63      48.600  55.000  83.700  1.00  0.00           O  
ATOM   4198  N   CYS F  64      50.100  53.800  84.800  1.00  0.00           N  
ATOM   4199  CA  CYS F  64      51.200  54.800  84.600  1.00  0.00           C  
ATOM   4200  CB  CYS F  64      52.500  54.200  85.200  1.00  0.00           C  
ATOM   4201  SG  CYS F  64      53.900  55.200  85.000  1.00  0.00           S  
ATOM   4202  C   CYS F  64      51.400  55.000  83.100  1.00  0.00           C  
ATOM   4203  O   CYS F  64      51.300  56.100  82.700  1.00  0.00           O  
ATOM   4204  N   LEU F  65      51.200  54.000  82.200  1.00  0.00           N  
ATOM   4205  CA  LEU F  65      51.400  54.200  80.800  1.00  0.00           C  
ATOM   4206  CB  LEU F  65      51.500  52.700  80.100  1.00  0.00           C  
ATOM   4207  CG  LEU F  65      53.000  52.200  80.300  1.00  0.00           C  
ATOM   4208  CD1 LEU F  65      53.000  50.700  80.100  1.00  0.00           C  
ATOM   4209  CD2 LEU F  65      53.800  52.900  79.200  1.00  0.00           C  
ATOM   4210  C   LEU F  65      50.300  54.900  80.100  1.00  0.00           C  
ATOM   4211  O   LEU F  65      50.600  55.900  79.400  1.00  0.00           O  
ATOM   4212  N   SER F  66      49.000  54.600  80.300  1.00  0.00           N  
ATOM   4213  CA  SER F  66      47.800  55.300  79.900  1.00  0.00           C  
ATOM   4214  CB  SER F  66      46.500  54.500  80.100  1.00  0.00           C  
ATOM   4215  OG  SER F  66      46.500  54.200  81.500  1.00  0.00           O  
ATOM   4216  C   SER F  66      47.800  56.800  80.400  1.00  0.00           C  
ATOM   4217  O   SER F  66      47.300  57.600  79.700  1.00  0.00           O  
ATOM   4218  N   ASN F  67      48.100  57.100  81.600  1.00  0.00           N  
ATOM   4219  CA  ASN F  67      48.300  58.400  82.100  1.00  0.00           C  
ATOM   4220  CB  ASN F  67      48.200  58.400  83.600  1.00  0.00           C  
ATOM   4221  CG  ASN F  67      47.000  57.900  84.300  1.00  0.00           C  
ATOM   4222  OD1 ASN F  67      46.000  57.500  83.700  1.00  0.00           O  
ATOM   4223  ND2 ASN F  67      46.900  57.700  85.600  1.00  0.00           N  
ATOM   4224  C   ASN F  67      49.500  59.100  81.600  1.00  0.00           C  
ATOM   4225  O   ASN F  67      49.300  60.300  81.200  1.00  0.00           O  
ATOM   4226  N   CYS F  68      50.700  58.500  81.600  1.00  0.00           N  
ATOM   4227  CA  CYS F  68      51.900  59.200  81.100  1.00  0.00           C  
ATOM   4228  CB  CYS F  68      53.100  58.200  81.100  1.00  0.00           C  
ATOM   4229  SG  CYS F  68      54.700  58.800  80.500  1.00  0.00           S  
ATOM   4230  C   CYS F  68      51.800  59.900  79.700  1.00  0.00           C  
ATOM   4231  O   CYS F  68      52.100  61.000  79.500  1.00  0.00           O  
ATOM   4232  N   VAL F  69      51.300  59.100  78.700  1.00  0.00           N  
ATOM   4233  CA  VAL F  69      51.000  59.800  77.400  1.00  0.00           C  
ATOM   4234  CB  VAL F  69      50.800  58.700  76.300  1.00  0.00           C  
ATOM   4235  CG1 VAL F  69      49.700  57.700  76.500  1.00  0.00           C  
ATOM   4236  CG2 VAL F  69      50.500  59.400  75.000  1.00  0.00           C  
ATOM   4237  C   VAL F  69      49.900  60.700  77.400  1.00  0.00           C  
ATOM   4238  O   VAL F  69      50.000  61.800  76.800  1.00  0.00           O  
ATOM   4239  N   ASN F  70      48.900  60.600  78.200  1.00  0.00           N  
ATOM   4240  CA  ASN F  70      47.800  61.500  78.500  1.00  0.00           C  
ATOM   4241  CB  ASN F  70      46.700  60.900  79.300  1.00  0.00           C  
ATOM   4242  CG  ASN F  70      45.700  62.100  79.600  1.00  0.00           C  
ATOM   4243  OD1 ASN F  70      45.100  62.600  78.600  1.00  0.00           O  
ATOM   4244  ND2 ASN F  70      45.500  62.700  80.900  1.00  0.00           N  
ATOM   4245  C   ASN F  70      48.400  62.800  79.000  1.00  0.00           C  
ATOM   4246  O   ASN F  70      48.200  63.700  78.400  1.00  0.00           O  
ATOM   4247  N   ARG F  71      49.100  62.700  80.200  1.00  0.00           N  
ATOM   4248  CA  ARG F  71      49.700  63.900  80.700  1.00  0.00           C  
ATOM   4249  CB  ARG F  71      50.300  63.400  82.100  1.00  0.00           C  
ATOM   4250  CG  ARG F  71      50.600  64.500  83.100  1.00  0.00           C  
ATOM   4251  CD  ARG F  71      49.500  65.500  83.500  1.00  0.00           C  
ATOM   4252  NE  ARG F  71      48.500  64.700  84.200  1.00  0.00           N  
ATOM   4253  CZ  ARG F  71      47.200  64.700  84.300  1.00  0.00           C  
ATOM   4254  NH1 ARG F  71      46.500  65.900  84.200  1.00  0.00           N1+
ATOM   4255  NH2 ARG F  71      46.500  63.600  84.700  1.00  0.00           N  
ATOM   4256  C   ARG F  71      50.800  64.700  79.900  1.00  0.00           C  
ATOM   4257  O   ARG F  71      50.800  65.900  80.100  1.00  0.00           O  
ATOM   4258  N   PHE F  72      51.600  63.900  79.300  1.00  0.00           N  
ATOM   4259  CA  PHE F  72      52.400  64.400  78.300  1.00  0.00           C  
ATOM   4260  CB  PHE F  72      53.400  63.300  77.700  1.00  0.00           C  
ATOM   4261  CG  PHE F  72      54.600  64.100  76.900  1.00  0.00           C  
ATOM   4262  CD1 PHE F  72      54.400  64.700  75.700  1.00  0.00           C  
ATOM   4263  CE1 PHE F  72      55.300  65.500  75.100  1.00  0.00           C  
ATOM   4264  CZ  PHE F  72      56.500  65.600  75.800  1.00  0.00           C  
ATOM   4265  CE2 PHE F  72      56.900  64.900  77.000  1.00  0.00           C  
ATOM   4266  CD2 PHE F  72      55.800  64.100  77.600  1.00  0.00           C  
ATOM   4267  C   PHE F  72      51.700  65.000  77.100  1.00  0.00           C  
ATOM   4268  O   PHE F  72      51.900  66.200  76.900  1.00  0.00           O  
ATOM   4269  N   LEU F  73      50.600  64.500  76.500  1.00  0.00           N  
ATOM   4270  CA  LEU F  73      49.800  65.200  75.400  1.00  0.00           C  
ATOM   4271  CB  LEU F  73      48.700  64.200  74.900  1.00  0.00           C  
ATOM   4272  CG  LEU F  73      48.000  64.700  73.600  1.00  0.00           C  
ATOM   4273  CD1 LEU F  73      48.800  65.000  72.500  1.00  0.00           C  
ATOM   4274  CD2 LEU F  73      46.900  63.800  73.200  1.00  0.00           C  
ATOM   4275  C   LEU F  73      49.100  66.400  76.100  1.00  0.00           C  
ATOM   4276  O   LEU F  73      49.100  67.400  75.300  1.00  0.00           O  
ATOM   4277  N   ASP F  74      48.800  66.400  77.400  1.00  0.00           N  
ATOM   4278  CA  ASP F  74      48.000  67.400  78.100  1.00  0.00           C  
ATOM   4279  CB  ASP F  74      47.500  67.000  79.400  1.00  0.00           C  
ATOM   4280  CG  ASP F  74      46.600  67.900  80.300  1.00  0.00           C  
ATOM   4281  OD1 ASP F  74      46.100  67.400  81.300  1.00  0.00           O  
ATOM   4282  OD2 ASP F  74      46.400  69.100  79.900  1.00  0.00           O1-
ATOM   4283  C   ASP F  74      49.000  68.700  78.300  1.00  0.00           C  
ATOM   4284  O   ASP F  74      48.600  69.700  77.800  1.00  0.00           O  
ATOM   4285  N   THR F  75      50.200  68.300  78.800  1.00  0.00           N  
ATOM   4286  CA  THR F  75      51.300  69.200  78.900  1.00  0.00           C  
ATOM   4287  CB  THR F  75      52.600  68.600  79.500  1.00  0.00           C  
ATOM   4288  CG2 THR F  75      53.700  69.600  79.600  1.00  0.00           C  
ATOM   4289  OG1 THR F  75      52.300  68.200  80.800  1.00  0.00           O  
ATOM   4290  C   THR F  75      51.600  69.800  77.600  1.00  0.00           C  
ATOM   4291  O   THR F  75      51.500  71.100  77.500  1.00  0.00           O  
ATOM   4292  N   ASN F  76      51.700  69.100  76.500  1.00  0.00           N  
ATOM   4293  CA  ASN F  76      52.200  69.400  75.200  1.00  0.00           C  
ATOM   4294  CB  ASN F  76      52.300  68.200  74.400  1.00  0.00           C  
ATOM   4295  CG  ASN F  76      53.000  68.500  73.000  1.00  0.00           C  
ATOM   4296  OD1 ASN F  76      52.300  68.600  72.000  1.00  0.00           O  
ATOM   4297  ND2 ASN F  76      54.300  68.900  73.000  1.00  0.00           N  
ATOM   4298  C   ASN F  76      51.100  70.400  74.500  1.00  0.00           C  
ATOM   4299  O   ASN F  76      51.600  71.400  73.900  1.00  0.00           O  
ATOM   4300  N   ILE F  77      49.800  70.200  74.600  1.00  0.00           N  
ATOM   4301  CA  ILE F  77      48.800  71.000  74.100  1.00  0.00           C  
ATOM   4302  CB  ILE F  77      47.400  70.400  74.000  1.00  0.00           C  
ATOM   4303  CG2 ILE F  77      46.300  71.400  73.600  1.00  0.00           C  
ATOM   4304  CG1 ILE F  77      47.400  69.300  72.900  1.00  0.00           C  
ATOM   4305  CD  ILE F  77      46.400  68.200  72.900  1.00  0.00           C  
ATOM   4306  C   ILE F  77      48.800  72.300  74.900  1.00  0.00           C  
ATOM   4307  O   ILE F  77      48.800  73.400  74.300  1.00  0.00           O  
ATOM   4308  N   ARG F  78      49.100  72.200  76.300  1.00  0.00           N  
ATOM   4309  CA  ARG F  78      49.100  73.400  77.000  1.00  0.00           C  
ATOM   4310  CB  ARG F  78      49.000  73.100  78.600  1.00  0.00           C  
ATOM   4311  CG  ARG F  78      48.900  74.400  79.400  1.00  0.00           C  
ATOM   4312  CD  ARG F  78      48.500  74.000  80.800  1.00  0.00           C  
ATOM   4313  NE  ARG F  78      48.200  75.200  81.500  1.00  0.00           N  
ATOM   4314  CZ  ARG F  78      47.000  75.800  81.800  1.00  0.00           C  
ATOM   4315  NH1 ARG F  78      45.800  75.200  81.400  1.00  0.00           N1+
ATOM   4316  NH2 ARG F  78      46.800  76.900  82.300  1.00  0.00           N  
ATOM   4317  C   ARG F  78      50.300  74.300  76.700  1.00  0.00           C  
ATOM   4318  O   ARG F  78      50.100  75.500  76.800  1.00  0.00           O  
ATOM   4319  N   ILE F  79      51.500  73.800  76.300  1.00  0.00           N  
ATOM   4320  CA  ILE F  79      52.600  74.600  75.800  1.00  0.00           C  
ATOM   4321  CB  ILE F  79      53.700  73.600  75.800  1.00  0.00           C  
ATOM   4322  CG2 ILE F  79      55.000  74.400  75.300  1.00  0.00           C  
ATOM   4323  CG1 ILE F  79      54.200  73.000  77.100  1.00  0.00           C  
ATOM   4324  CD  ILE F  79      54.100  73.800  78.400  1.00  0.00           C  
ATOM   4325  C   ILE F  79      52.200  75.400  74.700  1.00  0.00           C  
ATOM   4326  O   ILE F  79      52.500  76.600  74.600  1.00  0.00           O  
ATOM   4327  N   VAL F  80      51.800  74.600  73.600  1.00  0.00           N  
ATOM   4328  CA  VAL F  80      51.400  75.400  72.400  1.00  0.00           C  
ATOM   4329  CB  VAL F  80      50.800  74.500  71.400  1.00  0.00           C  
ATOM   4330  CG1 VAL F  80      50.200  75.400  70.100  1.00  0.00           C  
ATOM   4331  CG2 VAL F  80      51.700  73.400  70.800  1.00  0.00           C  
ATOM   4332  C   VAL F  80      50.300  76.500  72.700  1.00  0.00           C  
ATOM   4333  O   VAL F  80      50.400  77.600  72.400  1.00  0.00           O  
ATOM   4334  N   ASN F  81      49.300  76.000  73.500  1.00  0.00           N  
ATOM   4335  CA  ASN F  81      48.200  76.800  73.900  1.00  0.00           C  
ATOM   4336  CB  ASN F  81      47.100  76.100  74.600  1.00  0.00           C  
ATOM   4337  CG  ASN F  81      45.600  76.700  74.600  1.00  0.00           C  
ATOM   4338  OD1 ASN F  81      44.700  76.000  74.400  1.00  0.00           O  
ATOM   4339  ND2 ASN F  81      45.400  78.000  75.000  1.00  0.00           N  
ATOM   4340  C   ASN F  81      48.500  78.100  74.600  1.00  0.00           C  
ATOM   4341  O   ASN F  81      48.000  79.100  74.200  1.00  0.00           O  
ATOM   4342  N   GLY F  82      49.500  78.100  75.500  1.00  0.00           N  
ATOM   4343  CA  GLY F  82      49.900  79.300  76.300  1.00  0.00           C  
ATOM   4344  C   GLY F  82      50.600  80.300  75.400  1.00  0.00           C  
ATOM   4345  O   GLY F  82      50.800  81.500  75.900  1.00  0.00           O  
ATOM   4346  N   LEU F  83      51.400  79.800  74.300  1.00  0.00           N  
ATOM   4347  CA  LEU F  83      52.200  80.600  73.400  1.00  0.00           C  
ATOM   4348  CB  LEU F  83      53.400  79.700  73.200  1.00  0.00           C  
ATOM   4349  CG  LEU F  83      54.500  79.500  74.200  1.00  0.00           C  
ATOM   4350  CD1 LEU F  83      55.300  78.400  73.800  1.00  0.00           C  
ATOM   4351  CD2 LEU F  83      55.300  80.700  74.200  1.00  0.00           C  
ATOM   4352  C   LEU F  83      51.600  81.000  72.100  1.00  0.00           C  
ATOM   4353  O   LEU F  83      52.100  82.000  71.500  1.00  0.00           O  
ATOM   4354  N   GLN F  84      50.600  80.400  71.800  1.00  0.00           N  
ATOM   4355  CA  GLN F  84      49.600  80.900  70.900  1.00  0.00           C  
ATOM   4356  CB  GLN F  84      48.700  79.800  70.400  1.00  0.00           C  
ATOM   4357  CG  GLN F  84      47.900  79.900  69.200  1.00  0.00           C  
ATOM   4358  CD  GLN F  84      47.600  78.600  68.500  1.00  0.00           C  
ATOM   4359  OE1 GLN F  84      48.100  78.400  67.400  1.00  0.00           O  
ATOM   4360  NE2 GLN F  84      46.600  77.800  68.900  1.00  0.00           N  
ATOM   4361  C   GLN F  84      48.800  82.000  71.300  1.00  0.00           C  
ATOM   4362  O   GLN F  84      48.400  82.900  70.500  1.00  0.00           O  
ATOM   4363  N   ASN F  85      48.500  82.200  72.600  1.00  0.00           N  
ATOM   4364  CA  ASN F  85      47.600  83.000  73.200  1.00  0.00           C  
ATOM   4365  CB  ASN F  85      46.900  82.400  74.400  1.00  0.00           C  
ATOM   4366  CG  ASN F  85      45.700  81.400  73.900  1.00  0.00           C  
ATOM   4367  OD1 ASN F  85      45.500  81.200  72.800  1.00  0.00           O  
ATOM   4368  ND2 ASN F  85      45.000  81.000  75.000  1.00  0.00           N  
ATOM   4369  C   ASN F  85      48.200  84.400  73.600  1.00  0.00           C  
ATOM   4370  O   ASN F  85      49.400  84.500  73.900  1.00  0.00           O  
ATOM   4371  N   THR F  86      47.400  85.500  73.400  1.00  0.00           N  
ATOM   4372  CA  THR F  86      47.900  86.700  73.600  1.00  0.00           C  
ATOM   4373  CB  THR F  86      48.700  87.300  72.400  1.00  0.00           C  
ATOM   4374  CG2 THR F  86      47.800  87.500  71.100  1.00  0.00           C  
ATOM   4375  OG1 THR F  86      49.400  88.600  72.800  1.00  0.00           O  
ATOM   4376  C   THR F  86      46.900  87.700  74.100  1.00  0.00           C  
ATOM   4377  O   THR F  86      45.700  87.500  73.900  1.00  0.00           O  
ATOM   4378  N   ARG F  87      47.200  88.700  74.900  1.00  0.00           N  
ATOM   4379  CA  ARG F  87      46.400  89.800  75.300  1.00  0.00           C  
ATOM   4380  CB  ARG F  87      46.200  89.800  76.800  1.00  0.00           C  
ATOM   4381  CG  ARG F  87      45.400  88.600  77.300  1.00  0.00           C  
ATOM   4382  CD  ARG F  87      45.400  88.500  78.800  1.00  0.00           C  
ATOM   4383  NE  ARG F  87      45.100  87.100  79.100  1.00  0.00           N  
ATOM   4384  CZ  ARG F  87      44.600  86.600  80.300  1.00  0.00           C  
ATOM   4385  NH1 ARG F  87      44.700  87.300  81.500  1.00  0.00           N1+
ATOM   4386  NH2 ARG F  87      44.100  85.400  80.200  1.00  0.00           N  
ATOM   4387  C   ARG F  87      46.800  91.200  74.900  1.00  0.00           C  
ATOM   4388  OC1 ARG F  87      46.100  91.700  73.900  1.00  0.00           O  
ATOM   4389  OC2 ARG F  87      47.900  91.700  75.200  1.00  0.00           O  
TER   
ATOM   4390  N   MET G   1      70.200  38.100 125.900  1.00  0.00           N  
ATOM   4391  CA  MET G   1      70.300  39.400 125.300  1.00  0.00           C  
ATOM   4392  CB  MET G   1      71.400  40.100 126.100  1.00  0.00           C  
ATOM   4393  CG  MET G   1      71.400  41.600 125.600  1.00  0.00           C  
ATOM   4394  SD  MET G   1      69.900  42.600 125.900  1.00  0.00           S  
ATOM   4395  CE  MET G   1      70.500  44.100 125.200  1.00  0.00           C  
ATOM   4396  C   MET G   1      70.600  39.200 123.800  1.00  0.00           C  
ATOM   4397  O   MET G   1      71.800  38.800 123.600  1.00  0.00           O  
ATOM   4398  N   SER G   2      69.800  39.500 122.800  1.00  0.00           N  
ATOM   4399  CA  SER G   2      70.100  39.200 121.400  1.00  0.00           C  
ATOM   4400  CB  SER G   2      68.900  38.600 120.600  1.00  0.00           C  
ATOM   4401  OG  SER G   2      68.100  37.800 121.300  1.00  0.00           O  
ATOM   4402  C   SER G   2      70.800  40.400 120.800  1.00  0.00           C  
ATOM   4403  O   SER G   2      71.700  40.200 120.000  1.00  0.00           O  
ATOM   4404  N   TRP G   3      70.400  41.600 120.900  1.00  0.00           N  
ATOM   4405  CA  TRP G   3      71.000  42.900 120.400  1.00  0.00           C  
ATOM   4406  CB  TRP G   3      70.000  43.900 120.600  1.00  0.00           C  
ATOM   4407  CG  TRP G   3      68.900  44.000 119.600  1.00  0.00           C  
ATOM   4408  CD1 TRP G   3      69.100  44.500 118.400  1.00  0.00           C  
ATOM   4409  NE1 TRP G   3      67.900  44.600 117.700  1.00  0.00           N  
ATOM   4410  CE2 TRP G   3      66.900  44.200 118.600  1.00  0.00           C  
ATOM   4411  CZ2 TRP G   3      65.500  44.100 118.400  1.00  0.00           C  
ATOM   4412  CH2 TRP G   3      64.700  43.500 119.400  1.00  0.00           C  
ATOM   4413  CZ3 TRP G   3      65.300  43.200 120.600  1.00  0.00           C  
ATOM   4414  CE3 TRP G   3      66.700  43.300 120.800  1.00  0.00           C  
ATOM   4415  CD2 TRP G   3      67.500  43.800 119.800  1.00  0.00           C  
ATOM   4416  C   TRP G   3      72.300  43.100 121.100  1.00  0.00           C  
ATOM   4417  O   TRP G   3      72.400  42.800 122.300  1.00  0.00           O  
ATOM   4418  N   LEU G   4      73.100  43.900 120.400  1.00  0.00           N  
ATOM   4419  CA  LEU G   4      74.400  44.400 120.900  1.00  0.00           C  
ATOM   4420  CB  LEU G   4      75.600  43.700 120.300  1.00  0.00           C  
ATOM   4421  CG  LEU G   4      76.900  44.300 120.900  1.00  0.00           C  
ATOM   4422  CD1 LEU G   4      77.200  43.800 122.300  1.00  0.00           C  
ATOM   4423  CD2 LEU G   4      78.000  43.800 119.900  1.00  0.00           C  
ATOM   4424  C   LEU G   4      74.300  45.900 120.400  1.00  0.00           C  
ATOM   4425  O   LEU G   4      74.900  46.200 119.400  1.00  0.00           O  
ATOM   4426  N   PHE G   5      73.600  46.800 121.100  1.00  0.00           N  
ATOM   4427  CA  PHE G   5      73.500  48.100 120.800  1.00  0.00           C  
ATOM   4428  CB  PHE G   5      72.300  48.700 121.500  1.00  0.00           C  
ATOM   4429  CG  PHE G   5      70.900  48.100 121.200  1.00  0.00           C  
ATOM   4430  CD1 PHE G   5      70.300  47.000 122.000  1.00  0.00           C  
ATOM   4431  CE1 PHE G   5      69.100  46.600 121.800  1.00  0.00           C  
ATOM   4432  CZ  PHE G   5      68.400  47.000 120.700  1.00  0.00           C  
ATOM   4433  CE2 PHE G   5      68.800  48.100 120.000  1.00  0.00           C  
ATOM   4434  CD2 PHE G   5      70.100  48.600 120.200  1.00  0.00           C  
ATOM   4435  C   PHE G   5      74.600  49.100 121.000  1.00  0.00           C  
ATOM   4436  O   PHE G   5      75.500  48.800 121.800  1.00  0.00           O  
ATOM   4437  N   GLY G   6      74.900  50.200 120.300  1.00  0.00           N  
ATOM   4438  CA  GLY G   6      75.900  51.000 120.500  1.00  0.00           C  
ATOM   4439  C   GLY G   6      75.900  52.400 119.800  1.00  0.00           C  
ATOM   4440  O   GLY G   6      75.200  53.200 120.200  1.00  0.00           O  
ATOM   4441  N   ASP G   7      76.800  52.500 118.800  1.00  0.00           N  
ATOM   4442  CA  ASP G   7      77.300  53.800 118.200  1.00  0.00           C  
ATOM   4443  CB  ASP G   7      78.800  54.000 118.600  1.00  0.00           C  
ATOM   4444  CG  ASP G   7      79.400  55.100 117.700  1.00  0.00           C  
ATOM   4445  OD1 ASP G   7      80.400  54.900 117.000  1.00  0.00           O  
ATOM   4446  OD2 ASP G   7      79.000  56.300 117.800  1.00  0.00           O1-
ATOM   4447  C   ASP G   7      77.000  53.900 116.700  1.00  0.00           C  
ATOM   4448  O   ASP G   7      77.300  53.000 115.900  1.00  0.00           O  
ATOM   4449  N   LYS G   8      76.300  54.900 116.300  1.00  0.00           N  
ATOM   4450  CA  LYS G   8      75.700  55.200 115.000  1.00  0.00           C  
ATOM   4451  CB  LYS G   8      74.200  55.200 115.300  1.00  0.00           C  
ATOM   4452  CG  LYS G   8      73.600  53.800 115.500  1.00  0.00           C  
ATOM   4453  CD  LYS G   8      72.100  53.900 115.400  1.00  0.00           C  
ATOM   4454  CE  LYS G   8      71.500  54.100 113.900  1.00  0.00           C  
ATOM   4455  NZ  LYS G   8      71.700  53.100 113.000  1.00  0.00           N1+
ATOM   4456  C   LYS G   8      76.200  56.600 114.500  1.00  0.00           C  
ATOM   4457  O   LYS G   8      76.700  57.500 115.200  1.00  0.00           O  
ATOM   4458  N   THR G   9      76.200  56.600 113.200  1.00  0.00           N  
ATOM   4459  CA  THR G   9      76.600  57.600 112.200  1.00  0.00           C  
ATOM   4460  CB  THR G   9      77.000  57.100 110.900  1.00  0.00           C  
ATOM   4461  CG2 THR G   9      77.500  58.100 109.900  1.00  0.00           C  
ATOM   4462  OG1 THR G   9      78.000  56.200 110.900  1.00  0.00           O  
ATOM   4463  C   THR G   9      75.500  58.700 112.100  1.00  0.00           C  
ATOM   4464  O   THR G   9      74.500  58.200 111.900  1.00  0.00           O  
ATOM   4465  N   PRO G  10      75.800  60.000 112.300  1.00  0.00           N  
ATOM   4466  CD  PRO G  10      77.000  60.700 112.800  1.00  0.00           C  
ATOM   4467  CG  PRO G  10      76.800  62.100 112.500  1.00  0.00           C  
ATOM   4468  CB  PRO G  10      75.300  62.300 112.600  1.00  0.00           C  
ATOM   4469  CA  PRO G  10      74.800  61.000 112.100  1.00  0.00           C  
ATOM   4470  C   PRO G  10      74.300  61.100 110.600  1.00  0.00           C  
ATOM   4471  O   PRO G  10      75.200  61.100 109.700  1.00  0.00           O  
ATOM   4472  N   THR G  11      73.100  61.400 110.300  1.00  0.00           N  
ATOM   4473  CA  THR G  11      72.700  61.700 108.800  1.00  0.00           C  
ATOM   4474  CB  THR G  11      71.300  61.500 108.600  1.00  0.00           C  
ATOM   4475  CG2 THR G  11      70.800  60.000 108.700  1.00  0.00           C  
ATOM   4476  OG1 THR G  11      70.400  62.200 109.500  1.00  0.00           O  
ATOM   4477  C   THR G  11      73.200  63.000 108.500  1.00  0.00           C  
ATOM   4478  O   THR G  11      73.600  63.900 109.300  1.00  0.00           O  
ATOM   4479  N   ASP G  12      73.500  63.100 107.100  1.00  0.00           N  
ATOM   4480  CA  ASP G  12      74.000  64.400 106.700  1.00  0.00           C  
ATOM   4481  CB  ASP G  12      74.400  64.300 105.200  1.00  0.00           C  
ATOM   4482  CG  ASP G  12      75.400  63.100 104.900  1.00  0.00           C  
ATOM   4483  OD1 ASP G  12      76.300  63.200 105.700  1.00  0.00           O  
ATOM   4484  OD2 ASP G  12      75.300  62.400 103.900  1.00  0.00           O1-
ATOM   4485  C   ASP G  12      73.300  65.700 106.800  1.00  0.00           C  
ATOM   4486  O   ASP G  12      72.100  65.600 107.000  1.00  0.00           O  
ATOM   4487  N   ASP G  13      74.100  66.700 107.000  1.00  0.00           N  
ATOM   4488  CA  ASP G  13      73.500  68.100 107.200  1.00  0.00           C  
ATOM   4489  CB  ASP G  13      74.600  69.000 107.700  1.00  0.00           C  
ATOM   4490  CG  ASP G  13      75.700  69.200 106.800  1.00  0.00           C  
ATOM   4491  OD1 ASP G  13      76.400  68.300 106.600  1.00  0.00           O  
ATOM   4492  OD2 ASP G  13      75.900  70.400 106.300  1.00  0.00           O1-
ATOM   4493  C   ASP G  13      72.900  68.600 105.800  1.00  0.00           C  
ATOM   4494  O   ASP G  13      73.200  68.000 104.800  1.00  0.00           O  
ATOM   4495  N   ALA G  14      72.000  69.500 106.000  1.00  0.00           N  
ATOM   4496  CA  ALA G  14      71.200  70.100 104.800  1.00  0.00           C  
ATOM   4497  CB  ALA G  14      69.800  70.500 105.300  1.00  0.00           C  
ATOM   4498  C   ALA G  14      71.800  71.300 104.000  1.00  0.00           C  
ATOM   4499  O   ALA G  14      72.500  72.000 104.600  1.00  0.00           O  
ATOM   4500  N   ASN G  15      71.300  71.300 102.700  1.00  0.00           N  
ATOM   4501  CA  ASN G  15      71.800  72.400 101.900  1.00  0.00           C  
ATOM   4502  CB  ASN G  15      71.900  72.000 100.400  1.00  0.00           C  
ATOM   4503  CG  ASN G  15      71.800  73.000  99.400  1.00  0.00           C  
ATOM   4504  OD1 ASN G  15      72.100  74.200  99.700  1.00  0.00           O  
ATOM   4505  ND2 ASN G  15      71.500  72.600  98.100  1.00  0.00           N  
ATOM   4506  C   ASN G  15      70.800  73.500 102.100  1.00  0.00           C  
ATOM   4507  O   ASN G  15      69.500  73.400 102.400  1.00  0.00           O  
ATOM   4508  N   ALA G  16      71.300  74.700 102.500  1.00  0.00           N  
ATOM   4509  CA  ALA G  16      70.700  76.000 102.600  1.00  0.00           C  
ATOM   4510  CB  ALA G  16      71.800  77.000 103.000  1.00  0.00           C  
ATOM   4511  C   ALA G  16      69.800  76.500 101.500  1.00  0.00           C  
ATOM   4512  O   ALA G  16      68.700  77.000 101.900  1.00  0.00           O  
ATOM   4513  N   ALA G  17      70.000  76.500 100.200  1.00  0.00           N  
ATOM   4514  CA  ALA G  17      69.300  77.100  99.100  1.00  0.00           C  
ATOM   4515  CB  ALA G  17      70.100  77.300  97.900  1.00  0.00           C  
ATOM   4516  C   ALA G  17      68.200  76.100  98.700  1.00  0.00           C  
ATOM   4517  O   ALA G  17      67.400  76.500  97.800  1.00  0.00           O  
ATOM   4518  N   VAL G  18      67.800  75.100  99.500  1.00  0.00           N  
ATOM   4519  CA  VAL G  18      66.600  74.300  99.500  1.00  0.00           C  
ATOM   4520  CB  VAL G  18      66.900  73.000  98.800  1.00  0.00           C  
ATOM   4521  CG1 VAL G  18      67.200  73.000  97.400  1.00  0.00           C  
ATOM   4522  CG2 VAL G  18      67.900  72.100  99.600  1.00  0.00           C  
ATOM   4523  C   VAL G  18      66.000  74.300 100.900  1.00  0.00           C  
ATOM   4524  O   VAL G  18      66.600  74.700 101.800  1.00  0.00           O  
ATOM   4525  N   GLY G  19      64.800  73.800 101.100  1.00  0.00           N  
ATOM   4526  CA  GLY G  19      64.100  73.800 102.400  1.00  0.00           C  
ATOM   4527  C   GLY G  19      63.300  75.000 102.700  1.00  0.00           C  
ATOM   4528  O   GLY G  19      63.300  76.000 102.200  1.00  0.00           O  
ATOM   4529  N   GLY G  20      62.600  74.800 103.900  1.00  0.00           N  
ATOM   4530  CA  GLY G  20      61.900  75.900 104.600  1.00  0.00           C  
ATOM   4531  C   GLY G  20      61.700  75.600 106.100  1.00  0.00           C  
ATOM   4532  O   GLY G  20      62.500  74.700 106.700  1.00  0.00           O  
ATOM   4533  N   GLN G  21      60.800  76.200 106.800  1.00  0.00           N  
ATOM   4534  CA  GLN G  21      60.400  75.800 108.000  1.00  0.00           C  
ATOM   4535  CB  GLN G  21      59.300  76.900 108.500  1.00  0.00           C  
ATOM   4536  CG  GLN G  21      59.800  78.200 108.800  1.00  0.00           C  
ATOM   4537  CD  GLN G  21      58.900  79.100 109.700  1.00  0.00           C  
ATOM   4538  OE1 GLN G  21      58.100  79.900 109.200  1.00  0.00           O  
ATOM   4539  NE2 GLN G  21      59.000  79.100 111.000  1.00  0.00           N  
ATOM   4540  C   GLN G  21      59.700  74.400 107.900  1.00  0.00           C  
ATOM   4541  O   GLN G  21      58.900  74.200 107.100  1.00  0.00           O  
ATOM   4542  N   ASP G  22      60.200  73.500 108.700  1.00  0.00           N  
ATOM   4543  CA  ASP G  22      59.900  72.100 108.800  1.00  0.00           C  
ATOM   4544  CB  ASP G  22      58.800  71.900 109.800  1.00  0.00           C  
ATOM   4545  CG  ASP G  22      58.900  72.600 111.100  1.00  0.00           C  
ATOM   4546  OD1 ASP G  22      57.900  72.600 111.900  1.00  0.00           O  
ATOM   4547  OD2 ASP G  22      60.000  73.000 111.500  1.00  0.00           O1-
ATOM   4548  C   ASP G  22      60.000  71.200 107.500  1.00  0.00           C  
ATOM   4549  O   ASP G  22      59.100  70.400 107.300  1.00  0.00           O  
ATOM   4550  N   THR G  23      60.800  71.700 106.600  1.00  0.00           N  
ATOM   4551  CA  THR G  23      61.200  70.800 105.500  1.00  0.00           C  
ATOM   4552  CB  THR G  23      60.300  71.100 104.300  1.00  0.00           C  
ATOM   4553  CG2 THR G  23      60.300  72.300 103.500  1.00  0.00           C  
ATOM   4554  OG1 THR G  23      60.700  70.000 103.400  1.00  0.00           O  
ATOM   4555  C   THR G  23      62.600  71.100 105.100  1.00  0.00           C  
ATOM   4556  O   THR G  23      63.000  72.300 105.200  1.00  0.00           O  
ATOM   4557  N   THR G  24      63.500  70.100 104.800  1.00  0.00           N  
ATOM   4558  CA  THR G  24      64.700  70.200 104.200  1.00  0.00           C  
ATOM   4559  CB  THR G  24      65.700  69.200 104.700  1.00  0.00           C  
ATOM   4560  CG2 THR G  24      65.700  69.100 106.200  1.00  0.00           C  
ATOM   4561  OG1 THR G  24      65.400  68.000 104.200  1.00  0.00           O  
ATOM   4562  C   THR G  24      64.600  70.300 102.700  1.00  0.00           C  
ATOM   4563  O   THR G  24      65.600  70.400 102.000  1.00  0.00           O  
ATOM   4564  N   LYS G  25      63.500  69.800 102.000  1.00  0.00           N  
ATOM   4565  CA  LYS G  25      63.300  69.600 100.600  1.00  0.00           C  
ATOM   4566  CB  LYS G  25      62.200  68.600 100.300  1.00  0.00           C  
ATOM   4567  CG  LYS G  25      62.700  67.200 100.500  1.00  0.00           C  
ATOM   4568  CD  LYS G  25      61.600  66.100 100.800  1.00  0.00           C  
ATOM   4569  CE  LYS G  25      60.900  66.000  99.400  1.00  0.00           C  
ATOM   4570  NZ  LYS G  25      60.000  64.800  99.600  1.00  0.00           N1+
ATOM   4571  C   LYS G  25      63.100  70.900  99.900  1.00  0.00           C  
ATOM   4572  O   LYS G  25      62.600  71.800 100.400  1.00  0.00           O  
ATOM   4573  N   PRO G  26      63.400  71.000  98.500  1.00  0.00           N  
ATOM   4574  CD  PRO G  26      64.100  70.100  97.700  1.00  0.00           C  
ATOM   4575  CG  PRO G  26      64.500  70.700  96.400  1.00  0.00           C  
ATOM   4576  CB  PRO G  26      63.500  71.800  96.300  1.00  0.00           C  
ATOM   4577  CA  PRO G  26      63.200  72.200  97.700  1.00  0.00           C  
ATOM   4578  C   PRO G  26      61.700  72.400  97.700  1.00  0.00           C  
ATOM   4579  O   PRO G  26      60.800  71.600  98.100  1.00  0.00           O  
ATOM   4580  N   LYS G  27      61.100  73.500  97.200  1.00  0.00           N  
ATOM   4581  CA  LYS G  27      59.700  73.900  97.100  1.00  0.00           C  
ATOM   4582  CB  LYS G  27      59.500  75.300  97.200  1.00  0.00           C  
ATOM   4583  CG  LYS G  27      58.200  75.800  98.000  1.00  0.00           C  
ATOM   4584  CD  LYS G  27      58.100  77.100  98.600  1.00  0.00           C  
ATOM   4585  CE  LYS G  27      59.000  77.000  99.900  1.00  0.00           C  
ATOM   4586  NZ  LYS G  27      58.600  78.000 100.800  1.00  0.00           N1+
ATOM   4587  C   LYS G  27      59.000  73.200  95.900  1.00  0.00           C  
ATOM   4588  O   LYS G  27      58.800  73.800  94.800  1.00  0.00           O  
ATOM   4589  N   GLU G  28      58.800  71.900  96.100  1.00  0.00           N  
ATOM   4590  CA  GLU G  28      58.000  71.000  95.300  1.00  0.00           C  
ATOM   4591  CB  GLU G  28      58.200  69.500  95.600  1.00  0.00           C  
ATOM   4592  CG  GLU G  28      59.600  69.000  95.000  1.00  0.00           C  
ATOM   4593  CD  GLU G  28      59.900  67.600  95.500  1.00  0.00           C  
ATOM   4594  OE1 GLU G  28      60.900  67.000  95.000  1.00  0.00           O  
ATOM   4595  OE2 GLU G  28      59.300  67.100  96.400  1.00  0.00           O1-
ATOM   4596  C   GLU G  28      56.500  71.400  95.400  1.00  0.00           C  
ATOM   4597  O   GLU G  28      56.100  72.200  96.100  1.00  0.00           O  
ATOM   4598  N   LEU G  29      55.600  70.700  94.600  1.00  0.00           N  
ATOM   4599  CA  LEU G  29      54.200  71.100  94.500  1.00  0.00           C  
ATOM   4600  CB  LEU G  29      53.500  70.200  93.400  1.00  0.00           C  
ATOM   4601  CG  LEU G  29      53.500  70.600  91.900  1.00  0.00           C  
ATOM   4602  CD1 LEU G  29      54.800  70.200  91.200  1.00  0.00           C  
ATOM   4603  CD2 LEU G  29      52.400  69.900  91.300  1.00  0.00           C  
ATOM   4604  C   LEU G  29      53.500  71.000  95.800  1.00  0.00           C  
ATOM   4605  O   LEU G  29      53.700  70.200  96.600  1.00  0.00           O  
ATOM   4606  N   SER G  30      52.800  72.100  96.200  1.00  0.00           N  
ATOM   4607  CA  SER G  30      52.400  72.400  97.500  1.00  0.00           C  
ATOM   4608  CB  SER G  30      51.600  73.800  97.400  1.00  0.00           C  
ATOM   4609  OG  SER G  30      50.600  73.800  96.500  1.00  0.00           O  
ATOM   4610  C   SER G  30      51.400  71.500  98.300  1.00  0.00           C  
ATOM   4611  O   SER G  30      51.100  71.600  99.500  1.00  0.00           O  
ATOM   4612  N   LEU G  31      51.000  70.500  97.700  1.00  0.00           N  
ATOM   4613  CA  LEU G  31      50.400  69.300  98.400  1.00  0.00           C  
ATOM   4614  CB  LEU G  31      49.000  68.900  97.900  1.00  0.00           C  
ATOM   4615  CG  LEU G  31      48.000  70.000  98.200  1.00  0.00           C  
ATOM   4616  CD1 LEU G  31      46.600  69.500  97.700  1.00  0.00           C  
ATOM   4617  CD2 LEU G  31      47.800  70.500  99.600  1.00  0.00           C  
ATOM   4618  C   LEU G  31      51.300  68.000  98.300  1.00  0.00           C  
ATOM   4619  O   LEU G  31      52.000  67.800  97.300  1.00  0.00           O  
ATOM   4620  N   LYS G  32      51.200  67.100  99.300  1.00  0.00           N  
ATOM   4621  CA  LYS G  32      52.000  65.800  99.300  1.00  0.00           C  
ATOM   4622  CB  LYS G  32      51.800  65.200 100.700  1.00  0.00           C  
ATOM   4623  CG  LYS G  32      52.600  64.000 101.000  1.00  0.00           C  
ATOM   4624  CD  LYS G  32      52.700  63.500 102.400  1.00  0.00           C  
ATOM   4625  CE  LYS G  32      51.400  63.500 103.200  1.00  0.00           C  
ATOM   4626  NZ  LYS G  32      51.500  62.900 104.500  1.00  0.00           N1+
ATOM   4627  C   LYS G  32      51.600  64.900  98.200  1.00  0.00           C  
ATOM   4628  O   LYS G  32      50.500  64.600  97.900  1.00  0.00           O  
ATOM   4629  N   GLN G  33      52.600  64.400  97.400  1.00  0.00           N  
ATOM   4630  CA  GLN G  33      52.400  63.600  96.300  1.00  0.00           C  
ATOM   4631  CB  GLN G  33      52.100  62.100  96.700  1.00  0.00           C  
ATOM   4632  CG  GLN G  33      52.400  61.000  95.800  1.00  0.00           C  
ATOM   4633  CD  GLN G  33      51.600  59.800  96.100  1.00  0.00           C  
ATOM   4634  OE1 GLN G  33      50.300  59.800  95.800  1.00  0.00           O  
ATOM   4635  NE2 GLN G  33      52.000  58.800  96.800  1.00  0.00           N  
ATOM   4636  C   GLN G  33      51.600  64.100  95.100  1.00  0.00           C  
ATOM   4637  O   GLN G  33      51.300  63.500  94.100  1.00  0.00           O  
ATOM   4638  N   SER G  34      51.400  65.400  95.100  1.00  0.00           N  
ATOM   4639  CA  SER G  34      51.000  66.300  94.000  1.00  0.00           C  
ATOM   4640  CB  SER G  34      50.700  67.700  94.600  1.00  0.00           C  
ATOM   4641  OG  SER G  34      50.000  68.600  93.700  1.00  0.00           O  
ATOM   4642  C   SER G  34      51.800  66.200  92.800  1.00  0.00           C  
ATOM   4643  O   SER G  34      51.400  66.100  91.700  1.00  0.00           O  
ATOM   4644  N   LEU G  35      53.200  66.200  93.000  1.00  0.00           N  
ATOM   4645  CA  LEU G  35      54.100  66.100  92.000  1.00  0.00           C  
ATOM   4646  CB  LEU G  35      55.500  66.300  92.500  1.00  0.00           C  
ATOM   4647  CG  LEU G  35      56.700  65.900  91.900  1.00  0.00           C  
ATOM   4648  CD1 LEU G  35      56.800  66.300  90.500  1.00  0.00           C  
ATOM   4649  CD2 LEU G  35      58.100  66.300  92.700  1.00  0.00           C  
ATOM   4650  C   LEU G  35      54.000  64.600  91.400  1.00  0.00           C  
ATOM   4651  O   LEU G  35      53.900  64.400  90.100  1.00  0.00           O  
ATOM   4652  N   GLY G  36      53.700  63.600  92.100  1.00  0.00           N  
ATOM   4653  CA  GLY G  36      53.800  62.200  91.800  1.00  0.00           C  
ATOM   4654  C   GLY G  36      54.600  61.400  92.900  1.00  0.00           C  
ATOM   4655  O   GLY G  36      54.800  61.900  94.000  1.00  0.00           O  
ATOM   4656  N   PHE G  37      54.900  60.100  92.700  1.00  0.00           N  
ATOM   4657  CA  PHE G  37      55.600  59.200  93.600  1.00  0.00           C  
ATOM   4658  CB  PHE G  37      55.500  57.800  93.100  1.00  0.00           C  
ATOM   4659  CG  PHE G  37      54.300  57.100  92.900  1.00  0.00           C  
ATOM   4660  CD1 PHE G  37      54.100  56.100  92.000  1.00  0.00           C  
ATOM   4661  CE1 PHE G  37      52.900  55.400  91.800  1.00  0.00           C  
ATOM   4662  CZ  PHE G  37      51.800  55.800  92.700  1.00  0.00           C  
ATOM   4663  CE2 PHE G  37      51.900  56.800  93.500  1.00  0.00           C  
ATOM   4664  CD2 PHE G  37      53.200  57.600  93.600  1.00  0.00           C  
ATOM   4665  C   PHE G  37      57.000  59.600  93.900  1.00  0.00           C  
ATOM   4666  O   PHE G  37      57.700  59.600  92.900  1.00  0.00           O  
ATOM   4667  N   GLU G  38      57.400  59.800  95.200  1.00  0.00           N  
ATOM   4668  CA  GLU G  38      58.700  60.300  95.600  1.00  0.00           C  
ATOM   4669  CB  GLU G  38      58.700  60.700  97.100  1.00  0.00           C  
ATOM   4670  CG  GLU G  38      57.900  62.000  97.500  1.00  0.00           C  
ATOM   4671  CD  GLU G  38      58.200  62.300  98.900  1.00  0.00           C  
ATOM   4672  OE1 GLU G  38      57.300  63.000  99.600  1.00  0.00           O  
ATOM   4673  OE2 GLU G  38      59.100  61.800  99.700  1.00  0.00           O1-
ATOM   4674  C   GLU G  38      59.800  59.300  95.400  1.00  0.00           C  
ATOM   4675  O   GLU G  38      59.500  58.100  95.600  1.00  0.00           O  
ATOM   4676  N   PRO G  39      61.000  59.700  95.000  1.00  0.00           N  
ATOM   4677  CD  PRO G  39      61.500  61.100  95.000  1.00  0.00           C  
ATOM   4678  CG  PRO G  39      62.800  61.100  94.500  1.00  0.00           C  
ATOM   4679  CB  PRO G  39      63.000  59.900  93.600  1.00  0.00           C  
ATOM   4680  CA  PRO G  39      62.100  59.000  94.400  1.00  0.00           C  
ATOM   4681  C   PRO G  39      62.900  58.200  95.500  1.00  0.00           C  
ATOM   4682  O   PRO G  39      62.700  58.400  96.700  1.00  0.00           O  
ATOM   4683  N   ASN G  40      63.900  57.400  95.100  1.00  0.00           N  
ATOM   4684  CA  ASN G  40      64.900  56.800  95.800  1.00  0.00           C  
ATOM   4685  CB  ASN G  40      66.000  57.700  96.300  1.00  0.00           C  
ATOM   4686  CG  ASN G  40      66.500  58.900  95.400  1.00  0.00           C  
ATOM   4687  OD1 ASN G  40      66.800  58.600  94.200  1.00  0.00           O  
ATOM   4688  ND2 ASN G  40      66.400  60.100  95.900  1.00  0.00           N  
ATOM   4689  C   ASN G  40      64.500  55.700  96.900  1.00  0.00           C  
ATOM   4690  O   ASN G  40      65.400  55.400  97.600  1.00  0.00           O  
ATOM   4691  N   ILE G  41      63.400  55.200  96.700  1.00  0.00           N  
ATOM   4692  CA  ILE G  41      62.900  54.300  97.800  1.00  0.00           C  
ATOM   4693  CB  ILE G  41      61.300  54.200  97.500  1.00  0.00           C  
ATOM   4694  CG2 ILE G  41      60.800  53.200  98.500  1.00  0.00           C  
ATOM   4695  CG1 ILE G  41      60.600  55.400  97.700  1.00  0.00           C  
ATOM   4696  CD  ILE G  41      60.700  56.100  99.100  1.00  0.00           C  
ATOM   4697  C   ILE G  41      63.500  53.000  97.900  1.00  0.00           C  
ATOM   4698  O   ILE G  41      64.000  52.600  99.000  1.00  0.00           O  
ATOM   4699  N   ASN G  42      64.000  52.300  96.700  1.00  0.00           N  
ATOM   4700  CA  ASN G  42      64.900  51.300  96.700  1.00  0.00           C  
ATOM   4701  CB  ASN G  42      64.200  50.100  96.000  1.00  0.00           C  
ATOM   4702  CG  ASN G  42      62.800  49.600  96.500  1.00  0.00           C  
ATOM   4703  OD1 ASN G  42      62.700  48.800  97.400  1.00  0.00           O  
ATOM   4704  ND2 ASN G  42      61.800  49.900  95.700  1.00  0.00           N  
ATOM   4705  C   ASN G  42      66.200  51.700  96.100  1.00  0.00           C  
ATOM   4706  O   ASN G  42      66.200  52.800  95.500  1.00  0.00           O  
ATOM   4707  N   ASN G  43      67.300  50.900  96.100  1.00  0.00           N  
ATOM   4708  CA  ASN G  43      68.500  51.000  95.400  1.00  0.00           C  
ATOM   4709  CB  ASN G  43      69.500  50.000  95.900  1.00  0.00           C  
ATOM   4710  CG  ASN G  43      69.800  50.100  97.400  1.00  0.00           C  
ATOM   4711  OD1 ASN G  43      69.500  49.200  98.200  1.00  0.00           O  
ATOM   4712  ND2 ASN G  43      70.600  51.100  97.800  1.00  0.00           N  
ATOM   4713  C   ASN G  43      68.300  51.100  93.900  1.00  0.00           C  
ATOM   4714  O   ASN G  43      67.200  50.700  93.400  1.00  0.00           O  
ATOM   4715  N   ILE G  44      69.300  51.500  93.100  1.00  0.00           N  
ATOM   4716  CA  ILE G  44      69.100  51.700  91.600  1.00  0.00           C  
ATOM   4717  CB  ILE G  44      70.400  52.400  91.100  1.00  0.00           C  
ATOM   4718  CG2 ILE G  44      70.600  53.800  91.600  1.00  0.00           C  
ATOM   4719  CG1 ILE G  44      71.700  51.600  91.300  1.00  0.00           C  
ATOM   4720  CD  ILE G  44      72.800  51.900  90.400  1.00  0.00           C  
ATOM   4721  C   ILE G  44      68.700  50.400  91.000  1.00  0.00           C  
ATOM   4722  O   ILE G  44      68.900  49.300  91.500  1.00  0.00           O  
ATOM   4723  N   ILE G  45      68.000  50.500  90.000  1.00  0.00           N  
ATOM   4724  CA  ILE G  45      67.300  49.400  89.300  1.00  0.00           C  
ATOM   4725  CB  ILE G  45      66.100  49.800  88.700  1.00  0.00           C  
ATOM   4726  CG2 ILE G  45      65.200  50.700  89.600  1.00  0.00           C  
ATOM   4727  CG1 ILE G  45      66.200  50.600  87.300  1.00  0.00           C  
ATOM   4728  CD  ILE G  45      65.100  51.100  86.500  1.00  0.00           C  
ATOM   4729  C   ILE G  45      68.200  48.400  88.400  1.00  0.00           C  
ATOM   4730  O   ILE G  45      67.800  47.400  87.800  1.00  0.00           O  
ATOM   4731  N   SER G  46      69.500  48.600  88.400  1.00  0.00           N  
ATOM   4732  CA  SER G  46      70.400  47.900  87.500  1.00  0.00           C  
ATOM   4733  CB  SER G  46      71.600  48.900  87.300  1.00  0.00           C  
ATOM   4734  OG  SER G  46      72.700  48.400  86.500  1.00  0.00           O  
ATOM   4735  C   SER G  46      70.900  46.600  88.000  1.00  0.00           C  
ATOM   4736  O   SER G  46      71.300  46.600  89.200  1.00  0.00           O  
ATOM   4737  N   GLY G  47      71.000  45.600  87.200  1.00  0.00           N  
ATOM   4738  CA  GLY G  47      71.300  44.200  87.700  1.00  0.00           C  
ATOM   4739  C   GLY G  47      72.600  44.200  88.500  1.00  0.00           C  
ATOM   4740  O   GLY G  47      73.600  44.900  88.100  1.00  0.00           O  
ATOM   4741  N   PRO G  48      72.900  43.300  89.300  1.00  0.00           N  
ATOM   4742  CD  PRO G  48      71.900  42.200  89.900  1.00  0.00           C  
ATOM   4743  CG  PRO G  48      72.700  41.400  90.900  1.00  0.00           C  
ATOM   4744  CB  PRO G  48      73.800  42.300  91.400  1.00  0.00           C  
ATOM   4745  CA  PRO G  48      74.100  43.100  90.000  1.00  0.00           C  
ATOM   4746  C   PRO G  48      75.200  42.600  89.200  1.00  0.00           C  
ATOM   4747  O   PRO G  48      75.300  42.300  88.000  1.00  0.00           O  
ATOM   4748  N   GLY G  49      76.400  42.900  89.800  1.00  0.00           N  
ATOM   4749  CA  GLY G  49      77.700  42.500  89.300  1.00  0.00           C  
ATOM   4750  C   GLY G  49      78.300  41.300  90.100  1.00  0.00           C  
ATOM   4751  O   GLY G  49      78.100  41.100  91.200  1.00  0.00           O  
ATOM   4752  N   GLY G  50      78.900  40.400  89.300  1.00  0.00           N  
ATOM   4753  CA  GLY G  50      79.700  39.300  89.900  1.00  0.00           C  
ATOM   4754  C   GLY G  50      81.100  39.700  90.300  1.00  0.00           C  
ATOM   4755  O   GLY G  50      81.400  40.900  90.700  1.00  0.00           O  
ATOM   4756  N   MET G  51      82.000  38.700  90.300  1.00  0.00           N  
ATOM   4757  CA  MET G  51      83.300  38.700  90.800  1.00  0.00           C  
ATOM   4758  CB  MET G  51      83.400  38.000  92.100  1.00  0.00           C  
ATOM   4759  CG  MET G  51      82.900  38.900  93.200  1.00  0.00           C  
ATOM   4760  SD  MET G  51      82.600  38.000  94.900  1.00  0.00           S  
ATOM   4761  CE  MET G  51      84.300  37.900  95.600  1.00  0.00           C  
ATOM   4762  C   MET G  51      84.400  38.200  89.900  1.00  0.00           C  
ATOM   4763  O   MET G  51      85.500  38.700  89.800  1.00  0.00           O  
ATOM   4764  N   HIS G  52      84.000  37.300  88.900  1.00  0.00           N  
ATOM   4765  CA  HIS G  52      84.700  37.000  87.700  1.00  0.00           C  
ATOM   4766  CB  HIS G  52      84.200  35.700  87.200  1.00  0.00           C  
ATOM   4767  CG  HIS G  52      85.000  35.100  86.100  1.00  0.00           C  
ATOM   4768  ND1 HIS G  52      85.000  35.400  84.700  1.00  0.00           N  
ATOM   4769  CE1 HIS G  52      86.100  34.800  84.100  1.00  0.00           C  
ATOM   4770  NE2 HIS G  52      86.800  34.200  85.000  1.00  0.00           N  
ATOM   4771  CD2 HIS G  52      86.100  34.400  86.300  1.00  0.00           C  
ATOM   4772  C   HIS G  52      84.700  38.300  86.700  1.00  0.00           C  
ATOM   4773  O   HIS G  52      83.900  39.200  86.700  1.00  0.00           O  
ATOM   4774  N   VAL G  53      85.700  38.200  85.900  1.00  0.00           N  
ATOM   4775  CA  VAL G  53      85.900  39.300  84.900  1.00  0.00           C  
ATOM   4776  CB  VAL G  53      87.300  39.200  84.200  1.00  0.00           C  
ATOM   4777  CG1 VAL G  53      87.300  37.900  83.400  1.00  0.00           C  
ATOM   4778  CG2 VAL G  53      87.600  40.400  83.400  1.00  0.00           C  
ATOM   4779  C   VAL G  53      84.700  39.500  83.900  1.00  0.00           C  
ATOM   4780  O   VAL G  53      84.400  40.700  83.700  1.00  0.00           O  
ATOM   4781  N   ASP G  54      84.000  38.500  83.500  1.00  0.00           N  
ATOM   4782  CA  ASP G  54      82.900  38.600  82.600  1.00  0.00           C  
ATOM   4783  CB  ASP G  54      82.500  37.200  82.000  1.00  0.00           C  
ATOM   4784  CG  ASP G  54      83.600  36.300  81.300  1.00  0.00           C  
ATOM   4785  OD1 ASP G  54      83.200  35.300  80.600  1.00  0.00           O  
ATOM   4786  OD2 ASP G  54      84.800  36.600  81.300  1.00  0.00           O1-
ATOM   4787  C   ASP G  54      81.700  39.300  83.300  1.00  0.00           C  
ATOM   4788  O   ASP G  54      80.800  39.600  82.600  1.00  0.00           O  
ATOM   4789  N   THR G  55      81.700  39.400  84.600  1.00  0.00           N  
ATOM   4790  CA  THR G  55      80.500  39.800  85.400  1.00  0.00           C  
ATOM   4791  CB  THR G  55      79.900  38.600  86.100  1.00  0.00           C  
ATOM   4792  CG2 THR G  55      79.600  37.500  85.200  1.00  0.00           C  
ATOM   4793  OG1 THR G  55      80.900  38.200  87.000  1.00  0.00           O  
ATOM   4794  C   THR G  55      80.700  40.900  86.300  1.00  0.00           C  
ATOM   4795  O   THR G  55      79.700  41.700  86.600  1.00  0.00           O  
ATOM   4796  N   ALA G  56      81.900  41.300  86.700  1.00  0.00           N  
ATOM   4797  CA  ALA G  56      82.100  42.400  87.700  1.00  0.00           C  
ATOM   4798  CB  ALA G  56      83.500  42.200  88.400  1.00  0.00           C  
ATOM   4799  C   ALA G  56      81.900  43.800  87.200  1.00  0.00           C  
ATOM   4800  O   ALA G  56      82.200  44.200  86.100  1.00  0.00           O  
ATOM   4801  N   ARG G  57      81.400  44.600  88.200  1.00  0.00           N  
ATOM   4802  CA  ARG G  57      81.300  46.000  88.000  1.00  0.00           C  
ATOM   4803  CB  ARG G  57      80.300  46.600  89.000  1.00  0.00           C  
ATOM   4804  CG  ARG G  57      80.400  48.200  89.200  1.00  0.00           C  
ATOM   4805  CD  ARG G  57      79.400  48.700  90.300  1.00  0.00           C  
ATOM   4806  NE  ARG G  57      79.700  50.200  90.400  1.00  0.00           N  
ATOM   4807  CZ  ARG G  57      79.800  51.300  89.500  1.00  0.00           C  
ATOM   4808  NH1 ARG G  57      80.400  52.400  89.900  1.00  0.00           N1+
ATOM   4809  NH2 ARG G  57      79.200  51.100  88.300  1.00  0.00           N  
ATOM   4810  C   ARG G  57      82.500  46.900  87.800  1.00  0.00           C  
ATOM   4811  O   ARG G  57      83.500  46.700  88.600  1.00  0.00           O  
ATOM   4812  N   LEU G  58      82.500  47.800  86.900  1.00  0.00           N  
ATOM   4813  CA  LEU G  58      83.500  48.800  86.700  1.00  0.00           C  
ATOM   4814  CB  LEU G  58      83.400  49.500  85.400  1.00  0.00           C  
ATOM   4815  CG  LEU G  58      84.000  48.700  84.200  1.00  0.00           C  
ATOM   4816  CD1 LEU G  58      83.500  47.400  84.000  1.00  0.00           C  
ATOM   4817  CD2 LEU G  58      83.700  49.700  83.100  1.00  0.00           C  
ATOM   4818  C   LEU G  58      83.500  49.700  87.900  1.00  0.00           C  
ATOM   4819  O   LEU G  58      82.800  50.700  87.900  1.00  0.00           O  
ATOM   4820  N   HIS G  59      84.500  49.700  88.900  1.00  0.00           N  
ATOM   4821  CA  HIS G  59      84.600  50.700  90.000  1.00  0.00           C  
ATOM   4822  CB  HIS G  59      85.100  50.100  91.200  1.00  0.00           C  
ATOM   4823  CG  HIS G  59      84.200  48.900  91.800  1.00  0.00           C  
ATOM   4824  ND1 HIS G  59      82.900  48.900  92.300  1.00  0.00           N  
ATOM   4825  CE1 HIS G  59      82.700  47.700  92.800  1.00  0.00           C  
ATOM   4826  NE2 HIS G  59      83.800  46.800  92.500  1.00  0.00           N  
ATOM   4827  CD2 HIS G  59      84.700  47.700  91.800  1.00  0.00           C  
ATOM   4828  C   HIS G  59      85.600  51.700  89.500  1.00  0.00           C  
ATOM   4829  O   HIS G  59      86.800  51.200  89.100  1.00  0.00           O  
ATOM   4830  N   PRO G  60      85.400  53.000  89.400  1.00  0.00           N  
ATOM   4831  CD  PRO G  60      84.100  53.600  89.700  1.00  0.00           C  
ATOM   4832  CG  PRO G  60      84.200  55.100  89.300  1.00  0.00           C  
ATOM   4833  CB  PRO G  60      85.300  55.000  88.300  1.00  0.00           C  
ATOM   4834  CA  PRO G  60      86.200  53.900  88.900  1.00  0.00           C  
ATOM   4835  C   PRO G  60      87.200  54.500  89.900  1.00  0.00           C  
ATOM   4836  O   PRO G  60      87.100  54.200  91.100  1.00  0.00           O  
ATOM   4837  N   LEU G  61      88.200  55.300  89.400  1.00  0.00           N  
ATOM   4838  CA  LEU G  61      89.000  56.200  90.300  1.00  0.00           C  
ATOM   4839  CB  LEU G  61      90.400  56.400  89.500  1.00  0.00           C  
ATOM   4840  CG  LEU G  61      91.400  57.100  90.300  1.00  0.00           C  
ATOM   4841  CD1 LEU G  61      92.300  56.200  91.300  1.00  0.00           C  
ATOM   4842  CD2 LEU G  61      92.400  57.700  89.400  1.00  0.00           C  
ATOM   4843  C   LEU G  61      88.100  57.500  90.600  1.00  0.00           C  
ATOM   4844  O   LEU G  61      87.400  58.000  89.600  1.00  0.00           O  
ATOM   4845  N   ALA G  62      88.400  58.100  91.700  1.00  0.00           N  
ATOM   4846  CA  ALA G  62      87.700  59.300  92.100  1.00  0.00           C  
ATOM   4847  CB  ALA G  62      87.900  59.600  93.600  1.00  0.00           C  
ATOM   4848  C   ALA G  62      88.000  60.500  91.300  1.00  0.00           C  
ATOM   4849  O   ALA G  62      89.200  60.800  91.200  1.00  0.00           O  
ATOM   4850  N   GLY G  63      87.100  61.200  90.600  1.00  0.00           N  
ATOM   4851  CA  GLY G  63      87.300  62.200  89.500  1.00  0.00           C  
ATOM   4852  C   GLY G  63      88.000  63.400  89.900  1.00  0.00           C  
ATOM   4853  O   GLY G  63      88.000  63.800  91.100  1.00  0.00           O  
ATOM   4854  N   LEU G  64      88.700  64.100  88.900  1.00  0.00           N  
ATOM   4855  CA  LEU G  64      89.100  65.500  89.000  1.00  0.00           C  
ATOM   4856  CB  LEU G  64      89.900  65.800  87.700  1.00  0.00           C  
ATOM   4857  CG  LEU G  64      91.200  65.200  87.400  1.00  0.00           C  
ATOM   4858  CD1 LEU G  64      91.700  65.400  86.000  1.00  0.00           C  
ATOM   4859  CD2 LEU G  64      92.200  65.800  88.400  1.00  0.00           C  
ATOM   4860  C   LEU G  64      88.000  66.400  89.400  1.00  0.00           C  
ATOM   4861  O   LEU G  64      87.100  66.700  88.700  1.00  0.00           O  
ATOM   4862  N   ASP G  65      88.200  66.900  90.600  1.00  0.00           N  
ATOM   4863  CA  ASP G  65      87.300  67.800  91.200  1.00  0.00           C  
ATOM   4864  CB  ASP G  65      88.100  68.400  92.500  1.00  0.00           C  
ATOM   4865  CG  ASP G  65      87.200  69.100  93.500  1.00  0.00           C  
ATOM   4866  OD1 ASP G  65      87.800  69.600  94.500  1.00  0.00           O  
ATOM   4867  OD2 ASP G  65      86.000  69.200  93.300  1.00  0.00           O1-
ATOM   4868  C   ASP G  65      86.700  68.900  90.500  1.00  0.00           C  
ATOM   4869  O   ASP G  65      87.300  69.900  90.200  1.00  0.00           O  
ATOM   4870  N   LYS G  66      85.400  68.800  90.300  1.00  0.00           N  
ATOM   4871  CA  LYS G  66      84.500  69.800  89.700  1.00  0.00           C  
ATOM   4872  CB  LYS G  66      83.300  69.000  89.300  1.00  0.00           C  
ATOM   4873  CG  LYS G  66      83.400  67.700  88.400  1.00  0.00           C  
ATOM   4874  CD  LYS G  66      82.200  66.900  88.400  1.00  0.00           C  
ATOM   4875  CE  LYS G  66      82.200  65.600  87.600  1.00  0.00           C  
ATOM   4876  NZ  LYS G  66      80.900  64.800  87.600  1.00  0.00           N1+
ATOM   4877  C   LYS G  66      84.100  71.000  90.600  1.00  0.00           C  
ATOM   4878  O   LYS G  66      83.300  71.700  90.200  1.00  0.00           O  
ATOM   4879  N   GLY G  67      84.600  71.000  91.900  1.00  0.00           N  
ATOM   4880  CA  GLY G  67      84.300  72.000  92.800  1.00  0.00           C  
ATOM   4881  C   GLY G  67      82.900  72.300  93.300  1.00  0.00           C  
ATOM   4882  O   GLY G  67      82.300  71.400  93.900  1.00  0.00           O  
ATOM   4883  N   VAL G  68      82.300  73.500  93.300  1.00  0.00           N  
ATOM   4884  CA  VAL G  68      81.100  73.900  93.800  1.00  0.00           C  
ATOM   4885  CB  VAL G  68      80.800  75.400  94.200  1.00  0.00           C  
ATOM   4886  CG1 VAL G  68      81.100  76.300  93.000  1.00  0.00           C  
ATOM   4887  CG2 VAL G  68      79.500  75.600  94.700  1.00  0.00           C  
ATOM   4888  C   VAL G  68      80.000  73.300  93.100  1.00  0.00           C  
ATOM   4889  O   VAL G  68      79.800  73.600  91.900  1.00  0.00           O  
ATOM   4890  N   GLU G  69      79.100  72.500  93.700  1.00  0.00           N  
ATOM   4891  CA  GLU G  69      77.900  72.000  93.100  1.00  0.00           C  
ATOM   4892  CB  GLU G  69      78.000  70.400  93.400  1.00  0.00           C  
ATOM   4893  CG  GLU G  69      77.000  69.700  92.500  1.00  0.00           C  
ATOM   4894  CD  GLU G  69      77.200  68.300  92.600  1.00  0.00           C  
ATOM   4895  OE1 GLU G  69      76.600  67.500  91.900  1.00  0.00           O  
ATOM   4896  OE2 GLU G  69      78.000  67.800  93.500  1.00  0.00           O1-
ATOM   4897  C   GLU G  69      76.600  72.600  93.600  1.00  0.00           C  
ATOM   4898  O   GLU G  69      75.600  72.200  93.100  1.00  0.00           O  
ATOM   4899  N   TYR G  70      76.600  73.700  94.300  1.00  0.00           N  
ATOM   4900  CA  TYR G  70      75.500  74.200  94.900  1.00  0.00           C  
ATOM   4901  CB  TYR G  70      75.700  74.000  96.400  1.00  0.00           C  
ATOM   4902  CG  TYR G  70      75.700  72.600  96.900  1.00  0.00           C  
ATOM   4903  CD1 TYR G  70      74.600  71.900  97.600  1.00  0.00           C  
ATOM   4904  CE1 TYR G  70      74.700  70.600  98.200  1.00  0.00           C  
ATOM   4905  CZ  TYR G  70      76.000  70.000  98.300  1.00  0.00           C  
ATOM   4906  OH  TYR G  70      76.000  68.700  98.600  1.00  0.00           O  
ATOM   4907  CE2 TYR G  70      77.100  70.700  97.700  1.00  0.00           C  
ATOM   4908  CD2 TYR G  70      77.000  72.000  97.200  1.00  0.00           C  
ATOM   4909  C   TYR G  70      75.400  75.700  94.700  1.00  0.00           C  
ATOM   4910  O   TYR G  70      76.400  76.500  94.800  1.00  0.00           O  
ATOM   4911  N   LEU G  71      74.200  76.300  94.400  1.00  0.00           N  
ATOM   4912  CA  LEU G  71      73.700  77.600  94.400  1.00  0.00           C  
ATOM   4913  CB  LEU G  71      72.500  77.800  93.600  1.00  0.00           C  
ATOM   4914  CG  LEU G  71      72.700  77.600  92.100  1.00  0.00           C  
ATOM   4915  CD1 LEU G  71      73.100  76.200  91.600  1.00  0.00           C  
ATOM   4916  CD2 LEU G  71      71.300  78.000  91.500  1.00  0.00           C  
ATOM   4917  C   LEU G  71      73.500  78.100  95.800  1.00  0.00           C  
ATOM   4918  O   LEU G  71      73.000  77.300  96.600  1.00  0.00           O  
ATOM   4919  N   ASP G  72      73.900  79.400  96.100  1.00  0.00           N  
ATOM   4920  CA  ASP G  72      73.600  80.000  97.300  1.00  0.00           C  
ATOM   4921  CB  ASP G  72      74.400  81.300  97.600  1.00  0.00           C  
ATOM   4922  CG  ASP G  72      75.900  81.000  97.800  1.00  0.00           C  
ATOM   4923  OD1 ASP G  72      76.700  81.900  98.200  1.00  0.00           O  
ATOM   4924  OD2 ASP G  72      76.500  79.900  97.500  1.00  0.00           O1-
ATOM   4925  C   ASP G  72      72.000  80.300  97.400  1.00  0.00           C  
ATOM   4926  O   ASP G  72      71.400  80.200  96.400  1.00  0.00           O  
ATOM   4927  N   LEU G  73      71.600  80.600  98.600  1.00  0.00           N  
ATOM   4928  CA  LEU G  73      70.200  80.900  98.900  1.00  0.00           C  
ATOM   4929  CB  LEU G  73      70.000  81.000 100.300  1.00  0.00           C  
ATOM   4930  CG  LEU G  73      68.500  81.200 100.800  1.00  0.00           C  
ATOM   4931  CD1 LEU G  73      67.600  80.200 100.500  1.00  0.00           C  
ATOM   4932  CD2 LEU G  73      68.500  81.400 102.400  1.00  0.00           C  
ATOM   4933  C   LEU G  73      69.900  82.200  98.100  1.00  0.00           C  
ATOM   4934  O   LEU G  73      70.500  83.200  98.200  1.00  0.00           O  
ATOM   4935  N   GLU G  74      68.700  82.200  97.500  1.00  0.00           N  
ATOM   4936  CA  GLU G  74      68.000  83.400  97.000  1.00  0.00           C  
ATOM   4937  CB  GLU G  74      66.500  83.100  96.600  1.00  0.00           C  
ATOM   4938  CG  GLU G  74      65.700  82.800  97.700  1.00  0.00           C  
ATOM   4939  CD  GLU G  74      64.300  82.100  97.400  1.00  0.00           C  
ATOM   4940  OE1 GLU G  74      63.500  81.900  98.400  1.00  0.00           O  
ATOM   4941  OE2 GLU G  74      64.100  81.800  96.300  1.00  0.00           O1-
ATOM   4942  C   GLU G  74      68.100  84.600  97.800  1.00  0.00           C  
ATOM   4943  O   GLU G  74      68.000  84.600  99.100  1.00  0.00           O  
ATOM   4944  N   GLU G  75      68.300  85.800  97.200  1.00  0.00           N  
ATOM   4945  CA  GLU G  75      68.400  87.100  97.800  1.00  0.00           C  
ATOM   4946  CB  GLU G  75      68.900  88.100  96.700  1.00  0.00           C  
ATOM   4947  CG  GLU G  75      70.400  87.900  96.600  1.00  0.00           C  
ATOM   4948  CD  GLU G  75      70.900  88.800  95.600  1.00  0.00           C  
ATOM   4949  OE1 GLU G  75      71.800  89.600  95.900  1.00  0.00           O  
ATOM   4950  OE2 GLU G  75      70.400  88.800  94.400  1.00  0.00           O1-
ATOM   4951  C   GLU G  75      67.100  87.700  98.400  1.00  0.00           C  
ATOM   4952  O   GLU G  75      67.100  88.900  98.800  1.00  0.00           O  
ATOM   4953  N   GLU G  76      65.900  87.000  98.200  1.00  0.00           N  
ATOM   4954  CA  GLU G  76      64.600  87.400  98.600  1.00  0.00           C  
ATOM   4955  CB  GLU G  76      64.400  87.100 100.100  1.00  0.00           C  
ATOM   4956  CG  GLU G  76      64.700  85.700 100.600  1.00  0.00           C  
ATOM   4957  CD  GLU G  76      64.400  85.400 102.000  1.00  0.00           C  
ATOM   4958  OE1 GLU G  76      64.800  86.400 102.800  1.00  0.00           O  
ATOM   4959  OE2 GLU G  76      64.000  84.400 102.500  1.00  0.00           O1-
ATOM   4960  C   GLU G  76      64.200  88.700  98.200  1.00  0.00           C  
ATOM   4961  O   GLU G  76      63.200  89.200  98.800  1.00  0.00           O  
ATOM   4962  N   GLN G  77      64.700  89.400  97.100  1.00  0.00           N  
ATOM   4963  CA  GLN G  77      64.300  90.600  96.700  1.00  0.00           C  
ATOM   4964  CB  GLN G  77      65.500  91.200  95.800  1.00  0.00           C  
ATOM   4965  CG  GLN G  77      66.600  91.800  96.800  1.00  0.00           C  
ATOM   4966  CD  GLN G  77      66.200  92.900  97.700  1.00  0.00           C  
ATOM   4967  OE1 GLN G  77      65.100  93.400  97.600  1.00  0.00           O  
ATOM   4968  NE2 GLN G  77      66.900  93.300  98.700  1.00  0.00           N  
ATOM   4969  C   GLN G  77      63.000  90.500  95.800  1.00  0.00           C  
ATOM   4970  O   GLN G  77      62.900  91.100  94.700  1.00  0.00           O  
ATOM   4971  N   LEU G  78      62.000  89.900  96.300  1.00  0.00           N  
ATOM   4972  CA  LEU G  78      60.700  89.800  95.600  1.00  0.00           C  
ATOM   4973  CB  LEU G  78      59.800  89.000  96.700  1.00  0.00           C  
ATOM   4974  CG  LEU G  78      60.100  87.700  96.900  1.00  0.00           C  
ATOM   4975  CD1 LEU G  78      59.100  87.000  97.800  1.00  0.00           C  
ATOM   4976  CD2 LEU G  78      60.300  86.700  95.700  1.00  0.00           C  
ATOM   4977  C   LEU G  78      60.000  91.100  95.300  1.00  0.00           C  
ATOM   4978  O   LEU G  78      59.200  91.100  94.500  1.00  0.00           O  
ATOM   4979  N   SER G  79      60.400  92.200  95.800  1.00  0.00           N  
ATOM   4980  CA  SER G  79      59.900  93.600  95.500  1.00  0.00           C  
ATOM   4981  CB  SER G  79      59.900  94.500  96.800  1.00  0.00           C  
ATOM   4982  OG  SER G  79      61.300  94.500  97.200  1.00  0.00           O  
ATOM   4983  C   SER G  79      60.700  94.200  94.400  1.00  0.00           C  
ATOM   4984  O   SER G  79      60.300  95.200  93.900  1.00  0.00           O  
ATOM   4985  N   SER G  80      61.700  93.500  93.700  1.00  0.00           N  
ATOM   4986  CA  SER G  80      62.500  94.100  92.700  1.00  0.00           C  
ATOM   4987  CB  SER G  80      63.700  93.300  92.400  1.00  0.00           C  
ATOM   4988  OG  SER G  80      63.400  92.000  92.100  1.00  0.00           O  
ATOM   4989  C   SER G  80      61.600  94.100  91.400  1.00  0.00           C  
ATOM   4990  O   SER G  80      60.500  93.700  91.300  1.00  0.00           O  
ATOM   4991  N   LEU G  81      62.200  94.800  90.300  1.00  0.00           N  
ATOM   4992  CA  LEU G  81      61.700  95.000  89.000  1.00  0.00           C  
ATOM   4993  CB  LEU G  81      62.700  95.800  88.200  1.00  0.00           C  
ATOM   4994  CG  LEU G  81      62.100  96.100  86.800  1.00  0.00           C  
ATOM   4995  CD1 LEU G  81      60.700  96.700  86.700  1.00  0.00           C  
ATOM   4996  CD2 LEU G  81      63.100  97.000  86.200  1.00  0.00           C  
ATOM   4997  C   LEU G  81      61.300  93.600  88.500  1.00  0.00           C  
ATOM   4998  O   LEU G  81      60.300  93.300  88.000  1.00  0.00           O  
ATOM   4999  N   GLU G  82      62.300  92.700  88.600  1.00  0.00           N  
ATOM   5000  CA  GLU G  82      62.100  91.300  88.100  1.00  0.00           C  
ATOM   5001  CB  GLU G  82      63.400  90.600  88.200  1.00  0.00           C  
ATOM   5002  CG  GLU G  82      64.600  91.000  87.300  1.00  0.00           C  
ATOM   5003  CD  GLU G  82      64.300  90.700  85.900  1.00  0.00           C  
ATOM   5004  OE1 GLU G  82      64.600  91.800  85.100  1.00  0.00           O  
ATOM   5005  OE2 GLU G  82      64.100  89.600  85.400  1.00  0.00           O1-
ATOM   5006  C   GLU G  82      61.200  90.500  89.000  1.00  0.00           C  
ATOM   5007  O   GLU G  82      60.400  89.700  88.500  1.00  0.00           O  
ATOM   5008  N   GLY G  83      61.100  90.900  90.300  1.00  0.00           N  
ATOM   5009  CA  GLY G  83      60.600  90.100  91.300  1.00  0.00           C  
ATOM   5010  C   GLY G  83      59.100  90.200  91.500  1.00  0.00           C  
ATOM   5011  O   GLY G  83      58.400  89.300  91.900  1.00  0.00           O  
ATOM   5012  N   SER G  84      58.500  91.400  91.200  1.00  0.00           N  
ATOM   5013  CA  SER G  84      57.100  91.700  91.200  1.00  0.00           C  
ATOM   5014  CB  SER G  84      56.400  91.000  90.100  1.00  0.00           C  
ATOM   5015  OG  SER G  84      56.600  91.800  88.900  1.00  0.00           O  
ATOM   5016  C   SER G  84      56.300  91.600  92.600  1.00  0.00           C  
ATOM   5017  O   SER G  84      55.900  92.600  93.100  1.00  0.00           O  
ATOM   5018  N   GLN G  85      56.200  90.400  93.100  1.00  0.00           N  
ATOM   5019  CA  GLN G  85      55.500  89.900  94.200  1.00  0.00           C  
ATOM   5020  CB  GLN G  85      55.800  88.600  94.500  1.00  0.00           C  
ATOM   5021  CG  GLN G  85      55.900  87.500  93.300  1.00  0.00           C  
ATOM   5022  CD  GLN G  85      56.200  86.200  94.000  1.00  0.00           C  
ATOM   5023  OE1 GLN G  85      55.600  85.700  94.900  1.00  0.00           O  
ATOM   5024  NE2 GLN G  85      57.300  85.600  93.600  1.00  0.00           N  
ATOM   5025  C   GLN G  85      55.500  90.700  95.500  1.00  0.00           C  
ATOM   5026  O   GLN G  85      54.500  90.900  96.200  1.00  0.00           O  
ATOM   5027  N   GLY G  86      56.700  91.200  95.800  1.00  0.00           N  
ATOM   5028  CA  GLY G  86      56.900  92.100  97.000  1.00  0.00           C  
ATOM   5029  C   GLY G  86      56.300  93.500  96.900  1.00  0.00           C  
ATOM   5030  O   GLY G  86      56.200  94.200  98.000  1.00  0.00           O  
ATOM   5031  N   LEU G  87      56.000  93.900  95.700  1.00  0.00           N  
ATOM   5032  CA  LEU G  87      55.500  95.200  95.500  1.00  0.00           C  
ATOM   5033  CB  LEU G  87      56.500  95.900  94.500  1.00  0.00           C  
ATOM   5034  CG  LEU G  87      56.300  97.400  94.400  1.00  0.00           C  
ATOM   5035  CD1 LEU G  87      56.700  98.100  95.700  1.00  0.00           C  
ATOM   5036  CD2 LEU G  87      57.000  97.900  93.200  1.00  0.00           C  
ATOM   5037  C   LEU G  87      54.100  95.400  94.800  1.00  0.00           C  
ATOM   5038  O   LEU G  87      53.300  96.200  95.300  1.00  0.00           O  
ATOM   5039  N   ILE G  88      53.900  94.800  93.700  1.00  0.00           N  
ATOM   5040  CA  ILE G  88      52.700  94.700  93.000  1.00  0.00           C  
ATOM   5041  CB  ILE G  88      53.000  94.200  91.500  1.00  0.00           C  
ATOM   5042  CG2 ILE G  88      51.800  94.700  90.600  1.00  0.00           C  
ATOM   5043  CG1 ILE G  88      54.200  94.800  90.800  1.00  0.00           C  
ATOM   5044  CD  ILE G  88      54.700  96.200  90.600  1.00  0.00           C  
ATOM   5045  C   ILE G  88      51.600  94.000  93.600  1.00  0.00           C  
ATOM   5046  O   ILE G  88      51.700  92.800  93.700  1.00  0.00           O  
ATOM   5047  N   PRO G  89      50.400  94.500  93.900  1.00  0.00           N  
ATOM   5048  CD  PRO G  89      50.000  96.000  94.000  1.00  0.00           C  
ATOM   5049  CG  PRO G  89      48.600  96.000  94.400  1.00  0.00           C  
ATOM   5050  CB  PRO G  89      48.400  94.800  95.200  1.00  0.00           C  
ATOM   5051  CA  PRO G  89      49.300  93.800  94.500  1.00  0.00           C  
ATOM   5052  C   PRO G  89      48.700  92.900  93.500  1.00  0.00           C  
ATOM   5053  O   PRO G  89      48.500  93.300  92.300  1.00  0.00           O  
ATOM   5054  N   SER G  90      48.300  91.600  93.800  1.00  0.00           N  
ATOM   5055  CA  SER G  90      48.000  90.600  93.000  1.00  0.00           C  
ATOM   5056  CB  SER G  90      47.200  89.500  93.800  1.00  0.00           C  
ATOM   5057  OG  SER G  90      48.200  89.300  94.900  1.00  0.00           O  
ATOM   5058  C   SER G  90      46.900  90.800  91.800  1.00  0.00           C  
ATOM   5059  O   SER G  90      47.100  90.300  90.700  1.00  0.00           O  
ATOM   5060  N   ARG G  91      45.800  91.400  92.200  1.00  0.00           N  
ATOM   5061  CA  ARG G  91      44.900  91.800  91.200  1.00  0.00           C  
ATOM   5062  CB  ARG G  91      44.000  90.600  90.800  1.00  0.00           C  
ATOM   5063  CG  ARG G  91      43.000  90.800  89.700  1.00  0.00           C  
ATOM   5064  CD  ARG G  91      42.100  89.600  89.400  1.00  0.00           C  
ATOM   5065  NE  ARG G  91      43.000  88.400  89.100  1.00  0.00           N  
ATOM   5066  CZ  ARG G  91      43.700  88.200  87.900  1.00  0.00           C  
ATOM   5067  NH1 ARG G  91      43.800  89.000  87.000  1.00  0.00           N1+
ATOM   5068  NH2 ARG G  91      44.600  87.000  88.000  1.00  0.00           N  
ATOM   5069  C   ARG G  91      44.100  93.000  91.800  1.00  0.00           C  
ATOM   5070  O   ARG G  91      43.800  93.200  93.000  1.00  0.00           O  
ATOM   5071  N   GLY G  92      43.500  93.800  90.900  1.00  0.00           N  
ATOM   5072  CA  GLY G  92      42.500  94.800  91.100  1.00  0.00           C  
ATOM   5073  C   GLY G  92      41.100  94.200  91.200  1.00  0.00           C  
ATOM   5074  O   GLY G  92      40.700  93.500  92.200  1.00  0.00           O  
ATOM   5075  N   TRP G  93      40.200  94.300  90.200  1.00  0.00           N  
ATOM   5076  CA  TRP G  93      38.800  94.100  90.400  1.00  0.00           C  
ATOM   5077  CB  TRP G  93      38.100  95.000  89.300  1.00  0.00           C  
ATOM   5078  CG  TRP G  93      36.600  94.900  89.300  1.00  0.00           C  
ATOM   5079  CD1 TRP G  93      35.800  94.500  88.200  1.00  0.00           C  
ATOM   5080  NE1 TRP G  93      34.500  94.600  88.500  1.00  0.00           N  
ATOM   5081  CE2 TRP G  93      34.300  94.600  89.900  1.00  0.00           C  
ATOM   5082  CZ2 TRP G  93      33.200  94.600  90.800  1.00  0.00           C  
ATOM   5083  CH2 TRP G  93      33.400  94.500  92.200  1.00  0.00           C  
ATOM   5084  CZ3 TRP G  93      34.700  94.800  92.700  1.00  0.00           C  
ATOM   5085  CE3 TRP G  93      35.700  95.100  91.800  1.00  0.00           C  
ATOM   5086  CD2 TRP G  93      35.600  94.900  90.300  1.00  0.00           C  
ATOM   5087  C   TRP G  93      38.500  92.600  90.200  1.00  0.00           C  
ATOM   5088  O   TRP G  93      39.200  92.000  89.400  1.00  0.00           O  
ATOM   5089  N   THR G  94      37.400  92.200  90.700  1.00  0.00           N  
ATOM   5090  CA  THR G  94      37.000  90.800  90.800  1.00  0.00           C  
ATOM   5091  CB  THR G  94      35.800  90.500  91.700  1.00  0.00           C  
ATOM   5092  CG2 THR G  94      36.100  90.900  93.100  1.00  0.00           C  
ATOM   5093  OG1 THR G  94      34.800  91.500  91.300  1.00  0.00           O  
ATOM   5094  C   THR G  94      36.500  90.100  89.500  1.00  0.00           C  
ATOM   5095  O   THR G  94      36.500  88.900  89.400  1.00  0.00           O  
ATOM   5096  N   ASP G  95      36.300  91.000  88.400  1.00  0.00           N  
ATOM   5097  CA  ASP G  95      36.000  90.500  87.100  1.00  0.00           C  
ATOM   5098  CB  ASP G  95      34.900  91.100  86.400  1.00  0.00           C  
ATOM   5099  CG  ASP G  95      34.400  90.400  85.200  1.00  0.00           C  
ATOM   5100  OD1 ASP G  95      33.500  90.800  84.500  1.00  0.00           O  
ATOM   5101  OD2 ASP G  95      35.100  89.400  84.800  1.00  0.00           O1-
ATOM   5102  C   ASP G  95      37.300  90.600  86.200  1.00  0.00           C  
ATOM   5103  O   ASP G  95      37.600  91.700  85.700  1.00  0.00           O  
ATOM   5104  N   ASP G  96      38.000  89.500  86.100  1.00  0.00           N  
ATOM   5105  CA  ASP G  96      39.300  89.600  85.400  1.00  0.00           C  
ATOM   5106  CB  ASP G  96      40.200  88.500  86.100  1.00  0.00           C  
ATOM   5107  CG  ASP G  96      39.700  87.000  85.900  1.00  0.00           C  
ATOM   5108  OD1 ASP G  96      40.300  86.000  86.400  1.00  0.00           O  
ATOM   5109  OD2 ASP G  96      38.700  86.800  85.200  1.00  0.00           O1-
ATOM   5110  C   ASP G  96      39.200  89.500  84.000  1.00  0.00           C  
ATOM   5111  O   ASP G  96      40.100  89.100  83.300  1.00  0.00           O  
ATOM   5112  N   LEU G  97      38.200  90.000  83.400  1.00  0.00           N  
ATOM   5113  CA  LEU G  97      37.800  90.200  82.000  1.00  0.00           C  
ATOM   5114  CB  LEU G  97      38.900  91.000  81.200  1.00  0.00           C  
ATOM   5115  CG  LEU G  97      39.000  92.500  81.500  1.00  0.00           C  
ATOM   5116  CD1 LEU G  97      39.600  92.900  82.800  1.00  0.00           C  
ATOM   5117  CD2 LEU G  97      39.800  93.400  80.400  1.00  0.00           C  
ATOM   5118  C   LEU G  97      37.400  88.900  81.300  1.00  0.00           C  
ATOM   5119  O   LEU G  97      37.700  87.900  81.600  1.00  0.00           O  
ATOM   5120  N   CYS G  98      36.700  89.200  80.100  1.00  0.00           N  
ATOM   5121  CA  CYS G  98      36.600  88.200  79.100  1.00  0.00           C  
ATOM   5122  CB  CYS G  98      35.400  88.600  78.200  1.00  0.00           C  
ATOM   5123  SG  CYS G  98      35.000  87.400  76.800  1.00  0.00           S  
ATOM   5124  C   CYS G  98      37.800  87.900  78.200  1.00  0.00           C  
ATOM   5125  O   CYS G  98      38.200  88.800  77.500  1.00  0.00           O  
ATOM   5126  N   TYR G  99      38.300  86.600  78.200  1.00  0.00           N  
ATOM   5127  CA  TYR G  99      39.300  86.200  77.300  1.00  0.00           C  
ATOM   5128  CB  TYR G  99      40.800  86.200  77.800  1.00  0.00           C  
ATOM   5129  CG  TYR G  99      41.000  87.500  78.600  1.00  0.00           C  
ATOM   5130  CD1 TYR G  99      41.300  88.700  77.800  1.00  0.00           C  
ATOM   5131  CE1 TYR G  99      41.600  89.900  78.600  1.00  0.00           C  
ATOM   5132  CZ  TYR G  99      42.000  89.900  79.900  1.00  0.00           C  
ATOM   5133  OH  TYR G  99      42.400  90.900  80.700  1.00  0.00           O  
ATOM   5134  CE2 TYR G  99      41.800  88.600  80.500  1.00  0.00           C  
ATOM   5135  CD2 TYR G  99      41.400  87.400  79.800  1.00  0.00           C  
ATOM   5136  C   TYR G  99      39.100  84.700  76.800  1.00  0.00           C  
ATOM   5137  O   TYR G  99      38.900  83.800  77.500  1.00  0.00           O  
ATOM   5138  N   GLY G 100      39.100  84.600  75.400  1.00  0.00           N  
ATOM   5139  CA  GLY G 100      38.900  83.400  74.600  1.00  0.00           C  
ATOM   5140  C   GLY G 100      40.300  82.800  74.300  1.00  0.00           C  
ATOM   5141  O   GLY G 100      41.400  83.000  74.900  1.00  0.00           O  
ATOM   5142  N   THR G 101      40.300  82.200  73.200  1.00  0.00           N  
ATOM   5143  CA  THR G 101      41.500  81.500  72.500  1.00  0.00           C  
ATOM   5144  CB  THR G 101      41.100  80.200  71.900  1.00  0.00           C  
ATOM   5145  CG2 THR G 101      40.100  80.100  70.700  1.00  0.00           C  
ATOM   5146  OG1 THR G 101      42.300  79.500  71.500  1.00  0.00           O  
ATOM   5147  C   THR G 101      42.200  82.500  71.500  1.00  0.00           C  
ATOM   5148  O   THR G 101      41.600  83.500  71.100  1.00  0.00           O  
ATOM   5149  N   GLY G 102      43.500  82.300  71.200  1.00  0.00           N  
ATOM   5150  CA  GLY G 102      44.300  82.900  70.100  1.00  0.00           C  
ATOM   5151  C   GLY G 102      44.600  81.900  68.900  1.00  0.00           C  
ATOM   5152  O   GLY G 102      45.400  82.300  68.100  1.00  0.00           O  
ATOM   5153  N   ALA G 103      44.000  80.900  68.900  1.00  0.00           N  
ATOM   5154  CA  ALA G 103      43.900  79.900  67.700  1.00  0.00           C  
ATOM   5155  CB  ALA G 103      43.200  78.700  68.000  1.00  0.00           C  
ATOM   5156  C   ALA G 103      43.300  80.600  66.500  1.00  0.00           C  
ATOM   5157  O   ALA G 103      43.400  80.200  65.400  1.00  0.00           O  
ATOM   5158  N   VAL G 104      42.600  81.800  66.700  1.00  0.00           N  
ATOM   5159  CA  VAL G 104      42.100  82.800  65.700  1.00  0.00           C  
ATOM   5160  CB  VAL G 104      41.000  83.700  66.300  1.00  0.00           C  
ATOM   5161  CG1 VAL G 104      39.700  82.900  66.400  1.00  0.00           C  
ATOM   5162  CG2 VAL G 104      41.100  84.400  67.600  1.00  0.00           C  
ATOM   5163  C   VAL G 104      43.200  83.700  65.300  1.00  0.00           C  
ATOM   5164  O   VAL G 104      44.100  84.000  66.100  1.00  0.00           O  
ATOM   5165  N   TYR G 105      43.000  84.300  64.200  1.00  0.00           N  
ATOM   5166  CA  TYR G 105      43.900  85.500  63.800  1.00  0.00           C  
ATOM   5167  CB  TYR G 105      43.600  86.800  64.500  1.00  0.00           C  
ATOM   5168  CG  TYR G 105      43.100  87.800  63.500  1.00  0.00           C  
ATOM   5169  CD1 TYR G 105      44.000  88.900  63.200  1.00  0.00           C  
ATOM   5170  CE1 TYR G 105      43.600  89.800  62.200  1.00  0.00           C  
ATOM   5171  CZ  TYR G 105      42.300  89.700  61.500  1.00  0.00           C  
ATOM   5172  OH  TYR G 105      41.900  90.700  60.700  1.00  0.00           O  
ATOM   5173  CE2 TYR G 105      41.400  88.700  62.000  1.00  0.00           C  
ATOM   5174  CD2 TYR G 105      41.800  87.700  62.900  1.00  0.00           C  
ATOM   5175  C   TYR G 105      45.400  85.200  63.600  1.00  0.00           C  
ATOM   5176  O   TYR G 105      46.200  86.200  63.600  1.00  0.00           O  
ATOM   5177  N   LEU G 106      45.700  84.000  63.500  1.00  0.00           N  
ATOM   5178  CA  LEU G 106      47.200  83.600  63.400  1.00  0.00           C  
ATOM   5179  CB  LEU G 106      47.700  83.800  61.900  1.00  0.00           C  
ATOM   5180  CG  LEU G 106      46.700  83.200  60.800  1.00  0.00           C  
ATOM   5181  CD1 LEU G 106      47.200  84.000  59.600  1.00  0.00           C  
ATOM   5182  CD2 LEU G 106      46.800  81.700  60.800  1.00  0.00           C  
ATOM   5183  C   LEU G 106      48.200  84.100  64.500  1.00  0.00           C  
ATOM   5184  O   LEU G 106      49.400  84.400  64.200  1.00  0.00           O  
ATOM   5185  N   LEU G 107      47.600  84.600  65.600  1.00  0.00           N  
ATOM   5186  CA  LEU G 107      48.300  85.200  66.700  1.00  0.00           C  
ATOM   5187  CB  LEU G 107      47.400  85.700  67.800  1.00  0.00           C  
ATOM   5188  CG  LEU G 107      46.300  86.600  67.300  1.00  0.00           C  
ATOM   5189  CD1 LEU G 107      45.100  86.700  68.200  1.00  0.00           C  
ATOM   5190  CD2 LEU G 107      46.900  88.100  67.300  1.00  0.00           C  
ATOM   5191  C   LEU G 107      49.300  84.200  67.300  1.00  0.00           C  
ATOM   5192  O   LEU G 107      49.200  82.900  67.100  1.00  0.00           O  
ATOM   5193  N   GLY G 108      50.200  84.700  68.200  1.00  0.00           N  
ATOM   5194  CA  GLY G 108      51.200  84.000  68.900  1.00  0.00           C  
ATOM   5195  C   GLY G 108      52.100  83.100  68.000  1.00  0.00           C  
ATOM   5196  O   GLY G 108      52.700  83.600  67.000  1.00  0.00           O  
ATOM   5197  N   LEU G 109      52.200  81.900  68.500  1.00  0.00           N  
ATOM   5198  CA  LEU G 109      52.800  80.800  67.900  1.00  0.00           C  
ATOM   5199  CB  LEU G 109      52.800  79.600  68.900  1.00  0.00           C  
ATOM   5200  CG  LEU G 109      53.700  78.400  68.600  1.00  0.00           C  
ATOM   5201  CD1 LEU G 109      55.100  78.800  68.400  1.00  0.00           C  
ATOM   5202  CD2 LEU G 109      53.500  77.300  69.700  1.00  0.00           C  
ATOM   5203  C   LEU G 109      52.000  80.300  66.700  1.00  0.00           C  
ATOM   5204  O   LEU G 109      52.400  79.400  66.000  1.00  0.00           O  
ATOM   5205  N   GLY G 110      50.900  81.000  66.300  1.00  0.00           N  
ATOM   5206  CA  GLY G 110      50.400  80.700  65.100  1.00  0.00           C  
ATOM   5207  C   GLY G 110      51.200  80.800  63.900  1.00  0.00           C  
ATOM   5208  O   GLY G 110      52.100  81.500  63.700  1.00  0.00           O  
ATOM   5209  N   ILE G 111      51.100  79.700  63.100  1.00  0.00           N  
ATOM   5210  CA  ILE G 111      51.800  79.200  62.000  1.00  0.00           C  
ATOM   5211  CB  ILE G 111      51.400  79.800  60.600  1.00  0.00           C  
ATOM   5212  CG2 ILE G 111      49.800  79.600  60.500  1.00  0.00           C  
ATOM   5213  CG1 ILE G 111      51.600  81.300  60.600  1.00  0.00           C  
ATOM   5214  CD  ILE G 111      51.600  81.800  59.100  1.00  0.00           C  
ATOM   5215  C   ILE G 111      53.300  79.200  62.100  1.00  0.00           C  
ATOM   5216  O   ILE G 111      54.000  79.500  61.100  1.00  0.00           O  
ATOM   5217  N   GLY G 112      53.900  78.900  63.200  1.00  0.00           N  
ATOM   5218  CA  GLY G 112      55.300  78.800  63.500  1.00  0.00           C  
ATOM   5219  C   GLY G 112      55.800  79.900  64.400  1.00  0.00           C  
ATOM   5220  O   GLY G 112      56.900  79.900  64.700  1.00  0.00           O  
ATOM   5221  N   GLY G 113      54.900  80.900  64.600  1.00  0.00           N  
ATOM   5222  CA  GLY G 113      55.200  82.300  64.900  1.00  0.00           C  
ATOM   5223  C   GLY G 113      55.900  82.700  66.200  1.00  0.00           C  
ATOM   5224  O   GLY G 113      55.900  83.800  66.700  1.00  0.00           O  
ATOM   5225  N   PHE G 114      56.700  81.600  66.900  1.00  0.00           N  
ATOM   5226  CA  PHE G 114      57.700  82.000  67.800  1.00  0.00           C  
ATOM   5227  CB  PHE G 114      58.200  80.800  68.400  1.00  0.00           C  
ATOM   5228  CG  PHE G 114      59.400  80.900  69.200  1.00  0.00           C  
ATOM   5229  CD1 PHE G 114      60.800  80.600  68.800  1.00  0.00           C  
ATOM   5230  CE1 PHE G 114      61.900  80.800  69.500  1.00  0.00           C  
ATOM   5231  CZ  PHE G 114      61.900  81.400  70.800  1.00  0.00           C  
ATOM   5232  CE2 PHE G 114      60.500  81.800  71.200  1.00  0.00           C  
ATOM   5233  CD2 PHE G 114      59.400  81.700  70.400  1.00  0.00           C  
ATOM   5234  C   PHE G 114      58.800  82.900  67.200  1.00  0.00           C  
ATOM   5235  O   PHE G 114      59.100  82.700  66.000  1.00  0.00           O  
ATOM   5236  N   SER G 115      59.300  83.900  67.900  1.00  0.00           N  
ATOM   5237  CA  SER G 115      60.200  84.900  67.400  1.00  0.00           C  
ATOM   5238  CB  SER G 115      59.400  86.200  67.200  1.00  0.00           C  
ATOM   5239  OG  SER G 115      60.000  87.200  66.400  1.00  0.00           O  
ATOM   5240  C   SER G 115      61.400  85.100  68.300  1.00  0.00           C  
ATOM   5241  O   SER G 115      61.800  86.100  68.900  1.00  0.00           O  
ATOM   5242  N   GLY G 116      62.100  83.900  68.600  1.00  0.00           N  
ATOM   5243  CA  GLY G 116      63.300  83.900  69.400  1.00  0.00           C  
ATOM   5244  C   GLY G 116      64.500  84.700  68.800  1.00  0.00           C  
ATOM   5245  O   GLY G 116      65.200  85.400  69.700  1.00  0.00           O  
ATOM   5246  N   MET G 117      64.600  84.900  67.500  1.00  0.00           N  
ATOM   5247  CA  MET G 117      65.700  85.700  66.900  1.00  0.00           C  
ATOM   5248  CB  MET G 117      66.200  85.100  65.600  1.00  0.00           C  
ATOM   5249  CG  MET G 117      67.500  85.800  65.100  1.00  0.00           C  
ATOM   5250  SD  MET G 117      69.000  85.400  66.100  1.00  0.00           S  
ATOM   5251  CE  MET G 117      70.100  86.000  64.800  1.00  0.00           C  
ATOM   5252  C   MET G 117      65.300  87.200  66.900  1.00  0.00           C  
ATOM   5253  O   MET G 117      65.700  88.000  67.800  1.00  0.00           O  
ATOM   5254  N   MET G 118      64.300  87.600  65.900  1.00  0.00           N  
ATOM   5255  CA  MET G 118      64.000  89.000  65.800  1.00  0.00           C  
ATOM   5256  CB  MET G 118      62.900  89.000  64.700  1.00  0.00           C  
ATOM   5257  CG  MET G 118      62.200  90.400  64.400  1.00  0.00           C  
ATOM   5258  SD  MET G 118      60.600  90.500  65.300  1.00  0.00           S  
ATOM   5259  CE  MET G 118      60.300  92.200  64.600  1.00  0.00           C  
ATOM   5260  C   MET G 118      63.500  89.600  67.000  1.00  0.00           C  
ATOM   5261  O   MET G 118      63.900  90.800  67.300  1.00  0.00           O  
ATOM   5262  N   GLN G 119      62.600  88.900  67.800  1.00  0.00           N  
ATOM   5263  CA  GLN G 119      62.100  89.600  69.000  1.00  0.00           C  
ATOM   5264  CB  GLN G 119      60.600  89.200  69.100  1.00  0.00           C  
ATOM   5265  CG  GLN G 119      59.800  90.300  69.800  1.00  0.00           C  
ATOM   5266  CD  GLN G 119      58.400  89.800  70.100  1.00  0.00           C  
ATOM   5267  OE1 GLN G 119      57.800  89.000  69.400  1.00  0.00           O  
ATOM   5268  NE2 GLN G 119      57.900  90.200  71.300  1.00  0.00           N  
ATOM   5269  C   GLN G 119      62.800  89.400  70.200  1.00  0.00           C  
ATOM   5270  O   GLN G 119      62.500  89.900  71.300  1.00  0.00           O  
ATOM   5271  N   GLY G 120      63.900  88.500  70.100  1.00  0.00           N  
ATOM   5272  CA  GLY G 120      64.700  88.000  71.200  1.00  0.00           C  
ATOM   5273  C   GLY G 120      66.100  88.400  71.200  1.00  0.00           C  
ATOM   5274  O   GLY G 120      66.500  89.600  71.400  1.00  0.00           O  
ATOM   5275  N   LEU G 121      66.900  87.600  70.600  1.00  0.00           N  
ATOM   5276  CA  LEU G 121      68.400  87.700  70.300  1.00  0.00           C  
ATOM   5277  CB  LEU G 121      68.900  86.600  69.500  1.00  0.00           C  
ATOM   5278  CG  LEU G 121      69.000  85.300  70.400  1.00  0.00           C  
ATOM   5279  CD1 LEU G 121      68.800  84.100  69.700  1.00  0.00           C  
ATOM   5280  CD2 LEU G 121      70.200  85.200  71.300  1.00  0.00           C  
ATOM   5281  C   LEU G 121      68.700  89.100  69.400  1.00  0.00           C  
ATOM   5282  O   LEU G 121      69.600  89.900  69.800  1.00  0.00           O  
ATOM   5283  N   GLN G 122      67.800  89.400  68.600  1.00  0.00           N  
ATOM   5284  CA  GLN G 122      67.900  90.700  67.800  1.00  0.00           C  
ATOM   5285  CB  GLN G 122      67.300  90.600  66.300  1.00  0.00           C  
ATOM   5286  CG  GLN G 122      68.100  89.600  65.500  1.00  0.00           C  
ATOM   5287  CD  GLN G 122      67.600  89.600  64.000  1.00  0.00           C  
ATOM   5288  OE1 GLN G 122      66.500  89.900  63.700  1.00  0.00           O  
ATOM   5289  NE2 GLN G 122      68.500  89.500  63.100  1.00  0.00           N  
ATOM   5290  C   GLN G 122      67.500  91.900  68.600  1.00  0.00           C  
ATOM   5291  O   GLN G 122      67.600  93.100  68.100  1.00  0.00           O  
ATOM   5292  N   ASN G 123      66.700  91.700  69.600  1.00  0.00           N  
ATOM   5293  CA  ASN G 123      66.100  92.800  70.400  1.00  0.00           C  
ATOM   5294  CB  ASN G 123      64.700  92.100  70.700  1.00  0.00           C  
ATOM   5295  CG  ASN G 123      63.700  93.300  71.100  1.00  0.00           C  
ATOM   5296  OD1 ASN G 123      63.800  94.500  70.800  1.00  0.00           O  
ATOM   5297  ND2 ASN G 123      62.500  92.800  71.300  1.00  0.00           N  
ATOM   5298  C   ASN G 123      66.900  93.300  71.600  1.00  0.00           C  
ATOM   5299  O   ASN G 123      66.900  94.500  71.800  1.00  0.00           O  
ATOM   5300  N   ILE G 124      67.600  92.500  72.200  1.00  0.00           N  
ATOM   5301  CA  ILE G 124      68.500  92.700  73.400  1.00  0.00           C  
ATOM   5302  CB  ILE G 124      69.300  91.400  73.700  1.00  0.00           C  
ATOM   5303  CG2 ILE G 124      70.200  91.600  74.900  1.00  0.00           C  
ATOM   5304  CG1 ILE G 124      68.500  90.100  74.000  1.00  0.00           C  
ATOM   5305  CD  ILE G 124      67.300  90.300  74.900  1.00  0.00           C  
ATOM   5306  C   ILE G 124      69.500  93.800  73.000  1.00  0.00           C  
ATOM   5307  O   ILE G 124      69.900  93.900  71.900  1.00  0.00           O  
ATOM   5308  N   PRO G 125      69.800  94.800  73.800  1.00  0.00           N  
ATOM   5309  CD  PRO G 125      69.200  95.000  75.200  1.00  0.00           C  
ATOM   5310  CG  PRO G 125      70.200  96.000  75.900  1.00  0.00           C  
ATOM   5311  CB  PRO G 125      70.500  96.900  74.700  1.00  0.00           C  
ATOM   5312  CA  PRO G 125      70.800  95.800  73.700  1.00  0.00           C  
ATOM   5313  C   PRO G 125      72.200  95.300  73.600  1.00  0.00           C  
ATOM   5314  O   PRO G 125      72.400  94.300  74.300  1.00  0.00           O  
ATOM   5315  N   PRO G 126      73.200  96.000  73.100  1.00  0.00           N  
ATOM   5316  CD  PRO G 126      73.000  97.200  72.200  1.00  0.00           C  
ATOM   5317  CG  PRO G 126      74.300  97.900  72.100  1.00  0.00           C  
ATOM   5318  CB  PRO G 126      75.300  96.800  72.500  1.00  0.00           C  
ATOM   5319  CA  PRO G 126      74.600  95.800  73.400  1.00  0.00           C  
ATOM   5320  C   PRO G 126      74.900  96.400  74.800  1.00  0.00           C  
ATOM   5321  O   PRO G 126      74.100  97.200  75.300  1.00  0.00           O  
ATOM   5322  N   ASN G 127      76.000  96.000  75.400  1.00  0.00           N  
ATOM   5323  CA  ASN G 127      76.200  96.200  76.700  1.00  0.00           C  
ATOM   5324  CB  ASN G 127      77.300  95.200  77.200  1.00  0.00           C  
ATOM   5325  CG  ASN G 127      77.100  93.700  77.000  1.00  0.00           C  
ATOM   5326  OD1 ASN G 127      76.000  93.400  76.400  1.00  0.00           O  
ATOM   5327  ND2 ASN G 127      77.900  92.800  77.500  1.00  0.00           N  
ATOM   5328  C   ASN G 127      76.500  97.600  77.200  1.00  0.00           C  
ATOM   5329  O   ASN G 127      76.600  97.900  78.400  1.00  0.00           O  
ATOM   5330  N   SER G 128      76.700  98.400  76.200  1.00  0.00           N  
ATOM   5331  CA  SER G 128      76.900  99.900  76.200  1.00  0.00           C  
ATOM   5332  CB  SER G 128      78.400 100.200  76.500  1.00  0.00           C  
ATOM   5333  OG  SER G 128      78.600 101.600  76.700  1.00  0.00           O  
ATOM   5334  C   SER G 128      76.400 100.400  74.800  1.00  0.00           C  
ATOM   5335  O   SER G 128      76.500  99.600  73.900  1.00  0.00           O  
ATOM   5336  N   PRO G 129      75.900 101.500  74.700  1.00  0.00           N  
ATOM   5337  CD  PRO G 129      75.700 102.600  75.700  1.00  0.00           C  
ATOM   5338  CG  PRO G 129      74.500 103.300  75.300  1.00  0.00           C  
ATOM   5339  CB  PRO G 129      74.700 103.600  73.800  1.00  0.00           C  
ATOM   5340  CA  PRO G 129      75.200 102.100  73.500  1.00  0.00           C  
ATOM   5341  C   PRO G 129      75.900 101.900  72.200  1.00  0.00           C  
ATOM   5342  O   PRO G 129      77.200 101.800  72.100  1.00  0.00           O  
ATOM   5343  N   GLY G 130      75.100 101.800  71.100  1.00  0.00           N  
ATOM   5344  CA  GLY G 130      75.700 101.600  69.800  1.00  0.00           C  
ATOM   5345  C   GLY G 130      75.200 100.300  69.100  1.00  0.00           C  
ATOM   5346  O   GLY G 130      76.100  99.300  68.900  1.00  0.00           O  
ATOM   5347  N   LYS G 131      73.900 100.000  68.900  1.00  0.00           N  
ATOM   5348  CA  LYS G 131      73.400  98.700  68.500  1.00  0.00           C  
ATOM   5349  CB  LYS G 131      71.900  98.700  68.600  1.00  0.00           C  
ATOM   5350  CG  LYS G 131      71.300  97.300  68.500  1.00  0.00           C  
ATOM   5351  CD  LYS G 131      70.000  97.200  69.300  1.00  0.00           C  
ATOM   5352  CE  LYS G 131      69.500  95.800  68.900  1.00  0.00           C  
ATOM   5353  NZ  LYS G 131      68.100  95.500  69.300  1.00  0.00           N1+
ATOM   5354  C   LYS G 131      73.900  98.400  67.100  1.00  0.00           C  
ATOM   5355  O   LYS G 131      74.100  97.200  66.800  1.00  0.00           O  
ATOM   5356  N   LEU G 132      74.100  99.300  66.200  1.00  0.00           N  
ATOM   5357  CA  LEU G 132      74.500  99.100  64.800  1.00  0.00           C  
ATOM   5358  CB  LEU G 132      74.700 100.400  64.000  1.00  0.00           C  
ATOM   5359  CG  LEU G 132      73.500 101.400  64.000  1.00  0.00           C  
ATOM   5360  CD1 LEU G 132      74.000 102.700  63.300  1.00  0.00           C  
ATOM   5361  CD2 LEU G 132      72.200 100.900  63.500  1.00  0.00           C  
ATOM   5362  C   LEU G 132      75.800  98.200  64.700  1.00  0.00           C  
ATOM   5363  O   LEU G 132      75.900  97.500  63.800  1.00  0.00           O  
ATOM   5364  N   GLN G 133      76.600  98.300  65.700  1.00  0.00           N  
ATOM   5365  CA  GLN G 133      77.800  97.400  65.800  1.00  0.00           C  
ATOM   5366  CB  GLN G 133      78.800  98.200  66.800  1.00  0.00           C  
ATOM   5367  CG  GLN G 133      79.500  99.400  66.300  1.00  0.00           C  
ATOM   5368  CD  GLN G 133      80.600 100.000  67.000  1.00  0.00           C  
ATOM   5369  OE1 GLN G 133      80.900  99.600  68.100  1.00  0.00           O  
ATOM   5370  NE2 GLN G 133      81.400 101.000  66.500  1.00  0.00           N  
ATOM   5371  C   GLN G 133      77.500  96.100  66.300  1.00  0.00           C  
ATOM   5372  O   GLN G 133      78.100  95.100  65.800  1.00  0.00           O  
ATOM   5373  N   LEU G 134      76.500  95.800  67.100  1.00  0.00           N  
ATOM   5374  CA  LEU G 134      75.900  94.500  67.500  1.00  0.00           C  
ATOM   5375  CB  LEU G 134      75.200  94.600  68.800  1.00  0.00           C  
ATOM   5376  CG  LEU G 134      74.300  93.500  69.200  1.00  0.00           C  
ATOM   5377  CD1 LEU G 134      75.200  92.300  69.600  1.00  0.00           C  
ATOM   5378  CD2 LEU G 134      73.300  93.700  70.400  1.00  0.00           C  
ATOM   5379  C   LEU G 134      75.200  93.900  66.300  1.00  0.00           C  
ATOM   5380  O   LEU G 134      75.400  92.700  66.200  1.00  0.00           O  
ATOM   5381  N   ASN G 135      74.500  94.600  65.600  1.00  0.00           N  
ATOM   5382  CA  ASN G 135      73.800  94.200  64.400  1.00  0.00           C  
ATOM   5383  CB  ASN G 135      72.700  95.000  63.900  1.00  0.00           C  
ATOM   5384  CG  ASN G 135      71.500  95.300  64.900  1.00  0.00           C  
ATOM   5385  OD1 ASN G 135      71.300  94.900  66.000  1.00  0.00           O  
ATOM   5386  ND2 ASN G 135      70.600  96.300  64.400  1.00  0.00           N  
ATOM   5387  C   ASN G 135      74.700  93.800  63.300  1.00  0.00           C  
ATOM   5388  O   ASN G 135      74.600  92.600  62.700  1.00  0.00           O  
ATOM   5389  N   THR G 136      76.000  94.400  63.100  1.00  0.00           N  
ATOM   5390  CA  THR G 136      76.900  93.900  62.100  1.00  0.00           C  
ATOM   5391  CB  THR G 136      77.800  95.000  61.700  1.00  0.00           C  
ATOM   5392  CG2 THR G 136      77.300  95.900  60.600  1.00  0.00           C  
ATOM   5393  OG1 THR G 136      78.300  95.600  62.900  1.00  0.00           O  
ATOM   5394  C   THR G 136      77.800  92.700  62.700  1.00  0.00           C  
ATOM   5395  O   THR G 136      77.800  91.600  62.000  1.00  0.00           O  
ATOM   5396  N   VAL G 137      78.100  92.700  64.000  1.00  0.00           N  
ATOM   5397  CA  VAL G 137      78.800  91.700  64.700  1.00  0.00           C  
ATOM   5398  CB  VAL G 137      79.300  92.100  66.000  1.00  0.00           C  
ATOM   5399  CG1 VAL G 137      79.800  91.000  66.900  1.00  0.00           C  
ATOM   5400  CG2 VAL G 137      80.300  93.200  65.800  1.00  0.00           C  
ATOM   5401  C   VAL G 137      78.000  90.300  64.600  1.00  0.00           C  
ATOM   5402  O   VAL G 137      78.500  89.300  64.200  1.00  0.00           O  
ATOM   5403  N   LEU G 138      76.700  90.400  65.000  1.00  0.00           N  
ATOM   5404  CA  LEU G 138      75.800  89.300  65.000  1.00  0.00           C  
ATOM   5405  CB  LEU G 138      74.600  89.600  65.800  1.00  0.00           C  
ATOM   5406  CG  LEU G 138      73.600  88.500  66.000  1.00  0.00           C  
ATOM   5407  CD1 LEU G 138      74.200  87.500  67.000  1.00  0.00           C  
ATOM   5408  CD2 LEU G 138      72.100  88.800  66.300  1.00  0.00           C  
ATOM   5409  C   LEU G 138      75.500  88.800  63.700  1.00  0.00           C  
ATOM   5410  O   LEU G 138      75.300  87.600  63.500  1.00  0.00           O  
ATOM   5411  N   ASN G 139      75.500  89.600  62.600  1.00  0.00           N  
ATOM   5412  CA  ASN G 139      75.500  89.200  61.200  1.00  0.00           C  
ATOM   5413  CB  ASN G 139      75.300  90.400  60.300  1.00  0.00           C  
ATOM   5414  CG  ASN G 139      74.600  90.400  58.900  1.00  0.00           C  
ATOM   5415  OD1 ASN G 139      74.400  89.200  58.400  1.00  0.00           O  
ATOM   5416  ND2 ASN G 139      74.500  91.500  58.400  1.00  0.00           N  
ATOM   5417  C   ASN G 139      76.700  88.400  60.800  1.00  0.00           C  
ATOM   5418  O   ASN G 139      76.600  87.500  60.100  1.00  0.00           O  
ATOM   5419  N   HIS G 140      77.900  88.800  61.300  1.00  0.00           N  
ATOM   5420  CA  HIS G 140      79.200  88.200  61.200  1.00  0.00           C  
ATOM   5421  CB  HIS G 140      80.500  89.000  61.500  1.00  0.00           C  
ATOM   5422  CG  HIS G 140      80.300  90.400  60.700  1.00  0.00           C  
ATOM   5423  ND1 HIS G 140      80.000  90.600  59.300  1.00  0.00           N  
ATOM   5424  CE1 HIS G 140      80.000  91.900  59.200  1.00  0.00           C  
ATOM   5425  NE2 HIS G 140      80.600  92.500  60.300  1.00  0.00           N  
ATOM   5426  CD2 HIS G 140      80.900  91.500  61.200  1.00  0.00           C  
ATOM   5427  C   HIS G 140      79.400  86.800  61.900  1.00  0.00           C  
ATOM   5428  O   HIS G 140      79.800  85.900  61.300  1.00  0.00           O  
ATOM   5429  N   ILE G 141      79.000  86.700  63.200  1.00  0.00           N  
ATOM   5430  CA  ILE G 141      78.600  85.600  63.800  1.00  0.00           C  
ATOM   5431  CB  ILE G 141      78.100  86.000  65.300  1.00  0.00           C  
ATOM   5432  CG2 ILE G 141      77.700  84.800  66.100  1.00  0.00           C  
ATOM   5433  CG1 ILE G 141      79.100  86.700  66.000  1.00  0.00           C  
ATOM   5434  CD  ILE G 141      80.400  85.900  66.500  1.00  0.00           C  
ATOM   5435  C   ILE G 141      77.700  84.600  63.200  1.00  0.00           C  
ATOM   5436  O   ILE G 141      77.900  83.400  63.100  1.00  0.00           O  
ATOM   5437  N   THR G 142      76.500  85.000  62.800  1.00  0.00           N  
ATOM   5438  CA  THR G 142      75.500  84.200  62.100  1.00  0.00           C  
ATOM   5439  CB  THR G 142      74.000  84.700  62.200  1.00  0.00           C  
ATOM   5440  CG2 THR G 142      73.600  84.700  63.700  1.00  0.00           C  
ATOM   5441  OG1 THR G 142      73.800  86.000  61.700  1.00  0.00           O  
ATOM   5442  C   THR G 142      75.900  83.600  60.800  1.00  0.00           C  
ATOM   5443  O   THR G 142      75.600  82.500  60.600  1.00  0.00           O  
ATOM   5444  N   LYS G 143      76.700  84.400  60.000  1.00  0.00           N  
ATOM   5445  CA  LYS G 143      77.300  83.900  58.800  1.00  0.00           C  
ATOM   5446  CB  LYS G 143      77.900  85.100  58.100  1.00  0.00           C  
ATOM   5447  CG  LYS G 143      76.800  85.600  57.200  1.00  0.00           C  
ATOM   5448  CD  LYS G 143      77.000  87.000  56.700  1.00  0.00           C  
ATOM   5449  CE  LYS G 143      75.700  87.500  56.000  1.00  0.00           C  
ATOM   5450  NZ  LYS G 143      75.600  88.900  55.900  1.00  0.00           N1+
ATOM   5451  C   LYS G 143      78.500  83.000  59.200  1.00  0.00           C  
ATOM   5452  O   LYS G 143      79.000  82.300  58.200  1.00  0.00           O  
ATOM   5453  N   ARG G 144      79.000  82.800  60.400  1.00  0.00           N  
ATOM   5454  CA  ARG G 144      80.000  81.900  60.800  1.00  0.00           C  
ATOM   5455  CB  ARG G 144      80.800  82.300  62.100  1.00  0.00           C  
ATOM   5456  CG  ARG G 144      82.300  82.100  61.800  1.00  0.00           C  
ATOM   5457  CD  ARG G 144      83.000  83.000  62.800  1.00  0.00           C  
ATOM   5458  NE  ARG G 144      82.800  82.500  64.200  1.00  0.00           N  
ATOM   5459  CZ  ARG G 144      82.800  83.300  65.300  1.00  0.00           C  
ATOM   5460  NH1 ARG G 144      83.200  84.600  65.400  1.00  0.00           N1+
ATOM   5461  NH2 ARG G 144      82.300  82.600  66.400  1.00  0.00           N  
ATOM   5462  C   ARG G 144      79.500  80.500  60.800  1.00  0.00           C  
ATOM   5463  O   ARG G 144      78.400  80.200  61.400  1.00  0.00           O  
ATOM   5464  N   GLY G 145      80.000  79.400  60.200  1.00  0.00           N  
ATOM   5465  CA  GLY G 145      79.800  78.100  60.500  1.00  0.00           C  
ATOM   5466  C   GLY G 145      80.500  77.600  61.900  1.00  0.00           C  
ATOM   5467  O   GLY G 145      81.000  78.500  62.500  1.00  0.00           O  
ATOM   5468  N   PRO G 146      80.300  76.400  62.300  1.00  0.00           N  
ATOM   5469  CD  PRO G 146      79.700  75.300  61.600  1.00  0.00           C  
ATOM   5470  CG  PRO G 146      79.200  74.300  62.700  1.00  0.00           C  
ATOM   5471  CB  PRO G 146      80.500  74.400  63.600  1.00  0.00           C  
ATOM   5472  CA  PRO G 146      80.800  75.900  63.600  1.00  0.00           C  
ATOM   5473  C   PRO G 146      82.300  76.300  63.800  1.00  0.00           C  
ATOM   5474  O   PRO G 146      83.200  76.400  62.900  1.00  0.00           O  
ATOM   5475  N   PHE G 147      82.700  76.500  65.100  1.00  0.00           N  
ATOM   5476  CA  PHE G 147      83.900  76.900  65.600  1.00  0.00           C  
ATOM   5477  CB  PHE G 147      83.900  76.600  67.100  1.00  0.00           C  
ATOM   5478  CG  PHE G 147      82.800  77.300  67.800  1.00  0.00           C  
ATOM   5479  CD1 PHE G 147      82.800  78.800  67.800  1.00  0.00           C  
ATOM   5480  CE1 PHE G 147      81.700  79.300  68.400  1.00  0.00           C  
ATOM   5481  CZ  PHE G 147      80.900  78.700  69.300  1.00  0.00           C  
ATOM   5482  CE2 PHE G 147      81.000  77.300  69.400  1.00  0.00           C  
ATOM   5483  CD2 PHE G 147      81.900  76.600  68.600  1.00  0.00           C  
ATOM   5484  C   PHE G 147      85.000  76.000  65.100  1.00  0.00           C  
ATOM   5485  O   PHE G 147      85.000  74.800  64.900  1.00  0.00           O  
ATOM   5486  N   LEU G 148      86.100  76.700  64.700  1.00  0.00           N  
ATOM   5487  CA  LEU G 148      87.400  76.100  64.300  1.00  0.00           C  
ATOM   5488  CB  LEU G 148      87.700  76.500  62.900  1.00  0.00           C  
ATOM   5489  CG  LEU G 148      86.700  75.900  61.900  1.00  0.00           C  
ATOM   5490  CD1 LEU G 148      86.800  76.700  60.600  1.00  0.00           C  
ATOM   5491  CD2 LEU G 148      86.800  74.500  61.700  1.00  0.00           C  
ATOM   5492  C   LEU G 148      88.600  76.500  65.200  1.00  0.00           C  
ATOM   5493  O   LEU G 148      88.500  77.500  65.900  1.00  0.00           O  
ATOM   5494  N   GLY G 149      89.700  75.600  65.200  1.00  0.00           N  
ATOM   5495  CA  GLY G 149      90.700  75.800  66.200  1.00  0.00           C  
ATOM   5496  C   GLY G 149      91.600  77.100  66.000  1.00  0.00           C  
ATOM   5497  O   GLY G 149      92.000  77.400  64.900  1.00  0.00           O  
ATOM   5498  N   ASN G 150      91.900  77.600  67.100  1.00  0.00           N  
ATOM   5499  CA  ASN G 150      93.100  78.500  67.300  1.00  0.00           C  
ATOM   5500  CB  ASN G 150      94.300  77.800  67.000  1.00  0.00           C  
ATOM   5501  CG  ASN G 150      94.400  76.500  67.800  1.00  0.00           C  
ATOM   5502  OD1 ASN G 150      94.400  76.300  69.000  1.00  0.00           O  
ATOM   5503  ND2 ASN G 150      94.500  75.500  66.900  1.00  0.00           N  
ATOM   5504  C   ASN G 150      93.000  79.900  66.700  1.00  0.00           C  
ATOM   5505  O   ASN G 150      91.900  80.200  66.000  1.00  0.00           O  
ATOM   5506  N   ASN G 151      94.000  80.700  66.700  1.00  0.00           N  
ATOM   5507  CA  ASN G 151      94.200  81.800  65.800  1.00  0.00           C  
ATOM   5508  CB  ASN G 151      95.500  82.600  66.100  1.00  0.00           C  
ATOM   5509  CG  ASN G 151      95.200  83.400  67.300  1.00  0.00           C  
ATOM   5510  OD1 ASN G 151      94.500  84.300  67.500  1.00  0.00           O  
ATOM   5511  ND2 ASN G 151      96.000  83.100  68.300  1.00  0.00           N  
ATOM   5512  C   ASN G 151      94.300  81.400  64.400  1.00  0.00           C  
ATOM   5513  O   ASN G 151      94.100  82.200  63.400  1.00  0.00           O  
ATOM   5514  N   ALA G 152      94.700  80.100  64.000  1.00  0.00           N  
ATOM   5515  CA  ALA G 152      94.700  79.500  62.800  1.00  0.00           C  
ATOM   5516  CB  ALA G 152      95.400  78.200  62.700  1.00  0.00           C  
ATOM   5517  C   ALA G 152      93.400  79.500  62.100  1.00  0.00           C  
ATOM   5518  O   ALA G 152      93.300  79.700  60.900  1.00  0.00           O  
ATOM   5519  N   GLY G 153      92.300  79.100  62.700  1.00  0.00           N  
ATOM   5520  CA  GLY G 153      91.000  79.000  62.200  1.00  0.00           C  
ATOM   5521  C   GLY G 153      90.800  77.700  61.400  1.00  0.00           C  
ATOM   5522  O   GLY G 153      90.100  77.800  60.500  1.00  0.00           O  
ATOM   5523  N   ILE G 154      91.400  76.600  61.700  1.00  0.00           N  
ATOM   5524  CA  ILE G 154      91.400  75.300  61.000  1.00  0.00           C  
ATOM   5525  CB  ILE G 154      92.400  75.100  60.000  1.00  0.00           C  
ATOM   5526  CG2 ILE G 154      92.200  75.900  58.700  1.00  0.00           C  
ATOM   5527  CG1 ILE G 154      93.800  75.500  60.500  1.00  0.00           C  
ATOM   5528  CD  ILE G 154      95.100  75.000  59.800  1.00  0.00           C  
ATOM   5529  C   ILE G 154      91.400  74.100  62.000  1.00  0.00           C  
ATOM   5530  O   ILE G 154      91.700  74.300  63.200  1.00  0.00           O  
ATOM   5531  N   LEU G 155      90.700  73.000  61.600  1.00  0.00           N  
ATOM   5532  CA  LEU G 155      90.600  71.800  62.300  1.00  0.00           C  
ATOM   5533  CB  LEU G 155      89.300  71.800  63.100  1.00  0.00           C  
ATOM   5534  CG  LEU G 155      88.900  70.600  64.000  1.00  0.00           C  
ATOM   5535  CD1 LEU G 155      89.900  70.300  65.100  1.00  0.00           C  
ATOM   5536  CD2 LEU G 155      87.500  70.900  64.600  1.00  0.00           C  
ATOM   5537  C   LEU G 155      90.700  70.500  61.400  1.00  0.00           C  
ATOM   5538  O   LEU G 155      89.800  70.100  60.700  1.00  0.00           O  
ATOM   5539  N   ALA G 156      91.800  69.800  61.700  1.00  0.00           N  
ATOM   5540  CA  ALA G 156      92.300  68.700  60.900  1.00  0.00           C  
ATOM   5541  CB  ALA G 156      93.800  68.800  60.600  1.00  0.00           C  
ATOM   5542  C   ALA G 156      91.800  67.400  61.600  1.00  0.00           C  
ATOM   5543  O   ALA G 156      92.600  66.700  62.300  1.00  0.00           O  
ATOM   5544  N   LEU G 157      90.500  67.000  61.500  1.00  0.00           N  
ATOM   5545  CA  LEU G 157      89.800  65.900  62.100  1.00  0.00           C  
ATOM   5546  CB  LEU G 157      89.100  66.500  63.400  1.00  0.00           C  
ATOM   5547  CG  LEU G 157      88.100  65.600  64.100  1.00  0.00           C  
ATOM   5548  CD1 LEU G 157      88.600  64.400  64.800  1.00  0.00           C  
ATOM   5549  CD2 LEU G 157      87.400  66.500  65.200  1.00  0.00           C  
ATOM   5550  C   LEU G 157      88.900  65.100  61.300  1.00  0.00           C  
ATOM   5551  O   LEU G 157      89.000  63.800  61.500  1.00  0.00           O  
ATOM   5552  N   SER G 158      88.100  65.600  60.400  1.00  0.00           N  
ATOM   5553  CA  SER G 158      87.100  64.800  59.600  1.00  0.00           C  
ATOM   5554  CB  SER G 158      86.300  65.700  58.800  1.00  0.00           C  
ATOM   5555  OG  SER G 158      87.000  66.100  57.600  1.00  0.00           O  
ATOM   5556  C   SER G 158      87.600  63.700  58.900  1.00  0.00           C  
ATOM   5557  O   SER G 158      87.100  62.600  58.800  1.00  0.00           O  
ATOM   5558  N   TYR G 159      88.900  63.800  58.400  1.00  0.00           N  
ATOM   5559  CA  TYR G 159      89.300  62.700  57.500  1.00  0.00           C  
ATOM   5560  CB  TYR G 159      90.700  63.200  56.800  1.00  0.00           C  
ATOM   5561  CG  TYR G 159      91.000  62.700  55.500  1.00  0.00           C  
ATOM   5562  CD1 TYR G 159      90.200  63.000  54.500  1.00  0.00           C  
ATOM   5563  CE1 TYR G 159      90.500  62.500  53.200  1.00  0.00           C  
ATOM   5564  CZ  TYR G 159      91.500  61.700  53.000  1.00  0.00           C  
ATOM   5565  OH  TYR G 159      92.000  61.200  51.800  1.00  0.00           O  
ATOM   5566  CE2 TYR G 159      92.500  61.400  54.100  1.00  0.00           C  
ATOM   5567  CD2 TYR G 159      92.100  61.900  55.300  1.00  0.00           C  
ATOM   5568  C   TYR G 159      89.600  61.300  58.200  1.00  0.00           C  
ATOM   5569  O   TYR G 159      89.700  60.400  57.400  1.00  0.00           O  
ATOM   5570  N   ASN G 160      89.600  61.300  59.500  1.00  0.00           N  
ATOM   5571  CA  ASN G 160      89.800  60.200  60.300  1.00  0.00           C  
ATOM   5572  CB  ASN G 160      90.700  60.600  61.600  1.00  0.00           C  
ATOM   5573  CG  ASN G 160      91.900  61.400  61.200  1.00  0.00           C  
ATOM   5574  OD1 ASN G 160      92.900  60.900  60.800  1.00  0.00           O  
ATOM   5575  ND2 ASN G 160      91.800  62.800  61.300  1.00  0.00           N  
ATOM   5576  C   ASN G 160      88.500  59.500  60.600  1.00  0.00           C  
ATOM   5577  O   ASN G 160      88.500  58.300  60.900  1.00  0.00           O  
ATOM   5578  N   ILE G 161      87.400  60.300  60.600  1.00  0.00           N  
ATOM   5579  CA  ILE G 161      86.000  60.000  61.200  1.00  0.00           C  
ATOM   5580  CB  ILE G 161      85.700  60.900  62.400  1.00  0.00           C  
ATOM   5581  CG2 ILE G 161      86.800  60.800  63.400  1.00  0.00           C  
ATOM   5582  CG1 ILE G 161      85.500  62.400  61.900  1.00  0.00           C  
ATOM   5583  CD  ILE G 161      85.100  63.300  63.000  1.00  0.00           C  
ATOM   5584  C   ILE G 161      84.900  59.800  60.200  1.00  0.00           C  
ATOM   5585  O   ILE G 161      83.800  59.500  60.500  1.00  0.00           O  
ATOM   5586  N   ILE G 162      85.100  60.200  59.000  1.00  0.00           N  
ATOM   5587  CA  ILE G 162      84.000  60.100  57.900  1.00  0.00           C  
ATOM   5588  CB  ILE G 162      84.300  61.100  56.700  1.00  0.00           C  
ATOM   5589  CG2 ILE G 162      84.100  62.500  57.300  1.00  0.00           C  
ATOM   5590  CG1 ILE G 162      85.600  61.000  56.100  1.00  0.00           C  
ATOM   5591  CD  ILE G 162      86.200  62.000  55.100  1.00  0.00           C  
ATOM   5592  C   ILE G 162      83.800  58.700  57.400  1.00  0.00           C  
ATOM   5593  O   ILE G 162      83.600  58.400  56.200  1.00  0.00           O  
ATOM   5594  N   ASN G 163      83.900  57.600  58.300  1.00  0.00           N  
ATOM   5595  CA  ASN G 163      83.800  56.200  58.100  1.00  0.00           C  
ATOM   5596  CB  ASN G 163      82.300  55.700  57.800  1.00  0.00           C  
ATOM   5597  CG  ASN G 163      81.500  56.000  59.000  1.00  0.00           C  
ATOM   5598  OD1 ASN G 163      81.800  56.300  60.100  1.00  0.00           O  
ATOM   5599  ND2 ASN G 163      80.200  56.100  58.800  1.00  0.00           N  
ATOM   5600  C   ASN G 163      84.800  55.700  57.200  1.00  0.00           C  
ATOM   5601  O   ASN G 163      84.700  54.600  56.600  1.00  0.00           O  
ATOM   5602  N   SER G 164      85.900  56.400  57.000  1.00  0.00           N  
ATOM   5603  CA  SER G 164      87.000  56.100  56.000  1.00  0.00           C  
ATOM   5604  CB  SER G 164      87.900  57.300  55.800  1.00  0.00           C  
ATOM   5605  OG  SER G 164      88.600  57.600  57.000  1.00  0.00           O  
ATOM   5606  C   SER G 164      87.900  54.800  56.400  1.00  0.00           C  
ATOM   5607  O   SER G 164      88.200  54.000  55.600  1.00  0.00           O  
ATOM   5608  N   THR G 165      87.900  54.500  57.700  1.00  0.00           N  
ATOM   5609  CA  THR G 165      88.300  53.300  58.200  1.00  0.00           C  
ATOM   5610  CB  THR G 165      88.700  53.500  59.700  1.00  0.00           C  
ATOM   5611  CG2 THR G 165      89.800  54.500  60.100  1.00  0.00           C  
ATOM   5612  OG1 THR G 165      87.700  54.100  60.500  1.00  0.00           O  
ATOM   5613  C   THR G 165      87.400  52.200  58.100  1.00  0.00           C  
ATOM   5614  O   THR G 165      87.800  51.000  58.100  1.00  0.00           O  
ATOM   5615  N   ILE G 166      86.100  52.400  57.600  1.00  0.00           N  
ATOM   5616  CA  ILE G 166      85.100  51.500  57.600  1.00  0.00           C  
ATOM   5617  CB  ILE G 166      84.100  52.000  58.700  1.00  0.00           C  
ATOM   5618  CG2 ILE G 166      82.900  50.900  58.600  1.00  0.00           C  
ATOM   5619  CG1 ILE G 166      84.700  52.200  60.100  1.00  0.00           C  
ATOM   5620  CD  ILE G 166      83.700  52.900  61.100  1.00  0.00           C  
ATOM   5621  C   ILE G 166      84.600  51.200  56.200  1.00  0.00           C  
ATOM   5622  O   ILE G 166      84.400  50.100  55.800  1.00  0.00           O  
ATOM   5623  N   ASP G 167      84.400  52.200  55.400  1.00  0.00           N  
ATOM   5624  CA  ASP G 167      84.200  52.200  54.000  1.00  0.00           C  
ATOM   5625  CB  ASP G 167      84.100  53.700  53.400  1.00  0.00           C  
ATOM   5626  CG  ASP G 167      83.000  54.500  53.800  1.00  0.00           C  
ATOM   5627  OD1 ASP G 167      82.900  55.700  53.200  1.00  0.00           O  
ATOM   5628  OD2 ASP G 167      82.000  54.000  54.500  1.00  0.00           O1-
ATOM   5629  C   ASP G 167      85.200  51.400  53.200  1.00  0.00           C  
ATOM   5630  O   ASP G 167      84.900  50.500  52.500  1.00  0.00           O  
ATOM   5631  N   ALA G 168      86.500  51.500  53.700  1.00  0.00           N  
ATOM   5632  CA  ALA G 168      87.600  50.900  53.100  1.00  0.00           C  
ATOM   5633  CB  ALA G 168      88.900  51.700  53.300  1.00  0.00           C  
ATOM   5634  C   ALA G 168      87.700  49.400  53.400  1.00  0.00           C  
ATOM   5635  O   ALA G 168      88.600  48.800  52.800  1.00  0.00           O  
ATOM   5636  N   LEU G 169      86.900  48.800  54.300  1.00  0.00           N  
ATOM   5637  CA  LEU G 169      86.700  47.400  54.400  1.00  0.00           C  
ATOM   5638  CB  LEU G 169      85.900  47.200  55.700  1.00  0.00           C  
ATOM   5639  CG  LEU G 169      86.300  47.800  56.900  1.00  0.00           C  
ATOM   5640  CD1 LEU G 169      85.300  47.800  58.100  1.00  0.00           C  
ATOM   5641  CD2 LEU G 169      87.600  46.900  57.300  1.00  0.00           C  
ATOM   5642  C   LEU G 169      86.100  46.700  53.100  1.00  0.00           C  
ATOM   5643  O   LEU G 169      86.300  45.500  53.000  1.00  0.00           O  
ATOM   5644  N   ARG G 170      85.600  47.500  52.200  1.00  0.00           N  
ATOM   5645  CA  ARG G 170      85.100  47.000  50.900  1.00  0.00           C  
ATOM   5646  CB  ARG G 170      84.300  48.000  50.300  1.00  0.00           C  
ATOM   5647  CG  ARG G 170      82.900  48.300  51.000  1.00  0.00           C  
ATOM   5648  CD  ARG G 170      82.100  49.400  50.500  1.00  0.00           C  
ATOM   5649  NE  ARG G 170      81.600  49.500  49.200  1.00  0.00           N  
ATOM   5650  CZ  ARG G 170      80.500  50.000  48.700  1.00  0.00           C  
ATOM   5651  NH1 ARG G 170      79.800  50.800  49.500  1.00  0.00           N1+
ATOM   5652  NH2 ARG G 170      80.200  50.000  47.400  1.00  0.00           N  
ATOM   5653  C   ARG G 170      86.200  46.400  50.100  1.00  0.00           C  
ATOM   5654  O   ARG G 170      87.300  47.100  50.000  1.00  0.00           O  
ATOM   5655  N   GLY G 171      86.100  45.300  49.400  1.00  0.00           N  
ATOM   5656  CA  GLY G 171      87.100  44.800  48.500  1.00  0.00           C  
ATOM   5657  C   GLY G 171      86.400  43.500  47.800  1.00  0.00           C  
ATOM   5658  O   GLY G 171      85.800  42.700  48.300  1.00  0.00           O  
ATOM   5659  N   LYS G 172      86.900  43.600  46.500  1.00  0.00           N  
ATOM   5660  CA  LYS G 172      86.400  42.700  45.400  1.00  0.00           C  
ATOM   5661  CB  LYS G 172      87.000  41.300  45.500  1.00  0.00           C  
ATOM   5662  CG  LYS G 172      87.000  40.500  44.200  1.00  0.00           C  
ATOM   5663  CD  LYS G 172      88.100  40.800  43.200  1.00  0.00           C  
ATOM   5664  CE  LYS G 172      88.100  40.000  42.000  1.00  0.00           C  
ATOM   5665  NZ  LYS G 172      89.200  40.200  41.100  1.00  0.00           N1+
ATOM   5666  C   LYS G 172      85.000  42.800  45.100  1.00  0.00           C  
ATOM   5667  O   LYS G 172      84.500  42.300  44.100  1.00  0.00           O  
ATOM   5668  N   HIS G 173      84.100  43.300  46.100  1.00  0.00           N  
ATOM   5669  CA  HIS G 173      82.700  43.500  46.000  1.00  0.00           C  
ATOM   5670  CB  HIS G 173      82.000  42.200  46.700  1.00  0.00           C  
ATOM   5671  CG  HIS G 173      80.500  42.100  46.600  1.00  0.00           C  
ATOM   5672  ND1 HIS G 173      79.800  42.600  45.600  1.00  0.00           N  
ATOM   5673  CE1 HIS G 173      78.500  42.400  45.900  1.00  0.00           C  
ATOM   5674  NE2 HIS G 173      78.400  41.800  47.000  1.00  0.00           N  
ATOM   5675  CD2 HIS G 173      79.700  41.500  47.500  1.00  0.00           C  
ATOM   5676  C   HIS G 173      82.100  44.800  46.600  1.00  0.00           C  
ATOM   5677  O   HIS G 173      82.700  45.400  47.400  1.00  0.00           O  
ATOM   5678  N   ASP G 174      80.800  45.100  46.100  1.00  0.00           N  
ATOM   5679  CA  ASP G 174      80.100  46.300  46.600  1.00  0.00           C  
ATOM   5680  CB  ASP G 174      78.800  46.400  45.700  1.00  0.00           C  
ATOM   5681  CG  ASP G 174      79.000  46.400  44.200  1.00  0.00           C  
ATOM   5682  OD1 ASP G 174      78.000  46.200  43.500  1.00  0.00           O  
ATOM   5683  OD2 ASP G 174      80.200  46.700  43.800  1.00  0.00           O1-
ATOM   5684  C   ASP G 174      79.600  46.400  48.000  1.00  0.00           C  
ATOM   5685  O   ASP G 174      79.100  47.500  48.500  1.00  0.00           O  
ATOM   5686  N   THR G 175      79.900  45.500  48.900  1.00  0.00           N  
ATOM   5687  CA  THR G 175      79.500  45.300  50.200  1.00  0.00           C  
ATOM   5688  CB  THR G 175      78.000  45.000  50.200  1.00  0.00           C  
ATOM   5689  CG2 THR G 175      77.700  43.800  49.300  1.00  0.00           C  
ATOM   5690  OG1 THR G 175      77.600  44.800  51.600  1.00  0.00           O  
ATOM   5691  C   THR G 175      80.400  44.300  51.000  1.00  0.00           C  
ATOM   5692  O   THR G 175      80.600  43.200  50.500  1.00  0.00           O  
ATOM   5693  N   ALA G 176      80.800  44.600  52.200  1.00  0.00           N  
ATOM   5694  CA  ALA G 176      81.600  43.800  53.100  1.00  0.00           C  
ATOM   5695  CB  ALA G 176      82.500  44.700  53.900  1.00  0.00           C  
ATOM   5696  C   ALA G 176      80.700  42.900  53.900  1.00  0.00           C  
ATOM   5697  O   ALA G 176      81.300  42.000  54.700  1.00  0.00           O  
ATOM   5698  N   GLY G 177      79.400  42.800  53.700  1.00  0.00           N  
ATOM   5699  CA  GLY G 177      78.400  41.900  54.300  1.00  0.00           C  
ATOM   5700  C   GLY G 177      77.100  42.500  54.500  1.00  0.00           C  
ATOM   5701  O   GLY G 177      76.800  43.600  54.500  1.00  0.00           O  
ATOM   5702  N   SER G 178      76.200  41.500  55.100  1.00  0.00           N  
ATOM   5703  CA  SER G 178      74.800  41.800  55.500  1.00  0.00           C  
ATOM   5704  CB  SER G 178      74.000  40.600  55.500  1.00  0.00           C  
ATOM   5705  OG  SER G 178      74.400  39.500  56.200  1.00  0.00           O  
ATOM   5706  C   SER G 178      74.800  42.600  56.900  1.00  0.00           C  
ATOM   5707  O   SER G 178      75.800  42.400  57.600  1.00  0.00           O  
ATOM   5708  N   ILE G 179      73.800  43.300  57.200  1.00  0.00           N  
ATOM   5709  CA  ILE G 179      73.400  43.700  58.400  1.00  0.00           C  
ATOM   5710  CB  ILE G 179      72.500  42.700  59.300  1.00  0.00           C  
ATOM   5711  CG2 ILE G 179      71.200  42.600  58.500  1.00  0.00           C  
ATOM   5712  CG1 ILE G 179      73.300  41.600  59.800  1.00  0.00           C  
ATOM   5713  CD  ILE G 179      72.600  40.500  60.400  1.00  0.00           C  
ATOM   5714  C   ILE G 179      74.400  44.500  59.200  1.00  0.00           C  
ATOM   5715  O   ILE G 179      74.700  44.300  60.400  1.00  0.00           O  
ATOM   5716  N   GLY G 180      75.100  45.400  58.600  1.00  0.00           N  
ATOM   5717  CA  GLY G 180      75.900  46.500  59.200  1.00  0.00           C  
ATOM   5718  C   GLY G 180      75.100  47.700  59.600  1.00  0.00           C  
ATOM   5719  O   GLY G 180      73.800  47.700  59.500  1.00  0.00           O  
ATOM   5720  N   ALA G 181      75.800  48.800  59.900  1.00  0.00           N  
ATOM   5721  CA  ALA G 181      75.000  50.100  60.100  1.00  0.00           C  
ATOM   5722  CB  ALA G 181      76.000  51.100  60.600  1.00  0.00           C  
ATOM   5723  C   ALA G 181      74.200  50.600  59.000  1.00  0.00           C  
ATOM   5724  O   ALA G 181      74.700  50.500  57.800  1.00  0.00           O  
ATOM   5725  N   GLY G 182      72.900  50.900  59.300  1.00  0.00           N  
ATOM   5726  CA  GLY G 182      71.900  51.300  58.300  1.00  0.00           C  
ATOM   5727  C   GLY G 182      71.200  50.000  57.700  1.00  0.00           C  
ATOM   5728  O   GLY G 182      70.000  49.900  57.800  1.00  0.00           O  
ATOM   5729  N   ALA G 183      72.000  49.200  57.100  1.00  0.00           N  
ATOM   5730  CA  ALA G 183      71.700  47.800  56.500  1.00  0.00           C  
ATOM   5731  CB  ALA G 183      72.900  47.100  56.200  1.00  0.00           C  
ATOM   5732  C   ALA G 183      70.900  46.900  57.500  1.00  0.00           C  
ATOM   5733  O   ALA G 183      70.100  46.200  57.100  1.00  0.00           O  
ATOM   5734  N   LEU G 184      71.200  46.900  58.900  1.00  0.00           N  
ATOM   5735  CA  LEU G 184      70.700  46.100  59.900  1.00  0.00           C  
ATOM   5736  CB  LEU G 184      71.300  46.700  61.300  1.00  0.00           C  
ATOM   5737  CG  LEU G 184      71.000  45.900  62.500  1.00  0.00           C  
ATOM   5738  CD1 LEU G 184      72.200  46.200  63.400  1.00  0.00           C  
ATOM   5739  CD2 LEU G 184      69.700  46.100  63.300  1.00  0.00           C  
ATOM   5740  C   LEU G 184      69.200  46.000  60.100  1.00  0.00           C  
ATOM   5741  O   LEU G 184      68.800  44.800  60.300  1.00  0.00           O  
ATOM   5742  N   THR G 185      68.400  47.000  59.700  1.00  0.00           N  
ATOM   5743  CA  THR G 185      67.000  46.900  59.700  1.00  0.00           C  
ATOM   5744  CB  THR G 185      66.400  48.200  60.500  1.00  0.00           C  
ATOM   5745  CG2 THR G 185      67.000  48.400  61.800  1.00  0.00           C  
ATOM   5746  OG1 THR G 185      66.900  49.200  59.600  1.00  0.00           O  
ATOM   5747  C   THR G 185      66.200  46.800  58.400  1.00  0.00           C  
ATOM   5748  O   THR G 185      65.000  46.700  58.500  1.00  0.00           O  
ATOM   5749  N   GLY G 186      66.900  46.700  57.300  1.00  0.00           N  
ATOM   5750  CA  GLY G 186      66.400  46.700  56.000  1.00  0.00           C  
ATOM   5751  C   GLY G 186      65.300  45.700  55.600  1.00  0.00           C  
ATOM   5752  O   GLY G 186      64.600  45.900  54.700  1.00  0.00           O  
ATOM   5753  N   ALA G 187      65.400  44.500  56.200  1.00  0.00           N  
ATOM   5754  CA  ALA G 187      64.500  43.400  56.100  1.00  0.00           C  
ATOM   5755  CB  ALA G 187      65.000  42.200  56.900  1.00  0.00           C  
ATOM   5756  C   ALA G 187      63.000  43.800  56.600  1.00  0.00           C  
ATOM   5757  O   ALA G 187      62.200  43.200  56.200  1.00  0.00           O  
ATOM   5758  N   LEU G 188      62.900  44.800  57.500  1.00  0.00           N  
ATOM   5759  CA  LEU G 188      61.600  45.100  58.000  1.00  0.00           C  
ATOM   5760  CB  LEU G 188      61.700  45.800  59.300  1.00  0.00           C  
ATOM   5761  CG  LEU G 188      62.300  45.000  60.600  1.00  0.00           C  
ATOM   5762  CD1 LEU G 188      62.600  45.900  61.700  1.00  0.00           C  
ATOM   5763  CD2 LEU G 188      61.300  43.900  60.900  1.00  0.00           C  
ATOM   5764  C   LEU G 188      60.800  45.900  57.000  1.00  0.00           C  
ATOM   5765  O   LEU G 188      60.300  47.000  57.200  1.00  0.00           O  
ATOM   5766  N   PHE G 189      60.600  45.400  55.700  1.00  0.00           N  
ATOM   5767  CA  PHE G 189      60.000  46.200  54.700  1.00  0.00           C  
ATOM   5768  CB  PHE G 189      60.300  45.600  53.400  1.00  0.00           C  
ATOM   5769  CG  PHE G 189      59.800  44.200  53.300  1.00  0.00           C  
ATOM   5770  CD1 PHE G 189      60.700  43.100  53.400  1.00  0.00           C  
ATOM   5771  CE1 PHE G 189      60.200  41.800  53.200  1.00  0.00           C  
ATOM   5772  CZ  PHE G 189      59.000  41.600  52.900  1.00  0.00           C  
ATOM   5773  CE2 PHE G 189      58.100  42.600  52.600  1.00  0.00           C  
ATOM   5774  CD2 PHE G 189      58.500  44.000  52.800  1.00  0.00           C  
ATOM   5775  C   PHE G 189      58.500  46.400  54.800  1.00  0.00           C  
ATOM   5776  O   PHE G 189      57.900  47.500  54.300  1.00  0.00           O  
ATOM   5777  N   LYS G 190      57.600  45.600  55.500  1.00  0.00           N  
ATOM   5778  CA  LYS G 190      56.200  45.500  55.600  1.00  0.00           C  
ATOM   5779  CB  LYS G 190      55.600  44.300  56.200  1.00  0.00           C  
ATOM   5780  CG  LYS G 190      55.800  43.100  55.200  1.00  0.00           C  
ATOM   5781  CD  LYS G 190      55.600  41.800  56.000  1.00  0.00           C  
ATOM   5782  CE  LYS G 190      56.000  40.600  55.100  1.00  0.00           C  
ATOM   5783  NZ  LYS G 190      55.900  39.300  55.800  1.00  0.00           N1+
ATOM   5784  C   LYS G 190      55.700  46.800  56.300  1.00  0.00           C  
ATOM   5785  O   LYS G 190      56.200  47.200  57.200  1.00  0.00           O  
ATOM   5786  N   SER G 191      54.500  47.300  55.800  1.00  0.00           N  
ATOM   5787  CA  SER G 191      53.800  48.500  56.300  1.00  0.00           C  
ATOM   5788  CB  SER G 191      53.000  49.200  55.300  1.00  0.00           C  
ATOM   5789  OG  SER G 191      51.800  48.500  55.000  1.00  0.00           O  
ATOM   5790  C   SER G 191      53.200  48.300  57.700  1.00  0.00           C  
ATOM   5791  O   SER G 191      52.800  47.200  58.100  1.00  0.00           O  
ATOM   5792  N   SER G 192      52.900  49.400  58.400  1.00  0.00           N  
ATOM   5793  CA  SER G 192      52.400  49.300  59.800  1.00  0.00           C  
ATOM   5794  CB  SER G 192      52.700  50.600  60.400  1.00  0.00           C  
ATOM   5795  OG  SER G 192      51.900  51.700  60.000  1.00  0.00           O  
ATOM   5796  C   SER G 192      50.800  49.000  59.900  1.00  0.00           C  
ATOM   5797  O   SER G 192      50.100  49.000  59.000  1.00  0.00           O  
ATOM   5798  N   LYS G 193      50.500  48.500  61.100  1.00  0.00           N  
ATOM   5799  CA  LYS G 193      49.100  48.100  61.400  1.00  0.00           C  
ATOM   5800  CB  LYS G 193      48.900  47.800  62.900  1.00  0.00           C  
ATOM   5801  CG  LYS G 193      47.600  46.900  63.100  1.00  0.00           C  
ATOM   5802  CD  LYS G 193      47.400  46.800  64.600  1.00  0.00           C  
ATOM   5803  CE  LYS G 193      46.300  45.800  64.800  1.00  0.00           C  
ATOM   5804  NZ  LYS G 193      45.800  45.800  66.200  1.00  0.00           N1+
ATOM   5805  C   LYS G 193      48.100  49.200  60.900  1.00  0.00           C  
ATOM   5806  O   LYS G 193      47.100  48.700  60.300  1.00  0.00           O  
ATOM   5807  N   GLY G 194      48.200  50.500  60.800  1.00  0.00           N  
ATOM   5808  CA  GLY G 194      47.300  51.400  60.400  1.00  0.00           C  
ATOM   5809  C   GLY G 194      47.300  51.700  58.900  1.00  0.00           C  
ATOM   5810  O   GLY G 194      46.400  52.300  58.300  1.00  0.00           O  
ATOM   5811  N   LEU G 195      48.300  51.100  58.200  1.00  0.00           N  
ATOM   5812  CA  LEU G 195      48.600  51.400  56.700  1.00  0.00           C  
ATOM   5813  CB  LEU G 195      50.100  51.900  56.800  1.00  0.00           C  
ATOM   5814  CG  LEU G 195      50.400  53.200  57.300  1.00  0.00           C  
ATOM   5815  CD1 LEU G 195      51.900  53.600  57.200  1.00  0.00           C  
ATOM   5816  CD2 LEU G 195      49.700  54.500  56.800  1.00  0.00           C  
ATOM   5817  C   LEU G 195      48.600  50.200  55.900  1.00  0.00           C  
ATOM   5818  O   LEU G 195      48.200  50.400  54.600  1.00  0.00           O  
ATOM   5819  N   LYS G 196      48.800  48.900  56.300  1.00  0.00           N  
ATOM   5820  CA  LYS G 196      48.600  47.700  55.600  1.00  0.00           C  
ATOM   5821  CB  LYS G 196      48.800  46.500  56.600  1.00  0.00           C  
ATOM   5822  CG  LYS G 196      49.300  45.300  55.700  1.00  0.00           C  
ATOM   5823  CD  LYS G 196      49.700  44.100  56.600  1.00  0.00           C  
ATOM   5824  CE  LYS G 196      51.100  44.600  57.300  1.00  0.00           C  
ATOM   5825  NZ  LYS G 196      52.000  43.500  57.400  1.00  0.00           N1+
ATOM   5826  C   LYS G 196      47.300  47.600  54.800  1.00  0.00           C  
ATOM   5827  O   LYS G 196      47.400  47.300  53.500  1.00  0.00           O  
ATOM   5828  N   PRO G 197      46.200  47.900  55.400  1.00  0.00           N  
ATOM   5829  CD  PRO G 197      45.900  48.000  56.800  1.00  0.00           C  
ATOM   5830  CG  PRO G 197      44.400  48.200  56.900  1.00  0.00           C  
ATOM   5831  CB  PRO G 197      43.900  47.400  55.700  1.00  0.00           C  
ATOM   5832  CA  PRO G 197      44.900  47.800  54.600  1.00  0.00           C  
ATOM   5833  C   PRO G 197      44.500  49.000  53.800  1.00  0.00           C  
ATOM   5834  O   PRO G 197      43.600  48.900  53.000  1.00  0.00           O  
ATOM   5835  N   MET G 198      45.100  50.200  53.900  1.00  0.00           N  
ATOM   5836  CA  MET G 198      44.900  51.300  53.100  1.00  0.00           C  
ATOM   5837  CB  MET G 198      45.300  52.500  53.900  1.00  0.00           C  
ATOM   5838  CG  MET G 198      44.200  52.900  54.900  1.00  0.00           C  
ATOM   5839  SD  MET G 198      45.000  54.100  56.100  1.00  0.00           S  
ATOM   5840  CE  MET G 198      43.400  54.700  56.700  1.00  0.00           C  
ATOM   5841  C   MET G 198      45.500  51.300  51.700  1.00  0.00           C  
ATOM   5842  O   MET G 198      46.700  51.100  51.500  1.00  0.00           O  
ATOM   5843  N   GLY G 199      44.700  51.500  50.700  1.00  0.00           N  
ATOM   5844  CA  GLY G 199      45.000  51.200  49.300  1.00  0.00           C  
ATOM   5845  C   GLY G 199      45.800  52.300  48.700  1.00  0.00           C  
ATOM   5846  O   GLY G 199      46.800  52.200  48.000  1.00  0.00           O  
ATOM   5847  N   TYR G 200      45.300  53.600  48.800  1.00  0.00           N  
ATOM   5848  CA  TYR G 200      46.000  54.800  48.400  1.00  0.00           C  
ATOM   5849  CB  TYR G 200      44.900  55.600  47.500  1.00  0.00           C  
ATOM   5850  CG  TYR G 200      44.900  55.000  46.100  1.00  0.00           C  
ATOM   5851  CD1 TYR G 200      43.900  54.100  45.700  1.00  0.00           C  
ATOM   5852  CE1 TYR G 200      44.100  53.300  44.600  1.00  0.00           C  
ATOM   5853  CZ  TYR G 200      45.200  53.600  43.600  1.00  0.00           C  
ATOM   5854  OH  TYR G 200      45.400  52.800  42.600  1.00  0.00           O  
ATOM   5855  CE2 TYR G 200      46.100  54.600  44.100  1.00  0.00           C  
ATOM   5856  CD2 TYR G 200      45.900  55.400  45.200  1.00  0.00           C  
ATOM   5857  C   TYR G 200      46.500  55.700  49.500  1.00  0.00           C  
ATOM   5858  O   TYR G 200      45.800  55.900  50.500  1.00  0.00           O  
ATOM   5859  N   SER G 201      47.600  56.500  49.300  1.00  0.00           N  
ATOM   5860  CA  SER G 201      48.200  57.400  50.300  1.00  0.00           C  
ATOM   5861  CB  SER G 201      49.300  58.100  49.800  1.00  0.00           C  
ATOM   5862  OG  SER G 201      50.000  58.500  51.000  1.00  0.00           O  
ATOM   5863  C   SER G 201      47.200  58.400  50.800  1.00  0.00           C  
ATOM   5864  O   SER G 201      47.000  58.700  51.900  1.00  0.00           O  
ATOM   5865  N   SER G 202      46.500  59.100  49.800  1.00  0.00           N  
ATOM   5866  CA  SER G 202      45.200  59.900  50.200  1.00  0.00           C  
ATOM   5867  CB  SER G 202      44.400  60.300  49.000  1.00  0.00           C  
ATOM   5868  OG  SER G 202      44.100  59.200  48.300  1.00  0.00           O  
ATOM   5869  C   SER G 202      44.500  59.500  51.400  1.00  0.00           C  
ATOM   5870  O   SER G 202      44.100  60.300  52.200  1.00  0.00           O  
ATOM   5871  N   ALA G 203      44.000  58.200  51.400  1.00  0.00           N  
ATOM   5872  CA  ALA G 203      43.300  57.600  52.500  1.00  0.00           C  
ATOM   5873  CB  ALA G 203      42.900  56.300  52.100  1.00  0.00           C  
ATOM   5874  C   ALA G 203      44.200  57.400  53.800  1.00  0.00           C  
ATOM   5875  O   ALA G 203      43.500  57.700  54.900  1.00  0.00           O  
ATOM   5876  N   MET G 204      45.500  57.300  53.700  1.00  0.00           N  
ATOM   5877  CA  MET G 204      46.300  57.400  54.900  1.00  0.00           C  
ATOM   5878  CB  MET G 204      47.700  56.600  54.500  1.00  0.00           C  
ATOM   5879  CG  MET G 204      47.700  55.300  53.800  1.00  0.00           C  
ATOM   5880  SD  MET G 204      49.300  54.800  53.100  1.00  0.00           S  
ATOM   5881  CE  MET G 204      49.100  53.200  52.300  1.00  0.00           C  
ATOM   5882  C   MET G 204      46.800  58.800  55.300  1.00  0.00           C  
ATOM   5883  O   MET G 204      46.800  59.100  56.500  1.00  0.00           O  
ATOM   5884  N   VAL G 205      47.000  59.600  54.400  1.00  0.00           N  
ATOM   5885  CA  VAL G 205      47.100  61.100  54.800  1.00  0.00           C  
ATOM   5886  CB  VAL G 205      47.500  61.900  53.500  1.00  0.00           C  
ATOM   5887  CG1 VAL G 205      47.600  63.400  53.800  1.00  0.00           C  
ATOM   5888  CG2 VAL G 205      48.900  61.500  53.000  1.00  0.00           C  
ATOM   5889  C   VAL G 205      45.900  61.700  55.400  1.00  0.00           C  
ATOM   5890  O   VAL G 205      45.900  62.400  56.300  1.00  0.00           O  
ATOM   5891  N   ALA G 206      44.700  61.300  55.000  1.00  0.00           N  
ATOM   5892  CA  ALA G 206      43.300  61.700  55.500  1.00  0.00           C  
ATOM   5893  CB  ALA G 206      42.200  61.100  54.700  1.00  0.00           C  
ATOM   5894  C   ALA G 206      43.300  61.200  56.900  1.00  0.00           C  
ATOM   5895  O   ALA G 206      42.800  61.900  57.800  1.00  0.00           O  
ATOM   5896  N   ALA G 207      43.800  60.000  57.200  1.00  0.00           N  
ATOM   5897  CA  ALA G 207      43.900  59.500  58.500  1.00  0.00           C  
ATOM   5898  CB  ALA G 207      44.000  57.900  58.400  1.00  0.00           C  
ATOM   5899  C   ALA G 207      45.100  60.000  59.400  1.00  0.00           C  
ATOM   5900  O   ALA G 207      45.000  60.000  60.600  1.00  0.00           O  
ATOM   5901  N   ALA G 208      45.900  60.800  58.800  1.00  0.00           N  
ATOM   5902  CA  ALA G 208      46.900  61.600  59.400  1.00  0.00           C  
ATOM   5903  CB  ALA G 208      48.300  61.600  58.800  1.00  0.00           C  
ATOM   5904  C   ALA G 208      46.200  63.000  59.700  1.00  0.00           C  
ATOM   5905  O   ALA G 208      46.400  63.400  60.900  1.00  0.00           O  
ATOM   5906  N   CYS G 209      45.700  63.700  58.800  1.00  0.00           N  
ATOM   5907  CA  CYS G 209      45.100  65.000  59.000  1.00  0.00           C  
ATOM   5908  CB  CYS G 209      44.400  65.300  57.700  1.00  0.00           C  
ATOM   5909  SG  CYS G 209      45.500  65.600  56.200  1.00  0.00           S  
ATOM   5910  C   CYS G 209      44.200  65.200  60.100  1.00  0.00           C  
ATOM   5911  O   CYS G 209      44.200  66.200  60.800  1.00  0.00           O  
ATOM   5912  N   ALA G 210      43.500  64.100  60.500  1.00  0.00           N  
ATOM   5913  CA  ALA G 210      42.900  63.900  61.800  1.00  0.00           C  
ATOM   5914  CB  ALA G 210      42.300  62.600  62.000  1.00  0.00           C  
ATOM   5915  C   ALA G 210      43.700  64.300  63.100  1.00  0.00           C  
ATOM   5916  O   ALA G 210      43.100  65.000  64.000  1.00  0.00           O  
ATOM   5917  N   VAL G 211      45.000  64.000  63.200  1.00  0.00           N  
ATOM   5918  CA  VAL G 211      45.700  64.100  64.400  1.00  0.00           C  
ATOM   5919  CB  VAL G 211      46.900  63.200  64.500  1.00  0.00           C  
ATOM   5920  CG1 VAL G 211      47.800  63.500  65.600  1.00  0.00           C  
ATOM   5921  CG2 VAL G 211      46.700  61.700  64.300  1.00  0.00           C  
ATOM   5922  C   VAL G 211      46.000  65.600  64.600  1.00  0.00           C  
ATOM   5923  O   VAL G 211      45.500  66.100  65.700  1.00  0.00           O  
ATOM   5924  N   TRP G 212      46.500  66.300  63.700  1.00  0.00           N  
ATOM   5925  CA  TRP G 212      46.700  67.700  63.700  1.00  0.00           C  
ATOM   5926  CB  TRP G 212      47.600  67.900  62.500  1.00  0.00           C  
ATOM   5927  CG  TRP G 212      48.700  67.100  62.300  1.00  0.00           C  
ATOM   5928  CD1 TRP G 212      49.100  66.500  61.100  1.00  0.00           C  
ATOM   5929  NE1 TRP G 212      50.200  65.600  61.200  1.00  0.00           N  
ATOM   5930  CE2 TRP G 212      50.600  65.600  62.500  1.00  0.00           C  
ATOM   5931  CZ2 TRP G 212      51.600  64.900  63.100  1.00  0.00           C  
ATOM   5932  CH2 TRP G 212      51.900  65.000  64.500  1.00  0.00           C  
ATOM   5933  CZ3 TRP G 212      51.100  65.900  65.200  1.00  0.00           C  
ATOM   5934  CE3 TRP G 212      50.100  66.700  64.500  1.00  0.00           C  
ATOM   5935  CD2 TRP G 212      49.700  66.500  63.200  1.00  0.00           C  
ATOM   5936  C   TRP G 212      45.400  68.500  63.700  1.00  0.00           C  
ATOM   5937  O   TRP G 212      45.200  69.500  64.400  1.00  0.00           O  
ATOM   5938  N   CYS G 213      44.300  67.800  63.000  1.00  0.00           N  
ATOM   5939  CA  CYS G 213      43.100  68.400  63.200  1.00  0.00           C  
ATOM   5940  CB  CYS G 213      41.900  67.700  62.300  1.00  0.00           C  
ATOM   5941  SG  CYS G 213      40.500  68.600  62.500  1.00  0.00           S  
ATOM   5942  C   CYS G 213      42.500  68.500  64.600  1.00  0.00           C  
ATOM   5943  O   CYS G 213      42.200  69.700  65.000  1.00  0.00           O  
ATOM   5944  N   SER G 214      42.500  67.500  65.300  1.00  0.00           N  
ATOM   5945  CA  SER G 214      42.000  67.400  66.700  1.00  0.00           C  
ATOM   5946  CB  SER G 214      42.200  66.000  67.300  1.00  0.00           C  
ATOM   5947  OG  SER G 214      41.500  65.900  68.600  1.00  0.00           O  
ATOM   5948  C   SER G 214      42.800  68.200  67.700  1.00  0.00           C  
ATOM   5949  O   SER G 214      42.200  69.000  68.500  1.00  0.00           O  
ATOM   5950  N   VAL G 215      44.100  68.300  67.500  1.00  0.00           N  
ATOM   5951  CA  VAL G 215      45.000  69.100  68.300  1.00  0.00           C  
ATOM   5952  CB  VAL G 215      46.500  68.800  68.000  1.00  0.00           C  
ATOM   5953  CG1 VAL G 215      47.500  69.800  68.600  1.00  0.00           C  
ATOM   5954  CG2 VAL G 215      46.900  67.500  68.600  1.00  0.00           C  
ATOM   5955  C   VAL G 215      44.700  70.600  67.900  1.00  0.00           C  
ATOM   5956  O   VAL G 215      44.400  71.300  68.900  1.00  0.00           O  
ATOM   5957  N   LYS G 216      44.300  70.900  66.700  1.00  0.00           N  
ATOM   5958  CA  LYS G 216      43.900  72.300  66.400  1.00  0.00           C  
ATOM   5959  CB  LYS G 216      44.200  72.600  64.900  1.00  0.00           C  
ATOM   5960  CG  LYS G 216      45.600  72.700  64.500  1.00  0.00           C  
ATOM   5961  CD  LYS G 216      45.700  73.200  63.100  1.00  0.00           C  
ATOM   5962  CE  LYS G 216      45.400  72.000  62.100  1.00  0.00           C  
ATOM   5963  NZ  LYS G 216      45.600  72.400  60.700  1.00  0.00           N1+
ATOM   5964  C   LYS G 216      42.500  72.500  66.800  1.00  0.00           C  
ATOM   5965  O   LYS G 216      42.300  73.600  67.400  1.00  0.00           O  
ATOM   5966  N   LYS G 217      41.600  71.600  66.700  1.00  0.00           N  
ATOM   5967  CA  LYS G 217      40.300  71.700  67.200  1.00  0.00           C  
ATOM   5968  CB  LYS G 217      39.500  70.500  66.700  1.00  0.00           C  
ATOM   5969  CG  LYS G 217      37.900  70.600  66.700  1.00  0.00           C  
ATOM   5970  CD  LYS G 217      37.300  69.600  65.800  1.00  0.00           C  
ATOM   5971  CE  LYS G 217      37.700  69.700  64.300  1.00  0.00           C  
ATOM   5972  NZ  LYS G 217      36.700  69.100  63.500  1.00  0.00           N1+
ATOM   5973  C   LYS G 217      40.100  71.800  68.700  1.00  0.00           C  
ATOM   5974  O   LYS G 217      39.100  72.300  69.200  1.00  0.00           O  
ATOM   5975  N   ARG G 218      41.000  71.200  69.500  1.00  0.00           N  
ATOM   5976  CA  ARG G 218      41.100  71.400  70.900  1.00  0.00           C  
ATOM   5977  CB  ARG G 218      41.700  70.200  71.500  1.00  0.00           C  
ATOM   5978  CG  ARG G 218      42.000  70.100  72.900  1.00  0.00           C  
ATOM   5979  CD  ARG G 218      42.600  68.800  73.300  1.00  0.00           C  
ATOM   5980  NE  ARG G 218      43.400  68.700  74.600  1.00  0.00           N  
ATOM   5981  CZ  ARG G 218      44.000  67.700  75.200  1.00  0.00           C  
ATOM   5982  NH1 ARG G 218      44.000  66.400  74.800  1.00  0.00           N1+
ATOM   5983  NH2 ARG G 218      44.600  68.000  76.300  1.00  0.00           N  
ATOM   5984  C   ARG G 218      41.800  72.700  71.300  1.00  0.00           C  
ATOM   5985  O   ARG G 218      41.400  73.400  72.300  1.00  0.00           O  
ATOM   5986  N   LEU G 219      42.800  73.200  70.600  1.00  0.00           N  
ATOM   5987  CA  LEU G 219      43.400  74.400  70.800  1.00  0.00           C  
ATOM   5988  CB  LEU G 219      44.700  74.700  69.900  1.00  0.00           C  
ATOM   5989  CG  LEU G 219      45.900  73.900  70.300  1.00  0.00           C  
ATOM   5990  CD1 LEU G 219      46.800  73.600  69.100  1.00  0.00           C  
ATOM   5991  CD2 LEU G 219      46.600  74.600  71.300  1.00  0.00           C  
ATOM   5992  C   LEU G 219      42.400  75.600  70.500  1.00  0.00           C  
ATOM   5993  O   LEU G 219      42.600  76.700  71.100  1.00  0.00           O  
ATOM   5994  N   LEU G 220      41.400  75.300  69.700  1.00  0.00           N  
ATOM   5995  CA  LEU G 220      40.200  76.200  69.500  1.00  0.00           C  
ATOM   5996  CB  LEU G 220      39.700  75.700  68.200  1.00  0.00           C  
ATOM   5997  CG  LEU G 220      38.600  76.600  67.600  1.00  0.00           C  
ATOM   5998  CD1 LEU G 220      39.100  78.000  67.500  1.00  0.00           C  
ATOM   5999  CD2 LEU G 220      38.000  75.900  66.400  1.00  0.00           C  
ATOM   6000  C   LEU G 220      39.300  76.100  70.600  1.00  0.00           C  
ATOM   6001  O   LEU G 220      38.200  76.900  70.600  1.00  0.00           O  
ATOM   6002  N   GLU G 221      39.400  75.400  71.600  1.00  0.00           N  
ATOM   6003  CA  GLU G 221      38.500  75.200  72.700  1.00  0.00           C  
ATOM   6004  CB  GLU G 221      38.600  76.400  73.700  1.00  0.00           C  
ATOM   6005  CG  GLU G 221      40.100  76.600  74.200  1.00  0.00           C  
ATOM   6006  CD  GLU G 221      40.200  77.300  75.500  1.00  0.00           C  
ATOM   6007  OE1 GLU G 221      41.200  77.300  76.200  1.00  0.00           O  
ATOM   6008  OE2 GLU G 221      39.300  78.000  75.900  1.00  0.00           O1-
ATOM   6009  C   GLU G 221      37.000  74.900  72.400  1.00  0.00           C  
ATOM   6010  O   GLU G 221      36.100  75.000  73.300  1.00  0.00           O  
ATOM   6011  N   LYS G 222      36.700  74.300  71.300  1.00  0.00           N  
ATOM   6012  CA  LYS G 222      35.500  74.300  70.700  1.00  0.00           C  
ATOM   6013  CB  LYS G 222      35.600  74.000  69.200  1.00  0.00           C  
ATOM   6014  CG  LYS G 222      34.300  74.600  68.500  1.00  0.00           C  
ATOM   6015  CD  LYS G 222      34.400  74.700  67.000  1.00  0.00           C  
ATOM   6016  CE  LYS G 222      33.300  75.400  66.200  1.00  0.00           C  
ATOM   6017  NZ  LYS G 222      32.200  74.600  65.900  1.00  0.00           N1+
ATOM   6018  C   LYS G 222      34.600  73.200  71.300  1.00  0.00           C  
ATOM   6019  OC1 LYS G 222      33.300  73.400  71.600  1.00  0.00           O  
ATOM   6020  OC2 LYS G 222      35.100  72.200  71.800  1.00  0.00           O  
TER   
END
`;



function loadmike_combined (protein) {
    var stage=NGL.getStage('viewport'); //alter if not using multiLoader.

    //define colors
    var nonCmap = {'N': '0xffffff', 'O': '0xffffff', 'S': '0xffffff'};
    var sermap={};
    var chainmap={'A': '0xffffff', 'B': '0xffffff', 'C': '0xffffff', 'D': '0xffffff', 'E': '0xffffff', 'F': '0xffffff', 'G': '0xff7f00'};
    var resmap={'B54': '0xff00ff', 'D54': '0xff00ff', 'F54': '0xff00ff'};
    var schemeId = NGL.ColormakerRegistry.addScheme(function (params) {
        this.atomColor = function (atom) {
            chainid=atom.chainid;
            if (! isNaN(parseFloat(chainid))) {chainid=atom.chainname} // hack for chainid/chainIndex/chainname issue if the structure is loaded from string.
            if (atom.serial in sermap)  {return +sermap[atom.serial]}
            else if (atom.element in nonCmap) {return +nonCmap[atom.element]}
            else if (atom.element in nonCmap) {return +nonCmap[atom.element]}
            else if (chainid+atom.resno in resmap) {return +resmap[chainid+atom.resno]}
            else if (chainid in chainmap) {return +chainmap[chainid]}
            else {return 0x7b7d7d} //black as the darkest error!
        };
    });

    //representations
    
    protein.removeAllRepresentations();

        let sticks = new NGL.Selection( "54:B or 54:D or 54:F or 12-13:G or 22:G or 28:G or 38:G or 54:G or 65:G or 69:G or 7:G or 72:G or 74-76:G or 82:G or 95-96:G" );
        protein.addRepresentation( "licorice", {color: schemeId, sele: sticks.string, multipleBond: "symmetric", opacity: 1.0 } );




        let cartoon = new NGL.Selection( "*" );
        myData.current_cartoonScheme = protein.addRepresentation( "cartoon", {color: schemeId,  sele: cartoon.string, smoothSheet: true, opacity: 1.0} );









    //orient
    stage.viewerControls.orient((new NGL.Matrix4).fromArray([99.27131800252937, -210.38807745486338, -105.2796578808011, 0.0, -210.49514895854372, -130.46348433961612, 62.23222188872114, 0.0, -105.06520286692648, 62.59316776584001, -224.15392660777798, 0.0, -65.5819091796875, -65.685302734375, -66.64508056640625, 1.0]));
    stage.setParameters({ cameraFov: 20.0, fogNear: 45.0}); //clipFar: 155.37042236328125, clipNear: -155.37054443359375
}




$(document).ready(function () {
    $('#save').click(function () {
        NGL.getStage('viewport').makeImage({trim: true, antialias: true, transparent: false, factor:10}).then(NGL.download);
    });

    $('#getimplement').click(function () { //this is available to all in case a guest makes a page.
        $('#implement_modal .modal-body').html('<p><i class="far fa-dna fa-spin"></i> Data is loading...</p>');
        $('#implement_modal').modal('show');
        $.ajax({url: "/get",
                data: {page: "1fe5c1ef-7277-4a0d-ad53-50218df6c31b",
                       item: 'implement'},
                method: 'POST'
            }).done( (msg) => {$('#implement_modal .modal-body').html(msg); new ClipboardJS('.clipboard');})
                .fail((msg) => $('#implement_modal .modal-body').html('<p><i class="far fa-biohazard"></i> An error occurred and has been logged.</p>'));
    });

    //

// this gets called only in modal mode. so it's fine.
$('#markup_modal').on('shown.bs.modal', function (e) {
    //move the viewport over...
    $('#viewport').after('<div id="moved_viewport"></div>');
    $('#modal_viewport_box').append($('#viewport').detach());
    NGL.getStage('viewport').handleResize();
    $('#altResidues').children().not('#addResidue').detach();
    interactive_builder();
});

// as above
$('#markup_modal').on('hide.bs.modal', function (e) {
    $('#moved_viewport').before($('#viewport').detach());
    $('#viewport').after('<div id=""></div>');
    $('#moved_viewport').detach();
    NGL.getStage('viewport').handleResize();
});

// update on change (see interactive_builder)
window.interactive_changer = (event, noRun) => {
    try {
        if (NGL.getStage().getComponentByType('structure') === undefined) {
        console.log('async issue!');
        setTimeout(window.interactive_changer, 500, event, noRun);
        return 0;
    }
    $('.is-invalid').removeClass('is-invalid');
    let attributes = ['title', 'color', 'radius', 'tolerance', 'view'].reduce(function (c, key) {
        var value = $('#markup_' + key).val();
        if (!!value) {
            return c + 'data-' + key + '="' + value + '" '
        } else {
            return c
        }
    }, '');
    if ($('#markup_hetero').prop('checked')) {
        attributes += 'data-hetero=true ';
    }
    let mode = $('[name="markup_zoom"]:checked').attr('id');
    let sel_el = $('#markup_selection');
    let structure = NGL.getStage().getComponentByType('structure').structure;
    if ((!!sel_el.val()) && (structure.getView(new NGL.Selection(sel_el.val())).atomCount !== 0)) {
        //There is a select that is valid
        if ((mode === 'residue' || mode === 'clash') && (structure.getView(new NGL.Selection(sel_el.val())).atomCount > 500)) {
            //The selection is too much!
            sel_el.addClass('is-invalid');
            sel_el.removeClass('is-valid');
            return 0;
        } else {
            //The selection is fine.
            attributes += 'data-selection="' + sel_el.val() + '"';
            $('.is-invalid').removeClass('is-invalid').addClass('is-valid');
            ;
        }
    } else if ((!sel_el.val()) && (mode !== 'residue' || mode !== 'clash')) {
        sel_el.val('*');
        attributes += 'data-selection="*"';
        $('.is-invalid').removeClass('is-invalid').removeClass('is-valid');
    } else {
        sel_el.addClass('is-invalid').removeClass('is-valid');
        // load star if not residue...
        if (mode === 'residue' || mode === 'clash') {
            attributes += 'data-selection="hetero"'
        } else {
            attributes += 'data-selection="*"'
        }
        let msele = $('[id^="sele_"]:focus');
        if (msele) {
            msele.addClass('is-invalid')
        }
        return 0;
    }
    let code;
    if (mode === 'default') {
        code = 'data-view="reset"';
    } else if (mode === 'auto') {
        code = 'data-view="auto"';
    } else if (mode === 'orientation') {
        let view_el = $('#markup_view');
        if (!view_el.val()) {
            view_el.addClass('is-invalid');
            setInterval(() => view_el.removeClass('is-invalid'), 1000);
            return 0;
        } else {
            code = 'data-view="' + view_el.val() + '"';
        }

    }
    let model = $('#markup_model').children(':selected').val();
    if (model !== 'none') {
        attributes += ` data-load="${model}"`
    }
    code = 'data-focus="' + mode + '"';
    // add extra residues
    $('#altResidues').children().each((i, v) => {
        sel_el = $(`#markup_selection${i+1}`);
        let s = sel_el.val();
        let c = $(`#markup_color${i+1}`).val();
        let f = $(`#markup_focus${i+1}`).val();
        let structure = NGL.getStage().getComponentByType('structure').structure;
        if ((!! s) && (structure.getView(new NGL.Selection(s)).atomCount !== 0)) {
            attributes +=` data-selection-alt${i+1}="${s}"`;
            attributes +=` data-focus-alt${i+1}="${f}"`;
            if (!! c) {attributes +=` data-color-alt${i+1}="${c}"`}
            sel_el.addClass('is-valid');
            sel_el.removeClass('is-invalid');
        } else {
            sel_el.addClass('is-invalid');
            sel_el.removeClass('is-valid');
        }
    });
    // create and run
    let id = 'viewport';
    let spanCode = '<span class="prolink" data-target="' + id + '" data-toggle="protein" ' + code + ' ' + attributes + '>Try me as a span-element</span>';
    $('#results code').text(spanCode);
    //$('#results span').detach();
    //$('#results p').append(spanCode);
    if (!noRun) {
        NGL.specialOps.prolink(spanCode);
    }
    $('#differing_view').hide(); // Unfortunate side-effect is that the orientation is reset.
    }
    catch (e) {
        console.log(e);
    }


};

// call manually not in modal mode.
window.interactive_builder = () => {
    //buttons.
    $('#markup_color').colorpicker({format: 'hex'});
    // make it more clear what is clicked!
    $('#markup_view_toggle label').click(function () {
        $('#markup_view_toggle label').each(function () {
            $(this).removeClass('btn-success').addClass('btn-secondary');
        });
        $(this).removeClass('btn-secondary').addClass('btn-success');
    });
    //make stuff toggle
    ///const hide_input = (element) => $(element).parent().parent().hide();
    const hide_input = (sele) => $(sele).each(function () {
        $(this).val('');
        $(this).parent().parent().hide();
    });
    //const show_input = (element) => $(element).parent().parent().show();
    const show_input = (sele) => $(sele).each(function () {
        $(this).parent().parent().show()
    });

    $('[name="markup_zoom"]').change(function () {
        //show everything
        show_input('#markup_selection,#markup_color,#markup_radius,#markup_tolerance,#markup_view,#markup_title');
        //hide and clear unwanted
        switch ($(this).attr('id')) {
            case 'domain':
                hide_input('#markup_radius,#markup_tolerance');
                break;
            case 'residue':
                hide_input('#markup_tolerance');
                break;
            case 'orientation':
                hide_input('#markup_selection,#markup_color,#markup_radius,#markup_tolerance');
                if (['', 'auto', 'default'].some(v => $('#markup_view').val() === v)) {
                    $('#markup_view').val('[' + NGL.getStage('viewport').viewerControls.getOrientation().elements.map((v) => Math.round(v * 10) / 10) + ']');
                }
                $('#markup_freeze').prop("checked", false);
                break;
            case 'auto':
                hide_input('#markup_selection,#markup_color,#markup_radius,#markup_tolerance');
                $('#markup_view').val('auto');
                $('#markup_freeze').prop("checked", true);
                break;
            case 'default':
                hide_input('#markup_selection,#markup_color,#markup_radius,#markup_tolerance');
                $('#markup_view').val('default');
                $('#markup_freeze').prop("checked", true);
                break;
            case 'bfactor':
                hide_input('#markup_radius,#markup_tolerance');
                break;
            case 'surface':
                hide_input('#markup_radius,#markup_tolerance');
                break;
            default:
            // code block
        }
    });

    //////////////// Get current view //////////////////////////////
    // this is not independent why? The element does not gets created on show. It's a modal not a tooltip.
    $('#markup_current').click(function () {
        $('#differing_view').hide();
        $('#markup_view').val('[' + NGL.getStage('viewport').viewerControls.getOrientation().elements.map((v) => Math.round(v * 10) / 10) + ']');
        interactive_changer();
    });

    let modelSelector = $('#markup_model');
    myData.proteins.forEach(({value, type}) => modelSelector.append(`<option value="${value}">${value}</option>`));
    //////////////// Ready ///////////////////////////
    //$('#markup_calculate').click(
    //load domain.
    $('#markup_view_toggle label').first().click();
    $('#viewport').focus(); //move the focus away from the first label so that there is no tooltip!
    $('#markup_selection').parent().parent().show();
    $('#markup_color').parent().parent().show();
    // change on change.
    $('#markup_form [id^="markup_"]').on('keyup change input', interactive_changer);
    //alert view change.
    $('#markup_freeze').prop("checked", false);
    $('#differing_view').hide();
    window.alertDifference = () => {
        if ($('#markup_freeze').prop("checked") == true) {
            $('#differing_view').show()
        } else {
            $('#markup_view').val('[' + NGL.getStage('viewport').viewerControls.getOrientation().elements.map((v) => Math.round(v * 10) / 10) + ']');
            interactive_changer(undefined, true); //this will update the code but not run it.
        }
    };
    const sigs = NGL.getStage().mouseObserver.signals;
    sigs.scrolled.add(alertDifference);
    //sigs.moved.add(alertDifference);
    sigs.dragged.add(alertDifference);
};


window.chain_definer = () => {
    if (myData.proteins[myData.currentIndex].chain_definitions) {
        return myData.proteins[myData.currentIndex].chain_definitions;
    } else {  //fallback.
        let structure = NGL.getStage().getComponentByType('structure').structure;
        // get the chainame:
        let chainNames = structure.chainStore.chainname;
        // chainname is a structure where the first of each three entires is the actual chain letter as a int:
        chainNames = chainNames.filter(v => v > 48);
        // chainNames is a uint8 array and needs converting to letter:
        chainNames = Array.from(chainNames).map(v => String.fromCharCode(v));
        let entityList = structure.entityList;
        let values = [];
        if (entityList.length > 0) {
            for (let i = 0; i < entityList.length; i++) {
                //.map(v => structure.chainname[v])
                for (let j = 0; j < entityList[i].chainIndexList.length; j++) {
                    if (entityList[i].entityType === 1) {
                        let I = entityList[i].chainIndexList[j];
                        if (chainNames[I]) {
                            values.push({
                                'idx': I,
                                'chain': chainNames[I], // let's hope that order matches.
                                'name': entityList[i].description
                            });
                        }

                    }
                }
            }
        } else {
            // chainNames sometimes has some repeats?! hetero?
            chainNames = chainNames.filter((v, i, a) => a.indexOf(v) === i);
            values = chainNames.sort().map((v, i) => ({idx: i, value: v, name: v}));
        }
        myData.proteins[myData.currentIndex].chain_definitions = values;
        return values;

    }
};

$('#selection_modal').on('shown.bs.modal', () => {
    $('#sele_chain,#sele_chain2').html('<option value=" ">from all chains</option>');
    //get names if present...
    let names = chain_definer();
    names.forEach(v => $('#sele_chain,#sele_chain2').append(`<option value=":${v.chain}">from chain ${v.chain} (${v.name})</option>`));
    // add elements

    $('#sele_chain option').eq(0).attr('selected', 'selected');
    //option A
    const optA = event => {
        $('#markup_selection').val($('#sele_string').val());
        interactive_changer();
    };
    $('#sele_string').on('keyup change input', optA);
    $('#sele_string_btn').click(event => {
        optA(event);
        $('#selection_modal').modal('hide');
    });
    //option B1
    const optB1 = event => {
        let sele = $('#sele_resi').val() + $('#sele_chain').val();
        $('#markup_selection').val(sele);
        interactive_changer();
    };
    $('#sele_resi,#sele_chain').on('keyup change input', optB1);
    $('#sele_resi_btn').click(event => {
        optB1(event);
        $('#selection_modal').modal('hide');
    });
    //option B2
    const optB2 = event => {
        let sele = $('#sele_from').val() + '-' + $('#sele_to').val() + $('#sele_chain2').val();
        $('#markup_selection').val(sele);
        interactive_changer();
    };
    $('#sele_from,#sele_to,#sele_chain2').on('keyup change input', optB2);
    $('#sele_range_btn').click(event => {
        optB2(event);
        $('#selection_modal').modal('hide');
    });
});

// add alt residues

window.addAltResidue = () => {
    let n = $('#altResidues').children().length;
    $('#addResidue').before(`<div class="row mb-2">
<div class="input-group col-12 col-lg-4">
          <div class="input-group-prepend">
            <span class="input-group-text" id="markup_selection${n}_addon">Extra selection Nº${n}</span>
          </div>
            <input type="text" class="form-control" placeholder="for example 1-10:A" id="markup_selection${n}" aria-describedby="markup_selection${n}_addon">
            </div>
            <div class="input-group col-12 col-lg-4">
          <div class="input-group-prepend">
            <span class="input-group-text" id="markup_color${n}_addon">Extra color Nº${n}</span>
          </div>
            <input type="text" class="form-control" placeholder="for example teal" id="markup_color${n}" aria-describedby="markup_color${n}_addon">
            </div>
            <div class="input-group col-12 col-lg-4">
            <select class="custom-select" id="markup_focus${n}">
              <option value="domain" selected>Domain</option>
              <option value="residue">Residue</option>
            </select>
</div></div>`);
    $('#markup_color'+n).colorpicker({format: 'hex'});
    $(`#markup_selection${n},#markup_color${n},#markup_focus${n}`).on('keyup change input', interactive_changer);
};

$('#addResidue').click(addAltResidue);


//

    //keep track of prolinks
document.execCommand('insertBrOnReturn', false, true);

window.prolinks = {
    elements: [],
    _expandProlink: (description, code, number) => {
        //case 1 the span clicky thing is still there
        description = description.replace(
            new RegExp('<span class=\\W+prolink\\W+ onclick=\\W+prolinks\\.expandProlinkOnClick\\('+number+'\\)\\W+>'+
                '@[Pp]rolink[#_]?'+number+'<\\/span>\\[(.*?)\]','m'),
            code.fore+'$1'+code.aft);
        //case 2 the span thing is not there.
        description = description.replace(new RegExp('@[Pp]rolink[#_]?'+number+'\\[(.*?)\\]','m'), code.fore+'$1'+code.aft);
        return description;
    }
    ,
    expandProlinkOnClickOLD: (number) => {
        let description = $('#edit_description').html();
        let i = parseFloat(number)-1;
        let code = prolinks.elements[i];
        description = prolinks._expandProlink(description, code, number);
        prolinks.elements[i] = null;
        $('#edit_description').html(description);
    },
    expandProlinkOnClick: (number) => {
        // load it in the modal.
        window.currentRange = number;
        $('#markup_modal').modal('show');
        setTimeout(() => {  // really ought to override interactive builder, the fx at modal load
                let pro = $('<span '+prolinks.elements[number-1].fore+' ></span>');
                ['selection', 'color', 'title', 'radius', 'tolerance', 'load'].map((v) => {
                    if (pro.data(v) !== undefined) {$('#markup_'+v).val(pro.data(v) )}
                    else {$('#markup_'+v).val('');}
                });
                if (pro.data('focus') !== undefined) {
                    $('#'+pro.data('focus')).click();
                }
                if (pro.data('hetero') !== undefined) {
                    if (!! pro.data('hetero')) $('#markup_hetero').prop('checked', 'checked')
                    else $('#markup_hetero').removeProp('checked')
                }
                if (pro.data('view') !== undefined) { //do I need to mod this?
                    $('#markup_view').val(JSON.stringify(pro.data('view')));
                } else {$('#markup_view').val('');}
                let i=1;
                while (!! pro.data('selection-alt'+i)) {
                    addAltResidue();
                    $('#markup_selection'+i).val(pro.data('selection-alt'+i));
                    $('#markup_color'+i).val(pro.data('color-alt'+i) || '');
                    $('#markup_focus'+i).val(pro.data('focus-alt'+i) || 'residue');
                    i++;
                }
                if (pro.data('selection-alt'))
                interactive_changer();
                }, 500);
    },
    expandProlinks: () => {
        //on save
        let description = $('#edit_description').html();
        if (prolinks.elements !== null) {
                prolinks.elements.forEach(function (code, i) {
                    if (code !== null) {
                        description = prolinks._expandProlink(description, code, i+1);
                    }

                });
            } else {prolinks.elements = [];}
        $('#edit_description').html(description);
    },
    minimiseProlinks: () => {
        // on load
        let description = $('#edit_description').html();
        /*
        "Editable text. press pen to edit. &lt;span class=\"prolink\" data-target=\"#viewport\" data-toggle=\"protein\" data-focus=\"undefined\"&gt;Try me as a span-element&lt;/span&gt;"
        */
        let promatch = description.match(/&lt;[^&]*?data-toggle=\\?\"protein\"\\? .*?&gt;[\s\S]*?&lt;\/.*?&gt;/gm);
        if (promatch !== null) {
            promatch.forEach(function (elem, i) {
                let elemAsHtml = $('<p>'+elem+'</p>').text();
                let n = prolinks.addProlink(elemAsHtml); // n = i+1
                description = description.replace(elem, prolinks.prolink2md(elemAsHtml,n));
            });
        } else {prolinks.elements = [];}
        $('#edit_description').html(description);
    },
    addProlink: (prolink) => prolinks.elements.push({
                    fore: prolink.replace(/(<.*?>).*?<\/.*?>/,'$1').replace(/</mgi,'&lt;').replace(/>/mgi,'&gt;'),
                    aft: prolink.replace(/<.*?>.*?(<\/.*?>)/,'$1').replace(/</mgi,'&lt;').replace(/>/mgi,'&gt;'),
                    original: prolink
                }),
    prolink2md: (prolink, number) => prolink.replace(
                /<.*?>(.*?)<\/.*?>/,
                '<span class="prolink" onclick="prolinks.expandProlinkOnClick('+number+')">@Prolink#'+number+'</span>[$1]'
            )
};

// buttons
$('#edit_submit').click(function () {
    try {
    ops.addToast('informare','Data submission','Your request is being processed','bg-info');
    if ($('#encryption').prop('checked')) {
        if (! $('#encryption_key').val) {return 0}
    }
    if ($('#collapse_prolinks').prop('checked')) {prolinks.expandProlinks()}
    // convert description to markdown.
    let htmlDescription = $('#edit_description')[0].innerHTML;
    htmlDescription = htmlDescription.replace(/<br.*?>/g,'\n');
    htmlDescription = htmlDescription.replace(/\n?<div>([\s\S]*?)<\/div>\n?/gm, '\n$1\n'); //firefox bug.
    let description = $('<div>'+htmlDescription+'</div>').text(); //changed from html
    //description = description.replace(/<br.*?>/g,'\n\n').replace(/\n+/gm,'\n\n').replace('&gt;','>').replace('&lt;','<').replace('&amp;','&'); //unescape.
    description = description.replace(/<br.*?>/g,'\n\n'); //user physically wrote br.
    description = description.replace(/\n\n+/gm,'\n\n'); //runaway newline bug.
    // @fa[icon-name]
    description = description.replace(/@fa\[(.*?)\]/gi,'<i class="far fa-$1"></i>');

    //console.log('new');
    $('#edit_submit').attr('disabled','disabled').children('.far').removeClass('fa-save').addClass('fa-circle-notch').addClass('fa-spin');
    let new_editors = $('.user-editable-state:checked').map((idx, item) => $(item).data('user')).toArray();
    let in_editor = $('#input_author').val();
    if (in_editor) {new_editors.push(in_editor)}
    let data = {
            'type': 'edit',
            'title': $('#edit_title').val(),
            'description': description,
            'columns_viewport': $('#columns_viewport').val(),
            'columns_text': 12 - parseInt($('#columns_viewport').val()),
            'location_viewport': $('[name="location_viewport"]:checked').val(),
            'image': $('#image').val(),
            'page': '1fe5c1ef-7277-4a0d-ad53-50218df6c31b',
            'residues': $('#edit_residues').val(), //no longer valid.
            'freelyeditable': $('#freelyeditable').prop('checked'),
            'proteinJSON': JSON.stringify($('[role="NGL"]').data('proteins')),
            'backgroundcolor': $('[role="NGL"]').data('backgroundcolor'),
            'new_editors': JSON.stringify(new_editors),
            'encryption': $('#encryption').prop('checked'),
            'encryption_key': $('#encryption_key').val(),
            'public': (public.nodeName == "SELECT") ? public.value : public.checked,
            'confidential': $('#confidential').prop('checked'),
            'model': $('#model').prop('checked'),
            'async_pdb': $('#asyncPDB').prop('checked')
        };
    if (window.initial_prolink !== undefined) {data['data_other'] = window.initial_prolink}
    $.ajax({
        url: "/edit_user-page",
        type: 'POST',
        dataType: 'json',
        data: data
        })
        .done((msg) => location.reload())
        .fail((xhr) => ops.addToast('userpageerror','Error '+xhr.status,'An error occured. '+xhr.responseJSON));

    }
    catch (e) {
        ops.addToast('errare','Clientside error',e.message,'bg-danger');
    }
});

$('#edit_delete').click(function () {
    if (confirm('Are you sure you want to remove this page?')) {
        $.ajax({
            url: "/delete_user-page",
            type: 'POST',
            dataType: 'json',
            data: {
                'type': 'delete',
                'page': $(location).attr("href").split('/').pop().split('.')[0]
            }

        }).done(() => window.location.href = '/')
          .fail(function (msg) {
            console.log('Fail!');
            if (msg.responseJSON) {
                ops.addToast('failure','Error '+msg.status,msg.responseJSON.status,'bg-warning')
            } else {ops.addToast('failure','Error '+msg.status,'Server side error','bg-warning')}
          });
    }
});


//collapse prolinks.
$('#collapse_prolinks').prop('checked', true);
prolinks.minimiseProlinks();

// allow uncollapsing
$('#collapse_prolinks').change((event) => {
    let state = $('#collapse_prolinks').prop('checked');
    if (state === true) {prolinks.minimiseProlinks();}
    else {prolinks.expandProlinks();}
    });


//reset values the stupid way
$('#edit_modal').on('hide.bs.modal', ()=> {window.location.reload();
                                           ops.addToast('resetting',
                                                        'Relaoding page',
                                                        'To ensure that the state of the edit menu is correctly reset, the page will reload.',
                                                        'bg-warning');});


///////////////////////////MODAL/////////////////////////////////////////////////////////////////////
//the prolink making modal is shared elsewhere. Here it gets customised.
$('#results').append('<div class="btn-group mb-3" role="group" aria-label="Use">\n' +
                    '  <button type="button" class="btn btn-success" id="usespan"><i class="far fa-paint-roller"></i> Use element in text</button>\n' +
                    '  <button type="button" class="btn btn-secondary" data-dismiss="modal" aria-label="Close" data-target="#markup_modal"><i class="far fa-sign-out"></i> Cancel</button>\n' +
                    '</div>');

$('#markup_modal_btn').on('click', e => {
    if (document.getSelection().type !== "None") { //Range | Caret
        window.currentRange = document.getSelection().getRangeAt(0);}
    else {
        setTimeout(() => $('#markup_modal').modal('hide'), 500);
        ops.addToast('unselected','Incorrect usage','Please select some text with your cursor to use this','bg-warning');
    }
});

$('#usespan').click(function () {
    $('#markup_calculate').trigger('click');
    let elems=$($('#results').text());
    // select the appropriate one.
    let wanted = elems[0].outerHTML;
    if (window.currentRange === -1) { //initial
        window.initial_prolink = wanted.replace(/(<.*?>).*?<\/.*?>/,'$1').replace(/</mgi,'&lt;').replace(/>/mgi,'&gt;');
    }
    else if (typeof window.currentRange === "number") {  //its a replacement
        prolinks.elements[window.currentRange-1] = {
            fore: wanted.replace(/(<.*?>).*?<\/.*?>/,'$1').replace(/</mgi,'&lt;').replace(/>/mgi,'&gt;'),
            aft: wanted.replace(/<.*?>.*?(<\/.*?>)/,'$1').replace(/</mgi,'&lt;').replace(/>/mgi,'&gt;'),
            original: wanted
        }
    }
    else {  //it is new.
        let n = prolinks.addProlink(wanted);
        let addenda;
        if ($('#collapse_prolinks').prop('checked')) {addenda = prolinks.prolink2md(wanted, n);}
        else {addenda = wanted.replace(/</mgi,'&lt;').replace(/>/mgi,'&gt;');}
        if (window.currentRange.toString().length > 0) {
            addenda = addenda.replace(/Try me as .*?element/,window.currentRange.toString());
        } else {
            addenda = addenda.replace(/Try me as .*?element/,'a custom message');
        }

        window.currentRange.deleteContents();
        let span = '<span>'+addenda+'</span>';
        $('#edit_description')[0].contains(window.currentRange.commonAncestorContainer) ? window.currentRange.insertNode( $(span)[0] ) : $('#edit_description').prepend(span);

    }
    //let d = $('#edit_description');
    //d.html(d.html()+'\n'+addenda);
    //$('[data-toggle="tooltip"]').tooltip();
    $('#markup_modal,#initial_modal').modal('hide');
});

$('#formatting button').click(e => {
    let id = e.target.id || e.target.parentElement.id; //scope madness
    if (id === 'formatting_help') {$('#formatting_help_modal').modal('show'); return 0;}
    let current = document.getSelection().getRangeAt(0);
    let content = current.toString();
    current.deleteContents();
    switch(id) {
      case 'formatting_bold':
        current.insertNode( $('<b>**'+content+'**</b>')[0] );
        break;
      case 'formatting_italic':
        current.insertNode( $('<i>_'+content+'_</i>')[0] );
        break;
      case 'formatting_link':
        current.insertNode( $('<span style="text-decoration: underline; color: blue;">['+content+'](https://URL)</span>')[0] );
        break;
      case 'formatting_h3':
        current.insertNode( $('<h3>### '+content+'    </h3>')[0] );
        break;
      case 'formatting_h4':
        current.insertNode( $('<h4>#### '+content+'      </h4>')[0] );
        break;
      case 'formatting_sub':
        current.insertNode( $('<sub>_{'+content+'}</sub>')[0] );
        break;
      case 'formatting_super':
        current.insertNode( $('<super>^{'+content+'}</super>')[0] );
        break;
      case 'formatting_list':
        current.insertNode( $('<p>* '+content+'</p>')[0]);
        break;
      case 'formatting_list-ol':
        current.insertNode( $('<p>1. '+content+'</p>')[0]);
        break;
       case 'formatting_code':
        current.insertNode( $('<code>`'+content+'`</code>')[0]);
        break;
      case 'formatting_quote':
        current.insertNode( $('<blockquote> > '+content+'</blockquote>')[0]);
        break;
      default:
        current.insertNode( $('<span>&'+id .replace('formatting_','')+';</span>')[0] );
    }
});

//////////////////////////SECURITY///////////////////////////////////////////////////
//deal with odd mutual exclusivity.
$('#public').change(function () {
    if ($(this).prop('checked')) {
        $('#encryption').prop('checked', false);
        $('#confidential').prop('checked', false);
        $('#freelyeditable').prop('checked', false);
    }
});

$('#encryption').change(function () {
    if ($(this).prop('checked')) {
        $('#public').prop('checked', false);
    }
});

$('#freelyeditable').change(function() {
    if ($(this).prop('checked')) {
        if ($('#public').prop('checked')) {
            $('#freelyeditable_error').show();
            setTimeout(()=> $('#freelyeditable_error').hide(1000), 3000);
            $('#freelyeditable').prop('checked',false);
        } else {
            $('#authorlist').hide(1000);
        }
    } else {
        $('#authorlist').show(1000);
    }
});

window.revisions = ['## Description<br/><br/>Editable text. press pen to edit (permissions permitting).<br/><br/>Unedited pages are deleted after a month, while other pages are deleted if unopened within a year.<br/><br/><br/><br/>### peptide and nucleic acid chains<br/><br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-105:A"&gt;1-105:A&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-87:B"&gt;1-87:B&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-105:C"&gt;1-105:C&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-87:D"&gt;1-87:D&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-105:E"&gt;1-105:E&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-87:F"&gt;1-87:F&lt;/span&gt;<br/>* &lt;span class="prolink" data-toggle="protein" data-target="viewport" data-focus="domain" data-selection="1-222:G"&gt;1-222:G&lt;/span&gt;<br/>']
window.loadPastVersion = (i) => {
    if (! confirm('Do you want to revert the description to this version?')) return 0;
    let r = revisions.push($('#edit_description').html()) -1;
    $('#edit_description').html(revisions[i]);
    $('#revision_menu').append(`<a class="dropdown-item" href="#" onclick="loadPastVersion(${r})">unsaved version.</a>`);
};

$('#initial_btn').click(() => {
    // muppet prevention system
    if (myData.proteins[0].loadFx !== undefined) {
        $('#warnAboutLoadfun').show();
    } else {$('#warnAboutLoadfun').hide();}
    // load the modal
    window.currentRange = -1;
});

// this is a copy paste
$('#initial_modal').on('shown.bs.modal', function (e) {
    //move the viewport over...
    $('#viewport').after('<div id="moved_viewport"></div>');
    $('#modal_viewport_boxAlt').append($('#viewport').detach());
    NGL.getStage('viewport').handleResize();
    $('#altResidues').children().not('#addResidue').detach();
    let mf = $('#markup_form').detach();
    $('#markup_formAlt').append(mf);
    interactive_builder();
});

// as above
$('#initial_modal').on('hide.bs.modal', function (e) {
    $('#moved_viewport').before($('#viewport').detach());
    $('#viewport').after('<div id=""></div>');
    $('#moved_viewport').detach();
    NGL.getStage('viewport').handleResize();
    let mf = $('#markup_form').detach();
    $('#markup_formParent').append(mf);
});

    //move the viewport on scroll.
    $(window).scroll(function() {
	    var card = $('#viewport').parent().parent();
            var currentY = $(window).scrollTop();
	    var windowY = $(window).innerHeight();
	    var offsetY = card.offset().top - parseInt(card.css('top')) - 4;
            if ((currentY > offsetY) && (currentY + windowY > offsetY + card.height())) {
			$('#viewport').parent().parent().css('top', currentY - offsetY);
		}
	    else {$('#viewport').parent().parent().css('top', 0);}
	});

    // fetch the pdbs
    let asyncPDBs = [];
    let pagename = "1fe5c1ef-7277-4a0d-ad53-50218df6c31b";
    asyncPDBs.forEach(name => $.get('/async_pdb', {identifier: pagename, name: name}).then(msg => window[name] = msg));



    if (window.location.search !== '') {
        var urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('fbclid')) ops.addToast('fbclid','Debug','Hello Facebook user '+urlParams.get('fbclid'), 'bg-info');
        if (urlParams.has('gclid')) ops.addToast('gclid','Debug','Hello Google user '+urlParams.get('gclid'), 'bg-info');
        if (urlParams.has('prolink')) setTimeout(n => $('.prolink').eq(n).click(), 500, parseInt(urlParams.get('prolink')));

    }


}); //ready
/*


*/


</script>


<script type="text/javascript">
    $('[data-toggle="popover"]').popover();
    $('[data-toggle="tooltip"]').tooltip();
    $('#menu').on('shown.bs.popover', function () {
        $('.popover a').hover(function () {
            $('.popover-header').html($(this).attr('title'))
        });
    });
    $(document).on('show.bs.modal', '.modal', function () {
        var zIndex = 1040 + (10 * $('.modal:visible').length);
        $(this).css('z-index', zIndex);
        setTimeout(function () {
            $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
        }, 0);
    });

    window.onerror = (msg, url, lineNo, columnNo, error) => ops.addToast('JSerror' + Math.floor(Math.random() * 1000),
            'DEBUG: JS Error', [
                'Message: ' + msg,
                'URL: ' + url,
                'Line: ' + lineNo,
                'Column: ' + columnNo,
                'Error object: ' + JSON.stringify(error)
            ].join(' - '),
            'bg-danger')

</script>

<!-- Custom styles for this scaffold that are not time critical-->
<!--<link href="/static/theme.css" rel="stylesheet">-->
<!--<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-LRlmVvLKVApDVGuspQFnRQJjkv0P7/YFrw84YYQtmYG4nK8c+M+NlmYDCv0rKWpG" crossorigin="anonymous">-->

<script type="text/javascript">
    // append last!
    $(document).ready(() => $('head').append(`<link rel="stylesheet" href="/static/ThirdParty/Font-Awesome-Pro/css/all.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/ThirdParty/bootstrap-tourist/bootstrap-tourist.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/3.0.0-beta.3/css/bootstrap-colorpicker.css">`));

    //Don't have FA-pro in your local deployment?
    //Then uncomment here:
    //$('.far').addClass('fas').removeClass('far');

</script>


</body>
</html>
